(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function pa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fu={exports:{}},bl={},Au={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var io=Symbol.for("react.element"),oh=Symbol.for("react.portal"),lh=Symbol.for("react.fragment"),sh=Symbol.for("react.strict_mode"),ah=Symbol.for("react.profiler"),ih=Symbol.for("react.provider"),uh=Symbol.for("react.context"),ch=Symbol.for("react.forward_ref"),dh=Symbol.for("react.suspense"),fh=Symbol.for("react.memo"),hh=Symbol.for("react.lazy"),bi=Symbol.iterator;function mh(e){return e===null||typeof e!="object"?null:(e=bi&&e[bi]||e["@@iterator"],typeof e=="function"?e:null)}var Uu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hu=Object.assign,Bu={};function xr(e,t,n){this.props=e,this.context=t,this.refs=Bu,this.updater=n||Uu}xr.prototype.isReactComponent={};xr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vu(){}Vu.prototype=xr.prototype;function ga(e,t,n){this.props=e,this.context=t,this.refs=Bu,this.updater=n||Uu}var xa=ga.prototype=new Vu;xa.constructor=ga;Hu(xa,xr.prototype);xa.isPureReactComponent=!0;var wi=Array.isArray,Xu=Object.prototype.hasOwnProperty,va={current:null},Yu={key:!0,ref:!0,__self:!0,__source:!0};function Gu(e,t,n){var r,o={},l=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(l=""+t.key),t)Xu.call(t,r)&&!Yu.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(u===1)o.children=n;else if(1<u){for(var i=Array(u),d=0;d<u;d++)i[d]=arguments[d+2];o.children=i}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)o[r]===void 0&&(o[r]=u[r]);return{$$typeof:io,type:e,key:l,ref:a,props:o,_owner:va.current}}function ph(e,t){return{$$typeof:io,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ya(e){return typeof e=="object"&&e!==null&&e.$$typeof===io}function gh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Si=/\/+/g;function Hl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gh(""+e.key):t.toString(36)}function Wo(e,t,n,r,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case io:case oh:a=!0}}if(a)return a=e,o=o(a),e=r===""?"."+Hl(a,0):r,wi(o)?(n="",e!=null&&(n=e.replace(Si,"$&/")+"/"),Wo(o,t,n,"",function(d){return d})):o!=null&&(ya(o)&&(o=ph(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(Si,"$&/")+"/")+e)),t.push(o)),1;if(a=0,r=r===""?".":r+":",wi(e))for(var u=0;u<e.length;u++){l=e[u];var i=r+Hl(l,u);a+=Wo(l,t,n,i,o)}else if(i=mh(e),typeof i=="function")for(e=i.call(e),u=0;!(l=e.next()).done;)l=l.value,i=r+Hl(l,u++),a+=Wo(l,t,n,i,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function xo(e,t,n){if(e==null)return e;var r=[],o=0;return Wo(e,r,"","",function(l){return t.call(n,l,o++)}),r}function xh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ue={current:null},$o={transition:null},vh={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:$o,ReactCurrentOwner:va};function Ku(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:xo,forEach:function(e,t,n){xo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return xo(e,function(){t++}),t},toArray:function(e){return xo(e,function(t){return t})||[]},only:function(e){if(!ya(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=xr;V.Fragment=lh;V.Profiler=ah;V.PureComponent=ga;V.StrictMode=sh;V.Suspense=dh;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vh;V.act=Ku;V.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Hu({},e.props),o=e.key,l=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,a=va.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(i in t)Xu.call(t,i)&&!Yu.hasOwnProperty(i)&&(r[i]=t[i]===void 0&&u!==void 0?u[i]:t[i])}var i=arguments.length-2;if(i===1)r.children=n;else if(1<i){u=Array(i);for(var d=0;d<i;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:io,type:e.type,key:o,ref:l,props:r,_owner:a}};V.createContext=function(e){return e={$$typeof:uh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ih,_context:e},e.Consumer=e};V.createElement=Gu;V.createFactory=function(e){var t=Gu.bind(null,e);return t.type=e,t};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:ch,render:e}};V.isValidElement=ya;V.lazy=function(e){return{$$typeof:hh,_payload:{_status:-1,_result:e},_init:xh}};V.memo=function(e,t){return{$$typeof:fh,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=$o.transition;$o.transition={};try{e()}finally{$o.transition=t}};V.unstable_act=Ku;V.useCallback=function(e,t){return Ue.current.useCallback(e,t)};V.useContext=function(e){return Ue.current.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e){return Ue.current.useDeferredValue(e)};V.useEffect=function(e,t){return Ue.current.useEffect(e,t)};V.useId=function(){return Ue.current.useId()};V.useImperativeHandle=function(e,t,n){return Ue.current.useImperativeHandle(e,t,n)};V.useInsertionEffect=function(e,t){return Ue.current.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return Ue.current.useLayoutEffect(e,t)};V.useMemo=function(e,t){return Ue.current.useMemo(e,t)};V.useReducer=function(e,t,n){return Ue.current.useReducer(e,t,n)};V.useRef=function(e){return Ue.current.useRef(e)};V.useState=function(e){return Ue.current.useState(e)};V.useSyncExternalStore=function(e,t,n){return Ue.current.useSyncExternalStore(e,t,n)};V.useTransition=function(){return Ue.current.useTransition()};V.version="18.3.1";Au.exports=V;var _=Au.exports;const Qu=pa(_);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh=_,bh=Symbol.for("react.element"),wh=Symbol.for("react.fragment"),Sh=Object.prototype.hasOwnProperty,kh=yh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nh={key:!0,ref:!0,__self:!0,__source:!0};function Zu(e,t,n){var r,o={},l=null,a=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Sh.call(t,r)&&!Nh.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:bh,type:e,key:l,ref:a,props:o,_owner:kh.current}}bl.Fragment=wh;bl.jsx=Zu;bl.jsxs=Zu;Fu.exports=bl;var s=Fu.exports,bs={},Ju={exports:{}},lt={},qu={exports:{}},ec={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,I){var O=M.length;M.push(I);e:for(;0<O;){var P=O-1>>>1,B=M[P];if(0<o(B,I))M[P]=I,M[O]=B,O=P;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var I=M[0],O=M.pop();if(O!==I){M[0]=O;e:for(var P=0,B=M.length,q=B>>>1;P<q;){var J=2*(P+1)-1,de=M[J],we=J+1,Dt=M[we];if(0>o(de,O))we<B&&0>o(Dt,de)?(M[P]=Dt,M[we]=O,P=we):(M[P]=de,M[J]=O,P=J);else if(we<B&&0>o(Dt,O))M[P]=Dt,M[we]=O,P=we;else break e}}return I}function o(M,I){var O=M.sortIndex-I.sortIndex;return O!==0?O:M.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}var i=[],d=[],m=1,x=null,p=3,h=!1,S=!1,k=!1,T=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(M){for(var I=n(d);I!==null;){if(I.callback===null)r(d);else if(I.startTime<=M)r(d),I.sortIndex=I.expirationTime,t(i,I);else break;I=n(d)}}function v(M){if(k=!1,g(M),!S)if(n(i)!==null)S=!0,le(b);else{var I=n(d);I!==null&&ge(v,I.startTime-M)}}function b(M,I){S=!1,k&&(k=!1,f(C),C=-1),h=!0;var O=p;try{for(g(I),x=n(i);x!==null&&(!(x.expirationTime>I)||M&&!$());){var P=x.callback;if(typeof P=="function"){x.callback=null,p=x.priorityLevel;var B=P(x.expirationTime<=I);I=e.unstable_now(),typeof B=="function"?x.callback=B:x===n(i)&&r(i),g(I)}else r(i);x=n(i)}if(x!==null)var q=!0;else{var J=n(d);J!==null&&ge(v,J.startTime-I),q=!1}return q}finally{x=null,p=O,h=!1}}var N=!1,w=null,C=-1,y=5,E=-1;function $(){return!(e.unstable_now()-E<y)}function H(){if(w!==null){var M=e.unstable_now();E=M;var I=!0;try{I=w(!0,M)}finally{I?Y():(N=!1,w=null)}}else N=!1}var Y;if(typeof c=="function")Y=function(){c(H)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,Ke=je.port2;je.port1.onmessage=H,Y=function(){Ke.postMessage(null)}}else Y=function(){T(H,0)};function le(M){w=M,N||(N=!0,Y())}function ge(M,I){C=T(function(){M(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){S||h||(S=!0,le(b))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(i)},e.unstable_next=function(M){switch(p){case 1:case 2:case 3:var I=3;break;default:I=p}var O=p;p=I;try{return M()}finally{p=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,I){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var O=p;p=M;try{return I()}finally{p=O}},e.unstable_scheduleCallback=function(M,I,O){var P=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?P+O:P):O=P,M){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=O+B,M={id:m++,callback:I,priorityLevel:M,startTime:O,expirationTime:B,sortIndex:-1},O>P?(M.sortIndex=O,t(d,M),n(i)===null&&M===n(d)&&(k?(f(C),C=-1):k=!0,ge(v,O-P))):(M.sortIndex=B,t(i,M),S||h||(S=!0,le(b))),M},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(M){var I=p;return function(){var O=p;p=I;try{return M.apply(this,arguments)}finally{p=O}}}})(ec);qu.exports=ec;var jh=qu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch=_,ot=jh;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tc=new Set,Vr={};function On(e,t){ir(e,t),ir(e+"Capture",t)}function ir(e,t){for(Vr[e]=t,e=0;e<t.length;e++)tc.add(t[e])}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ws=Object.prototype.hasOwnProperty,Eh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ki={},Ni={};function Th(e){return ws.call(Ni,e)?!0:ws.call(ki,e)?!1:Eh.test(e)?Ni[e]=!0:(ki[e]=!0,!1)}function Ih(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ph(e,t,n,r){if(t===null||typeof t>"u"||Ih(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function He(e,t,n,r,o,l,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=a}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new He(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new He(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new He(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new He(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new He(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new He(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new He(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new He(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new He(e,5,!1,e.toLowerCase(),null,!1,!1)});var ba=/[\-:]([a-z])/g;function wa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ba,wa);Ie[t]=new He(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ba,wa);Ie[t]=new He(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ba,wa);Ie[t]=new He(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new He(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new He(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sa(e,t,n,r){var o=Ie.hasOwnProperty(t)?Ie[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ph(t,n,o,r)&&(n=null),r||o===null?Th(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Bt=Ch.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vo=Symbol.for("react.element"),An=Symbol.for("react.portal"),Un=Symbol.for("react.fragment"),ka=Symbol.for("react.strict_mode"),Ss=Symbol.for("react.profiler"),nc=Symbol.for("react.provider"),rc=Symbol.for("react.context"),Na=Symbol.for("react.forward_ref"),ks=Symbol.for("react.suspense"),Ns=Symbol.for("react.suspense_list"),ja=Symbol.for("react.memo"),Jt=Symbol.for("react.lazy"),oc=Symbol.for("react.offscreen"),ji=Symbol.iterator;function Sr(e){return e===null||typeof e!="object"?null:(e=ji&&e[ji]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Object.assign,Bl;function _r(e){if(Bl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Bl=t&&t[1]||""}return`
`+Bl+e}var Vl=!1;function Xl(e,t){if(!e||Vl)return"";Vl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),l=r.stack.split(`
`),a=o.length-1,u=l.length-1;1<=a&&0<=u&&o[a]!==l[u];)u--;for(;1<=a&&0<=u;a--,u--)if(o[a]!==l[u]){if(a!==1||u!==1)do if(a--,u--,0>u||o[a]!==l[u]){var i=`
`+o[a].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}while(1<=a&&0<=u);break}}}finally{Vl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_r(e):""}function Mh(e){switch(e.tag){case 5:return _r(e.type);case 16:return _r("Lazy");case 13:return _r("Suspense");case 19:return _r("SuspenseList");case 0:case 2:case 15:return e=Xl(e.type,!1),e;case 11:return e=Xl(e.type.render,!1),e;case 1:return e=Xl(e.type,!0),e;default:return""}}function js(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Un:return"Fragment";case An:return"Portal";case Ss:return"Profiler";case ka:return"StrictMode";case ks:return"Suspense";case Ns:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rc:return(e.displayName||"Context")+".Consumer";case nc:return(e._context.displayName||"Context")+".Provider";case Na:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ja:return t=e.displayName||null,t!==null?t:js(e.type)||"Memo";case Jt:t=e._payload,e=e._init;try{return js(e(t))}catch{}}return null}function _h(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return js(t);case 8:return t===ka?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Dh(e){var t=lc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,l.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yo(e){e._valueTracker||(e._valueTracker=Dh(e))}function sc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=lc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Qo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cs(e,t){var n=t.checked;return ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ci(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=mn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ac(e,t){t=t.checked,t!=null&&Sa(e,"checked",t,!1)}function Es(e,t){ac(e,t);var n=mn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ts(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ts(e,t.type,mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ei(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ts(e,t,n){(t!=="number"||Qo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Dr=Array.isArray;function nr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+mn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Is(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ti(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(Dr(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:mn(n)}}function ic(e,t){var n=mn(t.value),r=mn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ii(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ps(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bo,cc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bo=bo||document.createElement("div"),bo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rh=["Webkit","ms","Moz","O"];Object.keys(Or).forEach(function(e){Rh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Or[t]=Or[e]})});function dc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Or.hasOwnProperty(e)&&Or[e]?(""+t).trim():t+"px"}function fc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=dc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Lh=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ms(e,t){if(t){if(Lh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function _s(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ds=null;function Ca(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rs=null,rr=null,or=null;function Pi(e){if(e=fo(e)){if(typeof Rs!="function")throw Error(D(280));var t=e.stateNode;t&&(t=jl(t),Rs(e.stateNode,e.type,t))}}function hc(e){rr?or?or.push(e):or=[e]:rr=e}function mc(){if(rr){var e=rr,t=or;if(or=rr=null,Pi(e),t)for(e=0;e<t.length;e++)Pi(t[e])}}function pc(e,t){return e(t)}function gc(){}var Yl=!1;function xc(e,t,n){if(Yl)return e(t,n);Yl=!0;try{return pc(e,t,n)}finally{Yl=!1,(rr!==null||or!==null)&&(gc(),mc())}}function Yr(e,t){var n=e.stateNode;if(n===null)return null;var r=jl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var Ls=!1;if(Ft)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){Ls=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{Ls=!1}function Oh(e,t,n,r,o,l,a,u,i){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(m){this.onError(m)}}var zr=!1,Zo=null,Jo=!1,Os=null,zh={onError:function(e){zr=!0,Zo=e}};function Wh(e,t,n,r,o,l,a,u,i){zr=!1,Zo=null,Oh.apply(zh,arguments)}function $h(e,t,n,r,o,l,a,u,i){if(Wh.apply(this,arguments),zr){if(zr){var d=Zo;zr=!1,Zo=null}else throw Error(D(198));Jo||(Jo=!0,Os=d)}}function zn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Mi(e){if(zn(e)!==e)throw Error(D(188))}function Fh(e){var t=e.alternate;if(!t){if(t=zn(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return Mi(o),e;if(l===r)return Mi(o),t;l=l.sibling}throw Error(D(188))}if(n.return!==r.return)n=o,r=l;else{for(var a=!1,u=o.child;u;){if(u===n){a=!0,n=o,r=l;break}if(u===r){a=!0,r=o,n=l;break}u=u.sibling}if(!a){for(u=l.child;u;){if(u===n){a=!0,n=l,r=o;break}if(u===r){a=!0,r=l,n=o;break}u=u.sibling}if(!a)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function yc(e){return e=Fh(e),e!==null?bc(e):null}function bc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bc(e);if(t!==null)return t;e=e.sibling}return null}var wc=ot.unstable_scheduleCallback,_i=ot.unstable_cancelCallback,Ah=ot.unstable_shouldYield,Uh=ot.unstable_requestPaint,xe=ot.unstable_now,Hh=ot.unstable_getCurrentPriorityLevel,Ea=ot.unstable_ImmediatePriority,Sc=ot.unstable_UserBlockingPriority,qo=ot.unstable_NormalPriority,Bh=ot.unstable_LowPriority,kc=ot.unstable_IdlePriority,wl=null,It=null;function Vh(e){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(wl,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:Gh,Xh=Math.log,Yh=Math.LN2;function Gh(e){return e>>>=0,e===0?32:31-(Xh(e)/Yh|0)|0}var wo=64,So=4194304;function Rr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function el(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,l=e.pingedLanes,a=n&268435455;if(a!==0){var u=a&~o;u!==0?r=Rr(u):(l&=a,l!==0&&(r=Rr(l)))}else a=n&~o,a!==0?r=Rr(a):l!==0&&(r=Rr(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-St(t),o=1<<n,r|=e[n],t&=~o;return r}function Kh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var a=31-St(l),u=1<<a,i=o[a];i===-1?(!(u&n)||u&r)&&(o[a]=Kh(u,t)):i<=t&&(e.expiredLanes|=u),l&=~u}}function zs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Nc(){var e=wo;return wo<<=1,!(wo&4194240)&&(wo=64),e}function Gl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function uo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=n}function Zh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-St(n),l=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~l}}function Ta(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-St(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Q=0;function jc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Cc,Ia,Ec,Tc,Ic,Ws=!1,ko=[],on=null,ln=null,sn=null,Gr=new Map,Kr=new Map,en=[],Jh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Di(e,t){switch(e){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":sn=null;break;case"pointerover":case"pointerout":Gr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kr.delete(t.pointerId)}}function Nr(e,t,n,r,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[o]},t!==null&&(t=fo(t),t!==null&&Ia(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function qh(e,t,n,r,o){switch(t){case"focusin":return on=Nr(on,e,t,n,r,o),!0;case"dragenter":return ln=Nr(ln,e,t,n,r,o),!0;case"mouseover":return sn=Nr(sn,e,t,n,r,o),!0;case"pointerover":var l=o.pointerId;return Gr.set(l,Nr(Gr.get(l)||null,e,t,n,r,o)),!0;case"gotpointercapture":return l=o.pointerId,Kr.set(l,Nr(Kr.get(l)||null,e,t,n,r,o)),!0}return!1}function Pc(e){var t=jn(e.target);if(t!==null){var n=zn(t);if(n!==null){if(t=n.tag,t===13){if(t=vc(n),t!==null){e.blockedOn=t,Ic(e.priority,function(){Ec(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=$s(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ds=r,n.target.dispatchEvent(r),Ds=null}else return t=fo(n),t!==null&&Ia(t),e.blockedOn=n,!1;t.shift()}return!0}function Ri(e,t,n){Fo(e)&&n.delete(t)}function em(){Ws=!1,on!==null&&Fo(on)&&(on=null),ln!==null&&Fo(ln)&&(ln=null),sn!==null&&Fo(sn)&&(sn=null),Gr.forEach(Ri),Kr.forEach(Ri)}function jr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ws||(Ws=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,em)))}function Qr(e){function t(o){return jr(o,e)}if(0<ko.length){jr(ko[0],e);for(var n=1;n<ko.length;n++){var r=ko[n];r.blockedOn===e&&(r.blockedOn=null)}}for(on!==null&&jr(on,e),ln!==null&&jr(ln,e),sn!==null&&jr(sn,e),Gr.forEach(t),Kr.forEach(t),n=0;n<en.length;n++)r=en[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<en.length&&(n=en[0],n.blockedOn===null);)Pc(n),n.blockedOn===null&&en.shift()}var lr=Bt.ReactCurrentBatchConfig,tl=!0;function tm(e,t,n,r){var o=Q,l=lr.transition;lr.transition=null;try{Q=1,Pa(e,t,n,r)}finally{Q=o,lr.transition=l}}function nm(e,t,n,r){var o=Q,l=lr.transition;lr.transition=null;try{Q=4,Pa(e,t,n,r)}finally{Q=o,lr.transition=l}}function Pa(e,t,n,r){if(tl){var o=$s(e,t,n,r);if(o===null)os(e,t,r,nl,n),Di(e,r);else if(qh(o,e,t,n,r))r.stopPropagation();else if(Di(e,r),t&4&&-1<Jh.indexOf(e)){for(;o!==null;){var l=fo(o);if(l!==null&&Cc(l),l=$s(e,t,n,r),l===null&&os(e,t,r,nl,n),l===o)break;o=l}o!==null&&r.stopPropagation()}else os(e,t,r,null,n)}}var nl=null;function $s(e,t,n,r){if(nl=null,e=Ca(r),e=jn(e),e!==null)if(t=zn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=vc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nl=e,null}function Mc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hh()){case Ea:return 1;case Sc:return 4;case qo:case Bh:return 16;case kc:return 536870912;default:return 16}default:return 16}}var nn=null,Ma=null,Ao=null;function _c(){if(Ao)return Ao;var e,t=Ma,n=t.length,r,o="value"in nn?nn.value:nn.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===o[l-r];r++);return Ao=o.slice(e,1<r?1-r:void 0)}function Uo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function No(){return!0}function Li(){return!1}function st(e){function t(n,r,o,l,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(l):l[u]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?No:Li,this.isPropagationStopped=Li,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=No)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=No)},persist:function(){},isPersistent:No}),t}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_a=st(vr),co=ce({},vr,{view:0,detail:0}),rm=st(co),Kl,Ql,Cr,Sl=ce({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Da,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cr&&(Cr&&e.type==="mousemove"?(Kl=e.screenX-Cr.screenX,Ql=e.screenY-Cr.screenY):Ql=Kl=0,Cr=e),Kl)},movementY:function(e){return"movementY"in e?e.movementY:Ql}}),Oi=st(Sl),om=ce({},Sl,{dataTransfer:0}),lm=st(om),sm=ce({},co,{relatedTarget:0}),Zl=st(sm),am=ce({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),im=st(am),um=ce({},vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cm=st(um),dm=ce({},vr,{data:0}),zi=st(dm),fm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mm[e])?!!t[e]:!1}function Da(){return pm}var gm=ce({},co,{key:function(e){if(e.key){var t=fm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Uo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Da,charCode:function(e){return e.type==="keypress"?Uo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Uo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xm=st(gm),vm=ce({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=st(vm),ym=ce({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Da}),bm=st(ym),wm=ce({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sm=st(wm),km=ce({},Sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nm=st(km),jm=[9,13,27,32],Ra=Ft&&"CompositionEvent"in window,Wr=null;Ft&&"documentMode"in document&&(Wr=document.documentMode);var Cm=Ft&&"TextEvent"in window&&!Wr,Dc=Ft&&(!Ra||Wr&&8<Wr&&11>=Wr),$i=" ",Fi=!1;function Rc(e,t){switch(e){case"keyup":return jm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hn=!1;function Em(e,t){switch(e){case"compositionend":return Lc(t);case"keypress":return t.which!==32?null:(Fi=!0,$i);case"textInput":return e=t.data,e===$i&&Fi?null:e;default:return null}}function Tm(e,t){if(Hn)return e==="compositionend"||!Ra&&Rc(e,t)?(e=_c(),Ao=Ma=nn=null,Hn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dc&&t.locale!=="ko"?null:t.data;default:return null}}var Im={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ai(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Im[e.type]:t==="textarea"}function Oc(e,t,n,r){hc(r),t=rl(t,"onChange"),0<t.length&&(n=new _a("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $r=null,Zr=null;function Pm(e){Yc(e,0)}function kl(e){var t=Xn(e);if(sc(t))return e}function Mm(e,t){if(e==="change")return t}var zc=!1;if(Ft){var Jl;if(Ft){var ql="oninput"in document;if(!ql){var Ui=document.createElement("div");Ui.setAttribute("oninput","return;"),ql=typeof Ui.oninput=="function"}Jl=ql}else Jl=!1;zc=Jl&&(!document.documentMode||9<document.documentMode)}function Hi(){$r&&($r.detachEvent("onpropertychange",Wc),Zr=$r=null)}function Wc(e){if(e.propertyName==="value"&&kl(Zr)){var t=[];Oc(t,Zr,e,Ca(e)),xc(Pm,t)}}function _m(e,t,n){e==="focusin"?(Hi(),$r=t,Zr=n,$r.attachEvent("onpropertychange",Wc)):e==="focusout"&&Hi()}function Dm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kl(Zr)}function Rm(e,t){if(e==="click")return kl(t)}function Lm(e,t){if(e==="input"||e==="change")return kl(t)}function Om(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:Om;function Jr(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ws.call(t,o)||!jt(e[o],t[o]))return!1}return!0}function Bi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vi(e,t){var n=Bi(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bi(n)}}function $c(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$c(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fc(){for(var e=window,t=Qo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Qo(e.document)}return t}function La(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zm(e){var t=Fc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$c(n.ownerDocument.documentElement,n)){if(r!==null&&La(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(r.start,o);r=r.end===void 0?l:Math.min(r.end,o),!e.extend&&l>r&&(o=r,r=l,l=o),o=Vi(n,l);var a=Vi(n,r);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Wm=Ft&&"documentMode"in document&&11>=document.documentMode,Bn=null,Fs=null,Fr=null,As=!1;function Xi(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;As||Bn==null||Bn!==Qo(r)||(r=Bn,"selectionStart"in r&&La(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fr&&Jr(Fr,r)||(Fr=r,r=rl(Fs,"onSelect"),0<r.length&&(t=new _a("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Bn)))}function jo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vn={animationend:jo("Animation","AnimationEnd"),animationiteration:jo("Animation","AnimationIteration"),animationstart:jo("Animation","AnimationStart"),transitionend:jo("Transition","TransitionEnd")},es={},Ac={};Ft&&(Ac=document.createElement("div").style,"AnimationEvent"in window||(delete Vn.animationend.animation,delete Vn.animationiteration.animation,delete Vn.animationstart.animation),"TransitionEvent"in window||delete Vn.transitionend.transition);function Nl(e){if(es[e])return es[e];if(!Vn[e])return e;var t=Vn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ac)return es[e]=t[n];return e}var Uc=Nl("animationend"),Hc=Nl("animationiteration"),Bc=Nl("animationstart"),Vc=Nl("transitionend"),Xc=new Map,Yi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xn(e,t){Xc.set(e,t),On(t,[e])}for(var ts=0;ts<Yi.length;ts++){var ns=Yi[ts],$m=ns.toLowerCase(),Fm=ns[0].toUpperCase()+ns.slice(1);xn($m,"on"+Fm)}xn(Uc,"onAnimationEnd");xn(Hc,"onAnimationIteration");xn(Bc,"onAnimationStart");xn("dblclick","onDoubleClick");xn("focusin","onFocus");xn("focusout","onBlur");xn(Vc,"onTransitionEnd");ir("onMouseEnter",["mouseout","mouseover"]);ir("onMouseLeave",["mouseout","mouseover"]);ir("onPointerEnter",["pointerout","pointerover"]);ir("onPointerLeave",["pointerout","pointerover"]);On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));On("onBeforeInput",["compositionend","keypress","textInput","paste"]);On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Am=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Gi(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,$h(r,t,void 0,e),e.currentTarget=null}function Yc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var a=r.length-1;0<=a;a--){var u=r[a],i=u.instance,d=u.currentTarget;if(u=u.listener,i!==l&&o.isPropagationStopped())break e;Gi(o,u,d),l=i}else for(a=0;a<r.length;a++){if(u=r[a],i=u.instance,d=u.currentTarget,u=u.listener,i!==l&&o.isPropagationStopped())break e;Gi(o,u,d),l=i}}}if(Jo)throw e=Os,Jo=!1,Os=null,e}function re(e,t){var n=t[Xs];n===void 0&&(n=t[Xs]=new Set);var r=e+"__bubble";n.has(r)||(Gc(t,e,2,!1),n.add(r))}function rs(e,t,n){var r=0;t&&(r|=4),Gc(n,e,r,t)}var Co="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Co]){e[Co]=!0,tc.forEach(function(n){n!=="selectionchange"&&(Am.has(n)||rs(n,!1,e),rs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Co]||(t[Co]=!0,rs("selectionchange",!1,t))}}function Gc(e,t,n,r){switch(Mc(t)){case 1:var o=tm;break;case 4:o=nm;break;default:o=Pa}n=o.bind(null,t,n,e),o=void 0,!Ls||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function os(e,t,n,r,o){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var u=r.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var i=a.tag;if((i===3||i===4)&&(i=a.stateNode.containerInfo,i===o||i.nodeType===8&&i.parentNode===o))return;a=a.return}for(;u!==null;){if(a=jn(u),a===null)return;if(i=a.tag,i===5||i===6){r=l=a;continue e}u=u.parentNode}}r=r.return}xc(function(){var d=l,m=Ca(n),x=[];e:{var p=Xc.get(e);if(p!==void 0){var h=_a,S=e;switch(e){case"keypress":if(Uo(n)===0)break e;case"keydown":case"keyup":h=xm;break;case"focusin":S="focus",h=Zl;break;case"focusout":S="blur",h=Zl;break;case"beforeblur":case"afterblur":h=Zl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Oi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=bm;break;case Uc:case Hc:case Bc:h=im;break;case Vc:h=Sm;break;case"scroll":h=rm;break;case"wheel":h=Nm;break;case"copy":case"cut":case"paste":h=cm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Wi}var k=(t&4)!==0,T=!k&&e==="scroll",f=k?p!==null?p+"Capture":null:p;k=[];for(var c=d,g;c!==null;){g=c;var v=g.stateNode;if(g.tag===5&&v!==null&&(g=v,f!==null&&(v=Yr(c,f),v!=null&&k.push(eo(c,v,g)))),T)break;c=c.return}0<k.length&&(p=new h(p,S,null,n,m),x.push({event:p,listeners:k}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==Ds&&(S=n.relatedTarget||n.fromElement)&&(jn(S)||S[At]))break e;if((h||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,h?(S=n.relatedTarget||n.toElement,h=d,S=S?jn(S):null,S!==null&&(T=zn(S),S!==T||S.tag!==5&&S.tag!==6)&&(S=null)):(h=null,S=d),h!==S)){if(k=Oi,v="onMouseLeave",f="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(k=Wi,v="onPointerLeave",f="onPointerEnter",c="pointer"),T=h==null?p:Xn(h),g=S==null?p:Xn(S),p=new k(v,c+"leave",h,n,m),p.target=T,p.relatedTarget=g,v=null,jn(m)===d&&(k=new k(f,c+"enter",S,n,m),k.target=g,k.relatedTarget=T,v=k),T=v,h&&S)t:{for(k=h,f=S,c=0,g=k;g;g=$n(g))c++;for(g=0,v=f;v;v=$n(v))g++;for(;0<c-g;)k=$n(k),c--;for(;0<g-c;)f=$n(f),g--;for(;c--;){if(k===f||f!==null&&k===f.alternate)break t;k=$n(k),f=$n(f)}k=null}else k=null;h!==null&&Ki(x,p,h,k,!1),S!==null&&T!==null&&Ki(x,T,S,k,!0)}}e:{if(p=d?Xn(d):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var b=Mm;else if(Ai(p))if(zc)b=Lm;else{b=Dm;var N=_m}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(b=Rm);if(b&&(b=b(e,d))){Oc(x,b,n,m);break e}N&&N(e,p,d),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&Ts(p,"number",p.value)}switch(N=d?Xn(d):window,e){case"focusin":(Ai(N)||N.contentEditable==="true")&&(Bn=N,Fs=d,Fr=null);break;case"focusout":Fr=Fs=Bn=null;break;case"mousedown":As=!0;break;case"contextmenu":case"mouseup":case"dragend":As=!1,Xi(x,n,m);break;case"selectionchange":if(Wm)break;case"keydown":case"keyup":Xi(x,n,m)}var w;if(Ra)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Hn?Rc(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Dc&&n.locale!=="ko"&&(Hn||C!=="onCompositionStart"?C==="onCompositionEnd"&&Hn&&(w=_c()):(nn=m,Ma="value"in nn?nn.value:nn.textContent,Hn=!0)),N=rl(d,C),0<N.length&&(C=new zi(C,e,null,n,m),x.push({event:C,listeners:N}),w?C.data=w:(w=Lc(n),w!==null&&(C.data=w)))),(w=Cm?Em(e,n):Tm(e,n))&&(d=rl(d,"onBeforeInput"),0<d.length&&(m=new zi("onBeforeInput","beforeinput",null,n,m),x.push({event:m,listeners:d}),m.data=w))}Yc(x,t)})}function eo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rl(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=Yr(e,n),l!=null&&r.unshift(eo(e,l,o)),l=Yr(e,t),l!=null&&r.push(eo(e,l,o))),e=e.return}return r}function $n(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ki(e,t,n,r,o){for(var l=t._reactName,a=[];n!==null&&n!==r;){var u=n,i=u.alternate,d=u.stateNode;if(i!==null&&i===r)break;u.tag===5&&d!==null&&(u=d,o?(i=Yr(n,l),i!=null&&a.unshift(eo(n,i,u))):o||(i=Yr(n,l),i!=null&&a.push(eo(n,i,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Um=/\r\n?/g,Hm=/\u0000|\uFFFD/g;function Qi(e){return(typeof e=="string"?e:""+e).replace(Um,`
`).replace(Hm,"")}function Eo(e,t,n){if(t=Qi(t),Qi(e)!==t&&n)throw Error(D(425))}function ol(){}var Us=null,Hs=null;function Bs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vs=typeof setTimeout=="function"?setTimeout:void 0,Bm=typeof clearTimeout=="function"?clearTimeout:void 0,Zi=typeof Promise=="function"?Promise:void 0,Vm=typeof queueMicrotask=="function"?queueMicrotask:typeof Zi<"u"?function(e){return Zi.resolve(null).then(e).catch(Xm)}:Vs;function Xm(e){setTimeout(function(){throw e})}function ls(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Qr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Qr(t)}function an(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ji(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var yr=Math.random().toString(36).slice(2),Tt="__reactFiber$"+yr,to="__reactProps$"+yr,At="__reactContainer$"+yr,Xs="__reactEvents$"+yr,Ym="__reactListeners$"+yr,Gm="__reactHandles$"+yr;function jn(e){var t=e[Tt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[At]||n[Tt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ji(e);e!==null;){if(n=e[Tt])return n;e=Ji(e)}return t}e=n,n=e.parentNode}return null}function fo(e){return e=e[Tt]||e[At],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function jl(e){return e[to]||null}var Ys=[],Yn=-1;function vn(e){return{current:e}}function oe(e){0>Yn||(e.current=Ys[Yn],Ys[Yn]=null,Yn--)}function te(e,t){Yn++,Ys[Yn]=e.current,e.current=t}var pn={},Oe=vn(pn),Xe=vn(!1),Pn=pn;function ur(e,t){var n=e.type.contextTypes;if(!n)return pn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ye(e){return e=e.childContextTypes,e!=null}function ll(){oe(Xe),oe(Oe)}function qi(e,t,n){if(Oe.current!==pn)throw Error(D(168));te(Oe,t),te(Xe,n)}function Kc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(D(108,_h(e)||"Unknown",o));return ce({},n,r)}function sl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pn,Pn=Oe.current,te(Oe,e),te(Xe,Xe.current),!0}function eu(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=Kc(e,t,Pn),r.__reactInternalMemoizedMergedChildContext=e,oe(Xe),oe(Oe),te(Oe,e)):oe(Xe),te(Xe,n)}var Ot=null,Cl=!1,ss=!1;function Qc(e){Ot===null?Ot=[e]:Ot.push(e)}function Km(e){Cl=!0,Qc(e)}function yn(){if(!ss&&Ot!==null){ss=!0;var e=0,t=Q;try{var n=Ot;for(Q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ot=null,Cl=!1}catch(o){throw Ot!==null&&(Ot=Ot.slice(e+1)),wc(Ea,yn),o}finally{Q=t,ss=!1}}return null}var Gn=[],Kn=0,al=null,il=0,ct=[],dt=0,Mn=null,zt=1,Wt="";function kn(e,t){Gn[Kn++]=il,Gn[Kn++]=al,al=e,il=t}function Zc(e,t,n){ct[dt++]=zt,ct[dt++]=Wt,ct[dt++]=Mn,Mn=e;var r=zt;e=Wt;var o=32-St(r)-1;r&=~(1<<o),n+=1;var l=32-St(t)+o;if(30<l){var a=o-o%5;l=(r&(1<<a)-1).toString(32),r>>=a,o-=a,zt=1<<32-St(t)+o|n<<o|r,Wt=l+e}else zt=1<<l|n<<o|r,Wt=e}function Oa(e){e.return!==null&&(kn(e,1),Zc(e,1,0))}function za(e){for(;e===al;)al=Gn[--Kn],Gn[Kn]=null,il=Gn[--Kn],Gn[Kn]=null;for(;e===Mn;)Mn=ct[--dt],ct[dt]=null,Wt=ct[--dt],ct[dt]=null,zt=ct[--dt],ct[dt]=null}var nt=null,tt=null,ae=!1,wt=null;function Jc(e,t){var n=ft(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function tu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nt=e,tt=an(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nt=e,tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Mn!==null?{id:zt,overflow:Wt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ft(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,nt=e,tt=null,!0):!1;default:return!1}}function Gs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ks(e){if(ae){var t=tt;if(t){var n=t;if(!tu(e,t)){if(Gs(e))throw Error(D(418));t=an(n.nextSibling);var r=nt;t&&tu(e,t)?Jc(r,n):(e.flags=e.flags&-4097|2,ae=!1,nt=e)}}else{if(Gs(e))throw Error(D(418));e.flags=e.flags&-4097|2,ae=!1,nt=e}}}function nu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nt=e}function To(e){if(e!==nt)return!1;if(!ae)return nu(e),ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bs(e.type,e.memoizedProps)),t&&(t=tt)){if(Gs(e))throw qc(),Error(D(418));for(;t;)Jc(e,t),t=an(t.nextSibling)}if(nu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){tt=an(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}tt=null}}else tt=nt?an(e.stateNode.nextSibling):null;return!0}function qc(){for(var e=tt;e;)e=an(e.nextSibling)}function cr(){tt=nt=null,ae=!1}function Wa(e){wt===null?wt=[e]:wt.push(e)}var Qm=Bt.ReactCurrentBatchConfig;function Er(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var o=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(a){var u=o.refs;a===null?delete u[l]:u[l]=a},t._stringRef=l,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function Io(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ru(e){var t=e._init;return t(e._payload)}function ed(e){function t(f,c){if(e){var g=f.deletions;g===null?(f.deletions=[c],f.flags|=16):g.push(c)}}function n(f,c){if(!e)return null;for(;c!==null;)t(f,c),c=c.sibling;return null}function r(f,c){for(f=new Map;c!==null;)c.key!==null?f.set(c.key,c):f.set(c.index,c),c=c.sibling;return f}function o(f,c){return f=fn(f,c),f.index=0,f.sibling=null,f}function l(f,c,g){return f.index=g,e?(g=f.alternate,g!==null?(g=g.index,g<c?(f.flags|=2,c):g):(f.flags|=2,c)):(f.flags|=1048576,c)}function a(f){return e&&f.alternate===null&&(f.flags|=2),f}function u(f,c,g,v){return c===null||c.tag!==6?(c=hs(g,f.mode,v),c.return=f,c):(c=o(c,g),c.return=f,c)}function i(f,c,g,v){var b=g.type;return b===Un?m(f,c,g.props.children,v,g.key):c!==null&&(c.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Jt&&ru(b)===c.type)?(v=o(c,g.props),v.ref=Er(f,c,g),v.return=f,v):(v=Ko(g.type,g.key,g.props,null,f.mode,v),v.ref=Er(f,c,g),v.return=f,v)}function d(f,c,g,v){return c===null||c.tag!==4||c.stateNode.containerInfo!==g.containerInfo||c.stateNode.implementation!==g.implementation?(c=ms(g,f.mode,v),c.return=f,c):(c=o(c,g.children||[]),c.return=f,c)}function m(f,c,g,v,b){return c===null||c.tag!==7?(c=In(g,f.mode,v,b),c.return=f,c):(c=o(c,g),c.return=f,c)}function x(f,c,g){if(typeof c=="string"&&c!==""||typeof c=="number")return c=hs(""+c,f.mode,g),c.return=f,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case vo:return g=Ko(c.type,c.key,c.props,null,f.mode,g),g.ref=Er(f,null,c),g.return=f,g;case An:return c=ms(c,f.mode,g),c.return=f,c;case Jt:var v=c._init;return x(f,v(c._payload),g)}if(Dr(c)||Sr(c))return c=In(c,f.mode,g,null),c.return=f,c;Io(f,c)}return null}function p(f,c,g,v){var b=c!==null?c.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return b!==null?null:u(f,c,""+g,v);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case vo:return g.key===b?i(f,c,g,v):null;case An:return g.key===b?d(f,c,g,v):null;case Jt:return b=g._init,p(f,c,b(g._payload),v)}if(Dr(g)||Sr(g))return b!==null?null:m(f,c,g,v,null);Io(f,g)}return null}function h(f,c,g,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return f=f.get(g)||null,u(c,f,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case vo:return f=f.get(v.key===null?g:v.key)||null,i(c,f,v,b);case An:return f=f.get(v.key===null?g:v.key)||null,d(c,f,v,b);case Jt:var N=v._init;return h(f,c,g,N(v._payload),b)}if(Dr(v)||Sr(v))return f=f.get(g)||null,m(c,f,v,b,null);Io(c,v)}return null}function S(f,c,g,v){for(var b=null,N=null,w=c,C=c=0,y=null;w!==null&&C<g.length;C++){w.index>C?(y=w,w=null):y=w.sibling;var E=p(f,w,g[C],v);if(E===null){w===null&&(w=y);break}e&&w&&E.alternate===null&&t(f,w),c=l(E,c,C),N===null?b=E:N.sibling=E,N=E,w=y}if(C===g.length)return n(f,w),ae&&kn(f,C),b;if(w===null){for(;C<g.length;C++)w=x(f,g[C],v),w!==null&&(c=l(w,c,C),N===null?b=w:N.sibling=w,N=w);return ae&&kn(f,C),b}for(w=r(f,w);C<g.length;C++)y=h(w,f,C,g[C],v),y!==null&&(e&&y.alternate!==null&&w.delete(y.key===null?C:y.key),c=l(y,c,C),N===null?b=y:N.sibling=y,N=y);return e&&w.forEach(function($){return t(f,$)}),ae&&kn(f,C),b}function k(f,c,g,v){var b=Sr(g);if(typeof b!="function")throw Error(D(150));if(g=b.call(g),g==null)throw Error(D(151));for(var N=b=null,w=c,C=c=0,y=null,E=g.next();w!==null&&!E.done;C++,E=g.next()){w.index>C?(y=w,w=null):y=w.sibling;var $=p(f,w,E.value,v);if($===null){w===null&&(w=y);break}e&&w&&$.alternate===null&&t(f,w),c=l($,c,C),N===null?b=$:N.sibling=$,N=$,w=y}if(E.done)return n(f,w),ae&&kn(f,C),b;if(w===null){for(;!E.done;C++,E=g.next())E=x(f,E.value,v),E!==null&&(c=l(E,c,C),N===null?b=E:N.sibling=E,N=E);return ae&&kn(f,C),b}for(w=r(f,w);!E.done;C++,E=g.next())E=h(w,f,C,E.value,v),E!==null&&(e&&E.alternate!==null&&w.delete(E.key===null?C:E.key),c=l(E,c,C),N===null?b=E:N.sibling=E,N=E);return e&&w.forEach(function(H){return t(f,H)}),ae&&kn(f,C),b}function T(f,c,g,v){if(typeof g=="object"&&g!==null&&g.type===Un&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case vo:e:{for(var b=g.key,N=c;N!==null;){if(N.key===b){if(b=g.type,b===Un){if(N.tag===7){n(f,N.sibling),c=o(N,g.props.children),c.return=f,f=c;break e}}else if(N.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Jt&&ru(b)===N.type){n(f,N.sibling),c=o(N,g.props),c.ref=Er(f,N,g),c.return=f,f=c;break e}n(f,N);break}else t(f,N);N=N.sibling}g.type===Un?(c=In(g.props.children,f.mode,v,g.key),c.return=f,f=c):(v=Ko(g.type,g.key,g.props,null,f.mode,v),v.ref=Er(f,c,g),v.return=f,f=v)}return a(f);case An:e:{for(N=g.key;c!==null;){if(c.key===N)if(c.tag===4&&c.stateNode.containerInfo===g.containerInfo&&c.stateNode.implementation===g.implementation){n(f,c.sibling),c=o(c,g.children||[]),c.return=f,f=c;break e}else{n(f,c);break}else t(f,c);c=c.sibling}c=ms(g,f.mode,v),c.return=f,f=c}return a(f);case Jt:return N=g._init,T(f,c,N(g._payload),v)}if(Dr(g))return S(f,c,g,v);if(Sr(g))return k(f,c,g,v);Io(f,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,c!==null&&c.tag===6?(n(f,c.sibling),c=o(c,g),c.return=f,f=c):(n(f,c),c=hs(g,f.mode,v),c.return=f,f=c),a(f)):n(f,c)}return T}var dr=ed(!0),td=ed(!1),ul=vn(null),cl=null,Qn=null,$a=null;function Fa(){$a=Qn=cl=null}function Aa(e){var t=ul.current;oe(ul),e._currentValue=t}function Qs(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function sr(e,t){cl=e,$a=Qn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ve=!0),e.firstContext=null)}function mt(e){var t=e._currentValue;if($a!==e)if(e={context:e,memoizedValue:t,next:null},Qn===null){if(cl===null)throw Error(D(308));Qn=e,cl.dependencies={lanes:0,firstContext:e}}else Qn=Qn.next=e;return t}var Cn=null;function Ua(e){Cn===null?Cn=[e]:Cn.push(e)}function nd(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Ua(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ut(e,r)}function Ut(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var qt=!1;function Ha(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function un(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ut(e,n)}return o=r.interleaved,o===null?(t.next=t,Ua(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ut(e,n)}function Ho(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ta(e,n)}}function ou(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=a:l=l.next=a,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function dl(e,t,n,r){var o=e.updateQueue;qt=!1;var l=o.firstBaseUpdate,a=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var i=u,d=i.next;i.next=null,a===null?l=d:a.next=d,a=i;var m=e.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==a&&(u===null?m.firstBaseUpdate=d:u.next=d,m.lastBaseUpdate=i))}if(l!==null){var x=o.baseState;a=0,m=d=i=null,u=l;do{var p=u.lane,h=u.eventTime;if((r&p)===p){m!==null&&(m=m.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var S=e,k=u;switch(p=t,h=n,k.tag){case 1:if(S=k.payload,typeof S=="function"){x=S.call(h,x,p);break e}x=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=k.payload,p=typeof S=="function"?S.call(h,x,p):S,p==null)break e;x=ce({},x,p);break e;case 2:qt=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[u]:p.push(u))}else h={eventTime:h,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(d=m=h,i=x):m=m.next=h,a|=p;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;p=u,u=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(!0);if(m===null&&(i=x),o.baseState=i,o.firstBaseUpdate=d,o.lastBaseUpdate=m,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);Dn|=a,e.lanes=a,e.memoizedState=x}}function lu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(D(191,o));o.call(r)}}}var ho={},Pt=vn(ho),no=vn(ho),ro=vn(ho);function En(e){if(e===ho)throw Error(D(174));return e}function Ba(e,t){switch(te(ro,t),te(no,e),te(Pt,ho),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ps(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ps(t,e)}oe(Pt),te(Pt,t)}function fr(){oe(Pt),oe(no),oe(ro)}function od(e){En(ro.current);var t=En(Pt.current),n=Ps(t,e.type);t!==n&&(te(no,e),te(Pt,n))}function Va(e){no.current===e&&(oe(Pt),oe(no))}var ie=vn(0);function fl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var as=[];function Xa(){for(var e=0;e<as.length;e++)as[e]._workInProgressVersionPrimary=null;as.length=0}var Bo=Bt.ReactCurrentDispatcher,is=Bt.ReactCurrentBatchConfig,_n=0,ue=null,ye=null,ke=null,hl=!1,Ar=!1,oo=0,Zm=0;function Me(){throw Error(D(321))}function Ya(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jt(e[n],t[n]))return!1;return!0}function Ga(e,t,n,r,o,l){if(_n=l,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bo.current=e===null||e.memoizedState===null?tp:np,e=n(r,o),Ar){l=0;do{if(Ar=!1,oo=0,25<=l)throw Error(D(301));l+=1,ke=ye=null,t.updateQueue=null,Bo.current=rp,e=n(r,o)}while(Ar)}if(Bo.current=ml,t=ye!==null&&ye.next!==null,_n=0,ke=ye=ue=null,hl=!1,t)throw Error(D(300));return e}function Ka(){var e=oo!==0;return oo=0,e}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?ue.memoizedState=ke=e:ke=ke.next=e,ke}function pt(){if(ye===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=ke===null?ue.memoizedState:ke.next;if(t!==null)ke=t,ye=e;else{if(e===null)throw Error(D(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},ke===null?ue.memoizedState=ke=e:ke=ke.next=e}return ke}function lo(e,t){return typeof t=="function"?t(e):t}function us(e){var t=pt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=ye,o=r.baseQueue,l=n.pending;if(l!==null){if(o!==null){var a=o.next;o.next=l.next,l.next=a}r.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,r=r.baseState;var u=a=null,i=null,d=l;do{var m=d.lane;if((_n&m)===m)i!==null&&(i=i.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var x={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};i===null?(u=i=x,a=r):i=i.next=x,ue.lanes|=m,Dn|=m}d=d.next}while(d!==null&&d!==l);i===null?a=r:i.next=u,jt(r,t.memoizedState)||(Ve=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=i,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do l=o.lane,ue.lanes|=l,Dn|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function cs(e){var t=pt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do l=e(l,a.action),a=a.next;while(a!==o);jt(l,t.memoizedState)||(Ve=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function ld(){}function sd(e,t){var n=ue,r=pt(),o=t(),l=!jt(r.memoizedState,o);if(l&&(r.memoizedState=o,Ve=!0),r=r.queue,Qa(ud.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||ke!==null&&ke.memoizedState.tag&1){if(n.flags|=2048,so(9,id.bind(null,n,r,o,t),void 0,null),Ne===null)throw Error(D(349));_n&30||ad(n,t,o)}return o}function ad(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function id(e,t,n,r){t.value=n,t.getSnapshot=r,cd(t)&&dd(e)}function ud(e,t,n){return n(function(){cd(t)&&dd(e)})}function cd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jt(e,n)}catch{return!0}}function dd(e){var t=Ut(e,1);t!==null&&kt(t,e,1,-1)}function su(e){var t=Et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:e},t.queue=e,e=e.dispatch=ep.bind(null,ue,e),[t.memoizedState,e]}function so(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function fd(){return pt().memoizedState}function Vo(e,t,n,r){var o=Et();ue.flags|=e,o.memoizedState=so(1|t,n,void 0,r===void 0?null:r)}function El(e,t,n,r){var o=pt();r=r===void 0?null:r;var l=void 0;if(ye!==null){var a=ye.memoizedState;if(l=a.destroy,r!==null&&Ya(r,a.deps)){o.memoizedState=so(t,n,l,r);return}}ue.flags|=e,o.memoizedState=so(1|t,n,l,r)}function au(e,t){return Vo(8390656,8,e,t)}function Qa(e,t){return El(2048,8,e,t)}function hd(e,t){return El(4,2,e,t)}function md(e,t){return El(4,4,e,t)}function pd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gd(e,t,n){return n=n!=null?n.concat([e]):null,El(4,4,pd.bind(null,t,e),n)}function Za(){}function xd(e,t){var n=pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ya(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vd(e,t){var n=pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ya(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function yd(e,t,n){return _n&21?(jt(n,t)||(n=Nc(),ue.lanes|=n,Dn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ve=!0),e.memoizedState=n)}function Jm(e,t){var n=Q;Q=n!==0&&4>n?n:4,e(!0);var r=is.transition;is.transition={};try{e(!1),t()}finally{Q=n,is.transition=r}}function bd(){return pt().memoizedState}function qm(e,t,n){var r=dn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wd(e))Sd(t,n);else if(n=nd(e,t,n,r),n!==null){var o=Ae();kt(n,e,r,o),kd(n,t,r)}}function ep(e,t,n){var r=dn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wd(e))Sd(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var a=t.lastRenderedState,u=l(a,n);if(o.hasEagerState=!0,o.eagerState=u,jt(u,a)){var i=t.interleaved;i===null?(o.next=o,Ua(t)):(o.next=i.next,i.next=o),t.interleaved=o;return}}catch{}finally{}n=nd(e,t,o,r),n!==null&&(o=Ae(),kt(n,e,r,o),kd(n,t,r))}}function wd(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function Sd(e,t){Ar=hl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function kd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ta(e,n)}}var ml={readContext:mt,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},tp={readContext:mt,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:au,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Vo(4194308,4,pd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=Et();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Et();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qm.bind(null,ue,e),[r.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:su,useDebugValue:Za,useDeferredValue:function(e){return Et().memoizedState=e},useTransition:function(){var e=su(!1),t=e[0];return e=Jm.bind(null,e[1]),Et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ue,o=Et();if(ae){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),Ne===null)throw Error(D(349));_n&30||ad(r,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,au(ud.bind(null,r,l,e),[e]),r.flags|=2048,so(9,id.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Et(),t=Ne.identifierPrefix;if(ae){var n=Wt,r=zt;n=(r&~(1<<32-St(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=oo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Zm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},np={readContext:mt,useCallback:xd,useContext:mt,useEffect:Qa,useImperativeHandle:gd,useInsertionEffect:hd,useLayoutEffect:md,useMemo:vd,useReducer:us,useRef:fd,useState:function(){return us(lo)},useDebugValue:Za,useDeferredValue:function(e){var t=pt();return yd(t,ye.memoizedState,e)},useTransition:function(){var e=us(lo)[0],t=pt().memoizedState;return[e,t]},useMutableSource:ld,useSyncExternalStore:sd,useId:bd,unstable_isNewReconciler:!1},rp={readContext:mt,useCallback:xd,useContext:mt,useEffect:Qa,useImperativeHandle:gd,useInsertionEffect:hd,useLayoutEffect:md,useMemo:vd,useReducer:cs,useRef:fd,useState:function(){return cs(lo)},useDebugValue:Za,useDeferredValue:function(e){var t=pt();return ye===null?t.memoizedState=e:yd(t,ye.memoizedState,e)},useTransition:function(){var e=cs(lo)[0],t=pt().memoizedState;return[e,t]},useMutableSource:ld,useSyncExternalStore:sd,useId:bd,unstable_isNewReconciler:!1};function yt(e,t){if(e&&e.defaultProps){t=ce({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Zs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Tl={isMounted:function(e){return(e=e._reactInternals)?zn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ae(),o=dn(e),l=$t(r,o);l.payload=t,n!=null&&(l.callback=n),t=un(e,l,o),t!==null&&(kt(t,e,o,r),Ho(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ae(),o=dn(e),l=$t(r,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=un(e,l,o),t!==null&&(kt(t,e,o,r),Ho(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ae(),r=dn(e),o=$t(n,r);o.tag=2,t!=null&&(o.callback=t),t=un(e,o,r),t!==null&&(kt(t,e,r,n),Ho(t,e,r))}};function iu(e,t,n,r,o,l,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,a):t.prototype&&t.prototype.isPureReactComponent?!Jr(n,r)||!Jr(o,l):!0}function Nd(e,t,n){var r=!1,o=pn,l=t.contextType;return typeof l=="object"&&l!==null?l=mt(l):(o=Ye(t)?Pn:Oe.current,r=t.contextTypes,l=(r=r!=null)?ur(e,o):pn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Tl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function uu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Tl.enqueueReplaceState(t,t.state,null)}function Js(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ha(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=mt(l):(l=Ye(t)?Pn:Oe.current,o.context=ur(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Zs(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Tl.enqueueReplaceState(o,o.state,null),dl(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function hr(e,t){try{var n="",r=t;do n+=Mh(r),r=r.return;while(r);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function qs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var op=typeof WeakMap=="function"?WeakMap:Map;function jd(e,t,n){n=$t(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){gl||(gl=!0,ua=r),qs(e,t)},n}function Cd(e,t,n){n=$t(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){qs(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){qs(e,t),typeof r!="function"&&(cn===null?cn=new Set([this]):cn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function cu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new op;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=vp.bind(null,e,t,n),t.then(e,e))}function du(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fu(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$t(-1,1),t.tag=2,un(n,t,1))),n.lanes|=1),e)}var lp=Bt.ReactCurrentOwner,Ve=!1;function Fe(e,t,n,r){t.child=e===null?td(t,null,n,r):dr(t,e.child,n,r)}function hu(e,t,n,r,o){n=n.render;var l=t.ref;return sr(t,o),r=Ga(e,t,n,r,l,o),n=Ka(),e!==null&&!Ve?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ht(e,t,o)):(ae&&n&&Oa(t),t.flags|=1,Fe(e,t,r,o),t.child)}function mu(e,t,n,r,o){if(e===null){var l=n.type;return typeof l=="function"&&!li(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Ed(e,t,l,r,o)):(e=Ko(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var a=l.memoizedProps;if(n=n.compare,n=n!==null?n:Jr,n(a,r)&&e.ref===t.ref)return Ht(e,t,o)}return t.flags|=1,e=fn(l,r),e.ref=t.ref,e.return=t,t.child=e}function Ed(e,t,n,r,o){if(e!==null){var l=e.memoizedProps;if(Jr(l,r)&&e.ref===t.ref)if(Ve=!1,t.pendingProps=r=l,(e.lanes&o)!==0)e.flags&131072&&(Ve=!0);else return t.lanes=e.lanes,Ht(e,t,o)}return ea(e,t,n,r,o)}function Td(e,t,n){var r=t.pendingProps,o=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(Jn,et),et|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,te(Jn,et),et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,te(Jn,et),et|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,te(Jn,et),et|=r;return Fe(e,t,o,n),t.child}function Id(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ea(e,t,n,r,o){var l=Ye(n)?Pn:Oe.current;return l=ur(t,l),sr(t,o),n=Ga(e,t,n,r,l,o),r=Ka(),e!==null&&!Ve?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ht(e,t,o)):(ae&&r&&Oa(t),t.flags|=1,Fe(e,t,n,o),t.child)}function pu(e,t,n,r,o){if(Ye(n)){var l=!0;sl(t)}else l=!1;if(sr(t,o),t.stateNode===null)Xo(e,t),Nd(t,n,r),Js(t,n,r,o),r=!0;else if(e===null){var a=t.stateNode,u=t.memoizedProps;a.props=u;var i=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=mt(d):(d=Ye(n)?Pn:Oe.current,d=ur(t,d));var m=n.getDerivedStateFromProps,x=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";x||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==r||i!==d)&&uu(t,a,r,d),qt=!1;var p=t.memoizedState;a.state=p,dl(t,r,a,o),i=t.memoizedState,u!==r||p!==i||Xe.current||qt?(typeof m=="function"&&(Zs(t,n,m,r),i=t.memoizedState),(u=qt||iu(t,n,u,r,p,i,d))?(x||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=i),a.props=r,a.state=i,a.context=d,r=u):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,rd(e,t),u=t.memoizedProps,d=t.type===t.elementType?u:yt(t.type,u),a.props=d,x=t.pendingProps,p=a.context,i=n.contextType,typeof i=="object"&&i!==null?i=mt(i):(i=Ye(n)?Pn:Oe.current,i=ur(t,i));var h=n.getDerivedStateFromProps;(m=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==x||p!==i)&&uu(t,a,r,i),qt=!1,p=t.memoizedState,a.state=p,dl(t,r,a,o);var S=t.memoizedState;u!==x||p!==S||Xe.current||qt?(typeof h=="function"&&(Zs(t,n,h,r),S=t.memoizedState),(d=qt||iu(t,n,d,r,p,S,i)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,S,i),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,S,i)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),a.props=r,a.state=S,a.context=i,r=d):(typeof a.componentDidUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return ta(e,t,n,r,l,o)}function ta(e,t,n,r,o,l){Id(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return o&&eu(t,n,!1),Ht(e,t,l);r=t.stateNode,lp.current=t;var u=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=dr(t,e.child,null,l),t.child=dr(t,null,u,l)):Fe(e,t,u,l),t.memoizedState=r.state,o&&eu(t,n,!0),t.child}function Pd(e){var t=e.stateNode;t.pendingContext?qi(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qi(e,t.context,!1),Ba(e,t.containerInfo)}function gu(e,t,n,r,o){return cr(),Wa(o),t.flags|=256,Fe(e,t,n,r),t.child}var na={dehydrated:null,treeContext:null,retryLane:0};function ra(e){return{baseLanes:e,cachePool:null,transitions:null}}function Md(e,t,n){var r=t.pendingProps,o=ie.current,l=!1,a=(t.flags&128)!==0,u;if((u=a)||(u=e!==null&&e.memoizedState===null?!1:(o&2)!==0),u?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),te(ie,o&1),e===null)return Ks(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,l?(r=t.mode,l=t.child,a={mode:"hidden",children:a},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=a):l=Ml(a,r,0,null),e=In(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=ra(n),t.memoizedState=na,e):Ja(t,a));if(o=e.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return sp(e,t,a,r,u,o,n);if(l){l=r.fallback,a=t.mode,o=e.child,u=o.sibling;var i={mode:"hidden",children:r.children};return!(a&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=i,t.deletions=null):(r=fn(o,i),r.subtreeFlags=o.subtreeFlags&14680064),u!==null?l=fn(u,l):(l=In(l,a,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,a=e.child.memoizedState,a=a===null?ra(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=e.childLanes&~n,t.memoizedState=na,r}return l=e.child,e=l.sibling,r=fn(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ja(e,t){return t=Ml({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Po(e,t,n,r){return r!==null&&Wa(r),dr(t,e.child,null,n),e=Ja(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sp(e,t,n,r,o,l,a){if(n)return t.flags&256?(t.flags&=-257,r=ds(Error(D(422))),Po(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,o=t.mode,r=Ml({mode:"visible",children:r.children},o,0,null),l=In(l,o,a,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&dr(t,e.child,null,a),t.child.memoizedState=ra(a),t.memoizedState=na,l);if(!(t.mode&1))return Po(e,t,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var u=r.dgst;return r=u,l=Error(D(419)),r=ds(l,r,void 0),Po(e,t,a,r)}if(u=(a&e.childLanes)!==0,Ve||u){if(r=Ne,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|a)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,Ut(e,o),kt(r,e,o,-1))}return oi(),r=ds(Error(D(421))),Po(e,t,a,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=yp.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,tt=an(o.nextSibling),nt=t,ae=!0,wt=null,e!==null&&(ct[dt++]=zt,ct[dt++]=Wt,ct[dt++]=Mn,zt=e.id,Wt=e.overflow,Mn=t),t=Ja(t,r.children),t.flags|=4096,t)}function xu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Qs(e.return,t,n)}function fs(e,t,n,r,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o)}function _d(e,t,n){var r=t.pendingProps,o=r.revealOrder,l=r.tail;if(Fe(e,t,r.children,n),r=ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xu(e,n,t);else if(e.tag===19)xu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(te(ie,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&fl(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),fs(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&fl(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}fs(t,!0,n,null,l);break;case"together":fs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ht(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Dn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=fn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ap(e,t,n){switch(t.tag){case 3:Pd(t),cr();break;case 5:od(t);break;case 1:Ye(t.type)&&sl(t);break;case 4:Ba(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;te(ul,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(te(ie,ie.current&1),t.flags|=128,null):n&t.child.childLanes?Md(e,t,n):(te(ie,ie.current&1),e=Ht(e,t,n),e!==null?e.sibling:null);te(ie,ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return _d(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),te(ie,ie.current),r)break;return null;case 22:case 23:return t.lanes=0,Td(e,t,n)}return Ht(e,t,n)}var Dd,oa,Rd,Ld;Dd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};oa=function(){};Rd=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,En(Pt.current);var l=null;switch(n){case"input":o=Cs(e,o),r=Cs(e,r),l=[];break;case"select":o=ce({},o,{value:void 0}),r=ce({},r,{value:void 0}),l=[];break;case"textarea":o=Is(e,o),r=Is(e,r),l=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ol)}Ms(n,r);var a;n=null;for(d in o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var u=o[d];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Vr.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var i=r[d];if(u=o!=null?o[d]:void 0,r.hasOwnProperty(d)&&i!==u&&(i!=null||u!=null))if(d==="style")if(u){for(a in u)!u.hasOwnProperty(a)||i&&i.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in i)i.hasOwnProperty(a)&&u[a]!==i[a]&&(n||(n={}),n[a]=i[a])}else n||(l||(l=[]),l.push(d,n)),n=i;else d==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,u=u?u.__html:void 0,i!=null&&u!==i&&(l=l||[]).push(d,i)):d==="children"?typeof i!="string"&&typeof i!="number"||(l=l||[]).push(d,""+i):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Vr.hasOwnProperty(d)?(i!=null&&d==="onScroll"&&re("scroll",e),l||u===i||(l=[])):(l=l||[]).push(d,i))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};Ld=function(e,t,n,r){n!==r&&(t.flags|=4)};function Tr(e,t){if(!ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ip(e,t,n){var r=t.pendingProps;switch(za(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(t),null;case 1:return Ye(t.type)&&ll(),_e(t),null;case 3:return r=t.stateNode,fr(),oe(Xe),oe(Oe),Xa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(To(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wt!==null&&(fa(wt),wt=null))),oa(e,t),_e(t),null;case 5:Va(t);var o=En(ro.current);if(n=t.type,e!==null&&t.stateNode!=null)Rd(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return _e(t),null}if(e=En(Pt.current),To(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Tt]=t,r[to]=l,e=(t.mode&1)!==0,n){case"dialog":re("cancel",r),re("close",r);break;case"iframe":case"object":case"embed":re("load",r);break;case"video":case"audio":for(o=0;o<Lr.length;o++)re(Lr[o],r);break;case"source":re("error",r);break;case"img":case"image":case"link":re("error",r),re("load",r);break;case"details":re("toggle",r);break;case"input":Ci(r,l),re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},re("invalid",r);break;case"textarea":Ti(r,l),re("invalid",r)}Ms(n,l),o=null;for(var a in l)if(l.hasOwnProperty(a)){var u=l[a];a==="children"?typeof u=="string"?r.textContent!==u&&(l.suppressHydrationWarning!==!0&&Eo(r.textContent,u,e),o=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(l.suppressHydrationWarning!==!0&&Eo(r.textContent,u,e),o=["children",""+u]):Vr.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&re("scroll",r)}switch(n){case"input":yo(r),Ei(r,l,!0);break;case"textarea":yo(r),Ii(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=ol)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Tt]=t,e[to]=r,Dd(e,t,!1,!1),t.stateNode=e;e:{switch(a=_s(n,r),n){case"dialog":re("cancel",e),re("close",e),o=r;break;case"iframe":case"object":case"embed":re("load",e),o=r;break;case"video":case"audio":for(o=0;o<Lr.length;o++)re(Lr[o],e);o=r;break;case"source":re("error",e),o=r;break;case"img":case"image":case"link":re("error",e),re("load",e),o=r;break;case"details":re("toggle",e),o=r;break;case"input":Ci(e,r),o=Cs(e,r),re("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=ce({},r,{value:void 0}),re("invalid",e);break;case"textarea":Ti(e,r),o=Is(e,r),re("invalid",e);break;default:o=r}Ms(n,o),u=o;for(l in u)if(u.hasOwnProperty(l)){var i=u[l];l==="style"?fc(e,i):l==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,i!=null&&cc(e,i)):l==="children"?typeof i=="string"?(n!=="textarea"||i!=="")&&Xr(e,i):typeof i=="number"&&Xr(e,""+i):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Vr.hasOwnProperty(l)?i!=null&&l==="onScroll"&&re("scroll",e):i!=null&&Sa(e,l,i,a))}switch(n){case"input":yo(e),Ei(e,r,!1);break;case"textarea":yo(e),Ii(e);break;case"option":r.value!=null&&e.setAttribute("value",""+mn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?nr(e,!!r.multiple,l,!1):r.defaultValue!=null&&nr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ol)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _e(t),null;case 6:if(e&&t.stateNode!=null)Ld(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=En(ro.current),En(Pt.current),To(t)){if(r=t.stateNode,n=t.memoizedProps,r[Tt]=t,(l=r.nodeValue!==n)&&(e=nt,e!==null))switch(e.tag){case 3:Eo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Eo(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tt]=t,t.stateNode=r}return _e(t),null;case 13:if(oe(ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ae&&tt!==null&&t.mode&1&&!(t.flags&128))qc(),cr(),t.flags|=98560,l=!1;else if(l=To(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(D(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(D(317));l[Tt]=t}else cr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_e(t),l=!1}else wt!==null&&(fa(wt),wt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?be===0&&(be=3):oi())),t.updateQueue!==null&&(t.flags|=4),_e(t),null);case 4:return fr(),oa(e,t),e===null&&qr(t.stateNode.containerInfo),_e(t),null;case 10:return Aa(t.type._context),_e(t),null;case 17:return Ye(t.type)&&ll(),_e(t),null;case 19:if(oe(ie),l=t.memoizedState,l===null)return _e(t),null;if(r=(t.flags&128)!==0,a=l.rendering,a===null)if(r)Tr(l,!1);else{if(be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=fl(e),a!==null){for(t.flags|=128,Tr(l,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,a=l.alternate,a===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,e=a.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return te(ie,ie.current&1|2),t.child}e=e.sibling}l.tail!==null&&xe()>mr&&(t.flags|=128,r=!0,Tr(l,!1),t.lanes=4194304)}else{if(!r)if(e=fl(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Tr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!a.alternate&&!ae)return _e(t),null}else 2*xe()-l.renderingStartTime>mr&&n!==1073741824&&(t.flags|=128,r=!0,Tr(l,!1),t.lanes=4194304);l.isBackwards?(a.sibling=t.child,t.child=a):(n=l.last,n!==null?n.sibling=a:t.child=a,l.last=a)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=xe(),t.sibling=null,n=ie.current,te(ie,r?n&1|2:n&1),t):(_e(t),null);case 22:case 23:return ri(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?et&1073741824&&(_e(t),t.subtreeFlags&6&&(t.flags|=8192)):_e(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function up(e,t){switch(za(t),t.tag){case 1:return Ye(t.type)&&ll(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fr(),oe(Xe),oe(Oe),Xa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Va(t),null;case 13:if(oe(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));cr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(ie),null;case 4:return fr(),null;case 10:return Aa(t.type._context),null;case 22:case 23:return ri(),null;case 24:return null;default:return null}}var Mo=!1,Le=!1,cp=typeof WeakSet=="function"?WeakSet:Set,L=null;function Zn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){me(e,t,r)}else n.current=null}function la(e,t,n){try{n()}catch(r){me(e,t,r)}}var vu=!1;function dp(e,t){if(Us=tl,e=Fc(),La(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var a=0,u=-1,i=-1,d=0,m=0,x=e,p=null;t:for(;;){for(var h;x!==n||o!==0&&x.nodeType!==3||(u=a+o),x!==l||r!==0&&x.nodeType!==3||(i=a+r),x.nodeType===3&&(a+=x.nodeValue.length),(h=x.firstChild)!==null;)p=x,x=h;for(;;){if(x===e)break t;if(p===n&&++d===o&&(u=a),p===l&&++m===r&&(i=a),(h=x.nextSibling)!==null)break;x=p,p=x.parentNode}x=h}n=u===-1||i===-1?null:{start:u,end:i}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hs={focusedElem:e,selectionRange:n},tl=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var k=S.memoizedProps,T=S.memoizedState,f=t.stateNode,c=f.getSnapshotBeforeUpdate(t.elementType===t.type?k:yt(t.type,k),T);f.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(v){me(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return S=vu,vu=!1,S}function Ur(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&la(t,n,l)}o=o.next}while(o!==r)}}function Il(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Od(e){var t=e.alternate;t!==null&&(e.alternate=null,Od(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tt],delete t[to],delete t[Xs],delete t[Ym],delete t[Gm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zd(e){return e.tag===5||e.tag===3||e.tag===4}function yu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function aa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ol));else if(r!==4&&(e=e.child,e!==null))for(aa(e,t,n),e=e.sibling;e!==null;)aa(e,t,n),e=e.sibling}function ia(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ia(e,t,n),e=e.sibling;e!==null;)ia(e,t,n),e=e.sibling}var Ee=null,bt=!1;function Kt(e,t,n){for(n=n.child;n!==null;)Wd(e,t,n),n=n.sibling}function Wd(e,t,n){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(wl,n)}catch{}switch(n.tag){case 5:Le||Zn(n,t);case 6:var r=Ee,o=bt;Ee=null,Kt(e,t,n),Ee=r,bt=o,Ee!==null&&(bt?(e=Ee,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ee.removeChild(n.stateNode));break;case 18:Ee!==null&&(bt?(e=Ee,n=n.stateNode,e.nodeType===8?ls(e.parentNode,n):e.nodeType===1&&ls(e,n),Qr(e)):ls(Ee,n.stateNode));break;case 4:r=Ee,o=bt,Ee=n.stateNode.containerInfo,bt=!0,Kt(e,t,n),Ee=r,bt=o;break;case 0:case 11:case 14:case 15:if(!Le&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var l=o,a=l.destroy;l=l.tag,a!==void 0&&(l&2||l&4)&&la(n,t,a),o=o.next}while(o!==r)}Kt(e,t,n);break;case 1:if(!Le&&(Zn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){me(n,t,u)}Kt(e,t,n);break;case 21:Kt(e,t,n);break;case 22:n.mode&1?(Le=(r=Le)||n.memoizedState!==null,Kt(e,t,n),Le=r):Kt(e,t,n);break;default:Kt(e,t,n)}}function bu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new cp),t.forEach(function(r){var o=bp.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function gt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var l=e,a=t,u=a;e:for(;u!==null;){switch(u.tag){case 5:Ee=u.stateNode,bt=!1;break e;case 3:Ee=u.stateNode.containerInfo,bt=!0;break e;case 4:Ee=u.stateNode.containerInfo,bt=!0;break e}u=u.return}if(Ee===null)throw Error(D(160));Wd(l,a,o),Ee=null,bt=!1;var i=o.alternate;i!==null&&(i.return=null),o.return=null}catch(d){me(o,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$d(t,e),t=t.sibling}function $d(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gt(t,e),Ct(e),r&4){try{Ur(3,e,e.return),Il(3,e)}catch(k){me(e,e.return,k)}try{Ur(5,e,e.return)}catch(k){me(e,e.return,k)}}break;case 1:gt(t,e),Ct(e),r&512&&n!==null&&Zn(n,n.return);break;case 5:if(gt(t,e),Ct(e),r&512&&n!==null&&Zn(n,n.return),e.flags&32){var o=e.stateNode;try{Xr(o,"")}catch(k){me(e,e.return,k)}}if(r&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,a=n!==null?n.memoizedProps:l,u=e.type,i=e.updateQueue;if(e.updateQueue=null,i!==null)try{u==="input"&&l.type==="radio"&&l.name!=null&&ac(o,l),_s(u,a);var d=_s(u,l);for(a=0;a<i.length;a+=2){var m=i[a],x=i[a+1];m==="style"?fc(o,x):m==="dangerouslySetInnerHTML"?cc(o,x):m==="children"?Xr(o,x):Sa(o,m,x,d)}switch(u){case"input":Es(o,l);break;case"textarea":ic(o,l);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var h=l.value;h!=null?nr(o,!!l.multiple,h,!1):p!==!!l.multiple&&(l.defaultValue!=null?nr(o,!!l.multiple,l.defaultValue,!0):nr(o,!!l.multiple,l.multiple?[]:"",!1))}o[to]=l}catch(k){me(e,e.return,k)}}break;case 6:if(gt(t,e),Ct(e),r&4){if(e.stateNode===null)throw Error(D(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(k){me(e,e.return,k)}}break;case 3:if(gt(t,e),Ct(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qr(t.containerInfo)}catch(k){me(e,e.return,k)}break;case 4:gt(t,e),Ct(e);break;case 13:gt(t,e),Ct(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(ti=xe())),r&4&&bu(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Le=(d=Le)||m,gt(t,e),Le=d):gt(t,e),Ct(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for(L=e,m=e.child;m!==null;){for(x=L=m;L!==null;){switch(p=L,h=p.child,p.tag){case 0:case 11:case 14:case 15:Ur(4,p,p.return);break;case 1:Zn(p,p.return);var S=p.stateNode;if(typeof S.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(k){me(r,n,k)}}break;case 5:Zn(p,p.return);break;case 22:if(p.memoizedState!==null){Su(x);continue}}h!==null?(h.return=p,L=h):Su(x)}m=m.sibling}e:for(m=null,x=e;;){if(x.tag===5){if(m===null){m=x;try{o=x.stateNode,d?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(u=x.stateNode,i=x.memoizedProps.style,a=i!=null&&i.hasOwnProperty("display")?i.display:null,u.style.display=dc("display",a))}catch(k){me(e,e.return,k)}}}else if(x.tag===6){if(m===null)try{x.stateNode.nodeValue=d?"":x.memoizedProps}catch(k){me(e,e.return,k)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;m===x&&(m=null),x=x.return}m===x&&(m=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:gt(t,e),Ct(e),r&4&&bu(e);break;case 21:break;default:gt(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(zd(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Xr(o,""),r.flags&=-33);var l=yu(e);ia(e,l,o);break;case 3:case 4:var a=r.stateNode.containerInfo,u=yu(e);aa(e,u,a);break;default:throw Error(D(161))}}catch(i){me(e,e.return,i)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fp(e,t,n){L=e,Fd(e)}function Fd(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var o=L,l=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||Mo;if(!a){var u=o.alternate,i=u!==null&&u.memoizedState!==null||Le;u=Mo;var d=Le;if(Mo=a,(Le=i)&&!d)for(L=o;L!==null;)a=L,i=a.child,a.tag===22&&a.memoizedState!==null?ku(o):i!==null?(i.return=a,L=i):ku(o);for(;l!==null;)L=l,Fd(l),l=l.sibling;L=o,Mo=u,Le=d}wu(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,L=l):wu(e)}}function wu(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Le||Il(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Le)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:yt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&lu(t,l,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}lu(t,a,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var i=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":i.autoFocus&&n.focus();break;case"img":i.src&&(n.src=i.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var x=m.dehydrated;x!==null&&Qr(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Le||t.flags&512&&sa(t)}catch(p){me(t,t.return,p)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function Su(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function ku(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Il(4,t)}catch(i){me(t,n,i)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(i){me(t,o,i)}}var l=t.return;try{sa(t)}catch(i){me(t,l,i)}break;case 5:var a=t.return;try{sa(t)}catch(i){me(t,a,i)}}}catch(i){me(t,t.return,i)}if(t===e){L=null;break}var u=t.sibling;if(u!==null){u.return=t.return,L=u;break}L=t.return}}var hp=Math.ceil,pl=Bt.ReactCurrentDispatcher,qa=Bt.ReactCurrentOwner,ht=Bt.ReactCurrentBatchConfig,K=0,Ne=null,ve=null,Te=0,et=0,Jn=vn(0),be=0,ao=null,Dn=0,Pl=0,ei=0,Hr=null,Be=null,ti=0,mr=1/0,Lt=null,gl=!1,ua=null,cn=null,_o=!1,rn=null,xl=0,Br=0,ca=null,Yo=-1,Go=0;function Ae(){return K&6?xe():Yo!==-1?Yo:Yo=xe()}function dn(e){return e.mode&1?K&2&&Te!==0?Te&-Te:Qm.transition!==null?(Go===0&&(Go=Nc()),Go):(e=Q,e!==0||(e=window.event,e=e===void 0?16:Mc(e.type)),e):1}function kt(e,t,n,r){if(50<Br)throw Br=0,ca=null,Error(D(185));uo(e,n,r),(!(K&2)||e!==Ne)&&(e===Ne&&(!(K&2)&&(Pl|=n),be===4&&tn(e,Te)),Ge(e,r),n===1&&K===0&&!(t.mode&1)&&(mr=xe()+500,Cl&&yn()))}function Ge(e,t){var n=e.callbackNode;Qh(e,t);var r=el(e,e===Ne?Te:0);if(r===0)n!==null&&_i(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&_i(n),t===1)e.tag===0?Km(Nu.bind(null,e)):Qc(Nu.bind(null,e)),Vm(function(){!(K&6)&&yn()}),n=null;else{switch(jc(r)){case 1:n=Ea;break;case 4:n=Sc;break;case 16:n=qo;break;case 536870912:n=kc;break;default:n=qo}n=Gd(n,Ad.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ad(e,t){if(Yo=-1,Go=0,K&6)throw Error(D(327));var n=e.callbackNode;if(ar()&&e.callbackNode!==n)return null;var r=el(e,e===Ne?Te:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=vl(e,r);else{t=r;var o=K;K|=2;var l=Hd();(Ne!==e||Te!==t)&&(Lt=null,mr=xe()+500,Tn(e,t));do try{gp();break}catch(u){Ud(e,u)}while(!0);Fa(),pl.current=l,K=o,ve!==null?t=0:(Ne=null,Te=0,t=be)}if(t!==0){if(t===2&&(o=zs(e),o!==0&&(r=o,t=da(e,o))),t===1)throw n=ao,Tn(e,0),tn(e,r),Ge(e,xe()),n;if(t===6)tn(e,r);else{if(o=e.current.alternate,!(r&30)&&!mp(o)&&(t=vl(e,r),t===2&&(l=zs(e),l!==0&&(r=l,t=da(e,l))),t===1))throw n=ao,Tn(e,0),tn(e,r),Ge(e,xe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:Nn(e,Be,Lt);break;case 3:if(tn(e,r),(r&130023424)===r&&(t=ti+500-xe(),10<t)){if(el(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ae(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Vs(Nn.bind(null,e,Be,Lt),t);break}Nn(e,Be,Lt);break;case 4:if(tn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-St(r);l=1<<a,a=t[a],a>o&&(o=a),r&=~l}if(r=o,r=xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hp(r/1960))-r,10<r){e.timeoutHandle=Vs(Nn.bind(null,e,Be,Lt),r);break}Nn(e,Be,Lt);break;case 5:Nn(e,Be,Lt);break;default:throw Error(D(329))}}}return Ge(e,xe()),e.callbackNode===n?Ad.bind(null,e):null}function da(e,t){var n=Hr;return e.current.memoizedState.isDehydrated&&(Tn(e,t).flags|=256),e=vl(e,t),e!==2&&(t=Be,Be=n,t!==null&&fa(t)),e}function fa(e){Be===null?Be=e:Be.push.apply(Be,e)}function mp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],l=o.getSnapshot;o=o.value;try{if(!jt(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tn(e,t){for(t&=~ei,t&=~Pl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-St(t),r=1<<n;e[n]=-1,t&=~r}}function Nu(e){if(K&6)throw Error(D(327));ar();var t=el(e,0);if(!(t&1))return Ge(e,xe()),null;var n=vl(e,t);if(e.tag!==0&&n===2){var r=zs(e);r!==0&&(t=r,n=da(e,r))}if(n===1)throw n=ao,Tn(e,0),tn(e,t),Ge(e,xe()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nn(e,Be,Lt),Ge(e,xe()),null}function ni(e,t){var n=K;K|=1;try{return e(t)}finally{K=n,K===0&&(mr=xe()+500,Cl&&yn())}}function Rn(e){rn!==null&&rn.tag===0&&!(K&6)&&ar();var t=K;K|=1;var n=ht.transition,r=Q;try{if(ht.transition=null,Q=1,e)return e()}finally{Q=r,ht.transition=n,K=t,!(K&6)&&yn()}}function ri(){et=Jn.current,oe(Jn)}function Tn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Bm(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(za(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ll();break;case 3:fr(),oe(Xe),oe(Oe),Xa();break;case 5:Va(r);break;case 4:fr();break;case 13:oe(ie);break;case 19:oe(ie);break;case 10:Aa(r.type._context);break;case 22:case 23:ri()}n=n.return}if(Ne=e,ve=e=fn(e.current,null),Te=et=t,be=0,ao=null,ei=Pl=Dn=0,Be=Hr=null,Cn!==null){for(t=0;t<Cn.length;t++)if(n=Cn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,l=n.pending;if(l!==null){var a=l.next;l.next=o,r.next=a}n.pending=r}Cn=null}return e}function Ud(e,t){do{var n=ve;try{if(Fa(),Bo.current=ml,hl){for(var r=ue.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}hl=!1}if(_n=0,ke=ye=ue=null,Ar=!1,oo=0,qa.current=null,n===null||n.return===null){be=1,ao=t,ve=null;break}e:{var l=e,a=n.return,u=n,i=t;if(t=Te,u.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){var d=i,m=u,x=m.tag;if(!(m.mode&1)&&(x===0||x===11||x===15)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var h=du(a);if(h!==null){h.flags&=-257,fu(h,a,u,l,t),h.mode&1&&cu(l,d,t),t=h,i=d;var S=t.updateQueue;if(S===null){var k=new Set;k.add(i),t.updateQueue=k}else S.add(i);break e}else{if(!(t&1)){cu(l,d,t),oi();break e}i=Error(D(426))}}else if(ae&&u.mode&1){var T=du(a);if(T!==null){!(T.flags&65536)&&(T.flags|=256),fu(T,a,u,l,t),Wa(hr(i,u));break e}}l=i=hr(i,u),be!==4&&(be=2),Hr===null?Hr=[l]:Hr.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var f=jd(l,i,t);ou(l,f);break e;case 1:u=i;var c=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof c.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(cn===null||!cn.has(g)))){l.flags|=65536,t&=-t,l.lanes|=t;var v=Cd(l,u,t);ou(l,v);break e}}l=l.return}while(l!==null)}Vd(n)}catch(b){t=b,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(!0)}function Hd(){var e=pl.current;return pl.current=ml,e===null?ml:e}function oi(){(be===0||be===3||be===2)&&(be=4),Ne===null||!(Dn&268435455)&&!(Pl&268435455)||tn(Ne,Te)}function vl(e,t){var n=K;K|=2;var r=Hd();(Ne!==e||Te!==t)&&(Lt=null,Tn(e,t));do try{pp();break}catch(o){Ud(e,o)}while(!0);if(Fa(),K=n,pl.current=r,ve!==null)throw Error(D(261));return Ne=null,Te=0,be}function pp(){for(;ve!==null;)Bd(ve)}function gp(){for(;ve!==null&&!Ah();)Bd(ve)}function Bd(e){var t=Yd(e.alternate,e,et);e.memoizedProps=e.pendingProps,t===null?Vd(e):ve=t,qa.current=null}function Vd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=up(n,t),n!==null){n.flags&=32767,ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{be=6,ve=null;return}}else if(n=ip(n,t,et),n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);be===0&&(be=5)}function Nn(e,t,n){var r=Q,o=ht.transition;try{ht.transition=null,Q=1,xp(e,t,n,r)}finally{ht.transition=o,Q=r}return null}function xp(e,t,n,r){do ar();while(rn!==null);if(K&6)throw Error(D(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Zh(e,l),e===Ne&&(ve=Ne=null,Te=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_o||(_o=!0,Gd(qo,function(){return ar(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=ht.transition,ht.transition=null;var a=Q;Q=1;var u=K;K|=4,qa.current=null,dp(e,n),$d(n,e),zm(Hs),tl=!!Us,Hs=Us=null,e.current=n,fp(n),Uh(),K=u,Q=a,ht.transition=l}else e.current=n;if(_o&&(_o=!1,rn=e,xl=o),l=e.pendingLanes,l===0&&(cn=null),Vh(n.stateNode),Ge(e,xe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(gl)throw gl=!1,e=ua,ua=null,e;return xl&1&&e.tag!==0&&ar(),l=e.pendingLanes,l&1?e===ca?Br++:(Br=0,ca=e):Br=0,yn(),null}function ar(){if(rn!==null){var e=jc(xl),t=ht.transition,n=Q;try{if(ht.transition=null,Q=16>e?16:e,rn===null)var r=!1;else{if(e=rn,rn=null,xl=0,K&6)throw Error(D(331));var o=K;for(K|=4,L=e.current;L!==null;){var l=L,a=l.child;if(L.flags&16){var u=l.deletions;if(u!==null){for(var i=0;i<u.length;i++){var d=u[i];for(L=d;L!==null;){var m=L;switch(m.tag){case 0:case 11:case 15:Ur(8,m,l)}var x=m.child;if(x!==null)x.return=m,L=x;else for(;L!==null;){m=L;var p=m.sibling,h=m.return;if(Od(m),m===d){L=null;break}if(p!==null){p.return=h,L=p;break}L=h}}}var S=l.alternate;if(S!==null){var k=S.child;if(k!==null){S.child=null;do{var T=k.sibling;k.sibling=null,k=T}while(k!==null)}}L=l}}if(l.subtreeFlags&2064&&a!==null)a.return=l,L=a;else e:for(;L!==null;){if(l=L,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Ur(9,l,l.return)}var f=l.sibling;if(f!==null){f.return=l.return,L=f;break e}L=l.return}}var c=e.current;for(L=c;L!==null;){a=L;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,L=g;else e:for(a=c;L!==null;){if(u=L,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Il(9,u)}}catch(b){me(u,u.return,b)}if(u===a){L=null;break e}var v=u.sibling;if(v!==null){v.return=u.return,L=v;break e}L=u.return}}if(K=o,yn(),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(wl,e)}catch{}r=!0}return r}finally{Q=n,ht.transition=t}}return!1}function ju(e,t,n){t=hr(n,t),t=jd(e,t,1),e=un(e,t,1),t=Ae(),e!==null&&(uo(e,1,t),Ge(e,t))}function me(e,t,n){if(e.tag===3)ju(e,e,n);else for(;t!==null;){if(t.tag===3){ju(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cn===null||!cn.has(r))){e=hr(n,e),e=Cd(t,e,1),t=un(t,e,1),e=Ae(),t!==null&&(uo(t,1,e),Ge(t,e));break}}t=t.return}}function vp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ae(),e.pingedLanes|=e.suspendedLanes&n,Ne===e&&(Te&n)===n&&(be===4||be===3&&(Te&130023424)===Te&&500>xe()-ti?Tn(e,0):ei|=n),Ge(e,t)}function Xd(e,t){t===0&&(e.mode&1?(t=So,So<<=1,!(So&130023424)&&(So=4194304)):t=1);var n=Ae();e=Ut(e,t),e!==null&&(uo(e,t,n),Ge(e,n))}function yp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Xd(e,n)}function bp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),Xd(e,n)}var Yd;Yd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xe.current)Ve=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ve=!1,ap(e,t,n);Ve=!!(e.flags&131072)}else Ve=!1,ae&&t.flags&1048576&&Zc(t,il,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xo(e,t),e=t.pendingProps;var o=ur(t,Oe.current);sr(t,n),o=Ga(null,t,r,e,o,n);var l=Ka();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ye(r)?(l=!0,sl(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ha(t),o.updater=Tl,t.stateNode=o,o._reactInternals=t,Js(t,r,e,n),t=ta(null,t,r,!0,l,n)):(t.tag=0,ae&&l&&Oa(t),Fe(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xo(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Sp(r),e=yt(r,e),o){case 0:t=ea(null,t,r,e,n);break e;case 1:t=pu(null,t,r,e,n);break e;case 11:t=hu(null,t,r,e,n);break e;case 14:t=mu(null,t,r,yt(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yt(r,o),ea(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yt(r,o),pu(e,t,r,o,n);case 3:e:{if(Pd(t),e===null)throw Error(D(387));r=t.pendingProps,l=t.memoizedState,o=l.element,rd(e,t),dl(t,r,null,n);var a=t.memoizedState;if(r=a.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=hr(Error(D(423)),t),t=gu(e,t,r,n,o);break e}else if(r!==o){o=hr(Error(D(424)),t),t=gu(e,t,r,n,o);break e}else for(tt=an(t.stateNode.containerInfo.firstChild),nt=t,ae=!0,wt=null,n=td(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cr(),r===o){t=Ht(e,t,n);break e}Fe(e,t,r,n)}t=t.child}return t;case 5:return od(t),e===null&&Ks(t),r=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,a=o.children,Bs(r,o)?a=null:l!==null&&Bs(r,l)&&(t.flags|=32),Id(e,t),Fe(e,t,a,n),t.child;case 6:return e===null&&Ks(t),null;case 13:return Md(e,t,n);case 4:return Ba(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=dr(t,null,r,n):Fe(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yt(r,o),hu(e,t,r,o,n);case 7:return Fe(e,t,t.pendingProps,n),t.child;case 8:return Fe(e,t,t.pendingProps.children,n),t.child;case 12:return Fe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,l=t.memoizedProps,a=o.value,te(ul,r._currentValue),r._currentValue=a,l!==null)if(jt(l.value,a)){if(l.children===o.children&&!Xe.current){t=Ht(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var u=l.dependencies;if(u!==null){a=l.child;for(var i=u.firstContext;i!==null;){if(i.context===r){if(l.tag===1){i=$t(-1,n&-n),i.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?i.next=i:(i.next=m.next,m.next=i),d.pending=i}}l.lanes|=n,i=l.alternate,i!==null&&(i.lanes|=n),Qs(l.return,n,t),u.lanes|=n;break}i=i.next}}else if(l.tag===10)a=l.type===t.type?null:l.child;else if(l.tag===18){if(a=l.return,a===null)throw Error(D(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Qs(a,n,t),a=l.sibling}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===t){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}Fe(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,sr(t,n),o=mt(o),r=r(o),t.flags|=1,Fe(e,t,r,n),t.child;case 14:return r=t.type,o=yt(r,t.pendingProps),o=yt(r.type,o),mu(e,t,r,o,n);case 15:return Ed(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yt(r,o),Xo(e,t),t.tag=1,Ye(r)?(e=!0,sl(t)):e=!1,sr(t,n),Nd(t,r,o),Js(t,r,o,n),ta(null,t,r,!0,e,n);case 19:return _d(e,t,n);case 22:return Td(e,t,n)}throw Error(D(156,t.tag))};function Gd(e,t){return wc(e,t)}function wp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(e,t,n,r){return new wp(e,t,n,r)}function li(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sp(e){if(typeof e=="function")return li(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Na)return 11;if(e===ja)return 14}return 2}function fn(e,t){var n=e.alternate;return n===null?(n=ft(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ko(e,t,n,r,o,l){var a=2;if(r=e,typeof e=="function")li(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Un:return In(n.children,o,l,t);case ka:a=8,o|=8;break;case Ss:return e=ft(12,n,t,o|2),e.elementType=Ss,e.lanes=l,e;case ks:return e=ft(13,n,t,o),e.elementType=ks,e.lanes=l,e;case Ns:return e=ft(19,n,t,o),e.elementType=Ns,e.lanes=l,e;case oc:return Ml(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nc:a=10;break e;case rc:a=9;break e;case Na:a=11;break e;case ja:a=14;break e;case Jt:a=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=ft(a,n,t,o),t.elementType=e,t.type=r,t.lanes=l,t}function In(e,t,n,r){return e=ft(7,e,r,t),e.lanes=n,e}function Ml(e,t,n,r){return e=ft(22,e,r,t),e.elementType=oc,e.lanes=n,e.stateNode={isHidden:!1},e}function hs(e,t,n){return e=ft(6,e,null,t),e.lanes=n,e}function ms(e,t,n){return t=ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kp(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gl(0),this.expirationTimes=Gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function si(e,t,n,r,o,l,a,u,i){return e=new kp(e,t,n,u,i),t===1?(t=1,l===!0&&(t|=8)):t=0,l=ft(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ha(l),e}function Np(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:An,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Kd(e){if(!e)return pn;e=e._reactInternals;e:{if(zn(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(Ye(n))return Kc(e,n,t)}return t}function Qd(e,t,n,r,o,l,a,u,i){return e=si(n,r,!0,e,o,l,a,u,i),e.context=Kd(null),n=e.current,r=Ae(),o=dn(n),l=$t(r,o),l.callback=t??null,un(n,l,o),e.current.lanes=o,uo(e,o,r),Ge(e,r),e}function _l(e,t,n,r){var o=t.current,l=Ae(),a=dn(o);return n=Kd(n),t.context===null?t.context=n:t.pendingContext=n,t=$t(l,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=un(o,t,a),e!==null&&(kt(e,o,a,l),Ho(e,o,a)),a}function yl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ai(e,t){Cu(e,t),(e=e.alternate)&&Cu(e,t)}function jp(){return null}var Zd=typeof reportError=="function"?reportError:function(e){console.error(e)};function ii(e){this._internalRoot=e}Dl.prototype.render=ii.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));_l(e,t,null,null)};Dl.prototype.unmount=ii.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rn(function(){_l(null,e,null,null)}),t[At]=null}};function Dl(e){this._internalRoot=e}Dl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<en.length&&t!==0&&t<en[n].priority;n++);en.splice(n,0,e),n===0&&Pc(e)}};function ui(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Eu(){}function Cp(e,t,n,r,o){if(o){if(typeof r=="function"){var l=r;r=function(){var d=yl(a);l.call(d)}}var a=Qd(t,r,e,0,null,!1,!1,"",Eu);return e._reactRootContainer=a,e[At]=a.current,qr(e.nodeType===8?e.parentNode:e),Rn(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var u=r;r=function(){var d=yl(i);u.call(d)}}var i=si(e,0,!1,null,null,!1,!1,"",Eu);return e._reactRootContainer=i,e[At]=i.current,qr(e.nodeType===8?e.parentNode:e),Rn(function(){_l(t,i,n,r)}),i}function Ll(e,t,n,r,o){var l=n._reactRootContainer;if(l){var a=l;if(typeof o=="function"){var u=o;o=function(){var i=yl(a);u.call(i)}}_l(t,a,e,o)}else a=Cp(n,t,e,o,r);return yl(a)}Cc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Rr(t.pendingLanes);n!==0&&(Ta(t,n|1),Ge(t,xe()),!(K&6)&&(mr=xe()+500,yn()))}break;case 13:Rn(function(){var r=Ut(e,1);if(r!==null){var o=Ae();kt(r,e,1,o)}}),ai(e,1)}};Ia=function(e){if(e.tag===13){var t=Ut(e,134217728);if(t!==null){var n=Ae();kt(t,e,134217728,n)}ai(e,134217728)}};Ec=function(e){if(e.tag===13){var t=dn(e),n=Ut(e,t);if(n!==null){var r=Ae();kt(n,e,t,r)}ai(e,t)}};Tc=function(){return Q};Ic=function(e,t){var n=Q;try{return Q=e,t()}finally{Q=n}};Rs=function(e,t,n){switch(t){case"input":if(Es(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=jl(r);if(!o)throw Error(D(90));sc(r),Es(r,o)}}}break;case"textarea":ic(e,n);break;case"select":t=n.value,t!=null&&nr(e,!!n.multiple,t,!1)}};pc=ni;gc=Rn;var Ep={usingClientEntryPoint:!1,Events:[fo,Xn,jl,hc,mc,ni]},Ir={findFiberByHostInstance:jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tp={bundleType:Ir.bundleType,version:Ir.version,rendererPackageName:Ir.rendererPackageName,rendererConfig:Ir.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yc(e),e===null?null:e.stateNode},findFiberByHostInstance:Ir.findFiberByHostInstance||jp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Do=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Do.isDisabled&&Do.supportsFiber)try{wl=Do.inject(Tp),It=Do}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ep;lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ui(t))throw Error(D(200));return Np(e,t,null,n)};lt.createRoot=function(e,t){if(!ui(e))throw Error(D(299));var n=!1,r="",o=Zd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=si(e,1,!1,null,null,n,!1,r,o),e[At]=t.current,qr(e.nodeType===8?e.parentNode:e),new ii(t)};lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=yc(t),e=e===null?null:e.stateNode,e};lt.flushSync=function(e){return Rn(e)};lt.hydrate=function(e,t,n){if(!Rl(t))throw Error(D(200));return Ll(null,e,t,!0,n)};lt.hydrateRoot=function(e,t,n){if(!ui(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,o=!1,l="",a=Zd;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Qd(t,null,e,1,n??null,o,!1,l,a),e[At]=t.current,qr(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Dl(t)};lt.render=function(e,t,n){if(!Rl(t))throw Error(D(200));return Ll(null,e,t,!1,n)};lt.unmountComponentAtNode=function(e){if(!Rl(e))throw Error(D(40));return e._reactRootContainer?(Rn(function(){Ll(null,null,e,!1,function(){e._reactRootContainer=null,e[At]=null})}),!0):!1};lt.unstable_batchedUpdates=ni;lt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Rl(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return Ll(e,t,n,!1,r)};lt.version="18.3.1-next-f1338f8080-20240426";function Jd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jd)}catch(e){console.error(e)}}Jd(),Ju.exports=lt;var mo=Ju.exports,Tu=mo;bs.createRoot=Tu.createRoot,bs.hydrateRoot=Tu.hydrateRoot;const Ip={},Iu=e=>{let t;const n=new Set,r=(m,x)=>{const p=typeof m=="function"?m(t):m;if(!Object.is(p,t)){const h=t;t=x??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(S=>S(t,h))}},o=()=>t,i={setState:r,getState:o,getInitialState:()=>d,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(Ip?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=t=e(r,o,i);return i},Pp=e=>e?Iu(e):Iu;var qd={exports:{}},ef={},tf={exports:{}},nf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pr=_;function Mp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _p=typeof Object.is=="function"?Object.is:Mp,Dp=pr.useState,Rp=pr.useEffect,Lp=pr.useLayoutEffect,Op=pr.useDebugValue;function zp(e,t){var n=t(),r=Dp({inst:{value:n,getSnapshot:t}}),o=r[0].inst,l=r[1];return Lp(function(){o.value=n,o.getSnapshot=t,ps(o)&&l({inst:o})},[e,n,t]),Rp(function(){return ps(o)&&l({inst:o}),e(function(){ps(o)&&l({inst:o})})},[e]),Op(n),n}function ps(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_p(e,n)}catch{return!0}}function Wp(e,t){return t()}var $p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Wp:zp;nf.useSyncExternalStore=pr.useSyncExternalStore!==void 0?pr.useSyncExternalStore:$p;tf.exports=nf;var Fp=tf.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ol=_,Ap=Fp;function Up(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hp=typeof Object.is=="function"?Object.is:Up,Bp=Ap.useSyncExternalStore,Vp=Ol.useRef,Xp=Ol.useEffect,Yp=Ol.useMemo,Gp=Ol.useDebugValue;ef.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var l=Vp(null);if(l.current===null){var a={hasValue:!1,value:null};l.current=a}else a=l.current;l=Yp(function(){function i(h){if(!d){if(d=!0,m=h,h=r(h),o!==void 0&&a.hasValue){var S=a.value;if(o(S,h))return x=S}return x=h}if(S=x,Hp(m,h))return S;var k=r(h);return o!==void 0&&o(S,k)?(m=h,S):(m=h,x=k)}var d=!1,m,x,p=n===void 0?null:n;return[function(){return i(t())},p===null?void 0:function(){return i(p())}]},[t,n,r,o]);var u=Bp(e,l[0],l[1]);return Xp(function(){a.hasValue=!0,a.value=u},[u]),Gp(u),u};qd.exports=ef;var Kp=qd.exports;const Qp=pa(Kp),rf={},{useDebugValue:Zp}=Qu,{useSyncExternalStoreWithSelector:Jp}=Qp;let Pu=!1;const qp=e=>e;function eg(e,t=qp,n){(rf?"production":void 0)!=="production"&&n&&!Pu&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Pu=!0);const r=Jp(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Zp(r),r}const Mu=e=>{(rf?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Pp(e):e,n=(r,o)=>eg(t,r,o);return Object.assign(n,t),n},ci=e=>e?Mu(e):Mu;let Ro;const tg=new Uint8Array(16);function ng(){if(!Ro&&(Ro=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ro))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ro(tg)}const Ce=[];for(let e=0;e<256;++e)Ce.push((e+256).toString(16).slice(1));function rg(e,t=0){return Ce[e[t+0]]+Ce[e[t+1]]+Ce[e[t+2]]+Ce[e[t+3]]+"-"+Ce[e[t+4]]+Ce[e[t+5]]+"-"+Ce[e[t+6]]+Ce[e[t+7]]+"-"+Ce[e[t+8]]+Ce[e[t+9]]+"-"+Ce[e[t+10]]+Ce[e[t+11]]+Ce[e[t+12]]+Ce[e[t+13]]+Ce[e[t+14]]+Ce[e[t+15]]}const og=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_u={randomUUID:og};function Re(e,t,n){if(_u.randomUUID&&!e)return _u.randomUUID();e=e||{};const r=e.random||(e.rng||ng)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,rg(r)}function Pr(e){const t=e.sheets.find(n=>n.id===e.activeSheetId);return(t==null?void 0:t.widgets)||[]}function xt(e,t){return{...e,sheets:e.sheets.map(n=>n.id===e.activeSheetId?{...n,widgets:t(n.widgets)}:n)}}function lg(e){if(e.sheets&&e.sheets.length>0)return e;const t={id:Re(),name:"Main",widgets:e.widgets||[]};return{id:e.id,name:e.name,theme:e.theme,sheets:[t],activeSheetId:t.id}}const W=ci(e=>{const t=(()=>{try{const l=localStorage.getItem("ucs:store");if(!l)return null;const a=JSON.parse(l);return{characters:a.characters.map(lg),activeCharacterId:a.activeCharacterId}}catch(l){return console.error("Failed to load persisted store",l),null}})(),n=(t==null?void 0:t.characters)??[],r=(t==null?void 0:t.activeCharacterId)??null;return{characters:n,activeCharacterId:r,mode:"play",editingWidgetId:null,selectedWidgetId:null,createCharacter:l=>e(a=>{const u={id:Re(),name:"Main",widgets:[]},i={id:Re(),name:l,sheets:[u],activeSheetId:u.id};return{characters:[...a.characters,i],activeCharacterId:i.id,mode:"edit"}}),createCharacterFromPreset:(l,a)=>e(u=>{var S;const i=Re(),d=new Map,m=new Map,x=new Map,p=l.sheets.map(k=>{const T=Re();d.set(k.id,T);const f=k.widgets.map(c=>{var b;const g=Re();m.set(c.id,g);let v=c.groupId;return c.groupId&&(x.has(c.groupId)||x.set(c.groupId,Re()),v=x.get(c.groupId)),{...c,id:g,groupId:v,attachedTo:(b=c.attachedTo)==null?void 0:b.map(N=>m.get(N)||N)}});return f.forEach(c=>{c.attachedTo&&(c.attachedTo=c.attachedTo.map(g=>m.get(g)||g))}),{...k,id:T,widgets:f}}),h={id:i,name:a||l.name,theme:l.theme,sheets:p,activeSheetId:d.get(l.activeSheetId)||((S=p[0])==null?void 0:S.id)};return{characters:[...u.characters,h],activeCharacterId:h.id,mode:"edit"}}),importCharacter:l=>e(a=>{var h;const u=Re(),i=new Map,d=new Map,m=new Map,x=l.sheets.map(S=>{const k=Re();i.set(S.id,k);const T=S.widgets.map(f=>{var v;const c=Re();d.set(f.id,c);let g=f.groupId;return f.groupId&&(m.has(f.groupId)||m.set(f.groupId,Re()),g=m.get(f.groupId)),{...f,id:c,groupId:g,attachedTo:(v=f.attachedTo)==null?void 0:v.map(b=>d.get(b)||b)}});return T.forEach(f=>{f.attachedTo&&(f.attachedTo=f.attachedTo.map(c=>d.get(c)||c))}),{...S,id:k,widgets:T}}),p={...l,id:u,name:l.name,sheets:x,activeSheetId:i.get(l.activeSheetId)||((h=x[0])==null?void 0:h.id)};return{characters:[...a.characters,p]}}),selectCharacter:l=>e({activeCharacterId:l}),deleteCharacter:l=>e(a=>({characters:a.characters.filter(u=>u.id!==l),activeCharacterId:a.activeCharacterId===l?null:a.activeCharacterId})),updateCharacterName:(l,a)=>e(u=>({characters:u.characters.map(i=>i.id===l?{...i,name:a}:i)})),updateCharacterTheme:(l,a)=>e(u=>({characters:u.characters.map(i=>i.id===l?{...i,theme:a}:i)})),setMode:l=>e({mode:l,selectedWidgetId:null}),setEditingWidgetId:l=>e({editingWidgetId:l}),setSelectedWidgetId:l=>e({selectedWidgetId:l}),createSheet:l=>e(a=>{if(!a.activeCharacterId)return a;const u={id:Re(),name:l,widgets:[]};return{characters:a.characters.map(i=>i.id===a.activeCharacterId?{...i,sheets:[...i.sheets,u],activeSheetId:u.id}:i)}}),selectSheet:l=>e(a=>a.activeCharacterId?{characters:a.characters.map(u=>u.id===a.activeCharacterId?{...u,activeSheetId:l}:u)}:a),deleteSheet:l=>e(a=>a.activeCharacterId?{characters:a.characters.map(u=>{if(u.id!==a.activeCharacterId||u.sheets.length<=1)return u;const i=u.sheets.filter(m=>m.id!==l),d=u.activeSheetId===l?i[0].id:u.activeSheetId;return{...u,sheets:i,activeSheetId:d}})}:a),renameSheet:(l,a)=>e(u=>u.activeCharacterId?{characters:u.characters.map(i=>i.id!==u.activeCharacterId?i:{...i,sheets:i.sheets.map(d=>d.id===l?{...d,name:a}:d)})}:u),addWidget:(l,a,u)=>e(i=>{if(!i.activeCharacterId)return i;const d=i.characters.find(c=>c.id===i.activeCharacterId);if(!d)return i;const m=Pr(d);let x=a,p=u;const h=10,S=200,k=120,T=20;if(m.length===0)x=Math.round(400/h)*h,p=Math.round(300/h)*h;else{const c=Math.min(...m.map(N=>N.x)),g=Math.max(...m.map(N=>N.x+(N.w||S))),v=Math.min(...m.map(N=>N.y)),b=Math.max(...m.map(N=>N.y+(N.h||k)));x=Math.round((g+T)/h)*h,p=Math.round(v/h)*h,x>1500&&(x=Math.round(c/h)*h,p=Math.round((b+T)/h)*h)}const f={id:Re(),type:l,x,y:p,w:S,h:k,data:{label:"New Widget",value:0,items:[],text:""}};return{characters:i.characters.map(c=>c.id===i.activeCharacterId?xt(c,g=>[...g,f]):c)}}),updateWidgetPosition:(l,a,u)=>e(i=>({characters:i.characters.map(d=>d.id===i.activeCharacterId?xt(d,m=>m.map(x=>x.id===l?{...x,x:a,y:u}:x)):d)})),updateWidgetSize:(l,a,u)=>e(i=>({characters:i.characters.map(d=>d.id===i.activeCharacterId?xt(d,m=>m.map(x=>x.id===l?{...x,w:a,h:u}:x)):d)})),updateWidgetData:(l,a)=>e(u=>({characters:u.characters.map(i=>i.id===u.activeCharacterId?xt(i,d=>d.map(m=>m.id===l?{...m,data:{...m.data,...a}}:m)):i)})),removeWidget:l=>e(a=>({characters:a.characters.map(u=>u.id===a.activeCharacterId?xt(u,i=>i.filter(d=>d.id!==l)):u)})),attachWidgets:(l,a)=>e(u=>u.activeCharacterId?{characters:u.characters.map(i=>{var h;if(i.id!==u.activeCharacterId)return i;const d=Pr(i),m=d.find(S=>S.id===l),x=d.find(S=>S.id===a);if(!m||!x||(h=m.attachedTo)!=null&&h.includes(a))return i;let p;if(m.groupId&&x.groupId&&m.groupId!==x.groupId){p=m.groupId;const S=x.groupId;return xt(i,k=>k.map(T=>T.groupId===S?{...T,groupId:p}:T.id===l?{...T,attachedTo:[...T.attachedTo||[],a]}:T.id===a?{...T,attachedTo:[...T.attachedTo||[],l]}:T))}else m.groupId?p=m.groupId:x.groupId?p=x.groupId:p=Re();return xt(i,S=>S.map(k=>k.id===l?{...k,groupId:p,attachedTo:[...k.attachedTo||[],a]}:k.id===a?{...k,groupId:p,attachedTo:[...k.attachedTo||[],l]}:k))})}:u),detachWidgets:(l,a)=>e(u=>u.activeCharacterId?{characters:u.characters.map(i=>{var v;if(i.id!==u.activeCharacterId)return i;const d=Pr(i),m=d.find(b=>b.id===l);if(!m||!m.groupId)return i;const x=m.groupId,p=m.attachedTo||[];let h=d.map(b=>b.id===l?{...b,groupId:void 0,attachedTo:void 0}:p.includes(b.id)?{...b,attachedTo:(b.attachedTo||[]).filter(N=>N!==l)}:b);const S=h.filter(b=>b.groupId===x).map(b=>b.id);if(S.length===0)return xt(i,()=>h);const k=new Map;for(const b of S){const N=h.find(w=>w.id===b);k.set(b,((v=N==null?void 0:N.attachedTo)==null?void 0:v.filter(w=>S.includes(w)))||[])}const T=new Set,f=[];for(const b of S){if(T.has(b))continue;const N=[],w=[b];for(;w.length>0;){const C=w.shift();if(T.has(C))continue;T.add(C),N.push(C);const y=k.get(C)||[];for(const E of y)T.has(E)||w.push(E)}f.push(N)}const c=f.map((b,N)=>{if(!(b.length<=1))return N===0&&f.filter(w=>w.length>1).length<=1?x:Re()}),g=new Map;return f.forEach((b,N)=>{for(const w of b)g.set(w,c[N])}),h=h.map(b=>{if(g.has(b.id)){const N=g.get(b.id);return N?{...b,groupId:N}:{...b,groupId:void 0,attachedTo:void 0}}return b}),xt(i,()=>h)})}:u),getWidgetsInGroup:l=>{const a=W.getState(),u=a.characters.find(d=>d.id===a.activeCharacterId);return u?Pr(u).filter(d=>d.groupId===l):[]},moveWidgetGroup:(l,a,u)=>e(i=>{if(!i.activeCharacterId)return i;const d=i.characters.find(h=>h.id===i.activeCharacterId);if(!d)return i;const x=Pr(d).find(h=>h.id===l);if(!x||!x.groupId)return{characters:i.characters.map(h=>h.id===i.activeCharacterId?xt(h,S=>S.map(k=>k.id===l?{...k,x:k.x+a,y:k.y+u}:k)):h)};const p=x.groupId;return{characters:i.characters.map(h=>h.id===i.activeCharacterId?xt(h,S=>S.map(k=>k.groupId===p?{...k,x:k.x+a,y:k.y+u}:k)):h)}})}});{let e=null;W.subscribe(()=>{e&&window.clearTimeout(e),e=window.setTimeout(()=>{try{const t=W.getState(),n={characters:t.characters,activeCharacterId:t.activeCharacterId};localStorage.setItem("ucs:store",JSON.stringify(n))}catch(t){console.error("Failed to persist store",t)}},150)})}const of="/UniversalCharacterSheet/assets/paper-BEAu-nxw.jpg",lf="/UniversalCharacterSheet/assets/paper_2-CH9Rkn63.jpg",sf="/UniversalCharacterSheet/assets/paper_3-kMWVO9hc.jpg",af="/UniversalCharacterSheet/assets/wood-CRUr5oIk.jpg",uf="/UniversalCharacterSheet/assets/arcs-D3YvlcmY.jpg",cf="/UniversalCharacterSheet/assets/circuit_board-DqNmZm31.jpg",df="/UniversalCharacterSheet/assets/cloth-DQ1UH5v9.jpg",ff="/UniversalCharacterSheet/assets/fire-_GFizR-C.jpg",hf="/UniversalCharacterSheet/assets/fog-DRMbxaR3.jpg",mf="/UniversalCharacterSheet/assets/gears-DmesK-TK.jpg",pf="/UniversalCharacterSheet/assets/glyphs-JJHDyMLG.jpg",gf="/UniversalCharacterSheet/assets/leaf-9JTNOToz.jpg",xf="/UniversalCharacterSheet/assets/leather-gh3fCG9P.jpg",vf="/UniversalCharacterSheet/assets/metal-IUU3jIEo.jpg",yf="/UniversalCharacterSheet/assets/smoke-j_Zmmo3C.jpg",bf="/UniversalCharacterSheet/assets/snow-DoqVdj98.jpg",wf="/UniversalCharacterSheet/assets/soil-DOAx3uxo.jpg",Sf="/UniversalCharacterSheet/assets/solar-BaBFVAiA.jpg",kf="/UniversalCharacterSheet/assets/stars-DnEgGp3s.jpg",Nf="/UniversalCharacterSheet/assets/stone-tbZqLald.jpg",jf="/UniversalCharacterSheet/assets/tech-BxDJg7Fw.jpg",Cf="/UniversalCharacterSheet/assets/water-CwLTClza.jpg",Ef="/UniversalCharacterSheet/assets/waves-C9RfNNeY.jpg",qn={none:"none",paper:`url(${of})`,crumpledPaper:`url(${lf})`,graphPaper:`url(${sf})`,wood:`url(${af})`,arcs:`url(${uf})`,circuitBoard:`url(${cf})`,cloth:`url(${df})`,fire:`url(${ff})`,fog:`url(${hf})`,gears:`url(${mf})`,glyphs:`url(${pf})`,leaf:`url(${gf})`,leather:`url(${xf})`,metal:`url(${vf})`,smoke:`url(${yf})`,snow:`url(${bf})`,soil:`url(${wf})`,solar:`url(${Sf})`,stars:`url(${kf})`,stone:`url(${Nf})`,tech:`url(${jf})`,water:`url(${Cf})`,waves:`url(${Ef})`},hn={paper:of,crumpledPaper:lf,graphPaper:sf,wood:af,arcs:uf,circuitBoard:cf,cloth:df,fire:ff,fog:hf,gears:mf,glyphs:pf,leaf:gf,leather:xf,metal:vf,smoke:yf,snow:bf,soil:wf,solar:Sf,stars:kf,stone:Nf,tech:jf,water:Cf,waves:Ef};function Nt(e){return e in hn}function di(e){return gn.find(t=>t.id===e)}const sg=[{value:"none",label:"None"},{value:"paper",label:"Paper"},{value:"crumpledPaper",label:"Crumpled Paper"},{value:"graphPaper",label:"Graph Paper"},{value:"wood",label:"Wood"},{value:"leather",label:"Leather"},{value:"cloth",label:"Cloth"},{value:"stone",label:"Stone"},{value:"metal",label:"Metal"},{value:"soil",label:"Soil"},{value:"leaf",label:"Leaf"},{value:"water",label:"Water"},{value:"waves",label:"Waves"},{value:"snow",label:"Snow"},{value:"fog",label:"Fog"},{value:"fire",label:"Fire"},{value:"smoke",label:"Smoke"},{value:"stars",label:"Stars"},{value:"solar",label:"Solar"},{value:"tech",label:"Technology"},{value:"circuitBoard",label:"Circuit Board"},{value:"gears",label:"Gears"},{value:"arcs",label:"Arcs"},{value:"glyphs",label:"Glyphs"}],ag=[{value:"hard",label:"Hard Offset"},{value:"soft",label:"Soft Drop"},{value:"glow",label:"Glow"},{value:"inset",label:"Inset"},{value:"layered",label:"Layered"},{value:"none",label:"None"}],ig=[{value:"solid",label:"Solid"},{value:"dashed",label:"Dashed"},{value:"dotted",label:"Dotted"},{value:"double",label:"Double"}];function fi(e,t,n=.15){return e==="none"||!e||Nt(e)?"none":qn[e]||qn.none}function hi(e,t="transparent"){switch(e){case"hard":return"4px 4px 0 0 var(--color-shadow)";case"soft":return"0 4px 12px var(--color-shadow)";case"glow":return`0 0 12px ${t}, 0 0 24px var(--color-shadow)`;case"inset":return"inset 0 2px 8px var(--color-shadow)";case"layered":return"2px 2px 0 var(--color-border), 4px 4px 8px var(--color-shadow)";case"none":return"none";default:return"4px 4px 0 0 var(--color-shadow)"}}const gn=[{id:"default",name:"Classic",icon:"",description:"Clean black & white with hard shadows",colors:{background:"#e5e7eb",paper:"#ffffff",ink:"#000000",accent:"#000000",accentHover:"#374151",border:"#000000",shadow:"#000000",muted:"#6b7280",glow:"transparent"},fonts:{heading:'"Courier New", Courier, monospace',body:'"Courier New", Courier, monospace'},borderRadius:"0px",borderWidth:"2px",shadowStyle:"4px 4px 0 0 var(--color-shadow)",cardTexture:qn.none,borderStyle:"solid"},{id:"pen-and-paper",name:"Pen & Paper",icon:"",description:"Handwritten style with lined paper feel",colors:{background:"#d7d7d7",paper:"#d7d7d7",ink:"#2c3e50",accent:"#8b4513",accentHover:"#a0522d",border:"#8b7355",shadow:"#8b7355",muted:"#7f8c8d",glow:"transparent"},fonts:{heading:'"Comic Sans MS", "Segoe Print", cursive',body:'"Segoe Print", "Comic Sans MS", cursive'},borderRadius:"2px",borderWidth:"1px",shadowStyle:"2px 2px 0 0 var(--color-shadow)",cardTexture:"graphPaper",textureOpacity:1,borderStyle:"solid"},{id:"medieval",name:"Medieval",icon:"",description:"Aged parchment with ornate styling",colors:{background:"#3d2914",paper:"#d4c4a8",ink:"#2c1810",accent:"#8b0000",accentHover:"#a52a2a",border:"#5c4033",shadow:"#2c1810",muted:"#6b5344",glow:"transparent"},fonts:{heading:'"Times New Roman", "Palatino Linotype", serif',body:'"Palatino Linotype", "Book Antiqua", serif'},borderRadius:"0px",borderWidth:"3px",shadowStyle:"3px 3px 6px 0 var(--color-shadow)",cardTexture:"paper",textureOpacity:1,borderStyle:"double"},{id:"scifi",name:"Sci-Fi",icon:"",description:"Futuristic holographic interface",colors:{background:"#0a0a1a",paper:"#141428",ink:"#00ffff",accent:"#00ff88",accentHover:"#00cc6a",border:"#00ffff",shadow:"#00ffff40",muted:"#4a9eff",glow:"#008cffff"},fonts:{heading:'"Orbitron", "Segoe UI", sans-serif',body:'"Roboto Mono", "Consolas", monospace'},borderRadius:"4px",borderWidth:"1px",shadowStyle:"0 0 8px var(--color-glow), 0 0 16px var(--color-shadow)",cardTexture:"circuitBoard",textureOpacity:.4,borderStyle:"solid"},{id:"classic-dark",name:"Classic Dark",icon:"",description:"Traditional dark theme with warm accents",colors:{background:"#1a1a1a",paper:"#2d2d2d",ink:"#e0e0e0",accent:"#d4a574",accentHover:"#c49464",border:"#404040",shadow:"#00000080",muted:"#888888",glow:"transparent"},fonts:{heading:'"Georgia", "Times New Roman", serif',body:'"Georgia", "Times New Roman", serif'},borderRadius:"4px",borderWidth:"1px",shadowStyle:"0 4px 12px var(--color-shadow)",cardTexture:qn.none,borderStyle:"solid"},{id:"modern-dark",name:"Modern Dark",icon:"",description:"Sleek contemporary dark interface",colors:{background:"#0f172a",paper:"#1e293b",ink:"#f1f5f9",accent:"#3b82f6",accentHover:"#2563eb",border:"#334155",shadow:"#00000060",muted:"#94a3b8",glow:"#3b82f6"},fonts:{heading:'"Inter", "Segoe UI", sans-serif',body:'"Inter", "Segoe UI", sans-serif'},borderRadius:"8px",borderWidth:"1px",shadowStyle:"0 4px 20px var(--color-shadow)",cardTexture:qn.darkGrain,borderStyle:"solid"},{id:"high-magic",name:"High Magic",icon:"",description:"Arcane glyphs and mystical energy",colors:{background:"#1a0a2e",paper:"#2d1b4e",ink:"#e8d5ff",accent:"#bf7fff",accentHover:"#9966cc",border:"#bf7fff",shadow:"#bf7fff40",muted:"#9b8ab8",glow:"#bf7fff"},fonts:{heading:'"Cinzel", "Times New Roman", serif',body:'"Crimson Text", "Georgia", serif'},borderRadius:"8px",borderWidth:"2px",shadowStyle:"0 0 12px var(--color-glow), 0 0 24px var(--color-shadow)",cardTexture:"arcs",textureOpacity:.15,borderStyle:"solid"},{id:"necrotic",name:"Necrotic",icon:"",description:"Dark and sinister undead aesthetic",colors:{background:"#0d0d0d",paper:"#1a1a1a",ink:"#c8c8c8",accent:"#4a0",accentHover:"#5b0",border:"#333333",shadow:"#00000080",muted:"#666666",glow:"#4a0"},fonts:{heading:'"Nosifer", "Impact", sans-serif',body:'"Courier New", monospace'},borderRadius:"0px",borderWidth:"1px",shadowStyle:"0 0 10px var(--color-shadow), inset 0 0 30px rgba(74, 170, 0, 0.05)",cardTexture:"smoke",textureOpacity:.6,borderStyle:"solid"},{id:"modern",name:"Modern",icon:"",description:"Sleek contemporary design",colors:{background:"#f8fafc",paper:"#ffffff",ink:"#1e293b",accent:"#3b82f6",accentHover:"#2563eb",border:"#e2e8f0",shadow:"#64748b20",muted:"#64748b",glow:"transparent"},fonts:{heading:'"Inter", "Segoe UI", sans-serif',body:'"Inter", "Segoe UI", sans-serif'},borderRadius:"8px",borderWidth:"1px",shadowStyle:"0 4px 16px var(--color-shadow)",cardTexture:qn.none,borderStyle:"solid"},{id:"steampunk",name:"Steampunk",icon:"",description:"Victorian brass and gears",colors:{background:"#2a1f1a",paper:"#3d2b1f",ink:"#d4a574",accent:"#cd7f32",accentHover:"#b8860b",border:"#cd7f32",shadow:"#00000060",muted:"#8b7355",glow:"#cd7f32"},fonts:{heading:'"Spectral SC", "Georgia", serif',body:'"Cutive Mono", "Courier New", monospace'},borderRadius:"2px",borderWidth:"2px",shadowStyle:"2px 2px 0 var(--color-border), 4px 4px 8px var(--color-shadow)",cardTexture:"gears",textureOpacity:.25,borderStyle:"solid"},{id:"cyberpunk",name:"Cyberpunk",icon:"",description:"Neon lights in a dark future",colors:{background:"#0f0f23",paper:"#24243fff",ink:"#eeff00",accent:"#ff00ff",accentHover:"#cc00cc",border:"#ff00ff",shadow:"#ff00ff40",muted:"#00ffff",glow:"#ff00ff"},fonts:{heading:'"Audiowide", "Impact", sans-serif',body:'"Share Tech Mono", "Consolas", monospace'},borderRadius:"0px",borderWidth:"2px",shadowStyle:"0 0 10px var(--color-glow), 0 0 20px var(--color-shadow), 4px 4px 0 var(--color-border)",cardTexture:"tech",textureOpacity:.4,borderStyle:"solid"},{id:"nature",name:"Nature",icon:"",description:"Organic earthy woodland feel",colors:{background:"#2d4a3e",paper:"#f4f1e0cc",ink:"#2d3b2d",accent:"#4a7c59",accentHover:"#3d6b4f",border:"#5a7247",shadow:"#2d3b2d40",muted:"#6b7c5a",glow:"transparent"},fonts:{heading:'"Amatic SC", "Trebuchet MS", sans-serif',body:'"Nunito", "Verdana", sans-serif'},borderRadius:"12px",borderWidth:"2px",shadowStyle:"0 4px 12px var(--color-shadow)",cardTexture:"leaf",textureOpacity:.6,borderStyle:"solid"}];ci(e=>({currentTheme:(()=>{try{const n=localStorage.getItem("ucs:theme");return n?JSON.parse(n):"default"}catch{return"default"}})(),setTheme:n=>{e({currentTheme:n}),localStorage.setItem("ucs:theme",JSON.stringify(n)),gr(n)}}));function gr(e){const t=gn.find(o=>o.id===e)||gn[0],n=document.documentElement;n.style.setProperty("--color-background",t.colors.background),n.style.setProperty("--color-paper",t.colors.paper),n.style.setProperty("--color-ink",t.colors.ink),n.style.setProperty("--color-accent",t.colors.accent),n.style.setProperty("--color-accent-hover",t.colors.accentHover),n.style.setProperty("--color-border",t.colors.border),n.style.setProperty("--color-shadow",t.colors.shadow),n.style.setProperty("--color-muted",t.colors.muted),n.style.setProperty("--color-glow",t.colors.glow),n.style.setProperty("--font-heading",t.fonts.heading),n.style.setProperty("--font-body",t.fonts.body),n.style.setProperty("--border-radius",t.borderRadius),n.style.setProperty("--border-width",t.borderWidth),n.style.setProperty("--shadow-style",t.shadowStyle),n.style.setProperty("--card-texture",t.cardTexture);const r=Nt(t.cardTexture)?t.cardTexture:"none";n.style.setProperty("--card-texture-key",r),n.style.setProperty("--card-texture-color","#ffffff"),n.style.setProperty("--card-texture-opacity",String(t.textureOpacity??.15)),n.style.setProperty("--border-style",t.borderStyle)}function ha(e){const t=document.documentElement;t.style.setProperty("--color-background",e.colors.background),t.style.setProperty("--color-paper",e.colors.paper),t.style.setProperty("--color-ink",e.colors.ink),t.style.setProperty("--color-accent",e.colors.accent),t.style.setProperty("--color-accent-hover",e.colors.accentHover),t.style.setProperty("--color-border",e.colors.border),t.style.setProperty("--color-shadow",e.colors.shadow),t.style.setProperty("--color-muted",e.colors.muted),t.style.setProperty("--color-glow",e.colors.glow||"transparent"),t.style.setProperty("--font-heading",e.fonts.heading),t.style.setProperty("--font-body",e.fonts.body),t.style.setProperty("--border-radius",e.borderRadius),t.style.setProperty("--border-width",e.borderWidth);const n=hi(e.shadowStyle||"hard",e.colors.glow||"transparent");t.style.setProperty("--shadow-style",n);const r=e.cardTexture||"none";t.style.setProperty("--card-texture-key",r);const o=fi(r,e.textureColor,e.textureOpacity??.15);t.style.setProperty("--card-texture",o),t.style.setProperty("--card-texture-color",e.textureColor||"#ffffff"),t.style.setProperty("--card-texture-opacity",String(e.textureOpacity??.15)),t.style.setProperty("--border-style",e.borderStyle||"solid")}const Du=[{value:'"Courier New", Courier, monospace',label:"Courier New"},{value:'"Times New Roman", "Palatino Linotype", serif',label:"Times New Roman"},{value:'"Arial", "Helvetica Neue", sans-serif',label:"Arial"},{value:'"Georgia", "Palatino", serif',label:"Georgia"},{value:'"Comic Sans MS", "Segoe Print", cursive',label:"Comic Sans"},{value:'"Segoe Print", "Comic Sans MS", cursive',label:"Segoe Print"},{value:'"Trebuchet MS", "Lucida Sans", sans-serif',label:"Trebuchet MS"},{value:'"Verdana", "Geneva", sans-serif',label:"Verdana"},{value:'"Impact", "Charcoal", sans-serif',label:"Impact"},{value:'"Lucida Console", "Monaco", monospace',label:"Lucida Console"}],ug=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Tf="ucs:custom-themes";function cg(){try{const e=localStorage.getItem(Tf);return e?JSON.parse(e):[]}catch{return[]}}function gs(e){localStorage.setItem(Tf,JSON.stringify(e))}const er=ci((e,t)=>({customThemes:cg(),addCustomTheme:n=>{const r=[...t().customThemes,n];gs(r),e({customThemes:r})},updateCustomTheme:(n,r)=>{const o=t().customThemes.map(l=>l.id===n?r:l);gs(o),e({customThemes:o})},deleteCustomTheme:n=>{const r=t().customThemes.filter(o=>o.id!==n);gs(r),e({customThemes:r})}}));function Ln(e){return er.getState().customThemes.find(t=>t.id===e)}function dg(){return{name:"My Custom Theme",icon:"",description:"A personalized theme",colors:{background:"#e5e7eb",paper:"#ffffff",ink:"#000000",accent:"#3b82f6",accentHover:"#2563eb",border:"#374151",shadow:"#1f2937",muted:"#6b7280",glow:"transparent"},fonts:{heading:'"Arial", "Helvetica Neue", sans-serif',body:'"Arial", "Helvetica Neue", sans-serif'},borderRadius:"4px",borderWidth:"2px",shadowStyle:"hard",cardTexture:"none",textureColor:"#ffffff",textureOpacity:.15,borderStyle:"solid"}}const fg="ab354335-a46a-4564-9e80-51b8900d987f",hg="DnD preset",mg=[{id:"c04ff32a-56f2-4a3b-a392-7b2ad6f1b1b7",name:"Main",widgets:[{id:"ba6bae45-2b0c-421d-868f-21fcf18d207b",type:"IMAGE",x:0,y:0,w:190,h:220,data:{label:"Name",value:0,items:[],text:""},groupId:"2a5254dc-b728-442e-a414-46e02c6de2e0",attachedTo:["4361bcbb-1c2c-4773-9341-853f566717a1","ca0cb9bc-0c1d-47e1-b8d0-955591c31276","06adfbda-5857-4bdf-83c7-233c1d7466be"]},{id:"4361bcbb-1c2c-4773-9341-853f566717a1",type:"HEALTH_BAR",x:0,y:220,w:190,h:100,data:{label:"Health",value:0,items:[],text:""},groupId:"2a5254dc-b728-442e-a414-46e02c6de2e0",attachedTo:["ba6bae45-2b0c-421d-868f-21fcf18d207b","55f06d23-f8d5-421f-9747-f03ad9319356","06adfbda-5857-4bdf-83c7-233c1d7466be"]},{id:"d2327abf-c6a7-4f8a-b8de-26124b65fe76",type:"DICE_ROLLER",x:470,y:120,w:180,h:120,data:{label:"Damage",value:0,items:[],text:"",diceGroups:[{count:1,faces:6}]},groupId:"2a5254dc-b728-442e-a414-46e02c6de2e0",attachedTo:["1eca844b-cbdc-4462-89f8-297566d9843d","c9ce0e76-74fc-4d0a-8caa-469071ef1209","ca0cb9bc-0c1d-47e1-b8d0-955591c31276","06adfbda-5857-4bdf-83c7-233c1d7466be"]},{id:"ab2c2510-a9e0-418f-bb11-f861388b03fa",type:"NUMBER",x:190,y:340,w:280,h:450,data:{label:"Skills",value:0,items:[],text:"",numberItems:[{name:"Acrobatics(DEX)",value:0},{name:"Animal Handling (WIS)",value:0},{name:"Arcana (INT)",value:0},{name:"Athletics (STR)",value:0},{name:"Deception (CHA)",value:0},{name:"History (INT)",value:0},{name:"Insight (WIS)",value:0},{name:"Intimidation (CHA)",value:0},{name:"Investigation (INT)",value:0},{name:"Medicine (WIS)",value:0},{name:"Nature (INT)",value:0},{name:"Perception (WIS)",value:0},{name:"Performance (CHA)",value:0},{name:"Persuasion (CHA)",value:0},{name:"Religion (INT)",value:0},{name:"Sleight of Hand (DEX)",value:0},{name:"Stealth (DEX)",value:0},{name:"Survival (WIS)",value:0}]},groupId:"2a5254dc-b728-442e-a414-46e02c6de2e0",attachedTo:["6068dca9-c537-42c2-b4c8-ef1cb3697aed","06adfbda-5857-4bdf-83c7-233c1d7466be","55f06d23-f8d5-421f-9747-f03ad9319356","c9ce0e76-74fc-4d0a-8caa-469071ef1209","0452783b-0cc1-40b3-9e1b-a7c0f38dbf32"]},{id:"55f06d23-f8d5-421f-9747-f03ad9319356",type:"NUMBER",x:0,y:320,w:190,h:170,data:{label:"Stats",value:0,items:[],text:"",numberItems:[{name:"Level",value:1},{name:"XP",value:0},{name:"AC",value:10},{name:"Init",value:0},{name:"Speed",value:30}]},groupId:"2a5254dc-b728-442e-a414-46e02c6de2e0",attachedTo:["0452783b-0cc1-40b3-9e1b-a7c0f38dbf32","ab2c2510-a9e0-418f-bb11-f861388b03fa","06adfbda-5857-4bdf-83c7-233c1d7466be"]},{id:"cc54bf1f-db8a-4637-afd6-f74199f9c783",type:"TABLE",x:670,y:570,w:650,h:220,data:{label:"Backback",value:0,items:[],text:"",rows:[{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]}]},groupId:"1b1abaef-6f7c-45a2-9923-83ccfdf837c4",attachedTo:["b218af9a-2dbf-400b-89d3-84f9b65ac4e9","402c930f-4b54-43d2-b5a9-a452297a525d"]},{id:"6068dca9-c537-42c2-b4c8-ef1cb3697aed",type:"TIME_TRACKER",x:470,y:500,w:180,h:290,data:{label:"Effects",value:0,items:[],text:"",timedEffects:[]},groupId:"2a5254dc-b728-442e-a414-46e02c6de2e0",attachedTo:["ab2c2510-a9e0-418f-bb11-f861388b03fa","c9ce0e76-74fc-4d0a-8caa-469071ef1209"]},{id:"c9ce0e76-74fc-4d0a-8caa-469071ef1209",type:"TOGGLE_GROUP",x:470,y:240,w:180,h:260,data:{label:"Conditions",value:0,items:[],text:"",toggleItems:[{name:"Blinded",active:!1},{name:"Charmed",active:!1},{name:"Deafened",active:!1},{name:"Frightened",active:!1},{name:"Grappled",active:!1},{name:"Incapacitated",active:!1},{name:"Invisible",active:!1},{name:"Paralyzed",active:!1},{name:"Petrified",active:!1},{name:"Poisoned",active:!1},{name:"Prone",active:!1},{name:"Restrained",active:!1},{name:"Stunned",active:!1},{name:"Unconscious",active:!1}]},groupId:"2a5254dc-b728-442e-a414-46e02c6de2e0",attachedTo:["06adfbda-5857-4bdf-83c7-233c1d7466be","ab2c2510-a9e0-418f-bb11-f861388b03fa"]},{id:"06adfbda-5857-4bdf-83c7-233c1d7466be",type:"NUMBER",x:190,y:150,w:280,h:190,data:{label:"Attributes",value:0,items:[],text:"",numberItems:[{name:"Strength",value:10},{name:"Dexterity",value:10},{name:"Constitution",value:10},{name:"Intelligence",value:10},{name:"Wisdom",value:10},{name:"Charisma",value:10}]},groupId:"2a5254dc-b728-442e-a414-46e02c6de2e0",attachedTo:["ca0cb9bc-0c1d-47e1-b8d0-955591c31276","ab2c2510-a9e0-418f-bb11-f861388b03fa","55f06d23-f8d5-421f-9747-f03ad9319356","4361bcbb-1c2c-4773-9341-853f566717a1","ba6bae45-2b0c-421d-868f-21fcf18d207b","d2327abf-c6a7-4f8a-b8de-26124b65fe76"]},{id:"0452783b-0cc1-40b3-9e1b-a7c0f38dbf32",type:"LIST",x:0,y:490,w:190,h:300,data:{label:"Features & Traits",value:0,items:["","","","","","","",""],text:"",itemCount:8},groupId:"2a5254dc-b728-442e-a414-46e02c6de2e0",attachedTo:["55f06d23-f8d5-421f-9747-f03ad9319356","ab2c2510-a9e0-418f-bb11-f861388b03fa"]},{id:"1eca844b-cbdc-4462-89f8-297566d9843d",type:"DICE_ROLLER",x:470,y:0,w:180,h:120,data:{label:"Attack",value:0,items:[],text:""},groupId:"2a5254dc-b728-442e-a414-46e02c6de2e0",attachedTo:["d2327abf-c6a7-4f8a-b8de-26124b65fe76","ca0cb9bc-0c1d-47e1-b8d0-955591c31276"]},{id:"b218af9a-2dbf-400b-89d3-84f9b65ac4e9",type:"NUMBER",x:1180,y:400,w:140,h:170,data:{label:"Wealth",value:0,items:[],text:"",numberItems:[{name:"PP",value:0},{name:"GP",value:0},{name:"EP",value:0},{name:"SP",value:0},{name:"CP",value:0}]},groupId:"1b1abaef-6f7c-45a2-9923-83ccfdf837c4",attachedTo:["402c930f-4b54-43d2-b5a9-a452297a525d","cc54bf1f-db8a-4637-afd6-f74199f9c783"]},{id:"a14807b0-b531-4ecb-9fc1-cfd79efb4f7a",type:"SPELL_SLOT",x:670,y:120,w:170,h:240,data:{label:"Spell Slots",value:0,items:[],text:"",spellLevels:[{level:1,max:4,used:0},{level:2,max:2,used:0}]},groupId:"20e26d52-420a-4d58-8d67-5e49fdebae69",attachedTo:["e2446c7d-8726-4b34-88be-ff37563050f8","7149c344-778b-4992-994a-e3cb949cb8c8"]},{id:"ca0cb9bc-0c1d-47e1-b8d0-955591c31276",type:"FORM",x:190,y:0,w:280,h:150,data:{label:"Info",value:0,items:[],text:"",formItems:[{name:"Class",value:""},{name:"Background",value:""},{name:"Race",value:""},{name:"Alignment",value:""}]},groupId:"2a5254dc-b728-442e-a414-46e02c6de2e0",attachedTo:["06adfbda-5857-4bdf-83c7-233c1d7466be","d2327abf-c6a7-4f8a-b8de-26124b65fe76"]},{id:"402c930f-4b54-43d2-b5a9-a452297a525d",type:"TEXT",x:670,y:400,w:510,h:170,data:{label:"Notes",value:0,items:[],text:""},groupId:"1b1abaef-6f7c-45a2-9923-83ccfdf837c4",attachedTo:["b218af9a-2dbf-400b-89d3-84f9b65ac4e9","cc54bf1f-db8a-4637-afd6-f74199f9c783"]},{id:"e2446c7d-8726-4b34-88be-ff37563050f8",type:"TABLE",x:840,y:120,w:480,h:240,data:{label:"Spells",value:0,items:[],text:"",columns:["Name","Level","Notes"],rows:[{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]}]},groupId:"20e26d52-420a-4d58-8d67-5e49fdebae69",attachedTo:["a14807b0-b531-4ecb-9fc1-cfd79efb4f7a","7149c344-778b-4992-994a-e3cb949cb8c8"]},{id:"7149c344-778b-4992-994a-e3cb949cb8c8",type:"FORM",x:670,y:0,w:650,h:120,data:{label:"",value:0,items:[],text:"",formItems:[{name:"Spellcasting class",value:""},{name:"Spellcasting ability",value:""},{name:"Spell Save DC",value:""},{name:"Spell Attack Bonus",value:""}]},groupId:"20e26d52-420a-4d58-8d67-5e49fdebae69",attachedTo:["a14807b0-b531-4ecb-9fc1-cfd79efb4f7a","e2446c7d-8726-4b34-88be-ff37563050f8"]}]}],pg="c04ff32a-56f2-4a3b-a392-7b2ad6f1b1b7",gg="default",xg={id:fg,name:hg,sheets:mg,activeSheetId:pg,theme:gg},If={"D&D 5e":xg};function vg(){return Object.keys(If)}function yg(e){return If[e]}function bg(e){const t=e?Ln(e):void 0;if(t){const r=hi(t.shadowStyle||"hard",t.colors.glow||"transparent"),o=t.cardTexture||"none",l=Nt(o)?"none":fi(o,t.textureColor,t.textureOpacity);return{"--card-background":t.colors.paper,"--card-ink":t.colors.ink,"--card-border":t.colors.border,"--card-shadow":t.colors.shadow,"--card-muted":t.colors.muted,"--card-accent":t.colors.accent,"--card-glow":t.colors.glow||"transparent","--card-radius":t.borderRadius,"--card-border-width":t.borderWidth,"--card-border-style":t.borderStyle||"solid","--card-shadow-style":r,"--card-texture":l,"--card-texture-key":o,"--card-texture-color":t.textureColor||"#ffffff","--card-texture-opacity":String(t.textureOpacity??.15),fontFamily:t.fonts.body}}const n=gn.find(r=>r.id===(e||"default"))||gn[0];return{"--card-background":n.colors.paper,"--card-ink":n.colors.ink,"--card-border":n.colors.border,"--card-shadow":n.colors.shadow,"--card-muted":n.colors.muted,"--card-accent":n.colors.accent,"--card-glow":n.colors.glow,"--card-radius":n.borderRadius,"--card-border-width":n.borderWidth,"--card-border-style":n.borderStyle,"--card-shadow-style":n.shadowStyle,"--card-texture":n.cardTexture,"--card-texture-key":"none","--card-texture-color":"#ffffff","--card-texture-opacity":"0.15",fontFamily:n.fonts.body}}function wg(){var N;er(w=>w.customThemes);const e=W(w=>w.characters),t=W(w=>w.createCharacter),n=W(w=>w.createCharacterFromPreset),r=W(w=>w.updateCharacterTheme),o=W(w=>w.importCharacter),l=W(w=>w.selectCharacter),a=W(w=>w.deleteCharacter),[u,i]=_.useState(null),[d,m]=_.useState(!1),[x,p]=_.useState(""),[h,S]=_.useState(""),[k,T]=_.useState("default"),f=_.useRef(null),c=vg(),g=()=>{const w=x.trim()||"New Character";if(h&&h!==""){const C=yg(h);if(C){n(C,w);const y=W.getState(),E=y.characters[y.characters.length-1];E&&k!=="default"&&r(E.id,k)}}else{t(w);const C=W.getState(),y=C.characters[C.characters.length-1];y&&k!=="default"&&r(y.id,k)}p(""),S(""),T("default"),m(!1)},v=w=>{const C=JSON.stringify(w,null,2),y=new Blob([C],{type:"application/json"}),E=URL.createObjectURL(y),$=document.createElement("a");$.href=E,$.download=`${w.name.replace(/[^a-z0-9]/gi,"_")}.json`,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(E)},b=w=>{var E;const C=(E=w.target.files)==null?void 0:E[0];if(!C)return;const y=new FileReader;y.onload=$=>{var H;try{const Y=JSON.parse((H=$.target)==null?void 0:H.result);if(!Y.name||!Y.sheets||!Array.isArray(Y.sheets)){alert("Invalid character file format");return}o(Y)}catch(Y){alert("Failed to parse character file"),console.error(Y)}},y.readAsText(C),f.current&&(f.current.value="")};return s.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-8 h-full overflow-auto",children:[s.jsx("h1",{className:"text-2xl sm:text-4xl font-bold mb-4 sm:mb-8 border-b-[length:var(--border-width)] border-theme-border pb-2 sm:pb-4 uppercase tracking-wider text-theme-ink font-heading",children:"Character Select"}),s.jsxs("div",{className:"mb-6 sm:mb-12 flex gap-2 sm:gap-4",children:[s.jsx("button",{onClick:()=>m(!0),className:"flex-1 bg-theme-accent text-theme-paper px-6 sm:px-8 py-4 sm:py-5 text-lg sm:text-xl font-bold hover:bg-theme-accent-hover transition-colors shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme font-heading",children:"+ CREATE NEW CHARACTER"}),s.jsxs("label",{className:"bg-theme-paper text-theme-ink px-4 sm:px-6 py-4 sm:py-5 font-bold hover:bg-theme-accent hover:text-theme-paper transition-colors shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme font-heading cursor-pointer border-[length:var(--border-width)] border-theme-border text-center flex items-center justify-center",children:["IMPORT",s.jsx("input",{ref:f,type:"file",accept:".json",onChange:b,className:"hidden"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 pb-4",children:[e.map(w=>{const C=bg(w.theme),y=w.theme?Ln(w.theme):void 0,E=(y==null?void 0:y.cardTexture)||"none",$=Nt(E);return s.jsxs("div",{style:C,className:"p-4 sm:p-6 active:translate-x-[2px] active:translate-y-[2px] sm:hover:-translate-y-1 transition-transform cursor-pointer relative group",onClick:()=>l(w.id),children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",style:{backgroundColor:"var(--card-background)",backgroundImage:$?"none":"var(--card-texture)",borderRadius:"var(--card-radius)",border:"var(--card-border-width) var(--card-border-style) var(--card-border)",boxShadow:"var(--card-shadow-style)"},children:$&&s.jsx("div",{style:{position:"absolute",inset:0,backgroundColor:"var(--card-background)"},children:s.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:`url(${hn[E]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:"var(--card-texture-opacity)",mixBlendMode:"overlay"}})})}),s.jsxs("div",{className:"relative",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-2 pr-12",style:{color:"var(--card-ink)"},children:w.name}),s.jsxs("p",{className:"text-sm sm:text-base mb-2 sm:mb-4",style:{color:"var(--card-muted)"},children:[w.sheets.reduce((H,Y)=>H+Y.widgets.length,0)," Widgets  ",w.sheets.length," Sheet",w.sheets.length!==1?"s":""]}),s.jsx("button",{onClick:H=>{H.stopPropagation(),v(w)},className:"absolute top-0 right-0 px-2 py-1 sm:opacity-0 sm:group-hover:opacity-100 font-bold flex items-center justify-center z-10 text-sm rounded transition-colors",style:{color:"var(--card-accent)",border:"1px solid var(--card-border)",backgroundColor:"var(--card-background)"},onMouseEnter:H=>{H.currentTarget.style.backgroundColor="var(--card-accent)",H.currentTarget.style.color="var(--card-background)"},onMouseLeave:H=>{H.currentTarget.style.backgroundColor="var(--card-background)",H.currentTarget.style.color="var(--card-accent)"},title:"Export character",children:"Export"}),s.jsx("button",{onClick:H=>{H.stopPropagation(),i(w.id)},className:"absolute bottom-0 right-0 px-2 py-1 sm:opacity-0 sm:group-hover:opacity-100 font-bold flex items-center justify-center z-10 text-sm rounded transition-colors",style:{color:"var(--card-accent)",border:"1px solid var(--card-border)",backgroundColor:"var(--card-background)"},onMouseEnter:H=>{H.currentTarget.style.backgroundColor="var(--card-accent)",H.currentTarget.style.color="var(--card-background)"},onMouseLeave:H=>{H.currentTarget.style.backgroundColor="var(--card-background)",H.currentTarget.style.color="var(--card-accent)"},title:"Delete character",children:"Delete"})]})]},w.id)}),e.length===0&&s.jsx("div",{className:"col-span-full text-center py-8 sm:py-12 text-theme-muted border-[length:var(--border-width)] border-dashed border-theme-border/50 text-sm sm:text-base rounded-theme font-body",children:"No characters found. Create one to begin."})]}),u&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>i(null)}),s.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme p-4 z-50 min-w-[250px]",children:[s.jsx("h3",{className:"font-heading text-theme-ink font-bold mb-2",children:"Delete Character?"}),s.jsxs("p",{className:"text-sm text-theme-muted font-body mb-4",children:['Are you sure you want to delete "',(N=e.find(w=>w.id===u))==null?void 0:N.name,'"? This will delete all sheets and widgets.']}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx("button",{onClick:()=>i(null),className:"px-3 py-1.5 text-sm font-body text-theme-ink hover:bg-theme-accent/20 rounded-theme transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>{a(u),i(null)},className:"px-3 py-1.5 text-sm font-body bg-red-500 text-white hover:bg-red-600 rounded-theme transition-colors",children:"Delete"})]})]})]}),d&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>m(!1)}),s.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme p-6 z-50 w-[90vw] max-w-[400px]",children:[s.jsx("h3",{className:"font-heading text-theme-ink font-bold text-xl mb-4",children:"Create New Character"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-body text-theme-muted mb-1",children:"Character Name"}),s.jsx("input",{type:"text",value:x,onChange:w=>p(w.target.value),placeholder:"Enter character name...",className:"w-full p-3 text-base border-[length:var(--border-width)] border-theme-border shadow-theme focus:outline-none focus:translate-x-[1px] focus:translate-y-[1px] focus:shadow-none transition-all bg-theme-paper text-theme-ink rounded-theme font-body",autoFocus:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-body text-theme-muted mb-1",children:"Preset"}),s.jsxs("select",{value:h,onChange:w=>S(w.target.value),className:"w-full p-3 text-base border-[length:var(--border-width)] border-theme-border shadow-theme focus:outline-none transition-all bg-theme-paper text-theme-ink rounded-theme font-body cursor-pointer",children:[s.jsx("option",{value:"",children:"No Preset"}),c.map(w=>s.jsx("option",{value:w,children:w},w))]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-body text-theme-muted mb-1",children:"Theme"}),s.jsx("select",{value:k,onChange:w=>T(w.target.value),className:"w-full p-3 text-base border-[length:var(--border-width)] border-theme-border shadow-theme focus:outline-none transition-all bg-theme-paper text-theme-ink rounded-theme font-body cursor-pointer",children:gn.map(w=>s.jsxs("option",{value:w.id,children:[w.icon," ",w.name]},w.id))})]}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx("button",{onClick:()=>{m(!1),p(""),S(""),T("default")},className:"px-4 py-2 font-body text-theme-ink hover:bg-theme-accent/20 rounded-theme transition-colors border-[length:var(--border-width)] border-theme-border",children:"Cancel"}),s.jsx("button",{onClick:g,className:"px-6 py-2 font-body bg-theme-accent text-theme-paper hover:bg-theme-accent-hover rounded-theme transition-colors font-bold",children:"Create"})]})]})]})]})}const Sg=[{type:"CHECKBOX",label:"Checkbox"},{type:"TOGGLE_GROUP",label:"Conditions"},{type:"DICE_ROLLER",label:"Dice Roller"},{type:"FORM",label:"Form"},{type:"HEALTH_BAR",label:"Health Bar"},{type:"IMAGE",label:"Image"},{type:"LIST",label:"List"},{type:"NUMBER",label:"Number Tracker"},{type:"POOL",label:"Resource Pool"},{type:"SPELL_SLOT",label:"Spell Slots"},{type:"TABLE",label:"Table"},{type:"TEXT",label:"Text Area"},{type:"TIME_TRACKER",label:"Time Tracker"}];function kg({collapsed:e,onToggle:t}){const n=W(p=>p.addWidget),r=W(p=>p.activeCharacterId),l=W(p=>p.characters).find(p=>p.id===r),a=l!=null&&l.theme?Ln(l.theme):void 0,u=l!=null&&l.theme?di(l.theme):void 0,i=(a==null?void 0:a.cardTexture)||(u==null?void 0:u.cardTexture)||"none",d=Nt(i),m=p=>{n(p,100,100)},x=(p,h)=>{p.dataTransfer.setData("widgetType",h),p.dataTransfer.effectAllowed="copy"};return s.jsxs(s.Fragment,{children:[!e&&s.jsx("div",{className:"fixed inset-0 bg-black/30 z-40 md:hidden",onClick:t}),s.jsxs("div",{className:`fixed left-0 top-0 bottom-0 w-[80vw] max-w-[280px] md:w-64 bg-theme-paper border-r-[length:var(--border-width)] border-theme-border z-50 flex flex-col p-3 sm:p-4 shadow-theme overflow-hidden transition-transform duration-300 ease-in-out safe-area-bottom touch-pan-y ${e?"-translate-x-full":"translate-x-0"}`,children:[d&&s.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",style:{backgroundColor:"var(--color-paper)"},children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${hn[i]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:"var(--card-texture-opacity)",mixBlendMode:"overlay"}})}),s.jsx("button",{onClick:t,className:"hidden md:flex absolute -right-10 top-20 w-10 h-10 bg-theme-paper border-[length:var(--border-width)] border-theme-border border-l-0 font-bold shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all items-center justify-center text-theme-ink z-20",title:e?"Show Toolbox":"Hide Toolbox",children:e?"":""}),s.jsx("button",{onClick:t,className:"md:hidden absolute top-3 right-3 w-10 h-10 bg-theme-accent text-theme-paper font-bold flex items-center justify-center rounded-theme z-20 shadow-theme",children:""}),s.jsxs("div",{className:"relative z-10 flex flex-col h-full overflow-y-auto touch-pan-y pt-12 md:pt-0",children:[s.jsx("div",{className:"mb-4 sm:mb-8",children:s.jsx("h2",{className:"text-xl sm:text-2xl font-bold uppercase tracking-wider border-b-[length:var(--border-width)] border-theme-border pb-2 text-theme-ink font-heading",children:"Toolbox"})}),s.jsx("div",{className:"flex flex-col gap-2 sm:gap-3",children:Sg.map(({type:p,label:h})=>s.jsx("div",{draggable:!0,onDragStart:S=>x(S,p),onClick:()=>m(p),className:"p-2 sm:p-3 border-[length:var(--border-width)] border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-all text-left font-bold shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none cursor-pointer flex items-center gap-2 bg-theme-paper text-theme-ink rounded-theme",children:s.jsxs("span",{className:"text-xs sm:text-sm font-body",children:["+ ",h]})},p))}),s.jsxs("div",{className:"mt-auto pt-4 text-[10px] sm:text-xs text-theme-muted border-t border-theme-border/50 font-body",children:[s.jsx("p",{className:"hidden sm:block",children:"Drag widgets to arrange."}),s.jsx("p",{className:"sm:hidden",children:"Tap to add widgets."}),s.jsx("p",{children:"Pan with finger/mouse."}),s.jsx("p",{children:"Pinch/scroll to zoom."}),s.jsx("p",{className:"mt-2 text-theme-ink font-bold",children:"Edit Mode Active"})]})]})]})]})}function Ng({theme:e,onSave:t,onCancel:n,onDelete:r}){const o=!!e,l=dg(),[a,u]=_.useState((e==null?void 0:e.name)||l.name),[i,d]=_.useState((e==null?void 0:e.icon)||l.icon),[m,x]=_.useState((e==null?void 0:e.description)||l.description),[p,h]=_.useState((e==null?void 0:e.colors)||l.colors),[S,k]=_.useState((e==null?void 0:e.fonts.heading)||l.fonts.heading),[T,f]=_.useState((e==null?void 0:e.fonts.body)||l.fonts.body),[c,g]=_.useState((e==null?void 0:e.borderRadius)||l.borderRadius),[v,b]=_.useState((e==null?void 0:e.borderWidth)||l.borderWidth),[N,w]=_.useState((e==null?void 0:e.shadowStyle)||l.shadowStyle),[C,y]=_.useState((e==null?void 0:e.cardTexture)||l.cardTexture),E="#ffffff",[$,H]=_.useState((e==null?void 0:e.textureOpacity)??l.textureOpacity),[Y,je]=_.useState((e==null?void 0:e.borderStyle)||l.borderStyle),[Ke,le]=_.useState(!1),ge=(P,B)=>{h(q=>({...q,[P]:B}))},M=()=>{const P={id:(e==null?void 0:e.id)||`custom-${Re()}`,name:a,icon:i,description:m,colors:p,fonts:{heading:S,body:T},borderRadius:c,borderWidth:v,shadowStyle:N,cardTexture:C,textureColor:"#ffffff",textureOpacity:$,borderStyle:Y};t(P)},I=[{key:"background",label:"Background"},{key:"paper",label:"Paper/Card"},{key:"ink",label:"Text/Ink"},{key:"accent",label:"Accent"},{key:"accentHover",label:"Accent Hover"},{key:"border",label:"Border"},{key:"shadow",label:"Shadow"},{key:"muted",label:"Muted Text"},{key:"glow",label:"Glow"}],O=()=>s.jsx("div",{className:"p-3 sm:p-4",style:{backgroundColor:p.background,borderRadius:c},children:s.jsxs("div",{className:"p-3 sm:p-4 relative overflow-hidden",style:{backgroundColor:p.paper,backgroundImage:Nt(C)?"none":fi(C,E,$),border:`${v} ${Y} ${p.border}`,borderRadius:c,boxShadow:hi(N,p.glow).replace(/var\(--color-shadow\)/g,p.shadow).replace(/var\(--color-border\)/g,p.border).replace(/var\(--color-glow\)/g,p.glow)},children:[Nt(C)&&s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundColor:p.paper,borderRadius:c},children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${hn[C]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:$,mixBlendMode:"overlay",borderRadius:c}})}),s.jsxs("h4",{className:"text-base sm:text-lg font-bold mb-2 relative",style:{color:p.ink,fontFamily:S},children:[i," ",a]}),s.jsx("p",{className:"text-xs sm:text-sm mb-3 relative",style:{color:p.muted,fontFamily:T},children:m}),s.jsx("button",{className:"px-3 sm:px-4 py-1.5 sm:py-2 text-sm font-bold transition-colors relative",style:{backgroundColor:p.accent,color:p.paper,borderRadius:c,fontFamily:S},children:"Sample Button"})]})});return s.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-2 sm:p-4",children:s.jsxs("div",{className:"bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme w-full max-w-4xl max-h-[95vh] flex flex-col",onClick:P=>P.stopPropagation(),children:[s.jsx("div",{className:"p-3 sm:p-4 border-b-[length:var(--border-width)] border-theme-border bg-theme-paper flex-shrink-0",children:s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-theme-ink font-heading",children:o?" Edit Custom Theme":" Create Custom Theme"})}),s.jsxs("div",{className:"flex flex-col md:flex-row flex-1 overflow-hidden",children:[s.jsxs("div",{className:"order-first md:order-last w-full md:w-80 flex-shrink-0 border-b-[length:var(--border-width)] md:border-b-0 md:border-l-[length:var(--border-width)] border-theme-border p-3 sm:p-4 bg-theme-background/50 max-h-[40vh] md:max-h-none overflow-auto md:overflow-visible",children:[s.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-2 sm:mb-3 uppercase tracking-wider font-heading",children:"Preview"}),s.jsx("div",{className:"md:sticky md:top-0",children:s.jsx(O,{})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4 space-y-5 sm:space-y-6",children:[s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Basic Info"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Theme Name"}),s.jsx("input",{type:"text",value:a,onChange:P=>u(P.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",placeholder:"My Custom Theme"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Icon"}),s.jsxs("button",{onClick:()=>le(!Ke),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body text-left flex items-center gap-2",children:[s.jsx("span",{className:"text-xl",children:i}),s.jsx("span",{className:"text-xs text-theme-muted",children:"Click to change"})]}),Ke&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 p-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme z-20 grid grid-cols-10 gap-1 max-h-40 overflow-y-auto",children:ug.map(P=>s.jsx("button",{onClick:()=>{d(P),le(!1)},className:`p-1 text-lg hover:bg-theme-accent hover:text-theme-paper rounded ${i===P?"bg-theme-accent text-theme-paper":""}`,children:P},P))})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Description"}),s.jsx("input",{type:"text",value:m,onChange:P=>x(P.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",placeholder:"A personalized theme"})]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Colors"}),s.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-2 sm:gap-3",children:I.map(({key:P,label:B})=>s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("label",{className:"block text-[10px] sm:text-xs font-bold text-theme-muted mb-1 font-body text-center",children:B}),s.jsx("input",{type:"color",value:p[P],onChange:q=>ge(P,q.target.value),className:"w-10 h-10 sm:w-12 sm:h-12 border-[length:var(--border-width)] border-theme-border rounded-theme cursor-pointer"})]},P))})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Fonts"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Heading Font"}),s.jsx("select",{value:S,onChange:P=>k(P.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:Du.map(P=>s.jsx("option",{value:P.value,style:{fontFamily:P.value},children:P.label},P.value))}),s.jsx("p",{className:"text-xs text-theme-muted mt-1",style:{fontFamily:S},children:"Preview: The quick brown fox"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Body Font"}),s.jsx("select",{value:T,onChange:P=>f(P.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:Du.map(P=>s.jsx("option",{value:P.value,style:{fontFamily:P.value},children:P.label},P.value))}),s.jsx("p",{className:"text-xs text-theme-muted mt-1",style:{fontFamily:T},children:"Preview: The quick brown fox"})]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Style"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Border Radius"}),s.jsxs("select",{value:c,onChange:P=>g(P.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:[s.jsx("option",{value:"0px",children:"Sharp (0px)"}),s.jsx("option",{value:"2px",children:"Subtle (2px)"}),s.jsx("option",{value:"4px",children:"Small (4px)"}),s.jsx("option",{value:"8px",children:"Medium (8px)"}),s.jsx("option",{value:"12px",children:"Large (12px)"}),s.jsx("option",{value:"16px",children:"Extra Large (16px)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Border Width"}),s.jsxs("select",{value:v,onChange:P=>b(P.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:[s.jsx("option",{value:"1px",children:"Thin (1px)"}),s.jsx("option",{value:"2px",children:"Medium (2px)"}),s.jsx("option",{value:"3px",children:"Thick (3px)"}),s.jsx("option",{value:"4px",children:"Extra Thick (4px)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Border Style"}),s.jsx("select",{value:Y,onChange:P=>je(P.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:ig.map(P=>s.jsx("option",{value:P.value,children:P.label},P.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Shadow Style"}),s.jsx("select",{value:N,onChange:P=>w(P.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:ag.map(P=>s.jsx("option",{value:P.value,children:P.label},P.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Card Texture"}),s.jsx("select",{value:C,onChange:P=>y(P.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:sg.map(P=>s.jsx("option",{value:P.value,children:P.label},P.value))})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsxs("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:["Texture Opacity: ",Math.round($*100),"%"]}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:$,onChange:P=>H(parseFloat(P.target.value)),className:"w-full h-2 bg-theme-border rounded-theme appearance-none cursor-pointer",disabled:C==="none"})]})]})]})]})]}),s.jsxs("div",{className:"p-3 sm:p-4 border-t-[length:var(--border-width)] border-theme-border bg-theme-paper flex flex-wrap gap-2 justify-between flex-shrink-0",children:[s.jsx("div",{children:o&&r&&s.jsx("button",{onClick:()=>{confirm("Are you sure you want to delete this custom theme?")&&r()},className:"px-3 sm:px-4 py-2 bg-red-500 text-white text-sm font-bold rounded-theme hover:bg-red-600 transition-colors font-heading",children:" Delete"})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:n,className:"px-3 sm:px-4 py-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink text-sm font-bold rounded-theme hover:bg-theme-accent hover:text-theme-paper transition-colors font-heading",children:"Cancel"}),s.jsx("button",{onClick:M,className:"px-3 sm:px-4 py-2 bg-theme-accent text-theme-paper text-sm font-bold rounded-theme hover:bg-theme-accent-hover transition-colors font-heading",children:o?" Save Changes":" Create Theme"})]})]})]})})}function jg({collapsed:e,onToggle:t}){const n=W(y=>y.activeCharacterId),r=W(y=>y.characters),o=W(y=>y.updateCharacterTheme),l=r.find(y=>y.id===n),a=(l==null?void 0:l.theme)||"default",u=l!=null&&l.theme?Ln(l.theme):void 0,i=l!=null&&l.theme?di(l.theme):void 0,d=(u==null?void 0:u.cardTexture)||(i==null?void 0:i.cardTexture)||"none",m=Nt(d),x=er(y=>y.customThemes),p=er(y=>y.addCustomTheme),h=er(y=>y.updateCustomTheme),S=er(y=>y.deleteCustomTheme),[k,T]=_.useState(!1),[f,c]=_.useState(void 0),g=y=>{if(n){o(n,y);const E=Ln(y);E?ha(E):gr(y)}},v=()=>{c(void 0),T(!0)},b=(y,E)=>{E.stopPropagation(),c(y),T(!0)},N=y=>{f?(h(y.id,y),a===y.id&&ha(y)):p(y),T(!1),c(void 0)},w=()=>{f&&(a===f.id&&n&&(o(n,"default"),gr("default")),S(f.id)),T(!1),c(void 0)},C=()=>{const y=gn.find($=>$.id===a);if(y)return y.name;const E=x.find($=>$.id===a);return E?E.name:"Unknown"};return s.jsxs(s.Fragment,{children:[k&&s.jsx(Ng,{theme:f,onSave:N,onCancel:()=>{T(!1),c(void 0)},onDelete:f?w:void 0}),!e&&s.jsx("div",{className:"fixed inset-0 bg-black/30 z-40 md:hidden",onClick:t}),s.jsxs("div",{className:`fixed right-0 top-0 bottom-0 w-[80vw] max-w-[280px] md:w-64 bg-theme-paper border-l-[length:var(--border-width)] border-theme-border z-50 flex flex-col p-3 sm:p-4 shadow-theme overflow-hidden transition-transform duration-300 ease-in-out safe-area-bottom touch-pan-y ${e?"translate-x-full":"translate-x-0"}`,children:[m&&s.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",style:{backgroundColor:"var(--color-paper)"},children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${hn[d]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:"var(--card-texture-opacity)",mixBlendMode:"overlay"}})}),s.jsx("button",{onClick:t,className:"hidden md:flex absolute -left-10 top-20 w-10 h-10 bg-theme-paper border-[length:var(--border-width)] border-theme-border border-r-0 font-bold shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all items-center justify-center text-theme-ink z-20",title:e?"Show Themes":"Hide Themes",children:e?"":""}),s.jsx("button",{onClick:t,className:"md:hidden absolute top-3 right-3 w-10 h-10 bg-theme-accent text-theme-paper font-bold flex items-center justify-center rounded-theme z-20 shadow-theme",children:""}),s.jsxs("div",{className:"relative z-10 flex flex-col h-full overflow-y-auto touch-pan-y pt-12 md:pt-0",children:[s.jsx("div",{className:"mb-4 sm:mb-6",children:s.jsx("h2",{className:"text-xl sm:text-2xl font-bold uppercase tracking-wider border-b-[length:var(--border-width)] border-theme-border pb-2 text-theme-ink font-heading",children:" Themes"})}),s.jsx("div",{className:"flex flex-col gap-2 sm:gap-3",children:gn.map(y=>{const E=Nt(y.cardTexture)?y.cardTexture:null,$=a===y.id;return s.jsxs("button",{onClick:()=>g(y.id),style:{backgroundColor:$?y.colors.accent:y.colors.paper,color:$?y.colors.paper:y.colors.ink,borderColor:y.colors.border,borderRadius:y.borderRadius,borderWidth:y.borderWidth,fontFamily:y.fonts.body,boxShadow:`3px 3px 0 ${y.colors.shadow}`,position:"relative",overflow:"hidden"},className:"p-2 sm:p-3 border-solid transition-all text-left font-bold active:translate-x-[2px] active:translate-y-[2px] active:shadow-none",children:[E&&!$&&s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundColor:y.colors.paper,borderRadius:y.borderRadius},children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${hn[E]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:y.textureOpacity??.15,mixBlendMode:"overlay",borderRadius:y.borderRadius}})}),s.jsxs("div",{className:"relative flex items-center gap-2",children:[s.jsx("span",{className:"text-base sm:text-lg",children:y.icon}),s.jsx("span",{className:"text-xs sm:text-sm",style:{fontFamily:y.fonts.heading},children:y.name})]}),s.jsx("p",{className:"relative text-[10px] sm:text-xs mt-1 opacity-70",children:y.description}),s.jsxs("div",{className:"relative flex gap-1 mt-2",children:[s.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:y.colors.paper},title:"Paper"}),s.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:y.colors.ink},title:"Ink"}),s.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:y.colors.accent},title:"Accent"}),s.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:y.colors.background},title:"Background"})]})]},y.id)})}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-theme-border/50",children:[s.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:" Custom Themes"}),s.jsxs("button",{onClick:v,className:"w-full p-2 sm:p-3 border-[length:var(--border-width)] border-dashed border-theme-border transition-all text-left font-bold rounded-theme bg-theme-paper text-theme-ink hover:bg-theme-accent hover:text-theme-paper hover:border-solid mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-base sm:text-lg",children:""}),s.jsx("span",{className:"text-xs sm:text-sm font-heading",children:"Create Custom Theme"})]}),s.jsx("p",{className:"text-[10px] sm:text-xs mt-1 opacity-70 font-body",children:"Design your own unique theme"})]}),s.jsx("div",{className:"flex flex-col gap-2 sm:gap-3 mt-3",children:x.map(y=>{const E=Nt(y.cardTexture||"")?y.cardTexture:null,$=a===y.id;return s.jsxs("div",{style:{backgroundColor:$?y.colors.accent:y.colors.paper,color:$?y.colors.paper:y.colors.ink,borderColor:y.colors.border,borderRadius:y.borderRadius,borderWidth:y.borderWidth,fontFamily:y.fonts.body,boxShadow:`3px 3px 0 ${y.colors.shadow}`,position:"relative",overflow:"hidden"},className:"p-2 sm:p-3 border-solid transition-all text-left font-bold",children:[E&&!$&&s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundColor:y.colors.paper,borderRadius:y.borderRadius},children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${hn[E]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:y.textureOpacity??.15,mixBlendMode:"overlay",borderRadius:y.borderRadius}})}),s.jsxs("button",{onClick:()=>g(y.id),className:"relative w-full text-left",children:[s.jsxs("div",{className:"flex items-center gap-2 pr-8",children:[s.jsx("span",{className:"text-base sm:text-lg",children:y.icon}),s.jsx("span",{className:"text-xs sm:text-sm",style:{fontFamily:y.fonts.heading},children:y.name})]}),s.jsx("p",{className:"text-[10px] sm:text-xs mt-1 opacity-70",children:y.description}),s.jsxs("div",{className:"flex gap-1 mt-2",children:[s.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:y.colors.paper},title:"Paper"}),s.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:y.colors.ink},title:"Ink"}),s.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:y.colors.accent},title:"Accent"}),s.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:y.colors.background},title:"Background"})]})]}),s.jsx("button",{onClick:H=>b(y,H),style:{backgroundColor:$?`${y.colors.paper}33`:`${y.colors.accent}1a`,color:$?y.colors.paper:y.colors.accent},className:"absolute top-2 right-2 w-6 h-6 flex items-center justify-center rounded text-xs hover:scale-110 transition-transform z-10",title:"Edit theme",children:""})]},y.id)})}),x.length===0&&s.jsx("p",{className:"text-[10px] sm:text-xs text-theme-muted mt-2 font-body",children:"No custom themes yet. Create one above!"})]}),s.jsxs("div",{className:"mt-auto pt-4 text-[10px] sm:text-xs text-theme-muted border-t border-theme-border/50 font-body",children:[s.jsx("p",{children:"Select a theme to change the appearance of your character sheet."}),s.jsxs("p",{className:"mt-2 text-theme-ink font-bold",children:["Current: ",C()]})]})]})]})]})}var zl={exports:{}},Pf={},Mf={exports:{}},Cg="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Eg=Cg,Tg=Eg;function _f(){}function Df(){}Df.resetWarningCache=_f;var Ig=function(){function e(r,o,l,a,u,i){if(i!==Tg){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Df,resetWarningCache:_f};return n.PropTypes=n,n};Mf.exports=Ig();var Rf=Mf.exports,ma={exports:{}};function Lf(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Lf(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ru(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Lf(e))&&(r&&(r+=" "),r+=t);return r}ma.exports=Ru,ma.exports.clsx=Ru;var Pg=ma.exports,pe={},Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.dontSetMe=Lg;Mt.findInArray=Mg;Mt.int=Rg;Mt.isFunction=_g;Mt.isNum=Dg;function Mg(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function _g(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function Dg(e){return typeof e=="number"&&!isNaN(e)}function Rg(e){return parseInt(e,10)}function Lg(e,t,n){if(e[t])return new Error(`Invalid prop ${t} passed to ${n} - do not set this, set it on the child.`)}var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.browserPrefixToKey=zf;Wn.browserPrefixToStyle=Og;Wn.default=void 0;Wn.getPrefix=Of;const xs=["Moz","Webkit","O","ms"];function Of(){var n,r;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const t=(r=(n=window.document)==null?void 0:n.documentElement)==null?void 0:r.style;if(!t||e in t)return"";for(let o=0;o<xs.length;o++)if(zf(e,xs[o])in t)return xs[o];return""}function zf(e,t){return t?`${t}${zg(e)}`:e}function Og(e,t){return t?`-${t.toLowerCase()}-${e}`:e}function zg(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}Wn.default=Of();Object.defineProperty(pe,"__esModule",{value:!0});pe.addClassName=Ff;pe.addEvent=$g;pe.addUserSelectStyles=Qg;pe.createCSSTransform=Xg;pe.createSVGTransform=Yg;pe.getTouch=Gg;pe.getTouchIdentifier=Kg;pe.getTranslation=mi;pe.innerHeight=Hg;pe.innerWidth=Bg;pe.matchesSelector=$f;pe.matchesSelectorAndParentsTo=Wg;pe.offsetXYFromParent=Vg;pe.outerHeight=Ag;pe.outerWidth=Ug;pe.removeClassName=Af;pe.removeEvent=Fg;pe.scheduleRemoveUserSelectStyles=Zg;var rt=Mt,Lu=Wf(Wn);function Wf(e,t){if(typeof WeakMap=="function")var n=new WeakMap,r=new WeakMap;return(Wf=function(o,l){if(!l&&o&&o.__esModule)return o;var a,u,i={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return i;if(a=l?r:n){if(a.has(o))return a.get(o);a.set(o,i)}for(const d in o)d!=="default"&&{}.hasOwnProperty.call(o,d)&&((u=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,d))&&(u.get||u.set)?a(i,d,u):i[d]=o[d]);return i})(e,t)}let Lo="";function $f(e,t){return Lo||(Lo=(0,rt.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,rt.isFunction)(e[n])})),(0,rt.isFunction)(e[Lo])?e[Lo](t):!1}function Wg(e,t,n){let r=e;do{if($f(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function $g(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function Fg(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function Ag(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,rt.int)(n.borderTopWidth),t+=(0,rt.int)(n.borderBottomWidth),t}function Ug(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,rt.int)(n.borderLeftWidth),t+=(0,rt.int)(n.borderRightWidth),t}function Hg(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,rt.int)(n.paddingTop),t-=(0,rt.int)(n.paddingBottom),t}function Bg(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,rt.int)(n.paddingLeft),t-=(0,rt.int)(n.paddingRight),t}function Vg(e,t,n){const o=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),l=(e.clientX+t.scrollLeft-o.left)/n,a=(e.clientY+t.scrollTop-o.top)/n;return{x:l,y:a}}function Xg(e,t){const n=mi(e,t,"px");return{[(0,Lu.browserPrefixToKey)("transform",Lu.default)]:n}}function Yg(e,t){return mi(e,t,"")}function mi(e,t,n){let{x:r,y:o}=e,l=`translate(${r}${n},${o}${n})`;if(t){const a=`${typeof t.x=="string"?t.x:t.x+n}`,u=`${typeof t.y=="string"?t.y:t.y+n}`;l=`translate(${a}, ${u})`+l}return l}function Gg(e,t){return e.targetTouches&&(0,rt.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,rt.findInArray)(e.changedTouches,n=>t===n.identifier)}function Kg(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function Qg(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&Ff(e.body,"react-draggable-transparent-selection")}function Zg(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{Ou(e)}):Ou(e)}function Ou(e){if(e)try{if(e.body&&Af(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function Ff(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function Af(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}var _t={};Object.defineProperty(_t,"__esModule",{value:!0});_t.canDragX=ex;_t.canDragY=tx;_t.createCoreData=rx;_t.createDraggableData=ox;_t.getBoundPosition=Jg;_t.getControlPosition=nx;_t.snapToGrid=qg;var qe=Mt,tr=pe;function Jg(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:r}=e.props;r=typeof r=="string"?r:lx(r);const o=pi(e);if(typeof r=="string"){const{ownerDocument:l}=o,a=l.defaultView;let u;if(r==="parent"?u=o.parentNode:u=o.getRootNode().querySelector(r),!(u instanceof a.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const i=u,d=a.getComputedStyle(o),m=a.getComputedStyle(i);r={left:-o.offsetLeft+(0,qe.int)(m.paddingLeft)+(0,qe.int)(d.marginLeft),top:-o.offsetTop+(0,qe.int)(m.paddingTop)+(0,qe.int)(d.marginTop),right:(0,tr.innerWidth)(i)-(0,tr.outerWidth)(o)-o.offsetLeft+(0,qe.int)(m.paddingRight)-(0,qe.int)(d.marginRight),bottom:(0,tr.innerHeight)(i)-(0,tr.outerHeight)(o)-o.offsetTop+(0,qe.int)(m.paddingBottom)-(0,qe.int)(d.marginBottom)}}return(0,qe.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,qe.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,qe.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,qe.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function qg(e,t,n){const r=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[r,o]}function ex(e){return e.props.axis==="both"||e.props.axis==="x"}function tx(e){return e.props.axis==="both"||e.props.axis==="y"}function nx(e,t,n){const r=typeof t=="number"?(0,tr.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;const o=pi(n),l=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,tr.offsetXYFromParent)(r||e,l,n.props.scale)}function rx(e,t,n){const r=!(0,qe.isNum)(e.lastX),o=pi(e);return r?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function ox(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function lx(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function pi(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var Wl={},$l={};Object.defineProperty($l,"__esModule",{value:!0});$l.default=sx;function sx(){}Object.defineProperty(Wl,"__esModule",{value:!0});Wl.default=void 0;var vs=Uf(_),We=gi(Rf),ax=gi(mo),De=pe,Qt=_t,ys=Mt,Mr=gi($l);function gi(e){return e&&e.__esModule?e:{default:e}}function Uf(e,t){if(typeof WeakMap=="function")var n=new WeakMap,r=new WeakMap;return(Uf=function(o,l){if(!l&&o&&o.__esModule)return o;var a,u,i={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return i;if(a=l?r:n){if(a.has(o))return a.get(o);a.set(o,i)}for(const d in o)d!=="default"&&{}.hasOwnProperty.call(o,d)&&((u=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,d))&&(u.get||u.set)?a(i,d,u):i[d]=o[d]);return i})(e,t)}function $e(e,t,n){return(t=ix(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ix(e){var t=ux(e,"string");return typeof t=="symbol"?t:t+""}function ux(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const vt={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Zt=vt.mouse,Fl=class extends vs.Component{constructor(){super(...arguments),$e(this,"dragging",!1),$e(this,"lastX",NaN),$e(this,"lastY",NaN),$e(this,"touchIdentifier",null),$e(this,"mounted",!1),$e(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(t.target instanceof r.defaultView.Node)||this.props.handle&&!(0,De.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,De.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&!this.props.allowMobileScroll&&t.preventDefault();const o=(0,De.getTouchIdentifier)(t);this.touchIdentifier=o;const l=(0,Qt.getControlPosition)(t,o,this);if(l==null)return;const{x:a,y:u}=l,i=(0,Qt.createCoreData)(this,a,u);(0,Mr.default)("DraggableCore: handleDragStart: %j",i),(0,Mr.default)("calling",this.props.onStart),!(this.props.onStart(t,i)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,De.addUserSelectStyles)(r),this.dragging=!0,this.lastX=a,this.lastY=u,(0,De.addEvent)(r,Zt.move,this.handleDrag),(0,De.addEvent)(r,Zt.stop,this.handleDragStop))}),$e(this,"handleDrag",t=>{const n=(0,Qt.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let u=r-this.lastX,i=o-this.lastY;if([u,i]=(0,Qt.snapToGrid)(this.props.grid,u,i),!u&&!i)return;r=this.lastX+u,o=this.lastY+i}const l=(0,Qt.createCoreData)(this,r,o);if((0,Mr.default)("DraggableCore: handleDrag: %j",l),this.props.onDrag(t,l)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const i=document.createEvent("MouseEvents");i.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(i)}return}this.lastX=r,this.lastY=o}),$e(this,"handleDragStop",t=>{if(!this.dragging)return;const n=(0,Qt.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let i=r-this.lastX||0,d=o-this.lastY||0;[i,d]=(0,Qt.snapToGrid)(this.props.grid,i,d),r=this.lastX+i,o=this.lastY+d}const l=(0,Qt.createCoreData)(this,r,o);if(this.props.onStop(t,l)===!1||this.mounted===!1)return!1;const u=this.findDOMNode();u&&this.props.enableUserSelectHack&&(0,De.scheduleRemoveUserSelectStyles)(u.ownerDocument),(0,Mr.default)("DraggableCore: handleDragStop: %j",l),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,u&&((0,Mr.default)("DraggableCore: Removing handlers"),(0,De.removeEvent)(u.ownerDocument,Zt.move,this.handleDrag),(0,De.removeEvent)(u.ownerDocument,Zt.stop,this.handleDragStop))}),$e(this,"onMouseDown",t=>(Zt=vt.mouse,this.handleDragStart(t))),$e(this,"onMouseUp",t=>(Zt=vt.mouse,this.handleDragStop(t))),$e(this,"onTouchStart",t=>(Zt=vt.touch,this.handleDragStart(t))),$e(this,"onTouchEnd",t=>(Zt=vt.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,De.addEvent)(t,vt.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:n}=t;(0,De.removeEvent)(n,vt.mouse.move,this.handleDrag),(0,De.removeEvent)(n,vt.touch.move,this.handleDrag),(0,De.removeEvent)(n,vt.mouse.stop,this.handleDragStop),(0,De.removeEvent)(n,vt.touch.stop,this.handleDragStop),(0,De.removeEvent)(t,vt.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,De.scheduleRemoveUserSelectStyles)(n)}}findDOMNode(){var t,n,r;return(t=this.props)!=null&&t.nodeRef?(r=(n=this.props)==null?void 0:n.nodeRef)==null?void 0:r.current:ax.default.findDOMNode(this)}render(){return vs.cloneElement(vs.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Wl.default=Fl;$e(Fl,"displayName","DraggableCore");$e(Fl,"propTypes",{allowAnyClick:We.default.bool,allowMobileScroll:We.default.bool,children:We.default.node.isRequired,disabled:We.default.bool,enableUserSelectHack:We.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:We.default.arrayOf(We.default.number),handle:We.default.string,cancel:We.default.string,nodeRef:We.default.object,onStart:We.default.func,onDrag:We.default.func,onStop:We.default.func,onMouseDown:We.default.func,scale:We.default.number,className:ys.dontSetMe,style:ys.dontSetMe,transform:ys.dontSetMe});$e(Fl,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return i.default}}),e.default=void 0;var t=x(_),n=m(Rf),r=m(mo),o=Pg,l=pe,a=_t,u=Mt,i=m(Wl),d=m($l);function m(f){return f&&f.__esModule?f:{default:f}}function x(f,c){if(typeof WeakMap=="function")var g=new WeakMap,v=new WeakMap;return(x=function(b,N){if(!N&&b&&b.__esModule)return b;var w,C,y={__proto__:null,default:b};if(b===null||typeof b!="object"&&typeof b!="function")return y;if(w=N?v:g){if(w.has(b))return w.get(b);w.set(b,y)}for(const E in b)E!=="default"&&{}.hasOwnProperty.call(b,E)&&((C=(w=Object.defineProperty)&&Object.getOwnPropertyDescriptor(b,E))&&(C.get||C.set)?w(y,E,C):y[E]=b[E]);return y})(f,c)}function p(){return p=Object.assign?Object.assign.bind():function(f){for(var c=1;c<arguments.length;c++){var g=arguments[c];for(var v in g)({}).hasOwnProperty.call(g,v)&&(f[v]=g[v])}return f},p.apply(null,arguments)}function h(f,c,g){return(c=S(c))in f?Object.defineProperty(f,c,{value:g,enumerable:!0,configurable:!0,writable:!0}):f[c]=g,f}function S(f){var c=k(f,"string");return typeof c=="symbol"?c:c+""}function k(f,c){if(typeof f!="object"||!f)return f;var g=f[Symbol.toPrimitive];if(g!==void 0){var v=g.call(f,c);if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(f)}class T extends t.Component{static getDerivedStateFromProps(c,g){let{position:v}=c,{prevPropsPosition:b}=g;return v&&(!b||v.x!==b.x||v.y!==b.y)?((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:v,prevPropsPosition:b}),{x:v.x,y:v.y,prevPropsPosition:{...v}}):null}constructor(c){super(c),h(this,"onDragStart",(g,v)=>{if((0,d.default)("Draggable: onDragStart: %j",v),this.props.onStart(g,(0,a.createDraggableData)(this,v))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),h(this,"onDrag",(g,v)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",v);const b=(0,a.createDraggableData)(this,v),N={x:b.x,y:b.y,slackX:0,slackY:0};if(this.props.bounds){const{x:C,y}=N;N.x+=this.state.slackX,N.y+=this.state.slackY;const[E,$]=(0,a.getBoundPosition)(this,N.x,N.y);N.x=E,N.y=$,N.slackX=this.state.slackX+(C-N.x),N.slackY=this.state.slackY+(y-N.y),b.x=N.x,b.y=N.y,b.deltaX=N.x-this.state.x,b.deltaY=N.y-this.state.y}if(this.props.onDrag(g,b)===!1)return!1;this.setState(N)}),h(this,"onDragStop",(g,v)=>{if(!this.state.dragging||this.props.onStop(g,(0,a.createDraggableData)(this,v))===!1)return!1;(0,d.default)("Draggable: onDragStop: %j",v);const N={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:C,y}=this.props.position;N.x=C,N.y=y}this.setState(N)}),this.state={dragging:!1,dragged:!1,x:c.position?c.position.x:c.defaultPosition.x,y:c.position?c.position.y:c.defaultPosition.y,prevPropsPosition:{...c.position},slackX:0,slackY:0,isElementSVG:!1},c.position&&!(c.onDrag||c.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var c,g;return((g=(c=this.props)==null?void 0:c.nodeRef)==null?void 0:g.current)??r.default.findDOMNode(this)}render(){const{axis:c,bounds:g,children:v,defaultPosition:b,defaultClassName:N,defaultClassNameDragging:w,defaultClassNameDragged:C,position:y,positionOffset:E,scale:$,...H}=this.props;let Y={},je=null;const le=!!!y||this.state.dragging,ge=y||b,M={x:(0,a.canDragX)(this)&&le?this.state.x:ge.x,y:(0,a.canDragY)(this)&&le?this.state.y:ge.y};this.state.isElementSVG?je=(0,l.createSVGTransform)(M,E):Y=(0,l.createCSSTransform)(M,E);const I=(0,o.clsx)(v.props.className||"",N,{[w]:this.state.dragging,[C]:this.state.dragged});return t.createElement(i.default,p({},H,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(v),{className:I,style:{...v.props.style,...Y},transform:je}))}}e.default=T,h(T,"displayName","Draggable"),h(T,"propTypes",{...i.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),h(T,"defaultProps",{...i.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Pf);const{default:Hf,DraggableCore:cx}=Pf;zl.exports=Hf;zl.exports.default=Hf;zl.exports.DraggableCore=cx;var dx=zl.exports;const fx=pa(dx);function Bf({widget:e,height:t}){const n=W(C=>C.updateWidgetData),{label:r,numberItems:o=[]}=e.data,[l,a]=_.useState(null),[u,i]=_.useState(""),d="text-xs",m="text-xs",x="w-5 h-5 text-xs",p="text-sm w-8",h="gap-1",f=Math.max(30,t-16-4-8*2),c=(C,y)=>{const E=[...o];E[C]={...E[C],value:E[C].value+y},n(e.id,{numberItems:E})},g=(C,y)=>{a(C),i(String(y))},v=C=>{i(C.target.value)},b=C=>{const y=parseInt(u,10);if(!isNaN(y)){const E=[...o];E[C]={...E[C],value:y},n(e.id,{numberItems:E})}a(null),i("")},N=(C,y)=>{C.key==="Enter"?b(y):C.key==="Escape"&&(a(null),i(""))},w="w-[62px]";return s.jsxs("div",{className:`flex flex-col ${h} w-full h-full`,children:[r&&s.jsx("div",{className:`font-bold ${d} text-theme-ink font-heading flex-shrink-0`,children:r}),s.jsxs("div",{className:"flex flex-col gap-0.5 overflow-y-auto overflow-x-hidden flex-1 pr-4",style:{maxHeight:`${f}px`},onWheel:C=>C.stopPropagation(),children:[o.map((C,y)=>s.jsxs("div",{className:`flex items-center ${h}`,children:[s.jsx("span",{className:`flex-1 ${m} text-theme-ink font-body truncate`,children:C.name}),s.jsxs("div",{className:`flex items-center justify-center gap-0.5 flex-shrink-0 ${w}`,children:[s.jsx("button",{onClick:()=>c(y,-1),onMouseDown:E=>E.stopPropagation(),className:`${x} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors flex items-center justify-center text-theme-ink rounded-theme flex-shrink-0`,children:"-"}),l===y?s.jsx("input",{type:"text",inputMode:"numeric",value:u,onChange:v,onBlur:()=>b(y),onKeyDown:E=>N(E,y),onMouseDown:E=>E.stopPropagation(),autoFocus:!0,className:`${p} text-center font-bold text-theme-ink bg-theme-paper border border-theme-border rounded-theme flex-shrink-0 outline-none focus:border-theme-accent`}):s.jsx("span",{className:`${p} text-center font-bold text-theme-ink flex-shrink-0 cursor-pointer hover:bg-theme-accent/20 rounded-theme`,onClick:()=>g(y,C.value),onMouseDown:E=>E.stopPropagation(),children:C.value}),s.jsx("button",{onClick:()=>c(y,1),onMouseDown:E=>E.stopPropagation(),className:`${x} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors flex items-center justify-center text-theme-ink rounded-theme flex-shrink-0`,children:"+"})]})]},y)),o.length===0&&s.jsx("div",{className:`${m} text-theme-muted italic`,children:"No items yet"})]})]})}function Vf({widget:e,height:t}){const n=W(T=>T.updateWidgetData),{label:r,items:o=[],itemCount:l=5}=e.data,a="text-xs",u="text-xs py-0.5",i="gap-1",p=Math.max(40,t-16-4-8*2),h=Array.from({length:l},(T,f)=>o[f]||""),S=(T,f)=>{const c=[...h];c[T]=f,n(e.id,{items:c})},k=T=>{const f=[...h];f[T]="",n(e.id,{items:f})};return s.jsxs("div",{className:`flex flex-col ${i} w-full h-full`,children:[r&&s.jsx("div",{className:`font-bold ${a} text-theme-ink font-heading flex-shrink-0`,children:r}),s.jsx("div",{className:"space-y-1 overflow-y-auto flex-1",style:{maxHeight:`${p}px`},onWheel:T=>T.stopPropagation(),children:h.map((T,f)=>s.jsxs("div",{className:"flex items-center gap-1 group",children:[s.jsx("span",{className:"text-theme-ink",children:""}),s.jsx("input",{className:`flex-1 border-b border-theme-border/50 focus:border-theme-border focus:outline-none ${u} min-w-0 bg-transparent text-theme-ink font-body`,value:T,onChange:c=>S(f,c.target.value),placeholder:"...",onMouseDown:c=>c.stopPropagation()}),s.jsx("button",{onClick:()=>k(f),className:"opacity-0 group-hover:opacity-100 text-theme-muted hover:text-theme-ink px-1 flex-shrink-0",onMouseDown:c=>c.stopPropagation(),children:""})]},f))})]})}function Xf({widget:e,height:t}){const n=W(h=>h.updateWidgetData),{label:r,text:o=""}=e.data,l="text-xs",a="text-xs p-1",u="gap-1",x=Math.max(32,t-16-4-8*2),p=h=>{n(e.id,{text:h.target.value})};return s.jsxs("div",{className:`flex flex-col ${u} w-full h-full`,children:[r&&s.jsx("div",{className:`font-bold ${l} text-theme-ink font-heading flex-shrink-0`,children:r}),s.jsx("textarea",{className:`w-full flex-1 ${a} border border-theme-border/50 focus:border-theme-border focus:outline-none resize-none bg-transparent text-theme-ink font-body rounded-theme`,style:{height:`${x}px`},value:o,onChange:p,placeholder:"Enter text here...",onMouseDown:h=>h.stopPropagation()})]})}function Yf({widget:e,height:t}){const n=W(k=>k.updateWidgetData),{label:r,checkboxItems:o=[]}=e.data,l="text-xs",a="text-xs",u="w-4 h-4",i="text-xs",d="gap-1",h=Math.max(30,t-16-4-8*2),S=k=>{const T=[...o];T[k]={...T[k],checked:!T[k].checked},n(e.id,{checkboxItems:T})};return s.jsxs("div",{className:`flex flex-col ${d} w-full h-full`,children:[r&&s.jsx("div",{className:`font-bold ${l} text-theme-ink font-heading flex-shrink-0`,children:r}),s.jsxs("div",{className:"flex flex-col gap-0.5 overflow-y-auto flex-1",style:{maxHeight:`${h}px`},onWheel:k=>k.stopPropagation(),children:[o.map((k,T)=>s.jsxs("div",{className:`flex items-center ${d}`,children:[s.jsx("button",{onClick:()=>S(T),onMouseDown:f=>f.stopPropagation(),className:`${u} border-[length:var(--border-width)] border-theme-border flex items-center justify-center transition-colors flex-shrink-0 rounded-theme ${k.checked?"bg-theme-accent text-theme-paper":"bg-theme-paper hover:opacity-80"}`,children:k.checked&&s.jsx("span",{className:i,children:""})}),s.jsx("span",{className:`flex-1 ${a} font-body text-theme-ink ${k.checked?"line-through text-theme-muted":""}`,children:k.name})]},T)),o.length===0&&s.jsx("div",{className:`${a} text-theme-muted italic`,children:"No items yet"})]})]})}function zu({title:e,onConfirm:t,onCancel:n,buttonLabel:r,isDamage:o}){const[l,a]=_.useState(1),u=()=>{const i=typeof l=="string"?parseInt(l)||1:l;t(Math.max(1,i))};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:n}),s.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme p-4 z-50 min-w-[200px]",children:[s.jsx("h3",{className:"font-heading text-theme-ink font-bold mb-3",children:e}),s.jsx("input",{type:"number",min:"1",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent mb-3 text-center font-bold text-lg",value:l,onChange:i=>a(i.target.value===""?"":parseInt(i.target.value)||""),onBlur:i=>a(Math.max(1,parseInt(i.target.value)||1)),autoFocus:!0,onKeyDown:i=>{i.key==="Enter"&&u(),i.key==="Escape"&&n()}}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:n,className:"flex-1 px-3 py-1.5 text-sm font-body text-theme-ink hover:bg-theme-accent/20 rounded-theme transition-colors border border-theme-border",children:"Cancel"}),s.jsx("button",{onClick:u,className:"flex-1 px-3 py-1.5 text-sm font-body rounded-theme transition-colors bg-theme-accent text-theme-paper hover:opacity-80",children:r})]})]})]})}function Gf({widget:e}){const t=W(c=>c.updateWidgetData),{label:n,currentValue:r=10,maxValue:o=10}=e.data,[l,a]=_.useState(!1),[u,i]=_.useState(!1),d=Math.max(0,Math.min(100,r/o*100)),m="text-xs",x="text-xs",p="px-1.5 py-0.5 text-[10px]",h="gap-1",S="h-4",k=c=>{const g=Math.max(0,r-c);t(e.id,{currentValue:g}),a(!1)},T=c=>{const g=Math.min(o,r+c);t(e.id,{currentValue:g}),i(!1)},f=()=>{t(e.id,{currentValue:o})};return s.jsxs("div",{className:`flex flex-col ${h} w-full h-full justify-between`,children:[n&&s.jsx("div",{className:`font-bold ${m} text-theme-ink font-heading flex-shrink-0`,children:n}),s.jsx("div",{className:"flex-1 flex flex-col justify-center",children:s.jsxs("div",{className:`relative ${S} bg-theme-accent rounded-theme overflow-hidden border border-theme-border`,children:[s.jsx("div",{className:"absolute inset-y-0 left-0 bg-theme-accent transition-all duration-300 ease-out",style:{width:`${d}%`}}),s.jsx("div",{className:"absolute inset-y-0 right-0 bg-theme-paper/70",style:{width:`${100-d}%`}}),s.jsxs("div",{className:`absolute inset-0 flex items-center justify-center font-bold ${x} text-theme-paper`,children:[r," / ",o]})]})}),s.jsxs("div",{className:"flex items-center justify-between gap-1 flex-shrink-0",children:[s.jsx("button",{onClick:()=>a(!0),onMouseDown:c=>c.stopPropagation(),className:`${p} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme font-bold`,children:"Damage"}),s.jsx("button",{onClick:()=>i(!0),onMouseDown:c=>c.stopPropagation(),className:`${p} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme font-bold`,children:"Heal"}),s.jsx("button",{onClick:f,onMouseDown:c=>c.stopPropagation(),className:`${p} bg-theme-accent text-theme-paper hover:opacity-80 transition-colors rounded-theme font-bold`,children:"Full"})]}),l&&s.jsx(zu,{title:"Take Damage",onConfirm:k,onCancel:()=>a(!1),buttonLabel:"Damage",isDamage:!0}),u&&s.jsx(zu,{title:"Heal",onConfirm:T,onCancel:()=>i(!1),buttonLabel:"Heal",isDamage:!1})]})}function Kf({widget:e}){const{label:t,diceGroups:n=[{count:1,faces:20}],modifier:r=0}=e.data,[o,l]=_.useState(null),[a,u]=_.useState(!1),i="text-xs",d="py-1 px-2 text-xs",m="text-xl",x="text-[10px]",p="gap-1",h=()=>{u(!0),setTimeout(()=>{const T=[];let f=0;for(const c of n){const g=[];for(let v=0;v<c.count;v++){const b=Math.floor(Math.random()*c.faces)+1;g.push(b),f+=b}T.push({faces:c.faces,rolls:g})}l({groups:T,modifier:r,total:f+r}),u(!1)},300)},k=(()=>{let f=n.map(c=>`${c.count}d${c.faces}`).join(" + ");return r!==0&&(f+=r>=0?` + ${r}`:` - ${Math.abs(r)}`),f})();return s.jsxs("div",{className:`flex flex-col ${p} w-full h-full`,children:[t&&s.jsx("div",{className:`font-bold text-center ${i} text-theme-ink font-heading flex-shrink-0`,children:t}),s.jsxs("button",{onClick:h,onMouseDown:T=>T.stopPropagation(),className:`${d} border-[length:var(--border-width)] border-theme-border font-bold transition-all rounded-theme flex-shrink-0 ${a?"bg-theme-muted animate-pulse text-theme-paper":"bg-theme-paper text-theme-ink hover:bg-theme-accent hover:text-theme-paper"}`,disabled:a,children:[" Roll ",k]}),s.jsx("div",{className:"text-center border-t border-theme-border/50 pt-1 flex-1 flex flex-col justify-center",children:o&&!a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`${m} font-bold text-theme-ink font-heading`,children:o.total}),s.jsxs("div",{className:`${x} text-theme-muted font-body`,children:[o.groups.map((T,f)=>s.jsxs("span",{children:[f>0&&" + ",s.jsxs("span",{title:`d${T.faces}`,children:["[",T.rolls.join(", "),"]"]})]},f)),o.modifier!==0&&s.jsxs("span",{children:[" ",o.modifier>=0?"+":"",o.modifier]})]}),o.groups.length===1&&o.groups[0].rolls.length===1&&o.groups[0].faces===20&&s.jsxs(s.Fragment,{children:[o.groups[0].rolls[0]===20&&s.jsx("div",{className:`text-green-600 font-bold ${x}`,children:"NAT 20!"}),o.groups[0].rolls[0]===1&&s.jsx("div",{className:`text-red-600 font-bold ${x}`,children:"NAT 1!"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`${m} font-bold text-theme-muted font-heading`,children:""}),s.jsx("div",{className:`${x} text-theme-muted font-body`,children:""})]})})]})}function Qf({widget:e,height:t}){const n=W(c=>c.updateWidgetData),{label:r,spellLevels:o=[{level:1,max:4,used:0}]}=e.data,l="text-xs",a="w-6 text-[10px]",u="w-4 h-4",i="text-[10px] px-1 py-0.5",d="gap-1",S=Math.max(30,t-16-28-4*3-8*2),k=(c,g)=>{const v=[...o],b=v[c];g<b.used?v[c]={...b,used:g}:v[c]={...b,used:g+1},n(e.id,{spellLevels:v})},T=()=>{const c=o.map(g=>({...g,used:0}));n(e.id,{spellLevels:c})},f=c=>{const g=["th","st","nd","rd"],v=c%100;return c+(g[(v-20)%10]||g[v]||g[0])};return s.jsxs("div",{className:`flex flex-col ${d} w-full h-full`,children:[r&&s.jsx("div",{className:`font-bold ${l} text-theme-ink font-heading flex-shrink-0`,children:r}),s.jsxs("div",{className:`flex flex-col ${d} overflow-y-auto flex-1`,style:{maxHeight:`${S}px`},onWheel:c=>c.stopPropagation(),children:[o.map((c,g)=>s.jsxs("div",{className:`flex items-center ${d}`,children:[s.jsx("span",{className:`${a} font-bold text-center text-theme-ink`,children:f(c.level)}),s.jsx("div",{className:"flex gap-1 flex-1 flex-wrap",children:Array.from({length:c.max}).map((v,b)=>s.jsx("button",{onClick:()=>k(g,b),onMouseDown:N=>N.stopPropagation(),className:`${u} rounded-full border-[length:var(--border-width)] border-theme-border transition-all ${b<c.used?"bg-theme-accent":"bg-theme-paper hover:opacity-80"}`,title:b<c.used?"Click to restore":"Click to use"},b))})]},g)),o.length===0&&s.jsx("div",{className:`${a} text-theme-muted italic`,children:"No spell levels configured"})]}),s.jsx("div",{className:`flex items-center justify-end ${d} border-t border-theme-border/50 pt-2 flex-shrink-0`,children:s.jsx("button",{onClick:T,onMouseDown:c=>c.stopPropagation(),className:`${i} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme`,children:"Reset All"})})]})}function Zf({widget:e,height:t}){const{label:n,imageUrl:r=""}=e.data,o="text-xs",l="text-2xl",a="text-[10px]",u="gap-1",x=Math.max(40,t-16-4-8*2);return s.jsxs("div",{className:`flex flex-col ${u} w-full h-full`,children:[n&&s.jsx("div",{className:`font-bold text-center ${o} text-theme-ink font-heading flex-shrink-0`,children:n}),s.jsx("div",{className:"border-[length:var(--border-width)] border-theme-border bg-theme-background flex items-center justify-center overflow-hidden rounded-theme flex-1",style:{height:`${x}px`},children:r?s.jsx("img",{src:r,alt:n||"Character",className:"w-full h-full object-cover",onError:p=>{p.target.style.display="none"}}):s.jsxs("div",{className:"text-theme-muted text-center p-1",children:[s.jsx("div",{className:`${l} mb-1`,children:""}),s.jsx("span",{className:`${a} font-body`,children:"No image"})]})})]})}function Jf({widget:e}){const t=W(h=>h.updateWidgetData),{label:n,maxPool:r=5,currentPool:o=5,poolStyle:l="dots"}=e.data,a="text-xs",u="w-5 h-5 text-sm",i="text-[10px]",d="gap-1",m=h=>{h<o?t(e.id,{currentPool:h}):t(e.id,{currentPool:h+1})},x=h=>{switch(l){case"hearts":return h?"":"";case"boxes":return h?"":"";case"dots":default:return h?"":""}},p=h=>{const S=`${u} flex items-center justify-center transition-all cursor-pointer hover:scale-125`;return l==="hearts"?S:`${S} ${h?"text-theme-ink":"text-theme-muted"}`};return s.jsxs("div",{className:`flex flex-col ${d} w-full h-full`,children:[n&&s.jsx("div",{className:`font-bold ${a} text-theme-ink font-heading flex-shrink-0`,children:n}),s.jsx("div",{className:"flex flex-wrap gap-0.5 flex-1 content-start overflow-y-auto",onWheel:h=>h.stopPropagation(),children:Array.from({length:r}).map((h,S)=>s.jsx("button",{onClick:()=>m(S),onMouseDown:k=>k.stopPropagation(),className:p(S<o),title:S<o?"Click to use":"Click to restore",children:x(S<o)},S))}),s.jsxs("div",{className:`${i} text-center text-theme-muted font-body flex-shrink-0`,children:[o," / ",r]})]})}function qf({widget:e}){const t=W(i=>i.updateWidgetData),{label:n,toggleItems:r=[]}=e.data,o="text-xs",l="px-1.5 py-0.5 text-[10px]",a="gap-1",u=i=>{const d=[...r];d[i]={...d[i],active:!d[i].active},t(e.id,{toggleItems:d})};return s.jsxs("div",{className:`flex flex-col ${a} w-full h-full`,children:[n&&s.jsx("div",{className:`font-bold ${o} text-theme-ink font-heading flex-shrink-0`,children:n}),s.jsxs("div",{className:`flex flex-wrap ${a} overflow-y-auto flex-1 content-start`,onWheel:i=>i.stopPropagation(),children:[r.map((i,d)=>s.jsx("button",{onClick:()=>u(d),onMouseDown:m=>m.stopPropagation(),className:`${l} border border-theme-border transition-all rounded-theme font-body ${i.active?"bg-theme-accent text-theme-paper":"bg-theme-paper text-theme-ink hover:opacity-80"}`,children:i.name},d)),r.length===0&&s.jsx("div",{className:`${l} text-theme-muted italic`,children:"No conditions configured"})]})]})}function eh({widget:e,height:t}){const n=W(f=>f.updateWidgetData),{label:r,columns:o=["Item","Qty","Weight"],rows:l=[]}=e.data,[a,u]=_.useState(null),i="text-xs",d="text-[10px] p-0.5",m="gap-1",S=Math.max(40,t-16-4-8*2),k=(f,c,g)=>{const v=[...l];v[f]={...v[f],cells:[...v[f].cells]},v[f].cells[c]=g,n(e.id,{rows:v})},T=f=>{const c=[...l];c[f]={cells:o.map(()=>"")},n(e.id,{rows:c})};return s.jsxs("div",{className:`flex flex-col ${m} w-full h-full`,children:[r&&s.jsx("div",{className:`font-bold ${i} text-theme-ink font-heading flex-shrink-0`,children:r}),s.jsx("div",{className:"overflow-auto flex-1",style:{maxHeight:`${S}px`},onWheel:f=>f.stopPropagation(),children:s.jsxs("table",{className:`w-full border-collapse ${d}`,children:[s.jsx("thead",{className:"sticky top-0",children:s.jsxs("tr",{children:[o.map((f,c)=>s.jsx("th",{className:`border border-theme-border bg-theme-background ${d} text-theme-ink font-heading`,children:f},c)),s.jsx("th",{className:"w-4"})]})}),s.jsx("tbody",{children:l.map((f,c)=>s.jsxs("tr",{className:"group",children:[f.cells.map((g,v)=>s.jsx("td",{className:`border border-theme-border ${d} text-theme-ink`,children:(a==null?void 0:a.row)===c&&(a==null?void 0:a.col)===v?s.jsx("input",{autoFocus:!0,value:g,onChange:b=>k(c,v,b.target.value),onBlur:()=>u(null),onKeyDown:b=>b.key==="Enter"&&u(null),className:"w-full bg-transparent focus:outline-none text-[10px] text-theme-ink font-body",onMouseDown:b=>b.stopPropagation()}):s.jsx("div",{onClick:()=>u({row:c,col:v}),onMouseDown:b=>b.stopPropagation(),className:"min-h-[1em] cursor-text hover:opacity-70 font-body",children:g||s.jsx("span",{className:"text-theme-muted",children:"-"})})},v)),s.jsx("td",{className:"w-4 p-0",children:s.jsx("button",{onClick:()=>T(c),onMouseDown:g=>g.stopPropagation(),className:"w-full h-full text-theme-muted hover:text-theme-ink opacity-0 group-hover:opacity-100",children:""})})]},c))})]})})]})}function Wu({title:e,onClose:t,children:n}){return mo.createPortal(s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999]",onClick:t,onMouseDown:r=>r.stopPropagation(),children:s.jsxs("div",{className:"bg-theme-paper border border-theme-border rounded-theme shadow-xl p-4 min-w-[280px] max-w-[400px]",onClick:r=>r.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"font-bold text-theme-ink font-heading",children:e}),s.jsx("button",{onClick:t,className:"text-theme-muted hover:text-theme-ink text-xl leading-none",children:""})]}),n]})}),document.body)}function hx(e){if(e<=0)return"Expired";const t=Math.floor(e/(365*24*60*60)),n=Math.floor(e%(365*24*60*60)/(30*24*60*60)),r=Math.floor(e%(30*24*60*60)/(24*60*60)),o=Math.floor(e%(24*60*60)/(60*60)),l=Math.floor(e%(60*60)/60),a=e%60,u=[];return t>0&&u.push(`${t}y`),n>0&&u.push(`${n}mo`),r>0&&u.push(`${r}d`),o>0&&u.push(`${o}h`),l>0&&u.push(`${l}m`),(a>0||u.length===0)&&u.push(`${a}s`),u.slice(0,3).join(" ")}function $u(e,t){switch(t){case"seconds":return e;case"minutes":return e*60;case"hours":return e*60*60;case"days":return e*24*60*60;case"months":return e*30*24*60*60;case"years":return e*365*24*60*60;default:return e}}function mx(e){return e<=0?"Expired":e===1?"1 round":`${e} rounds`}function th({widget:e,height:t}){const n=W(I=>I.updateWidgetData),{label:r,timedEffects:o=[],roundMode:l=!1}=e.data,[a,u]=_.useState(!1),[i,d]=_.useState(!1),[m,x]=_.useState(""),[p,h]=_.useState(1),[S,k]=_.useState("minutes"),[T,f]=_.useState(1),[c,g]=_.useState("minutes"),v="text-xs",b="text-xs",N="text-xs px-2 py-1",w="gap-1",C=()=>{if(m.trim()){const I=l?p:$u(p,S),O={name:m.trim(),remainingSeconds:I};n(e.id,{timedEffects:[...o,O]}),x(""),h(1),u(!1)}},y=()=>{x(""),h(1),u(!1)},E=I=>{const O=[...o];O.splice(I,1),n(e.id,{timedEffects:O})},$=()=>{const I=l?1:$u(T,c),O=o.map(P=>({...P,remainingSeconds:Math.max(0,P.remainingSeconds-I)}));n(e.id,{timedEffects:O}),d(!1)},H=()=>{const I=o.map(O=>({...O,remainingSeconds:Math.max(0,O.remainingSeconds-1)}));n(e.id,{timedEffects:I})},Y=()=>{f(1),d(!1)},M=Math.max(60,t-16-32-4*3-8*2);return s.jsxs("div",{className:`flex flex-col ${w} w-full h-full`,children:[r&&s.jsx("div",{className:`font-bold ${v} text-theme-ink font-heading flex-shrink-0`,children:r}),s.jsxs("div",{className:`space-y-1 overflow-y-auto flex-1 ${b}`,style:{maxHeight:`${M}px`},onWheel:I=>I.stopPropagation(),children:[o.map((I,O)=>s.jsxs("div",{className:`flex items-center group px-1.5 py-0.5 rounded-theme border ${I.remainingSeconds<=0?"bg-theme-accent/20 border-theme-accent animate-pulse":"border-theme-border/30 hover:border-theme-border"}`,children:[s.jsx("span",{className:`flex-1 min-w-0 truncate font-medium ${I.remainingSeconds<=0?"text-theme-accent":"text-theme-ink"}`,children:I.name}),s.jsx("span",{className:`flex-shrink-0 ml-2 ${I.remainingSeconds<=0?"text-theme-accent font-bold":"text-theme-muted"}`,children:l?mx(I.remainingSeconds):hx(I.remainingSeconds)}),s.jsx("button",{onClick:()=>E(O),className:"opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 px-1 flex-shrink-0",onMouseDown:P=>P.stopPropagation(),children:""})]},O)),o.length===0&&!a&&s.jsx("div",{className:"text-theme-muted italic text-center py-2",children:"No active effects"})]}),s.jsxs("div",{className:`flex ${w} border-t border-theme-border/50 pt-2 flex-shrink-0`,children:[s.jsx("button",{onClick:()=>u(!0),className:`${N} flex-1 border border-theme-border text-theme-ink rounded-theme hover:bg-theme-accent hover:text-theme-paper transition-colors font-bold`,onMouseDown:I=>I.stopPropagation(),children:"+ Add Effect"}),o.length>0&&(l?s.jsx("button",{onClick:H,className:`${N} flex-1 border border-theme-border text-theme-ink rounded-theme hover:bg-theme-accent hover:text-theme-paper transition-colors font-bold`,onMouseDown:I=>I.stopPropagation(),children:" Pass Round"}):s.jsx("button",{onClick:()=>d(!0),className:`${N} flex-1 border border-theme-border text-theme-ink rounded-theme hover:bg-theme-accent hover:text-theme-paper transition-colors font-bold`,onMouseDown:I=>I.stopPropagation(),children:" Pass Time"}))]}),a&&s.jsx(Wu,{title:"Add Effect",onClose:y,children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{className:"w-full border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme",value:m,onChange:I=>x(I.target.value),placeholder:"Effect name...",autoFocus:!0,onKeyDown:I=>{I.key==="Enter"&&C(),I.key==="Escape"&&y()}}),l?s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("input",{type:"number",min:"1",className:"w-20 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme text-center",value:p,onChange:I=>h(I.target.value===""?"":parseInt(I.target.value)||1),onBlur:I=>h(Math.max(1,parseInt(I.target.value)||1))}),s.jsx("span",{className:"text-theme-ink",children:p===1?"round":"rounds"})]}):s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",min:"1",className:"w-20 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme text-center",value:p,onChange:I=>h(I.target.value===""?"":parseInt(I.target.value)||1),onBlur:I=>h(Math.max(1,parseInt(I.target.value)||1))}),s.jsxs("select",{className:"flex-1 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme",value:S,onChange:I=>k(I.target.value),children:[s.jsx("option",{value:"seconds",children:"Seconds"}),s.jsx("option",{value:"minutes",children:"Minutes"}),s.jsx("option",{value:"hours",children:"Hours"}),s.jsx("option",{value:"days",children:"Days"}),s.jsx("option",{value:"months",children:"Months"}),s.jsx("option",{value:"years",children:"Years"})]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx("button",{onClick:C,className:"flex-1 py-2 px-4 bg-theme-accent text-theme-paper rounded-theme hover:opacity-90 transition-colors font-bold",children:"Add Effect"}),s.jsx("button",{onClick:y,className:"flex-1 py-2 px-4 border border-theme-border text-theme-muted rounded-theme hover:bg-theme-border hover:text-theme-ink transition-colors",children:"Cancel"})]})]})}),i&&s.jsx(Wu,{title:"Pass Time",onClose:Y,children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-theme-muted text-sm",children:"How much time passes for all effects?"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",min:"1",className:"w-20 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme text-center",value:T,onChange:I=>f(I.target.value===""?"":parseInt(I.target.value)||1),onBlur:I=>f(Math.max(1,parseInt(I.target.value)||1)),autoFocus:!0,onKeyDown:I=>{I.key==="Enter"&&$(),I.key==="Escape"&&Y()}}),s.jsxs("select",{className:"flex-1 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme",value:c,onChange:I=>g(I.target.value),children:[s.jsx("option",{value:"seconds",children:"Seconds"}),s.jsx("option",{value:"minutes",children:"Minutes"}),s.jsx("option",{value:"hours",children:"Hours"}),s.jsx("option",{value:"days",children:"Days"}),s.jsx("option",{value:"months",children:"Months"}),s.jsx("option",{value:"years",children:"Years"})]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx("button",{onClick:$,className:"flex-1 py-2 px-4 bg-theme-accent text-theme-paper rounded-theme hover:opacity-90 transition-colors font-bold",children:"Confirm"}),s.jsx("button",{onClick:Y,className:"flex-1 py-2 px-4 border border-theme-border text-theme-muted rounded-theme hover:bg-theme-border hover:text-theme-ink transition-colors",children:"Cancel"})]})]})})]})}function nh({widget:e,height:t}){const n=W(h=>h.updateWidgetData),{label:r,formItems:o=[]}=e.data,l="text-xs",a="text-xs",u="gap-1",x=Math.max(30,t-16-4-8*2),p=(h,S)=>{const k=[...o];k[h]={...k[h],value:S},n(e.id,{formItems:k})};return s.jsxs("div",{className:`flex flex-col ${u} w-full h-full`,children:[r&&s.jsx("div",{className:`font-bold ${l} text-theme-ink font-heading flex-shrink-0`,children:r}),s.jsxs("div",{className:"flex flex-col gap-0.5 overflow-y-auto overflow-x-hidden flex-1 pr-1",style:{maxHeight:`${x}px`},onWheel:h=>h.stopPropagation(),children:[o.map((h,S)=>s.jsxs("div",{className:`flex items-center ${u}`,children:[s.jsx("span",{className:`w-1/3 ${a} text-theme-ink font-body truncate flex-shrink-0`,children:h.name}),s.jsx("input",{type:"text",value:h.value,onChange:k=>p(S,k.target.value),onMouseDown:k=>k.stopPropagation(),className:`flex-1 ${a} px-1 py-0.5 border-b border-theme-border/50 focus:border-theme-border focus:outline-none bg-transparent text-theme-ink font-body min-w-0`,placeholder:"..."})]},S)),o.length===0&&s.jsx("div",{className:`${a} text-theme-muted italic`,children:"No fields yet"})]})]})}function px({widget:e,updateData:t}){const{label:n,numberItems:r=[]}=e.data,[o,l]=_.useState(""),a=m=>{m.preventDefault(),o.trim()&&(t({numberItems:[...r,{name:o.trim(),value:0}]}),l(""))},u=m=>{const x=[...r];x.splice(m,1),t({numberItems:x})},i=(m,x)=>{const p=[...r];p[m]={...p[m],name:x},t({numberItems:p})},d=(m,x)=>{const p=[...r];p[m]={...p[m],value:x},t({numberItems:p})};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),s.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:m=>t({label:m.target.value}),placeholder:"Trackers"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Items"}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:r.map((m,x)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm",value:m.name,onChange:p=>i(x,p.target.value),placeholder:"Name"}),s.jsx("input",{type:"number",className:"w-20 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center",value:m.value,onChange:p=>d(x,parseInt(p.target.value)||0)}),s.jsx("button",{onClick:()=>u(x),className:"text-red-500 hover:text-red-700 px-2",children:""})]},x))}),s.jsxs("form",{onSubmit:a,className:"flex gap-2 mt-2",children:[s.jsx("input",{type:"text",value:o,onChange:m=>l(m.target.value),placeholder:"Add new item...",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm"}),s.jsx("button",{type:"submit",className:"px-3 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90",children:"Add"})]})]})]})}function gx({widget:e,updateData:t}){const{label:n,formItems:r=[]}=e.data,[o,l]=_.useState(""),a=m=>{m.preventDefault(),o.trim()&&(t({formItems:[...r,{name:o.trim(),value:""}]}),l(""))},u=m=>{const x=[...r];x.splice(m,1),t({formItems:x})},i=(m,x)=>{const p=[...r];p[m]={...p[m],name:x},t({formItems:p})},d=(m,x)=>{const p=[...r];p[m]={...p[m],value:x},t({formItems:p})};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),s.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:m=>t({label:m.target.value}),placeholder:"Form Fields"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Items"}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:r.map((m,x)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm",value:m.name,onChange:p=>i(x,p.target.value),placeholder:"Name"}),s.jsx("input",{type:"text",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm",value:m.value,onChange:p=>d(x,p.target.value),placeholder:"Value"}),s.jsx("button",{onClick:()=>u(x),className:"text-red-500 hover:text-red-700 px-2",children:""})]},x))}),s.jsxs("form",{onSubmit:a,className:"flex gap-2 mt-2",children:[s.jsx("input",{type:"text",value:o,onChange:m=>l(m.target.value),placeholder:"Add new field...",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm"}),s.jsx("button",{type:"submit",className:"px-3 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90",children:"Add"})]})]})]})}function xx({widget:e,updateData:t}){const{label:n,itemCount:r=5}=e.data;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),s.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:o=>t({label:o.target.value}),placeholder:"List Title"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Number of Item Slots"}),s.jsx("input",{type:"number",min:"1",max:"50",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:r,onChange:o=>t({itemCount:o.target.value===""?"":parseInt(o.target.value)||""}),onBlur:o=>t({itemCount:Math.max(1,Math.min(50,parseInt(o.target.value)||1))})}),s.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Items can be filled in during play mode"})]})]})}function vx({widget:e,updateData:t}){const{label:n}=e.data;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),s.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:r=>t({label:r.target.value}),placeholder:"Title"})]}),s.jsx("p",{className:"text-xs text-theme-muted",children:"Use the resize handle on the widget in edit mode to adjust the size."})]})}function yx({widget:e,updateData:t}){const{label:n,checkboxItems:r=[]}=e.data,[o,l]=_.useState(""),a=i=>{i.preventDefault(),o.trim()&&(t({checkboxItems:[...r,{name:o.trim(),checked:!1}]}),l(""))},u=i=>{const d=[...r];d.splice(i,1),t({checkboxItems:d})};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),s.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:i=>t({label:i.target.value}),placeholder:"Checklist Title"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Checkbox Items"}),s.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:r.map((i,d)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"flex-1 text-theme-ink",children:i.name}),s.jsx("button",{onClick:()=>u(d),className:"text-red-500 hover:text-red-700 px-2",children:""})]},d))}),s.jsxs("form",{onSubmit:a,className:"flex gap-2 mt-2",children:[s.jsx("input",{type:"text",value:o,onChange:i=>l(i.target.value),placeholder:"Add new item...",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm"}),s.jsx("button",{type:"submit",className:"px-3 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90",children:"Add"})]})]})]})}function bx({widget:e,updateData:t}){const{label:n,maxValue:r=10}=e.data;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),s.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:o=>t({label:o.target.value}),placeholder:"Health"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Maximum Value"}),s.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:r,onChange:o=>{t({maxValue:o.target.value===""?"":parseInt(o.target.value)||""})},onBlur:o=>{const l=parseInt(o.target.value)||1;t({maxValue:Math.max(1,l)})},min:1})]})]})}function wx({widget:e,updateData:t}){const{label:n,diceGroups:r=[{count:1,faces:20}],modifier:o=0}=e.data,l=(i,d,m)=>{const x=[...r];x[i]={...x[i],[d]:m},t({diceGroups:x})},a=()=>{t({diceGroups:[...r,{count:1,faces:6}]})},u=i=>{if(r.length>1){const d=r.filter((m,x)=>x!==i);t({diceGroups:d})}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),s.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:i=>t({label:i.target.value}),placeholder:"Roll Name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Dice Groups"}),s.jsx("div",{className:"space-y-2",children:r.map((i,d)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"number",min:"1",value:i.count,onChange:m=>l(d,"count",m.target.value===""?"":parseInt(m.target.value)||""),onBlur:m=>l(d,"count",Math.max(1,parseInt(m.target.value)||1)),className:"w-16 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center"}),s.jsx("span",{className:"text-theme-ink",children:"d"}),s.jsx("input",{type:"number",min:"1",value:i.faces,onChange:m=>l(d,"faces",m.target.value===""?"":parseInt(m.target.value)||""),onBlur:m=>l(d,"faces",Math.max(1,parseInt(m.target.value)||1)),className:"w-16 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center"}),r.length>1&&s.jsx("button",{onClick:()=>u(d),className:"text-red-500 hover:text-red-700 px-2",children:""})]},d))}),s.jsx("button",{onClick:a,className:"mt-2 px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Dice"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Modifier"}),s.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:o,onChange:i=>t({modifier:parseInt(i.target.value)||0})})]})]})}function Sx({widget:e,updateData:t}){const{label:n,spellLevels:r=[{level:1,max:4,used:0}]}=e.data,o=()=>{const i=r.map(m=>m.level),d=Math.min(9,Math.max(...i,0)+1);d<=9&&!i.includes(d)&&t({spellLevels:[...r,{level:d,max:2,used:0}]})},l=i=>{const d=[...r];d.splice(i,1),t({spellLevels:d})},a=(i,d)=>{const m=[...r];if(typeof d=="string")m[i]={...m[i],max:d};else{const x=Math.max(1,Math.min(10,d));m[i]={...m[i],max:x,used:Math.min(m[i].used,x)}}t({spellLevels:m})},u=(i,d)=>{const m=[...r];typeof d=="string"?m[i]={...m[i],level:d}:m[i]={...m[i],level:Math.max(1,Math.min(9,d))},t({spellLevels:m})};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),s.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:i=>t({label:i.target.value}),placeholder:"Spell Slots"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Spell Levels"}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:r.map((i,d)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-theme-ink text-sm",children:"Level"}),s.jsx("input",{type:"number",value:i.level,onChange:m=>u(d,m.target.value===""?"":parseInt(m.target.value)||""),onBlur:m=>u(d,Math.max(1,Math.min(9,parseInt(m.target.value)||1))),className:"w-12 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center",min:1,max:9}),s.jsx("span",{className:"text-theme-ink text-sm",children:"Max Slots"}),s.jsx("input",{type:"number",value:i.max,onChange:m=>a(d,m.target.value===""?"":parseInt(m.target.value)||""),onBlur:m=>a(d,Math.max(1,Math.min(10,parseInt(m.target.value)||1))),className:"w-12 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center",min:1,max:10}),s.jsx("button",{onClick:()=>l(d),className:"text-red-500 hover:text-red-700 px-2",children:""})]},d))}),r.length<9&&s.jsx("button",{onClick:o,className:"mt-2 px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Level"})]})]})}function kx({widget:e,updateData:t}){const{label:n,imageUrl:r=""}=e.data,o=a=>{var i;const u=(i=a.target.files)==null?void 0:i[0];if(u){const d=new FileReader;d.onload=m=>{var p;const x=(p=m.target)==null?void 0:p.result;t({imageUrl:x})},d.readAsDataURL(u)}},l=()=>{t({imageUrl:""})};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),s.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:a=>t({label:a.target.value}),placeholder:"Portrait"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Image"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("label",{className:"flex-1 px-3 py-2 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90 cursor-pointer text-center",children:["Upload Image",s.jsx("input",{type:"file",accept:"image/*",onChange:o,className:"hidden"})]}),r&&s.jsx("button",{onClick:l,className:"px-3 py-2 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-red-500 hover:text-white hover:border-red-500",children:"Clear"})]}),r&&s.jsx("div",{className:"mt-2 border border-theme-border rounded-theme overflow-hidden",children:s.jsx("img",{src:r,alt:"Preview",className:"w-full h-32 object-cover"})})]})]})}function Nx({widget:e,updateData:t}){const{label:n,maxPool:r=5,poolStyle:o="dots"}=e.data;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),s.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:l=>t({label:l.target.value}),placeholder:"Resource Pool"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Maximum Pool"}),s.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:r,onChange:l=>{t({maxPool:l.target.value===""?"":parseInt(l.target.value)||""})},onBlur:l=>{const a=Math.max(1,Math.min(1e3,parseInt(l.target.value)||1));t({maxPool:a})},min:1,max:1e3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Style"}),s.jsxs("select",{value:o,onChange:l=>t({poolStyle:l.target.value}),className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",children:[s.jsx("option",{value:"dots",children:"Dots"}),s.jsx("option",{value:"boxes",children:"Boxes"}),s.jsx("option",{value:"hearts",children:"Hearts"})]})]})]})}function jx({widget:e,updateData:t}){const{label:n,toggleItems:r=[]}=e.data,[o,l]=_.useState(""),a=["Blinded","Charmed","Frightened","Poisoned","Stunned","Prone","Invisible","Paralyzed","Unconscious","Exhausted","Afraid","Angry","Confused","Wounded","Dazed"],u=p=>{p.trim()&&!r.some(h=>h.name.toLowerCase()===p.trim().toLowerCase())&&t({toggleItems:[...r,{name:p.trim(),active:!1}]}),l("")},i=p=>{p.preventDefault(),u(o)},d=p=>{const h=[...r];h.splice(p,1),t({toggleItems:h})},m=r.map(p=>p.name.toLowerCase()),x=a.filter(p=>!m.includes(p.toLowerCase()));return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),s.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:p=>t({label:p.target.value}),placeholder:"Conditions"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Conditions"}),s.jsx("div",{className:"flex flex-wrap gap-1 max-h-32 overflow-y-auto",children:r.map((p,h)=>s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-theme-background rounded-theme text-sm",children:[s.jsx("span",{className:"text-theme-ink",children:p.name}),s.jsx("button",{onClick:()=>d(h),className:"text-red-500 hover:text-red-700",children:""})]},h))}),s.jsxs("form",{onSubmit:i,className:"flex gap-2 mt-2",children:[s.jsx("input",{type:"text",value:o,onChange:p=>l(p.target.value),placeholder:"Add condition...",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm"}),s.jsx("button",{type:"submit",className:"px-3 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90",children:"Add"})]}),x.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("span",{className:"text-xs text-theme-muted",children:"Quick add:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:x.slice(0,8).map(p=>s.jsx("button",{onClick:()=>u(p),className:"px-2 py-0.5 text-xs border border-theme-border rounded-theme text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:p},p))})]})]})]})}function Cx({widget:e,updateData:t}){const{label:n,roundMode:r=!1}=e.data;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),s.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:o=>t({label:o.target.value}),placeholder:"Time Tracker"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:r,onChange:o=>t({roundMode:o.target.checked}),className:"w-4 h-4 accent-theme-accent"}),s.jsx("span",{className:"text-sm font-medium text-theme-ink",children:"Round Mode"})]}),s.jsx("p",{className:"text-xs text-theme-muted mt-1 ml-6",children:"In round mode, time is tracked in rounds instead of real-world time units."})]}),s.jsxs("div",{className:"text-sm text-theme-muted",children:[s.jsx("p",{children:"Use this widget to track timed effects in your game."}),s.jsxs("ul",{className:"list-disc ml-4 mt-2 space-y-1",children:[s.jsx("li",{children:"Add effects with their remaining duration"}),s.jsx("li",{children:r?'Use "Pass Round" to advance all timers by 1 round':'Use the "Pass Time" controls to advance all timers at once'}),s.jsx("li",{children:"Expired effects will be highlighted"})]})]})]})}function Ex({widget:e,updateData:t}){const{label:n,columns:r=["Item","Qty","Weight"],rows:o=[]}=e.data,l=(m,x)=>{const p=[...r];p[m]=x,t({columns:p})},a=()=>{t({columns:[...r,"New"]})},u=m=>{if(r.length<=1)return;const x=[...r];x.splice(m,1),t({columns:x})},i=()=>{const m={cells:r.map(()=>"")};t({rows:[...o,m]})},d=m=>{if(o.length<=1)return;const x=[...o];x.splice(m,1),t({rows:x})};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),s.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:m=>t({label:m.target.value}),placeholder:"Inventory"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Columns"}),s.jsx("div",{className:"space-y-2",children:r.map((m,x)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm",value:m,onChange:p=>l(x,p.target.value),placeholder:"Column name"}),r.length>1&&s.jsx("button",{onClick:()=>u(x),className:"text-red-500 hover:text-red-700 px-2",children:""})]},x))}),s.jsx("button",{onClick:a,className:"mt-2 px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Column"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:["Rows (",o.length,")"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:i,className:"px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Row"}),o.length>1&&s.jsx("button",{onClick:()=>d(o.length-1),className:"px-3 py-1 border border-theme-border rounded-theme text-sm text-red-500 hover:bg-red-500 hover:text-white",children:"- Remove Row"})]}),s.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Row contents can be edited in play mode"})]})]})}function Tx(e){return{NUMBER:"Number Tracker",LIST:"List",TEXT:"Text",CHECKBOX:"Checkbox",HEALTH_BAR:"Health Bar",DICE_ROLLER:"Dice Roller",SPELL_SLOT:"Spell Slots",IMAGE:"Image",POOL:"Resource Pool",TOGGLE_GROUP:"Conditions",TABLE:"Table",TIME_TRACKER:"Time Tracker",FORM:"Form"}[e]||"Widget"}function Ix({widget:e,onClose:t}){const n=W(h=>h.updateWidgetData),r=W(h=>h.updateWidgetSize),[o,l]=_.useState({...e.data}),[a,u]=_.useState(e.w||200),i=h=>{const S={...o,...h};l(S),n(e.id,h)},d=h=>{u(h),r(e.id,h,e.h||0)},m={...e,data:o,w:a},x=()=>{const h={widget:m,updateData:i,updateWidth:d};switch(e.type){case"NUMBER":return s.jsx(px,{...h});case"LIST":return s.jsx(xx,{...h});case"TEXT":return s.jsx(vx,{...h});case"CHECKBOX":return s.jsx(yx,{...h});case"HEALTH_BAR":return s.jsx(bx,{...h});case"DICE_ROLLER":return s.jsx(wx,{...h});case"SPELL_SLOT":return s.jsx(Sx,{...h});case"IMAGE":return s.jsx(kx,{...h});case"POOL":return s.jsx(Nx,{...h});case"TOGGLE_GROUP":return s.jsx(jx,{...h});case"TABLE":return s.jsx(Ex,{...h});case"TIME_TRACKER":return s.jsx(Cx,{...h});case"FORM":return s.jsx(gx,{...h});default:return null}},p=()=>{const h={widget:m,mode:"play",width:200,height:200};switch(e.type){case"NUMBER":return s.jsx(Bf,{...h});case"LIST":return s.jsx(Vf,{...h});case"TEXT":return s.jsx(Xf,{...h});case"CHECKBOX":return s.jsx(Yf,{...h});case"HEALTH_BAR":return s.jsx(Gf,{...h});case"DICE_ROLLER":return s.jsx(Kf,{...h});case"SPELL_SLOT":return s.jsx(Qf,{...h});case"IMAGE":return s.jsx(Zf,{...h});case"POOL":return s.jsx(Jf,{...h});case"TOGGLE_GROUP":return s.jsx(qf,{...h});case"TABLE":return s.jsx(eh,{...h});case"TIME_TRACKER":return s.jsx(th,{...h});case"FORM":return s.jsx(nh,{...h});default:return null}};return _.useEffect(()=>{const h=S=>{S.key==="Escape"&&t()};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[t]),mo.createPortal(s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-0 sm:p-4",onClick:h=>{h.target===h.currentTarget&&t()},onMouseDown:h=>h.stopPropagation(),onMouseUp:h=>h.stopPropagation(),onMouseMove:h=>h.stopPropagation(),onWheel:h=>h.stopPropagation(),onTouchStart:h=>h.stopPropagation(),onTouchMove:h=>h.stopPropagation(),onTouchEnd:h=>h.stopPropagation(),children:s.jsxs("div",{className:"bg-theme-paper border-[length:var(--border-width)] border-theme-border rounded-none sm:rounded-theme shadow-theme sm:max-w-2xl w-full h-full sm:h-auto sm:max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-theme-border",children:[s.jsxs("h2",{className:"text-lg font-bold text-theme-ink font-heading",children:["Edit ",Tx(e.type)]}),s.jsx("button",{onClick:t,className:"w-8 h-8 flex items-center justify-center text-theme-muted hover:text-theme-ink hover:bg-theme-background rounded-theme transition-colors",children:""})]}),s.jsx("div",{className:"flex-1 overflow-auto p-4",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-sm font-medium text-theme-muted mb-3",children:"Settings"}),x()]}),s.jsxs("div",{className:"lg:w-72 flex-shrink-0",children:[s.jsx("h3",{className:"text-sm font-medium text-theme-muted mb-3",children:"Preview"}),s.jsx("div",{className:"bg-theme-paper border-[length:var(--border-width)] border-theme-border rounded-theme p-2 sm:p-4 shadow-theme",style:{width:"200px"},children:p()})]})]})}),s.jsx("div",{className:"px-4 py-3 border-t border-theme-border flex justify-end",children:s.jsx("button",{onClick:t,className:"px-4 py-2 bg-theme-accent text-theme-paper rounded-theme hover:opacity-90 font-medium",children:"Done"})})]})}),document.body)}const Fn=10,Px={NUMBER:{width:140,height:60},LIST:{width:140,height:80},TEXT:{width:120,height:60},CHECKBOX:{width:140,height:60},HEALTH_BAR:{width:160,height:80},DICE_ROLLER:{width:160,height:120},SPELL_SLOT:{width:160,height:80},IMAGE:{width:100,height:100},POOL:{width:120,height:80},TOGGLE_GROUP:{width:140,height:60},TABLE:{width:180,height:80},TIME_TRACKER:{width:180,height:140},FORM:{width:160,height:60}};function Mx({widget:e,scale:t}){const n=W(R=>R.updateWidgetPosition),r=W(R=>R.updateWidgetSize),o=W(R=>R.moveWidgetGroup),l=W(R=>R.removeWidget),a=W(R=>R.detachWidgets),u=W(R=>R.mode),i=W(R=>R.setEditingWidgetId),d=W(R=>R.selectedWidgetId),m=W(R=>R.setSelectedWidgetId),x=W(R=>R.activeCharacterId),h=W(R=>R.characters).find(R=>R.id===x),S=h!=null&&h.theme?Ln(h.theme):void 0,k=h!=null&&h.theme?di(h.theme):void 0,T=(S==null?void 0:S.cardTexture)||(k==null?void 0:k.cardTexture)||"none",f=Nt(T),c=_.useRef(null),g=_.useRef(null),[v,b]=_.useState(!1),[N,w]=_.useState(!1),[C,y]=_.useState(null),E=_.useRef({x:0,y:0}),[$,H]=_.useState(!1),Y=_.useRef({mouseX:0,mouseY:0,width:0,height:0}),je=d===e.id,Ke=Px[e.type]||{width:120,height:60};_.useEffect(()=>{if(e.h&&e.h>0){y(e.h);return}if(c.current){const R=new ResizeObserver(Se=>{for(const Qe of Se){const Ze=Qe.target.scrollHeight,Je=Math.ceil(Ze/Fn)*Fn;y(Je)}});return R.observe(c.current),()=>R.disconnect()}},[e.data,e.h]);const le=R=>{R.touches.length>=2||u==="edit"&&(je||(R.preventDefault(),R.stopPropagation(),m(e.id)))},ge=R=>{u==="edit"&&!M&&(R.preventDefault(),R.stopPropagation(),m(e.id))},M=N||je,I=()=>{b(!0),i(e.id)},O=()=>{b(!1),i(null)},P=R=>Math.round(R/Fn)*Fn,q=(()=>{if(e.w)return e.w;if(e.type==="TABLE"){const Se=(e.data.columns||["Item","Qty","Weight"]).length,Je=Math.max(200,Se*80+40);return P(Je)}return 200})(),J=_.useCallback(R=>{R.preventDefault(),R.stopPropagation(),e.groupId&&a(e.id,e.id);const Se="touches"in R?R.touches[0].clientX:R.clientX,Qe="touches"in R?R.touches[0].clientY:R.clientY,Ze=e.w||200,Je=e.h||120;Y.current={mouseX:Se,mouseY:Qe,width:Ze,height:Je},H(!0)},[e.w,e.h,e.groupId,e.id,a]),de=_.useCallback(R=>{if(!$)return;const Se="touches"in R?R.touches[0].clientX:R.clientX,Qe="touches"in R?R.touches[0].clientY:R.clientY,Ze=(Se-Y.current.mouseX)/t,Je=(Qe-Y.current.mouseY)/t,Rt=P(Math.max(Ke.width,Y.current.width+Ze)),wn=P(Math.max(Ke.height,Y.current.height+Je));r(e.id,Rt,wn)},[$,t,Ke,e.id,r]),we=_.useCallback(()=>{H(!1)},[]);_.useEffect(()=>{if($)return window.addEventListener("mousemove",de),window.addEventListener("mouseup",we),window.addEventListener("touchmove",de),window.addEventListener("touchend",we),()=>{window.removeEventListener("mousemove",de),window.removeEventListener("mouseup",we),window.removeEventListener("touchmove",de),window.removeEventListener("touchend",we)}},[$,de,we]);const Dt=(R,Se)=>{E.current={x:Se.x,y:Se.y}},Al=(R,Se)=>{if(e.groupId){const Qe=Se.x-E.current.x,Ze=Se.y-E.current.y;document.querySelectorAll(`[data-group-id="${e.groupId}"]`).forEach(Rt=>{const wn=Rt.getAttribute("data-widget-id");if(wn&&wn!==e.id){const br=W.getState().getWidgetsInGroup(e.groupId).find(po=>po.id===wn);br&&(Rt.style.transform=`translate(${br.x+Qe}px, ${br.y+Ze}px)`)}})}},Ul=(R,Se)=>{const Qe=P(Se.x),Ze=P(Se.y);if(e.groupId){const Je=Qe-e.x,Rt=Ze-e.y;(Je!==0||Rt!==0)&&o(e.id,Je,Rt)}else n(e.id,Qe,Ze)},bn=e.h&&e.h>0?e.h:C,Vt=()=>{const R={widget:e,mode:"play",width:q,height:bn||120};switch(e.type){case"NUMBER":return s.jsx(Bf,{...R});case"LIST":return s.jsx(Vf,{...R});case"TEXT":return s.jsx(Xf,{...R});case"CHECKBOX":return s.jsx(Yf,{...R});case"HEALTH_BAR":return s.jsx(Gf,{...R});case"DICE_ROLLER":return s.jsx(Kf,{...R});case"SPELL_SLOT":return s.jsx(Qf,{...R});case"IMAGE":return s.jsx(Zf,{...R});case"POOL":return s.jsx(Jf,{...R});case"TOGGLE_GROUP":return s.jsx(qf,{...R});case"TABLE":return s.jsx(eh,{...R});case"TIME_TRACKER":return s.jsx(th,{...R});case"FORM":return s.jsx(nh,{...R});default:return null}};return s.jsxs(s.Fragment,{children:[s.jsx(fx,{nodeRef:c,position:{x:e.x,y:e.y},onStart:Dt,onDrag:Al,onStop:Ul,scale:t,grid:[Fn,Fn],handle:".drag-handle",disabled:u==="play",children:s.jsxs("div",{ref:c,"data-widget-id":e.id,"data-group-id":e.groupId||"",className:`react-draggable absolute bg-theme-paper border-[length:var(--border-width)] border-theme-border p-2 sm:p-4 cursor-default group touch-manipulation rounded-theme ${e.groupId&&u==="edit"?"ring-2 ring-green-500 ring-opacity-50":""} ${$?"select-none":""}`,style:{width:`${q}px`,minWidth:`${Ke.width}px`,height:bn?`${bn}px`:"auto",minHeight:bn?`${bn}px`:C?`${C}px`:"auto",zIndex:M&&u==="edit"?100:void 0},onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),onTouchStart:le,onClick:ge,children:[f&&s.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-theme z-0 overflow-hidden",style:{backgroundColor:"var(--color-paper)"},children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${hn[T]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:"var(--card-texture-opacity)",mixBlendMode:"overlay"}})}),u==="edit"&&s.jsx("div",{className:"drag-handle absolute -top-2 left-8 right-8 h-8 sm:h-6 sm:top-0 sm:left-0 sm:right-0 bg-transparent cursor-move hover:opacity-70 active:opacity-50 flex justify-center items-center touch-none rounded-t-theme z-[60]",children:M&&s.jsx("div",{className:"sm:hidden flex gap-1",children:s.jsx("div",{className:"w-8 h-1 bg-theme-muted/50 rounded-full"})})}),u==="edit"&&M&&s.jsx("button",{className:"absolute -top-3 -left-3 w-8 h-8 sm:w-6 sm:h-6 bg-theme-accent text-theme-paper rounded-full flex items-center justify-center transition-opacity z-50 hover:bg-blue-600 text-sm",onClick:I,onMouseDown:R=>R.stopPropagation(),onTouchStart:R=>R.stopPropagation(),title:"Edit widget",children:""}),u==="edit"&&M&&s.jsx("button",{className:"absolute -top-3 -right-3 w-8 h-8 sm:w-6 sm:h-6 bg-theme-accent text-theme-paper rounded-full flex items-center justify-center transition-opacity z-50 hover:bg-red-600 text-lg sm:text-base",onClick:()=>l(e.id),onMouseDown:R=>R.stopPropagation(),onTouchStart:R=>R.stopPropagation(),children:""}),u==="edit"&&je&&s.jsx("div",{className:"absolute inset-0 z-40 bg-theme-accent/10 rounded-theme",onTouchStart:R=>R.stopPropagation()}),u==="edit"&&M&&s.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 cursor-se-resize z-50 flex items-center justify-center",onMouseDown:J,onTouchStart:J,title:"Drag to resize",children:s.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",className:"text-theme-muted hover:text-theme-ink transition-colors",children:s.jsx("path",{d:"M10 2L2 10M10 6L6 10M10 10L10 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),s.jsx("div",{ref:g,className:"h-full overflow-hidden relative z-10",children:Vt()})]})}),v&&s.jsx(Ix,{widget:e,onClose:O})]})}const Oo=10,zo=20;function _x({widgets:e,scale:t}){const n=W(f=>f.attachWidgets),r=W(f=>f.detachWidgets),o=W(f=>f.selectedWidgetId),[l,a]=_.useState(0),[u,i]=_.useState(!1),[d,m]=_.useState(null),x=o||d,p=e.map(f=>`${f.id}:${f.x}:${f.y}:${f.groupId||""}`).join("|");_.useEffect(()=>{const f=()=>{const g=document.querySelector(".react-draggable-dragging");i(!!g)},c=new MutationObserver(f);return c.observe(document.body,{subtree:!0,attributes:!0,attributeFilter:["class"]}),()=>c.disconnect()},[]),_.useEffect(()=>{const f=g=>{const v=g.target;if(v.closest("[data-attach-widget-ids]"))return;const N=v.closest("[data-widget-id]");m(N?N.getAttribute("data-widget-id"):null)},c=g=>{const v=g.target;if(v.closest("[data-attach-widget-ids]"))return;const N=v.closest("[data-widget-id]");m(N?N.getAttribute("data-widget-id"):null)};return document.addEventListener("mouseover",f),document.addEventListener("touchstart",c),()=>{document.removeEventListener("mouseover",f),document.removeEventListener("touchstart",c)}},[]),_.useEffect(()=>{const f=setTimeout(()=>{a(c=>c+1)},100);return()=>clearTimeout(f)},[p,t]);const h=_.useMemo(()=>{const f=[];return e.forEach(c=>{const g=document.querySelector(`[data-widget-id="${c.id}"]`);if(g){const v=g.getBoundingClientRect();f.push({id:c.id,groupId:c.groupId,attachedTo:c.attachedTo,left:c.x,right:c.x+v.width/t,top:c.y,bottom:c.y+v.height/t})}}),f},[e,t,l]),S=_.useMemo(()=>{var c,g;const f=[];for(let v=0;v<h.length;v++)for(let b=v+1;b<h.length;b++){const N=h[v],w=h[b],C=!!((c=N.attachedTo)!=null&&c.includes(w.id)||(g=w.attachedTo)!=null&&g.includes(N.id));if(Math.abs(N.right-w.left)<=Oo){const y=Math.max(N.top,w.top),E=Math.min(N.bottom,w.bottom);E-y>=zo&&f.push({widget1Id:N.id,widget2Id:w.id,x:N.right,y:(y+E)/2,orientation:"vertical",isAttached:C})}if(Math.abs(N.left-w.right)<=Oo){const y=Math.max(N.top,w.top),E=Math.min(N.bottom,w.bottom);E-y>=zo&&f.push({widget1Id:N.id,widget2Id:w.id,x:N.left,y:(y+E)/2,orientation:"vertical",isAttached:C})}if(Math.abs(N.bottom-w.top)<=Oo){const y=Math.max(N.left,w.left),E=Math.min(N.right,w.right);E-y>=zo&&f.push({widget1Id:N.id,widget2Id:w.id,x:(y+E)/2,y:N.bottom,orientation:"horizontal",isAttached:C})}if(Math.abs(N.top-w.bottom)<=Oo){const y=Math.max(N.left,w.left),E=Math.min(N.right,w.right);E-y>=zo&&f.push({widget1Id:N.id,widget2Id:w.id,x:(y+E)/2,y:N.top,orientation:"horizontal",isAttached:C})}}return f},[h]),k=f=>{if(f.isAttached){const c=x===f.widget1Id?f.widget1Id:x===f.widget2Id?f.widget2Id:f.widget1Id;r(c,f.widget2Id)}else{const c=h.find(w=>w.id===f.widget1Id),g=h.find(w=>w.id===f.widget2Id);if(!c||!g){n(f.widget1Id,f.widget2Id);return}let v,b;if(g.groupId&&!c.groupId)v=c.id,b=g.groupId;else if(c.groupId&&!g.groupId)v=g.id,b=c.groupId;else if(c.groupId&&g.groupId&&c.groupId!==g.groupId){n(f.widget1Id,f.widget2Id);return}else{n(f.widget1Id,f.widget2Id);return}const N=S.filter(w=>{if(w.isAttached)return!1;const C=h.find(E=>E.id===w.widget1Id),y=h.find(E=>E.id===w.widget2Id);return!C||!y?!1:w.widget1Id===v&&y.groupId===b||w.widget2Id===v&&C.groupId===b});for(const w of N)n(w.widget1Id,w.widget2Id)}};if(u)return null;const T=x?S.filter(f=>f.widget1Id===x||f.widget2Id===x):[];return s.jsx(s.Fragment,{children:T.map((f,c)=>s.jsx("button",{"data-attach-widget-ids":`${f.widget1Id},${f.widget2Id}`,className:`absolute w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all transform -translate-x-1/2 -translate-y-1/2 hover:scale-125 ${f.isAttached?"bg-green-500 hover:bg-red-500 text-white":"bg-blue-500 hover:bg-green-500 text-white"}`,style:{left:`${f.x}px`,top:`${f.y}px`,zIndex:150},onClick:()=>k(f),onMouseDown:g=>g.stopPropagation(),onTouchStart:g=>g.stopPropagation(),title:f.isAttached?"Click to detach widgets":"Click to attach widgets",children:f.isAttached?"":""},`${f.widget1Id}-${f.widget2Id}-${c}`))})}function Dx({widgets:e,scale:t}){const[n,r]=_.useState([]),[o,l]=_.useState(!1),a=e.map(u=>`${u.id}:${u.x}:${u.y}`).join("|");return _.useEffect(()=>{const u=()=>{const d=document.querySelector(".react-draggable-dragging");l(!!d)},i=new MutationObserver(u);return i.observe(document.body,{subtree:!0,attributes:!0,attributeFilter:["class"]}),()=>i.disconnect()},[]),_.useEffect(()=>{const u=setTimeout(()=>{const i=[];e.forEach(d=>{const m=document.querySelector(`[data-widget-id="${d.id}"]`);if(m){const x=m.getBoundingClientRect();i.push({id:d.id,x:d.x,y:d.y,width:x.width/t,height:x.height/t})}}),r(i)},50);return()=>clearTimeout(u)},[e,t,a]),o?null:s.jsx("div",{className:"pointer-events-none",children:n.map(u=>s.jsx("div",{className:"absolute shadow-theme rounded-theme",style:{left:`${u.x}px`,top:`${u.y}px`,width:`${u.width}px`,height:`${u.height}px`}},`shadow-${u.id}`))})}function Rx(e){const t=e.sheets.find(n=>n.id===e.activeSheetId);return(t==null?void 0:t.widgets)||[]}function Lx(){var po,vi;const e=W(j=>j.activeCharacterId),t=W(j=>j.characters),n=W(j=>j.addWidget),r=W(j=>j.mode),o=W(j=>j.setMode),l=W(j=>j.selectCharacter),a=W(j=>j.updateCharacterName),u=W(j=>j.editingWidgetId),i=W(j=>j.updateWidgetPosition),d=W(j=>j.createSheet),m=W(j=>j.selectSheet),x=W(j=>j.deleteSheet),p=W(j=>j.renameSheet),h=t.find(j=>j.id===e),S=h?Rx(h):[],[k,T]=_.useState(()=>window.innerWidth<768),[f,c]=_.useState(!0),[g,v]=_.useState(!1),[b,N]=_.useState(""),[w,C]=_.useState(null),[y,E]=_.useState(""),[$,H]=_.useState(!1),[Y,je]=_.useState(null),Ke=()=>{if(!h||S.length===0)return;const j=10,F=10,X=document.querySelectorAll(".react-draggable[data-widget-id]"),G=[];X.forEach(A=>{const U=A.getAttribute("data-widget-id");if(U){const ne=A.getBoundingClientRect();G.push({id:U,w:Math.ceil(ne.width/M/j)*j,h:Math.ceil(ne.height/M/j)*j})}});const fe=S.map(A=>{const U=G.find(ne=>ne.id===A.id);return{id:A.id,groupId:A.groupId,x:A.x,y:A.y,w:U?U.w:A.w||200,h:U?U.h:A.h||120}}),se=new Map,at=[];for(const A of fe)if(A.groupId){const U=se.get(A.groupId)||[];U.push(A),se.set(A.groupId,U)}else at.push(A);const Pe=[];for(const[A,U]of se){if(U.length===0)continue;const ne=Math.min(...U.map(Z=>Z.x)),he=Math.min(...U.map(Z=>Z.y)),ee=Math.max(...U.map(Z=>Z.x+Z.w)),z=Math.max(...U.map(Z=>Z.y+Z.h));Pe.push({type:"group",id:A,widgets:U,boundingBox:{x:ne,y:he,w:ee-ne,h:z-he},originalOffset:{x:ne,y:he}})}for(const A of at)Pe.push({type:"single",id:A.id,widgets:[A],boundingBox:{x:A.x,y:A.y,w:A.w,h:A.h},originalOffset:{x:A.x,y:A.y}});const it=Pe.reduce((A,U)=>A+(U.boundingBox.w+F)*(U.boundingBox.h+F),0),Xt=Math.max(800,Math.ceil(Math.sqrt(it*1.5)/j)*j),Yt=[...Pe].sort((A,U)=>{const he=Math.floor(A.boundingBox.y/50),ee=Math.floor(U.boundingBox.y/50);return he!==ee?he-ee:A.boundingBox.x-U.boundingBox.x});let Sn=[{x:0,y:0,w:Xt,h:1e5}];const Gt=[],wr=(A,U)=>{let ne=1/0,he=0,ee=0,z=!1;for(const Z of Sn)if(A<=Z.w&&U<=Z.h){const ut=Z.w-A,ze=Z.h-U,rh=Math.min(ut,ze),yi=Z.y*1e4+rh;yi<ne&&(ne=yi,he=Z.x,ee=Z.y,z=!0)}return z?{x:he,y:ee}:null},go=(A,U,ne,he)=>{const ee=[];for(const z of Sn){if(A>=z.x+z.w||A+ne<=z.x||U>=z.y+z.h||U+he<=z.y){ee.push(z);continue}A>z.x&&ee.push({x:z.x,y:z.y,w:A-z.x,h:z.h}),A+ne<z.x+z.w&&ee.push({x:A+ne,y:z.y,w:z.x+z.w-(A+ne),h:z.h}),U>z.y&&ee.push({x:z.x,y:z.y,w:z.w,h:U-z.y}),U+he<z.y+z.h&&ee.push({x:z.x,y:U+he,w:z.w,h:z.y+z.h-(U+he)})}Sn=ee.filter((z,Z)=>{for(let ut=0;ut<ee.length;ut++){if(Z===ut)continue;const ze=ee[ut];if(z.x>=ze.x&&z.y>=ze.y&&z.x+z.w<=ze.x+ze.w&&z.y+z.h<=ze.y+ze.h)return!1}return!0})};for(const A of Yt){const U=A.boundingBox.w+F,ne=A.boundingBox.h+F,he=wr(U,ne);if(he){const ee=Math.round(he.x/j)*j,z=Math.round(he.y/j)*j;Gt.push({item:A,x:ee,y:z}),go(ee,z,U,ne)}else{const ee=Gt.reduce((z,Z)=>Math.max(z,Z.y+Z.item.boundingBox.h+F),0);Gt.push({item:A,x:0,y:ee}),go(0,ee,U,ne)}}for(const A of Gt){const{item:U,x:ne,y:he}=A,ee=ne-U.originalOffset.x,z=he-U.originalOffset.y;for(const Z of U.widgets){const ut=Math.round((Z.x+ee)/j)*j,ze=Math.round((Z.y+z)/j)*j;i(Z.id,ut,ze)}}},[le,ge]=_.useState({x:0,y:0}),[M,I]=_.useState(1),[O,P]=_.useState(!1),B=_.useRef({x:0,y:0}),q=_.useRef(null),J=_.useRef(null),de=_.useRef(!1),we=_.useRef(0),Dt=()=>{if(!h||S.length===0){I(1),ge({x:0,y:0});return}const j=document.querySelectorAll(".react-draggable[data-widget-id]"),F=[];if(j.forEach(z=>{const Z=z.getAttribute("data-widget-id"),ut=S.find(ze=>ze.id===Z);if(ut){const ze=z.getBoundingClientRect();F.push({x:ut.x,y:ut.y,w:ze.width/M,h:ze.height/M})}}),F.length===0){I(1),ge({x:0,y:0});return}const X=Math.min(...F.map(z=>z.x)),G=Math.min(...F.map(z=>z.y)),fe=Math.max(...F.map(z=>z.x+z.w)),se=Math.max(...F.map(z=>z.y+z.h)),at=fe-X,Pe=se-G,it=window.innerWidth,Xt=window.innerHeight,Yt=60,Sn=it-Yt*2,Gt=Xt-Yt*2,wr=Sn/at,go=Gt/Pe,A=Math.min(Math.max(Math.min(wr,go),.1),5),U=(X+fe)/2,ne=(G+se)/2,he=it/2-U*A,ee=Xt/2-ne*A;I(A),ge({x:he,y:ee})};_.useEffect(()=>{if(e&&S.length>0){const j=setTimeout(()=>{Dt()},100);return()=>clearTimeout(j)}},[e]),_.useEffect(()=>{if(h){const j=h.theme||"default",F=Ln(j);F?ha(F):gr(j)}return()=>{gr("default")}},[h==null?void 0:h.theme,h==null?void 0:h.id]),_.useEffect(()=>{const j=G=>{u||(we.current=G.touches.length,G.touches.length===2&&(de.current=!0,P(!1),q.current=Vt(G.touches),J.current=R(G.touches)))},F=G=>{if(!u&&G.touches.length===2&&de.current){if(q.current===null||J.current===null){q.current=Vt(G.touches),J.current=R(G.touches);return}G.preventDefault();const fe=Vt(G.touches),se=R(G.touches),at=fe/q.current,Pe=Math.min(Math.max(M*at,.1),5),it=(se.x-le.x)/M,Xt=(se.y-le.y)/M,Yt=se.x-it*Pe,Sn=se.y-Xt*Pe,Gt=se.x-J.current.x,wr=se.y-J.current.y;I(Pe),ge({x:Yt+Gt,y:Sn+wr}),q.current=fe,J.current=se}},X=G=>{we.current=G.touches.length,G.touches.length<2&&(G.touches.length,P(!1),de.current=!1,q.current=null,J.current=null)};return document.addEventListener("touchstart",j,{passive:!0}),document.addEventListener("touchmove",F,{passive:!1}),document.addEventListener("touchend",X,{passive:!0}),()=>{document.removeEventListener("touchstart",j),document.removeEventListener("touchmove",F),document.removeEventListener("touchend",X)}},[u,M,le]);const Al=j=>{u||j.target.closest(".react-draggable")||(r==="play"?j.button===0&&(j.preventDefault(),P(!0),B.current={x:j.clientX,y:j.clientY}):(j.button===0||j.button===1)&&(j.preventDefault(),P(!0),B.current={x:j.clientX,y:j.clientY}))},Ul=j=>{if(O){const F=j.clientX-B.current.x,X=j.clientY-B.current.y;ge(G=>({x:G.x+F,y:G.y+X})),B.current={x:j.clientX,y:j.clientY}}},bn=()=>{P(!1)},Vt=j=>{const F=j[0].clientX-j[1].clientX,X=j[0].clientY-j[1].clientY;return Math.sqrt(F*F+X*X)},R=j=>({x:(j[0].clientX+j[1].clientX)/2,y:(j[0].clientY+j[1].clientY)/2}),Se=j=>{if(u)return;we.current=j.touches.length;const F=j.target.closest(".react-draggable");if(j.touches.length===1){if(!F){const X=j.touches[0];P(!0),B.current={x:X.clientX,y:X.clientY}}q.current=null,J.current=null,de.current=!1}else j.touches.length===2&&(j.preventDefault(),P(!1),de.current=!0,q.current=Vt(j.touches),J.current=R(j.touches))},Qe=j=>{if(j.touches.length===2){if(!de.current||q.current===null||J.current===null){de.current=!0,P(!1),q.current=Vt(j.touches),J.current=R(j.touches);return}j.preventDefault();const F=Vt(j.touches),X=R(j.touches),G=F/q.current,fe=Math.min(Math.max(M*G,.1),5),se=(X.x-le.x)/M,at=(X.y-le.y)/M,Pe=X.x-se*fe,it=X.y-at*fe,Xt=X.x-J.current.x,Yt=X.y-J.current.y;I(fe),ge({x:Pe+Xt,y:it+Yt}),q.current=F,J.current=X}else if(j.touches.length===1&&O&&!de.current){const F=j.touches[0],X=F.clientX-B.current.x,G=F.clientY-B.current.y;ge(fe=>({x:fe.x+X,y:fe.y+G})),B.current={x:F.clientX,y:F.clientY}}},Ze=j=>{if(we.current=j.touches.length,j.touches.length===0)P(!1),q.current=null,J.current=null,de.current=!1;else if(j.touches.length===1){if(!de.current&&O){const F=j.touches[0];B.current={x:F.clientX,y:F.clientY}}else P(!1);q.current=null,J.current=null,de.current=!1}},Je=j=>{if(u)return;const F=Math.exp(-j.deltaY*.001),X=Math.min(Math.max(M*F,.1),5),G=j.clientX,fe=j.clientY,se=(G-le.x)/M,at=(fe-le.y)/M,Pe=G-se*X,it=fe-at*X;I(X),ge({x:Pe,y:it})},Rt=j=>{j.preventDefault(),j.dataTransfer.dropEffect="copy"},wn=j=>{j.preventDefault();const F=j.dataTransfer.getData("widgetType");if(F){const X=(j.clientX-le.x)/M,G=(j.clientY-le.y)/M,fe=10,se=it=>Math.round(it/fe)*fe,at=se(X),Pe=se(G);n(F,at,Pe)}};if(_.useEffect(()=>{const j=()=>P(!1),F=X=>{if(O){const G=X.clientX-B.current.x,fe=X.clientY-B.current.y;ge(se=>({x:se.x+G,y:se.y+fe})),B.current={x:X.clientX,y:X.clientY}}};return window.addEventListener("mouseup",j),window.addEventListener("mousemove",F),()=>{window.removeEventListener("mouseup",j),window.removeEventListener("mousemove",F)}},[O]),!h)return null;const xi=typeof window<"u"&&window.innerWidth<768,br=r==="edit"&&!k&&!xi?"md:left-72":"";return s.jsxs("div",{className:"w-full h-screen overflow-hidden relative bg-theme-background touch-none",children:[r==="edit"&&s.jsx(kg,{collapsed:k,onToggle:()=>T(!k)}),r==="edit"&&s.jsx(jg,{collapsed:f,onToggle:()=>c(!f)}),s.jsx("div",{className:`absolute inset-0 ${O?"cursor-grabbing":"cursor-default"}`,onMouseDown:Al,onMouseMove:Ul,onMouseUp:bn,onTouchStart:Se,onTouchMove:Qe,onTouchEnd:Ze,onWheel:Je,onDragOver:Rt,onDrop:wn,children:s.jsxs("div",{className:"absolute top-0 left-0 w-full h-full origin-top-left",style:{transform:`translate(${le.x}px, ${le.y}px) scale(${M})`},children:[s.jsx("div",{className:"absolute -top-[50000px] -left-[50000px] w-[100000px] h-[100000px] pattern-grid opacity-20 pointer-events-none"}),s.jsx(Dx,{widgets:S,scale:M}),S.map(j=>s.jsx(Mx,{widget:j,scale:M},j.id)),r==="edit"&&s.jsx(_x,{widgets:S,scale:M})]})}),s.jsxs("div",{className:"absolute top-2 right-2 sm:top-4 sm:right-4 flex flex-col gap-2 pointer-events-auto z-30",children:[s.jsx("div",{className:`bg-theme-paper border-[length:var(--border-width)] border-theme-border p-1.5 sm:p-2 shadow-theme rounded-theme ${r==="edit"&&!g?"cursor-pointer hover:opacity-90":""}`,children:g?s.jsx("input",{type:"text",value:b,onChange:j=>N(j.target.value),onBlur:()=>{b.trim()&&a(h.id,b.trim()),v(!1)},onKeyDown:j=>{j.key==="Enter"?(b.trim()&&a(h.id,b.trim()),v(!1)):j.key==="Escape"&&v(!1)},autoFocus:!0,className:"font-bold text-sm sm:text-xl bg-transparent border-b-[length:var(--border-width)] border-theme-border outline-none w-full text-theme-ink font-heading"}):s.jsx("h1",{className:"font-bold text-sm sm:text-xl text-theme-ink font-heading",onClick:()=>{r==="edit"&&(N(h.name),v(!0))},children:h.name})}),s.jsxs("div",{className:"relative w-full",children:[s.jsxs("button",{onClick:()=>H(!$),className:"w-full bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme px-3 py-1.5 flex items-center justify-between gap-2 hover:bg-theme-accent/10 transition-colors",children:[s.jsx("span",{className:"text-xs sm:text-sm font-body text-theme-ink",children:((po=h.sheets.find(j=>j.id===h.activeSheetId))==null?void 0:po.name)||"Sheet"}),s.jsx("span",{className:"text-theme-muted text-xs",children:""})]}),$&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>H(!1)}),s.jsxs("div",{className:"absolute top-full right-0 mt-1 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme overflow-hidden z-50 min-w-[150px]",children:[h.sheets.map(j=>s.jsx("div",{className:"group relative",children:w===j.id?s.jsx("input",{type:"text",value:y,onChange:F=>E(F.target.value),onBlur:()=>{y.trim()&&p(j.id,y.trim()),C(null)},onKeyDown:F=>{F.key==="Enter"?(y.trim()&&p(j.id,y.trim()),C(null)):F.key==="Escape"&&C(null)},autoFocus:!0,onClick:F=>F.stopPropagation(),className:"w-full px-3 py-2 text-xs sm:text-sm bg-transparent border-b border-theme-border outline-none text-theme-ink font-body"}):s.jsxs("button",{onClick:()=>{m(j.id),H(!1)},className:`w-full px-3 py-2 text-xs sm:text-sm text-left font-body transition-colors flex items-center justify-between ${j.id===h.activeSheetId?"bg-theme-accent text-theme-paper":"text-theme-ink hover:bg-theme-accent/20"}`,children:[s.jsx("span",{children:j.name}),r==="edit"&&s.jsxs("span",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("span",{onClick:F=>{F.stopPropagation(),E(j.name),C(j.id)},className:`w-5 h-5 rounded-full text-xs flex items-center justify-center ${j.id===h.activeSheetId?"bg-theme-paper/30 text-theme-paper hover:bg-theme-paper/50":"bg-theme-accent/20 text-theme-ink hover:bg-theme-accent/40"}`,title:"Rename sheet",children:""}),h.sheets.length>1&&s.jsx("span",{onClick:F=>{F.stopPropagation(),je(j.id)},className:"w-5 h-5 bg-red-500 text-white rounded-full text-xs flex items-center justify-center hover:bg-red-600",title:"Delete sheet",children:""})]})]})},j.id)),r==="edit"&&s.jsx("button",{onClick:()=>{d(`Sheet ${h.sheets.length+1}`),H(!1)},className:"w-full px-3 py-2 text-xs sm:text-sm text-theme-muted hover:text-theme-ink hover:bg-theme-accent/20 text-left font-body border-t border-theme-border/50 transition-colors",children:"+ Add New Sheet"})]})]}),Y&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>je(null)}),s.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme p-4 z-50 min-w-[250px]",children:[s.jsx("h3",{className:"font-heading text-theme-ink font-bold mb-2",children:"Delete Sheet?"}),s.jsxs("p",{className:"text-sm text-theme-muted font-body mb-4",children:['Are you sure you want to delete "',(vi=h.sheets.find(j=>j.id===Y))==null?void 0:vi.name,'"? This will delete all widgets on this sheet.']}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx("button",{onClick:()=>je(null),className:"px-3 py-1.5 text-sm font-body text-theme-ink hover:bg-theme-accent/20 rounded-theme transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>{x(Y),je(null),H(!1)},className:"px-3 py-1.5 text-sm font-body bg-red-500 text-white hover:bg-red-600 rounded-theme transition-colors",children:"Delete"})]})]})]})]}),s.jsxs("div",{className:"flex gap-1 justify-end",children:[s.jsx("button",{onClick:()=>I(j=>Math.min(5,j*1.3)),className:"w-8 h-8 sm:w-10 sm:h-10 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-base sm:text-xl shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none flex items-center justify-center rounded-theme text-theme-ink",children:"+"}),s.jsx("button",{onClick:()=>I(j=>Math.max(.1,j/1.3)),className:"w-8 h-8 sm:w-10 sm:h-10 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-base sm:text-xl shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none flex items-center justify-center rounded-theme text-theme-ink",children:""}),s.jsx("button",{onClick:Dt,className:"px-2 h-8 sm:h-10 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none flex items-center justify-center rounded-theme text-theme-ink",children:"Fit"})]})]}),s.jsxs("div",{className:`absolute top-2 left-2 sm:top-4 sm:left-4 ${br} pointer-events-auto transition-all duration-300 flex flex-col gap-1.5 sm:gap-2 z-30`,children:[s.jsxs("button",{onClick:()=>l(null),className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs sm:text-base shadow-theme hover:bg-red-500 hover:text-white hover:border-red-700 transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme text-theme-ink",children:[s.jsx("span",{className:"sm:hidden",children:""}),s.jsx("span",{className:"hidden sm:inline",children:" Exit to Menu"})]}),s.jsx("button",{onClick:()=>o(r==="play"?"edit":"play"),className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs sm:text-base shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme text-theme-ink",children:r==="play"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"sm:hidden",children:""}),s.jsx("span",{className:"hidden sm:inline",children:" Edit Mode"})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"sm:hidden",children:""}),s.jsx("span",{className:"hidden sm:inline",children:" Play Mode"})]})}),r==="edit"&&s.jsx("button",{onClick:()=>T(!k),className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs sm:text-base shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme text-theme-ink",children:k?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"sm:hidden",children:""}),s.jsx("span",{className:"hidden sm:inline",children:" Show Toolbox"})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"sm:hidden",children:""}),s.jsx("span",{className:"hidden sm:inline",children:" Hide Toolbox"})]})}),r==="edit"&&s.jsx("button",{onClick:()=>c(!f),className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs sm:text-base shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme text-theme-ink",children:f?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"sm:hidden",children:""}),s.jsx("span",{className:"hidden sm:inline",children:" Change Theme"})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"sm:hidden",children:""}),s.jsx("span",{className:"hidden sm:inline",children:" Hide Themes"})]})}),r==="edit"&&s.jsxs("button",{onClick:Ke,className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs sm:text-base shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme text-theme-ink",children:[s.jsx("span",{className:"sm:hidden",children:""}),s.jsx("span",{className:"hidden sm:inline",children:" Auto Stack"})]})]})]})}function Ox(){const e=W(t=>t.activeCharacterId);return s.jsx("div",{className:"h-full bg-gray-100 text-ink font-mono overflow-hidden",children:e?s.jsx(Lx,{}):s.jsx(wg,{})})}gr("default");bs.createRoot(document.getElementById("root")).render(s.jsx(Qu.StrictMode,{children:s.jsx(Ox,{})}));
