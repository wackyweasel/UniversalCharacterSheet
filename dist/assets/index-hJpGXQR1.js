(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function xa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bc={exports:{}},wl={},Uc={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fo=Symbol.for("react.element"),dh=Symbol.for("react.portal"),fh=Symbol.for("react.fragment"),hh=Symbol.for("react.strict_mode"),mh=Symbol.for("react.profiler"),ph=Symbol.for("react.provider"),xh=Symbol.for("react.context"),gh=Symbol.for("react.forward_ref"),vh=Symbol.for("react.suspense"),yh=Symbol.for("react.memo"),bh=Symbol.for("react.lazy"),ki=Symbol.iterator;function wh(e){return e===null||typeof e!="object"?null:(e=ki&&e[ki]||e["@@iterator"],typeof e=="function"?e:null)}var Vc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gc=Object.assign,Yc={};function br(e,t,n){this.props=e,this.context=t,this.refs=Yc,this.updater=n||Vc}br.prototype.isReactComponent={};br.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};br.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xc(){}Xc.prototype=br.prototype;function ga(e,t,n){this.props=e,this.context=t,this.refs=Yc,this.updater=n||Vc}var va=ga.prototype=new Xc;va.constructor=ga;Gc(va,br.prototype);va.isPureReactComponent=!0;var Si=Array.isArray,Kc=Object.prototype.hasOwnProperty,ya={current:null},Qc={key:!0,ref:!0,__self:!0,__source:!0};function Zc(e,t,n){var r,o={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Kc.call(t,r)&&!Qc.hasOwnProperty(r)&&(o[r]=t[r]);var i=arguments.length-2;if(i===1)o.children=n;else if(1<i){for(var c=Array(i),d=0;d<i;d++)c[d]=arguments[d+2];o.children=c}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)o[r]===void 0&&(o[r]=i[r]);return{$$typeof:fo,type:e,key:s,ref:a,props:o,_owner:ya.current}}function kh(e,t){return{$$typeof:fo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ba(e){return typeof e=="object"&&e!==null&&e.$$typeof===fo}function Sh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ji=/\/+/g;function Ul(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Sh(""+e.key):t.toString(36)}function Wo(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case fo:case dh:a=!0}}if(a)return a=e,o=o(a),e=r===""?"."+Ul(a,0):r,Si(o)?(n="",e!=null&&(n=e.replace(ji,"$&/")+"/"),Wo(o,t,n,"",function(d){return d})):o!=null&&(ba(o)&&(o=kh(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(ji,"$&/")+"/")+e)),t.push(o)),1;if(a=0,r=r===""?".":r+":",Si(e))for(var i=0;i<e.length;i++){s=e[i];var c=r+Ul(s,i);a+=Wo(s,t,n,c,o)}else if(c=wh(e),typeof c=="function")for(e=c.call(e),i=0;!(s=e.next()).done;)s=s.value,c=r+Ul(s,i++),a+=Wo(s,t,n,c,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function vo(e,t,n){if(e==null)return e;var r=[],o=0;return Wo(e,r,"","",function(s){return t.call(n,s,o++)}),r}function jh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ye={current:null},Ao={transition:null},Nh={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:Ao,ReactCurrentOwner:ya};function Jc(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:vo,forEach:function(e,t,n){vo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return vo(e,function(){t++}),t},toArray:function(e){return vo(e,function(t){return t})||[]},only:function(e){if(!ba(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=br;Q.Fragment=fh;Q.Profiler=mh;Q.PureComponent=ga;Q.StrictMode=hh;Q.Suspense=vh;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nh;Q.act=Jc;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Gc({},e.props),o=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=ya.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)Kc.call(t,c)&&!Qc.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){i=Array(c);for(var d=0;d<c;d++)i[d]=arguments[d+2];r.children=i}return{$$typeof:fo,type:e.type,key:o,ref:s,props:r,_owner:a}};Q.createContext=function(e){return e={$$typeof:xh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ph,_context:e},e.Consumer=e};Q.createElement=Zc;Q.createFactory=function(e){var t=Zc.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:gh,render:e}};Q.isValidElement=ba;Q.lazy=function(e){return{$$typeof:bh,_payload:{_status:-1,_result:e},_init:jh}};Q.memo=function(e,t){return{$$typeof:yh,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=Ao.transition;Ao.transition={};try{e()}finally{Ao.transition=t}};Q.unstable_act=Jc;Q.useCallback=function(e,t){return Ye.current.useCallback(e,t)};Q.useContext=function(e){return Ye.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return Ye.current.useDeferredValue(e)};Q.useEffect=function(e,t){return Ye.current.useEffect(e,t)};Q.useId=function(){return Ye.current.useId()};Q.useImperativeHandle=function(e,t,n){return Ye.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return Ye.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return Ye.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return Ye.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return Ye.current.useReducer(e,t,n)};Q.useRef=function(e){return Ye.current.useRef(e)};Q.useState=function(e){return Ye.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return Ye.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return Ye.current.useTransition()};Q.version="18.3.1";Uc.exports=Q;var P=Uc.exports;const kl=xa(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch=P,Th=Symbol.for("react.element"),Eh=Symbol.for("react.fragment"),Ph=Object.prototype.hasOwnProperty,Ih=Ch.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mh={key:!0,ref:!0,__self:!0,__source:!0};function qc(e,t,n){var r,o={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Ph.call(t,r)&&!Mh.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Th,type:e,key:s,ref:a,props:o,_owner:Ih.current}}wl.Fragment=Eh;wl.jsx=qc;wl.jsxs=qc;Bc.exports=wl;var l=Bc.exports,ws={},eu={exports:{}},ht={},tu={exports:{}},nu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,E){var W=I.length;I.push(E);e:for(;0<W;){var R=W-1>>>1,le=I[R];if(0<o(le,E))I[R]=E,I[W]=le,W=R;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var E=I[0],W=I.pop();if(W!==E){I[0]=W;e:for(var R=0,le=I.length,Ae=le>>>1;R<Ae;){var ke=2*(R+1)-1,St=I[ke],xe=ke+1,Se=I[xe];if(0>o(St,W))xe<le&&0>o(Se,St)?(I[R]=Se,I[xe]=W,R=xe):(I[R]=St,I[ke]=W,R=ke);else if(xe<le&&0>o(Se,W))I[R]=Se,I[xe]=W,R=xe;else break e}}return E}function o(I,E){var W=I.sortIndex-E.sortIndex;return W!==0?W:I.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,i=a.now();e.unstable_now=function(){return a.now()-i}}var c=[],d=[],m=1,g=null,p=3,f=!1,k=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(I){for(var E=n(d);E!==null;){if(E.callback===null)r(d);else if(E.startTime<=I)r(d),E.sortIndex=E.expirationTime,t(c,E);else break;E=n(d)}}function y(I){if(w=!1,x(I),!k)if(n(c)!==null)k=!0,Y(v);else{var E=n(d);E!==null&&X(y,E.startTime-I)}}function v(I,E){k=!1,w&&(w=!1,h(T),T=-1),f=!0;var W=p;try{for(x(E),g=n(c);g!==null&&(!(g.expirationTime>E)||I&&!L());){var R=g.callback;if(typeof R=="function"){g.callback=null,p=g.priorityLevel;var le=R(g.expirationTime<=E);E=e.unstable_now(),typeof le=="function"?g.callback=le:g===n(c)&&r(c),x(E)}else r(c);g=n(c)}if(g!==null)var Ae=!0;else{var ke=n(d);ke!==null&&X(y,ke.startTime-E),Ae=!1}return Ae}finally{g=null,p=W,f=!1}}var b=!1,N=null,T=-1,S=5,C=-1;function L(){return!(e.unstable_now()-C<S)}function $(){if(N!==null){var I=e.unstable_now();C=I;var E=!0;try{E=N(!0,I)}finally{E?M():(b=!1,N=null)}}else b=!1}var M;if(typeof u=="function")M=function(){u($)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,V=U.port2;U.port1.onmessage=$,M=function(){V.postMessage(null)}}else M=function(){j($,0)};function Y(I){N=I,b||(b=!0,M())}function X(I,E){T=j(function(){I(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){k||f||(k=!0,Y(v))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(I){switch(p){case 1:case 2:case 3:var E=3;break;default:E=p}var W=p;p=E;try{return I()}finally{p=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,E){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var W=p;p=I;try{return E()}finally{p=W}},e.unstable_scheduleCallback=function(I,E,W){var R=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?R+W:R):W=R,I){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=W+le,I={id:m++,callback:E,priorityLevel:I,startTime:W,expirationTime:le,sortIndex:-1},W>R?(I.sortIndex=W,t(d,I),n(c)===null&&I===n(d)&&(w?(h(T),T=-1):w=!0,X(y,W-R))):(I.sortIndex=le,t(c,I),k||f||(k=!0,Y(v))),I},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(I){var E=p;return function(){var W=p;p=E;try{return I.apply(this,arguments)}finally{p=W}}}})(nu);tu.exports=nu;var Dh=tu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rh=P,ft=Dh;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ru=new Set,Xr={};function Wn(e,t){dr(e,t),dr(e+"Capture",t)}function dr(e,t){for(Xr[e]=t,e=0;e<t.length;e++)ru.add(t[e])}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ks=Object.prototype.hasOwnProperty,_h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ni={},Ci={};function Lh(e){return ks.call(Ci,e)?!0:ks.call(Ni,e)?!1:_h.test(e)?Ci[e]=!0:(Ni[e]=!0,!1)}function Oh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $h(e,t,n,r){if(t===null||typeof t>"u"||Oh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xe(e,t,n,r,o,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new Xe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new Xe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new Xe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new Xe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new Xe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new Xe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new Xe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new Xe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new Xe(e,5,!1,e.toLowerCase(),null,!1,!1)});var wa=/[\-:]([a-z])/g;function ka(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wa,ka);Re[t]=new Xe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wa,ka);Re[t]=new Xe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wa,ka);Re[t]=new Xe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new Xe(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new Xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new Xe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sa(e,t,n,r){var o=Re.hasOwnProperty(t)?Re[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($h(t,n,o,r)&&(n=null),r||o===null?Lh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Jt=Rh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yo=Symbol.for("react.element"),Un=Symbol.for("react.portal"),Vn=Symbol.for("react.fragment"),ja=Symbol.for("react.strict_mode"),Ss=Symbol.for("react.profiler"),ou=Symbol.for("react.provider"),lu=Symbol.for("react.context"),Na=Symbol.for("react.forward_ref"),js=Symbol.for("react.suspense"),Ns=Symbol.for("react.suspense_list"),Ca=Symbol.for("react.memo"),rn=Symbol.for("react.lazy"),su=Symbol.for("react.offscreen"),Ti=Symbol.iterator;function Nr(e){return e===null||typeof e!="object"?null:(e=Ti&&e[Ti]||e["@@iterator"],typeof e=="function"?e:null)}var he=Object.assign,Vl;function Lr(e){if(Vl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vl=t&&t[1]||""}return`
`+Vl+e}var Gl=!1;function Yl(e,t){if(!e||Gl)return"";Gl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),s=r.stack.split(`
`),a=o.length-1,i=s.length-1;1<=a&&0<=i&&o[a]!==s[i];)i--;for(;1<=a&&0<=i;a--,i--)if(o[a]!==s[i]){if(a!==1||i!==1)do if(a--,i--,0>i||o[a]!==s[i]){var c=`
`+o[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=i);break}}}finally{Gl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Lr(e):""}function zh(e){switch(e.tag){case 5:return Lr(e.type);case 16:return Lr("Lazy");case 13:return Lr("Suspense");case 19:return Lr("SuspenseList");case 0:case 2:case 15:return e=Yl(e.type,!1),e;case 11:return e=Yl(e.type.render,!1),e;case 1:return e=Yl(e.type,!0),e;default:return""}}function Cs(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vn:return"Fragment";case Un:return"Portal";case Ss:return"Profiler";case ja:return"StrictMode";case js:return"Suspense";case Ns:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lu:return(e.displayName||"Context")+".Consumer";case ou:return(e._context.displayName||"Context")+".Provider";case Na:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ca:return t=e.displayName||null,t!==null?t:Cs(e.type)||"Memo";case rn:t=e._payload,e=e._init;try{return Cs(e(t))}catch{}}return null}function Wh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cs(t);case 8:return t===ja?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function au(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ah(e){var t=au(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bo(e){e._valueTracker||(e._valueTracker=Ah(e))}function iu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=au(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Zo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ts(e,t){var n=t.checked;return he({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ei(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=yn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cu(e,t){t=t.checked,t!=null&&Sa(e,"checked",t,!1)}function Es(e,t){cu(e,t);var n=yn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ps(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ps(e,t.type,yn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pi(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ps(e,t,n){(t!=="number"||Zo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Or=Array.isArray;function lr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+yn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Is(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return he({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ii(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_(92));if(Or(n)){if(1<n.length)throw Error(_(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:yn(n)}}function uu(e,t){var n=yn(t.value),r=yn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Mi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function du(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ms(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?du(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wo,fu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wo=wo||document.createElement("div"),wo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fh=["Webkit","ms","Moz","O"];Object.keys(Wr).forEach(function(e){Fh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wr[t]=Wr[e]})});function hu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Wr.hasOwnProperty(e)&&Wr[e]?(""+t).trim():t+"px"}function mu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=hu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Hh=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ds(e,t){if(t){if(Hh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function Rs(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _s=null;function Ta(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ls=null,sr=null,ar=null;function Di(e){if(e=po(e)){if(typeof Ls!="function")throw Error(_(280));var t=e.stateNode;t&&(t=Tl(t),Ls(e.stateNode,e.type,t))}}function pu(e){sr?ar?ar.push(e):ar=[e]:sr=e}function xu(){if(sr){var e=sr,t=ar;if(ar=sr=null,Di(e),t)for(e=0;e<t.length;e++)Di(t[e])}}function gu(e,t){return e(t)}function vu(){}var Xl=!1;function yu(e,t,n){if(Xl)return e(t,n);Xl=!0;try{return gu(e,t,n)}finally{Xl=!1,(sr!==null||ar!==null)&&(vu(),xu())}}function Qr(e,t){var n=e.stateNode;if(n===null)return null;var r=Tl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_(231,t,typeof n));return n}var Os=!1;if(Xt)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){Os=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{Os=!1}function Bh(e,t,n,r,o,s,a,i,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(m){this.onError(m)}}var Ar=!1,Jo=null,qo=!1,$s=null,Uh={onError:function(e){Ar=!0,Jo=e}};function Vh(e,t,n,r,o,s,a,i,c){Ar=!1,Jo=null,Bh.apply(Uh,arguments)}function Gh(e,t,n,r,o,s,a,i,c){if(Vh.apply(this,arguments),Ar){if(Ar){var d=Jo;Ar=!1,Jo=null}else throw Error(_(198));qo||(qo=!0,$s=d)}}function An(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function bu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ri(e){if(An(e)!==e)throw Error(_(188))}function Yh(e){var t=e.alternate;if(!t){if(t=An(e),t===null)throw Error(_(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Ri(o),e;if(s===r)return Ri(o),t;s=s.sibling}throw Error(_(188))}if(n.return!==r.return)n=o,r=s;else{for(var a=!1,i=o.child;i;){if(i===n){a=!0,n=o,r=s;break}if(i===r){a=!0,r=o,n=s;break}i=i.sibling}if(!a){for(i=s.child;i;){if(i===n){a=!0,n=s,r=o;break}if(i===r){a=!0,r=s,n=o;break}i=i.sibling}if(!a)throw Error(_(189))}}if(n.alternate!==r)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?e:t}function wu(e){return e=Yh(e),e!==null?ku(e):null}function ku(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ku(e);if(t!==null)return t;e=e.sibling}return null}var Su=ft.unstable_scheduleCallback,_i=ft.unstable_cancelCallback,Xh=ft.unstable_shouldYield,Kh=ft.unstable_requestPaint,ge=ft.unstable_now,Qh=ft.unstable_getCurrentPriorityLevel,Ea=ft.unstable_ImmediatePriority,ju=ft.unstable_UserBlockingPriority,el=ft.unstable_NormalPriority,Zh=ft.unstable_LowPriority,Nu=ft.unstable_IdlePriority,Sl=null,Ot=null;function Jh(e){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Sl,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:tm,qh=Math.log,em=Math.LN2;function tm(e){return e>>>=0,e===0?32:31-(qh(e)/em|0)|0}var ko=64,So=4194304;function $r(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var i=a&~o;i!==0?r=$r(i):(s&=a,s!==0&&(r=$r(s)))}else a=n&~o,a!==0?r=$r(a):s!==0&&(r=$r(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pt(t),o=1<<n,r|=e[n],t&=~o;return r}function nm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Pt(s),i=1<<a,c=o[a];c===-1?(!(i&n)||i&r)&&(o[a]=nm(i,t)):c<=t&&(e.expiredLanes|=i),s&=~i}}function zs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Cu(){var e=ko;return ko<<=1,!(ko&4194240)&&(ko=64),e}function Kl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ho(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=n}function om(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Pt(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function Pa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ne=0;function Tu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Eu,Ia,Pu,Iu,Mu,Ws=!1,jo=[],un=null,dn=null,fn=null,Zr=new Map,Jr=new Map,ln=[],lm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Li(e,t){switch(e){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":Zr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jr.delete(t.pointerId)}}function Tr(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=po(t),t!==null&&Ia(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function sm(e,t,n,r,o){switch(t){case"focusin":return un=Tr(un,e,t,n,r,o),!0;case"dragenter":return dn=Tr(dn,e,t,n,r,o),!0;case"mouseover":return fn=Tr(fn,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return Zr.set(s,Tr(Zr.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Jr.set(s,Tr(Jr.get(s)||null,e,t,n,r,o)),!0}return!1}function Du(e){var t=En(e.target);if(t!==null){var n=An(t);if(n!==null){if(t=n.tag,t===13){if(t=bu(n),t!==null){e.blockedOn=t,Mu(e.priority,function(){Pu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=As(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);_s=r,n.target.dispatchEvent(r),_s=null}else return t=po(n),t!==null&&Ia(t),e.blockedOn=n,!1;t.shift()}return!0}function Oi(e,t,n){Fo(e)&&n.delete(t)}function am(){Ws=!1,un!==null&&Fo(un)&&(un=null),dn!==null&&Fo(dn)&&(dn=null),fn!==null&&Fo(fn)&&(fn=null),Zr.forEach(Oi),Jr.forEach(Oi)}function Er(e,t){e.blockedOn===t&&(e.blockedOn=null,Ws||(Ws=!0,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,am)))}function qr(e){function t(o){return Er(o,e)}if(0<jo.length){Er(jo[0],e);for(var n=1;n<jo.length;n++){var r=jo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(un!==null&&Er(un,e),dn!==null&&Er(dn,e),fn!==null&&Er(fn,e),Zr.forEach(t),Jr.forEach(t),n=0;n<ln.length;n++)r=ln[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ln.length&&(n=ln[0],n.blockedOn===null);)Du(n),n.blockedOn===null&&ln.shift()}var ir=Jt.ReactCurrentBatchConfig,nl=!0;function im(e,t,n,r){var o=ne,s=ir.transition;ir.transition=null;try{ne=1,Ma(e,t,n,r)}finally{ne=o,ir.transition=s}}function cm(e,t,n,r){var o=ne,s=ir.transition;ir.transition=null;try{ne=4,Ma(e,t,n,r)}finally{ne=o,ir.transition=s}}function Ma(e,t,n,r){if(nl){var o=As(e,t,n,r);if(o===null)ls(e,t,r,rl,n),Li(e,r);else if(sm(o,e,t,n,r))r.stopPropagation();else if(Li(e,r),t&4&&-1<lm.indexOf(e)){for(;o!==null;){var s=po(o);if(s!==null&&Eu(s),s=As(e,t,n,r),s===null&&ls(e,t,r,rl,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else ls(e,t,r,null,n)}}var rl=null;function As(e,t,n,r){if(rl=null,e=Ta(r),e=En(e),e!==null)if(t=An(e),t===null)e=null;else if(n=t.tag,n===13){if(e=bu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rl=e,null}function Ru(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qh()){case Ea:return 1;case ju:return 4;case el:case Zh:return 16;case Nu:return 536870912;default:return 16}default:return 16}}var an=null,Da=null,Ho=null;function _u(){if(Ho)return Ho;var e,t=Da,n=t.length,r,o="value"in an?an.value:an.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===o[s-r];r++);return Ho=o.slice(e,1<r?1-r:void 0)}function Bo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function No(){return!0}function $i(){return!1}function mt(e){function t(n,r,o,s,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(s):s[i]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?No:$i,this.isPropagationStopped=$i,this}return he(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=No)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=No)},persist:function(){},isPersistent:No}),t}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=mt(wr),mo=he({},wr,{view:0,detail:0}),um=mt(mo),Ql,Zl,Pr,jl=he({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_a,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pr&&(Pr&&e.type==="mousemove"?(Ql=e.screenX-Pr.screenX,Zl=e.screenY-Pr.screenY):Zl=Ql=0,Pr=e),Ql)},movementY:function(e){return"movementY"in e?e.movementY:Zl}}),zi=mt(jl),dm=he({},jl,{dataTransfer:0}),fm=mt(dm),hm=he({},mo,{relatedTarget:0}),Jl=mt(hm),mm=he({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),pm=mt(mm),xm=he({},wr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gm=mt(xm),vm=he({},wr,{data:0}),Wi=mt(vm),ym={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function km(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wm[e])?!!t[e]:!1}function _a(){return km}var Sm=he({},mo,{key:function(e){if(e.key){var t=ym[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_a,charCode:function(e){return e.type==="keypress"?Bo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jm=mt(Sm),Nm=he({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ai=mt(Nm),Cm=he({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_a}),Tm=mt(Cm),Em=he({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pm=mt(Em),Im=he({},jl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mm=mt(Im),Dm=[9,13,27,32],La=Xt&&"CompositionEvent"in window,Fr=null;Xt&&"documentMode"in document&&(Fr=document.documentMode);var Rm=Xt&&"TextEvent"in window&&!Fr,Lu=Xt&&(!La||Fr&&8<Fr&&11>=Fr),Fi=" ",Hi=!1;function Ou(e,t){switch(e){case"keyup":return Dm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $u(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gn=!1;function _m(e,t){switch(e){case"compositionend":return $u(t);case"keypress":return t.which!==32?null:(Hi=!0,Fi);case"textInput":return e=t.data,e===Fi&&Hi?null:e;default:return null}}function Lm(e,t){if(Gn)return e==="compositionend"||!La&&Ou(e,t)?(e=_u(),Ho=Da=an=null,Gn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lu&&t.locale!=="ko"?null:t.data;default:return null}}var Om={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Om[e.type]:t==="textarea"}function zu(e,t,n,r){pu(r),t=ol(t,"onChange"),0<t.length&&(n=new Ra("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hr=null,eo=null;function $m(e){Ku(e,0)}function Nl(e){var t=Kn(e);if(iu(t))return e}function zm(e,t){if(e==="change")return t}var Wu=!1;if(Xt){var ql;if(Xt){var es="oninput"in document;if(!es){var Ui=document.createElement("div");Ui.setAttribute("oninput","return;"),es=typeof Ui.oninput=="function"}ql=es}else ql=!1;Wu=ql&&(!document.documentMode||9<document.documentMode)}function Vi(){Hr&&(Hr.detachEvent("onpropertychange",Au),eo=Hr=null)}function Au(e){if(e.propertyName==="value"&&Nl(eo)){var t=[];zu(t,eo,e,Ta(e)),yu($m,t)}}function Wm(e,t,n){e==="focusin"?(Vi(),Hr=t,eo=n,Hr.attachEvent("onpropertychange",Au)):e==="focusout"&&Vi()}function Am(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nl(eo)}function Fm(e,t){if(e==="click")return Nl(t)}function Hm(e,t){if(e==="input"||e==="change")return Nl(t)}function Bm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:Bm;function to(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ks.call(t,o)||!Dt(e[o],t[o]))return!1}return!0}function Gi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yi(e,t){var n=Gi(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gi(n)}}function Fu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hu(){for(var e=window,t=Zo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Zo(e.document)}return t}function Oa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Um(e){var t=Hu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Fu(n.ownerDocument.documentElement,n)){if(r!==null&&Oa(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=Yi(n,s);var a=Yi(n,r);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vm=Xt&&"documentMode"in document&&11>=document.documentMode,Yn=null,Fs=null,Br=null,Hs=!1;function Xi(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hs||Yn==null||Yn!==Zo(r)||(r=Yn,"selectionStart"in r&&Oa(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Br&&to(Br,r)||(Br=r,r=ol(Fs,"onSelect"),0<r.length&&(t=new Ra("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Yn)))}function Co(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Xn={animationend:Co("Animation","AnimationEnd"),animationiteration:Co("Animation","AnimationIteration"),animationstart:Co("Animation","AnimationStart"),transitionend:Co("Transition","TransitionEnd")},ts={},Bu={};Xt&&(Bu=document.createElement("div").style,"AnimationEvent"in window||(delete Xn.animationend.animation,delete Xn.animationiteration.animation,delete Xn.animationstart.animation),"TransitionEvent"in window||delete Xn.transitionend.transition);function Cl(e){if(ts[e])return ts[e];if(!Xn[e])return e;var t=Xn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Bu)return ts[e]=t[n];return e}var Uu=Cl("animationend"),Vu=Cl("animationiteration"),Gu=Cl("animationstart"),Yu=Cl("transitionend"),Xu=new Map,Ki="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(e,t){Xu.set(e,t),Wn(t,[e])}for(var ns=0;ns<Ki.length;ns++){var rs=Ki[ns],Gm=rs.toLowerCase(),Ym=rs[0].toUpperCase()+rs.slice(1);kn(Gm,"on"+Ym)}kn(Uu,"onAnimationEnd");kn(Vu,"onAnimationIteration");kn(Gu,"onAnimationStart");kn("dblclick","onDoubleClick");kn("focusin","onFocus");kn("focusout","onBlur");kn(Yu,"onTransitionEnd");dr("onMouseEnter",["mouseout","mouseover"]);dr("onMouseLeave",["mouseout","mouseover"]);dr("onPointerEnter",["pointerout","pointerover"]);dr("onPointerLeave",["pointerout","pointerover"]);Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xm=new Set("cancel close invalid load scroll toggle".split(" ").concat(zr));function Qi(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Gh(r,t,void 0,e),e.currentTarget=null}function Ku(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var i=r[a],c=i.instance,d=i.currentTarget;if(i=i.listener,c!==s&&o.isPropagationStopped())break e;Qi(o,i,d),s=c}else for(a=0;a<r.length;a++){if(i=r[a],c=i.instance,d=i.currentTarget,i=i.listener,c!==s&&o.isPropagationStopped())break e;Qi(o,i,d),s=c}}}if(qo)throw e=$s,qo=!1,$s=null,e}function se(e,t){var n=t[Ys];n===void 0&&(n=t[Ys]=new Set);var r=e+"__bubble";n.has(r)||(Qu(t,e,2,!1),n.add(r))}function os(e,t,n){var r=0;t&&(r|=4),Qu(n,e,r,t)}var To="_reactListening"+Math.random().toString(36).slice(2);function no(e){if(!e[To]){e[To]=!0,ru.forEach(function(n){n!=="selectionchange"&&(Xm.has(n)||os(n,!1,e),os(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[To]||(t[To]=!0,os("selectionchange",!1,t))}}function Qu(e,t,n,r){switch(Ru(t)){case 1:var o=im;break;case 4:o=cm;break;default:o=Ma}n=o.bind(null,t,n,e),o=void 0,!Os||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function ls(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var i=r.stateNode.containerInfo;if(i===o||i.nodeType===8&&i.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;a=a.return}for(;i!==null;){if(a=En(i),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}i=i.parentNode}}r=r.return}yu(function(){var d=s,m=Ta(n),g=[];e:{var p=Xu.get(e);if(p!==void 0){var f=Ra,k=e;switch(e){case"keypress":if(Bo(n)===0)break e;case"keydown":case"keyup":f=jm;break;case"focusin":k="focus",f=Jl;break;case"focusout":k="blur",f=Jl;break;case"beforeblur":case"afterblur":f=Jl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=zi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=fm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Tm;break;case Uu:case Vu:case Gu:f=pm;break;case Yu:f=Pm;break;case"scroll":f=um;break;case"wheel":f=Mm;break;case"copy":case"cut":case"paste":f=gm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Ai}var w=(t&4)!==0,j=!w&&e==="scroll",h=w?p!==null?p+"Capture":null:p;w=[];for(var u=d,x;u!==null;){x=u;var y=x.stateNode;if(x.tag===5&&y!==null&&(x=y,h!==null&&(y=Qr(u,h),y!=null&&w.push(ro(u,y,x)))),j)break;u=u.return}0<w.length&&(p=new f(p,k,null,n,m),g.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&n!==_s&&(k=n.relatedTarget||n.fromElement)&&(En(k)||k[Kt]))break e;if((f||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,f?(k=n.relatedTarget||n.toElement,f=d,k=k?En(k):null,k!==null&&(j=An(k),k!==j||k.tag!==5&&k.tag!==6)&&(k=null)):(f=null,k=d),f!==k)){if(w=zi,y="onMouseLeave",h="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(w=Ai,y="onPointerLeave",h="onPointerEnter",u="pointer"),j=f==null?p:Kn(f),x=k==null?p:Kn(k),p=new w(y,u+"leave",f,n,m),p.target=j,p.relatedTarget=x,y=null,En(m)===d&&(w=new w(h,u+"enter",k,n,m),w.target=x,w.relatedTarget=j,y=w),j=y,f&&k)t:{for(w=f,h=k,u=0,x=w;x;x=Hn(x))u++;for(x=0,y=h;y;y=Hn(y))x++;for(;0<u-x;)w=Hn(w),u--;for(;0<x-u;)h=Hn(h),x--;for(;u--;){if(w===h||h!==null&&w===h.alternate)break t;w=Hn(w),h=Hn(h)}w=null}else w=null;f!==null&&Zi(g,p,f,w,!1),k!==null&&j!==null&&Zi(g,j,k,w,!0)}}e:{if(p=d?Kn(d):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var v=zm;else if(Bi(p))if(Wu)v=Hm;else{v=Am;var b=Wm}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(v=Fm);if(v&&(v=v(e,d))){zu(g,v,n,m);break e}b&&b(e,p,d),e==="focusout"&&(b=p._wrapperState)&&b.controlled&&p.type==="number"&&Ps(p,"number",p.value)}switch(b=d?Kn(d):window,e){case"focusin":(Bi(b)||b.contentEditable==="true")&&(Yn=b,Fs=d,Br=null);break;case"focusout":Br=Fs=Yn=null;break;case"mousedown":Hs=!0;break;case"contextmenu":case"mouseup":case"dragend":Hs=!1,Xi(g,n,m);break;case"selectionchange":if(Vm)break;case"keydown":case"keyup":Xi(g,n,m)}var N;if(La)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Gn?Ou(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Lu&&n.locale!=="ko"&&(Gn||T!=="onCompositionStart"?T==="onCompositionEnd"&&Gn&&(N=_u()):(an=m,Da="value"in an?an.value:an.textContent,Gn=!0)),b=ol(d,T),0<b.length&&(T=new Wi(T,e,null,n,m),g.push({event:T,listeners:b}),N?T.data=N:(N=$u(n),N!==null&&(T.data=N)))),(N=Rm?_m(e,n):Lm(e,n))&&(d=ol(d,"onBeforeInput"),0<d.length&&(m=new Wi("onBeforeInput","beforeinput",null,n,m),g.push({event:m,listeners:d}),m.data=N))}Ku(g,t)})}function ro(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ol(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Qr(e,n),s!=null&&r.unshift(ro(e,s,o)),s=Qr(e,t),s!=null&&r.push(ro(e,s,o))),e=e.return}return r}function Hn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zi(e,t,n,r,o){for(var s=t._reactName,a=[];n!==null&&n!==r;){var i=n,c=i.alternate,d=i.stateNode;if(c!==null&&c===r)break;i.tag===5&&d!==null&&(i=d,o?(c=Qr(n,s),c!=null&&a.unshift(ro(n,c,i))):o||(c=Qr(n,s),c!=null&&a.push(ro(n,c,i)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Km=/\r\n?/g,Qm=/\u0000|\uFFFD/g;function Ji(e){return(typeof e=="string"?e:""+e).replace(Km,`
`).replace(Qm,"")}function Eo(e,t,n){if(t=Ji(t),Ji(e)!==t&&n)throw Error(_(425))}function ll(){}var Bs=null,Us=null;function Vs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gs=typeof setTimeout=="function"?setTimeout:void 0,Zm=typeof clearTimeout=="function"?clearTimeout:void 0,qi=typeof Promise=="function"?Promise:void 0,Jm=typeof queueMicrotask=="function"?queueMicrotask:typeof qi<"u"?function(e){return qi.resolve(null).then(e).catch(qm)}:Gs;function qm(e){setTimeout(function(){throw e})}function ss(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),qr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);qr(t)}function hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ec(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var kr=Math.random().toString(36).slice(2),Lt="__reactFiber$"+kr,oo="__reactProps$"+kr,Kt="__reactContainer$"+kr,Ys="__reactEvents$"+kr,ep="__reactListeners$"+kr,tp="__reactHandles$"+kr;function En(e){var t=e[Lt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Kt]||n[Lt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ec(e);e!==null;){if(n=e[Lt])return n;e=ec(e)}return t}e=n,n=e.parentNode}return null}function po(e){return e=e[Lt]||e[Kt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function Tl(e){return e[oo]||null}var Xs=[],Qn=-1;function Sn(e){return{current:e}}function ae(e){0>Qn||(e.current=Xs[Qn],Xs[Qn]=null,Qn--)}function oe(e,t){Qn++,Xs[Qn]=e.current,e.current=t}var bn={},We=Sn(bn),nt=Sn(!1),Rn=bn;function fr(e,t){var n=e.type.contextTypes;if(!n)return bn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function rt(e){return e=e.childContextTypes,e!=null}function sl(){ae(nt),ae(We)}function tc(e,t,n){if(We.current!==bn)throw Error(_(168));oe(We,t),oe(nt,n)}function Zu(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(_(108,Wh(e)||"Unknown",o));return he({},n,r)}function al(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bn,Rn=We.current,oe(We,e),oe(nt,nt.current),!0}function nc(e,t,n){var r=e.stateNode;if(!r)throw Error(_(169));n?(e=Zu(e,t,Rn),r.__reactInternalMemoizedMergedChildContext=e,ae(nt),ae(We),oe(We,e)):ae(nt),oe(nt,n)}var Ut=null,El=!1,as=!1;function Ju(e){Ut===null?Ut=[e]:Ut.push(e)}function np(e){El=!0,Ju(e)}function jn(){if(!as&&Ut!==null){as=!0;var e=0,t=ne;try{var n=Ut;for(ne=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ut=null,El=!1}catch(o){throw Ut!==null&&(Ut=Ut.slice(e+1)),Su(Ea,jn),o}finally{ne=t,as=!1}}return null}var Zn=[],Jn=0,il=null,cl=0,gt=[],vt=0,_n=null,Vt=1,Gt="";function Cn(e,t){Zn[Jn++]=cl,Zn[Jn++]=il,il=e,cl=t}function qu(e,t,n){gt[vt++]=Vt,gt[vt++]=Gt,gt[vt++]=_n,_n=e;var r=Vt;e=Gt;var o=32-Pt(r)-1;r&=~(1<<o),n+=1;var s=32-Pt(t)+o;if(30<s){var a=o-o%5;s=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Vt=1<<32-Pt(t)+o|n<<o|r,Gt=s+e}else Vt=1<<s|n<<o|r,Gt=e}function $a(e){e.return!==null&&(Cn(e,1),qu(e,1,0))}function za(e){for(;e===il;)il=Zn[--Jn],Zn[Jn]=null,cl=Zn[--Jn],Zn[Jn]=null;for(;e===_n;)_n=gt[--vt],gt[vt]=null,Gt=gt[--vt],gt[vt]=null,Vt=gt[--vt],gt[vt]=null}var ut=null,ct=null,ue=!1,Et=null;function ed(e,t){var n=yt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function rc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ut=e,ct=hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ut=e,ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_n!==null?{id:Vt,overflow:Gt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=yt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ut=e,ct=null,!0):!1;default:return!1}}function Ks(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qs(e){if(ue){var t=ct;if(t){var n=t;if(!rc(e,t)){if(Ks(e))throw Error(_(418));t=hn(n.nextSibling);var r=ut;t&&rc(e,t)?ed(r,n):(e.flags=e.flags&-4097|2,ue=!1,ut=e)}}else{if(Ks(e))throw Error(_(418));e.flags=e.flags&-4097|2,ue=!1,ut=e}}}function oc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ut=e}function Po(e){if(e!==ut)return!1;if(!ue)return oc(e),ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vs(e.type,e.memoizedProps)),t&&(t=ct)){if(Ks(e))throw td(),Error(_(418));for(;t;)ed(e,t),t=hn(t.nextSibling)}if(oc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ct=hn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ct=null}}else ct=ut?hn(e.stateNode.nextSibling):null;return!0}function td(){for(var e=ct;e;)e=hn(e.nextSibling)}function hr(){ct=ut=null,ue=!1}function Wa(e){Et===null?Et=[e]:Et.push(e)}var rp=Jt.ReactCurrentBatchConfig;function Ir(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var r=n.stateNode}if(!r)throw Error(_(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var i=o.refs;a===null?delete i[s]:i[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,e))}return e}function Io(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lc(e){var t=e._init;return t(e._payload)}function nd(e){function t(h,u){if(e){var x=h.deletions;x===null?(h.deletions=[u],h.flags|=16):x.push(u)}}function n(h,u){if(!e)return null;for(;u!==null;)t(h,u),u=u.sibling;return null}function r(h,u){for(h=new Map;u!==null;)u.key!==null?h.set(u.key,u):h.set(u.index,u),u=u.sibling;return h}function o(h,u){return h=gn(h,u),h.index=0,h.sibling=null,h}function s(h,u,x){return h.index=x,e?(x=h.alternate,x!==null?(x=x.index,x<u?(h.flags|=2,u):x):(h.flags|=2,u)):(h.flags|=1048576,u)}function a(h){return e&&h.alternate===null&&(h.flags|=2),h}function i(h,u,x,y){return u===null||u.tag!==6?(u=ms(x,h.mode,y),u.return=h,u):(u=o(u,x),u.return=h,u)}function c(h,u,x,y){var v=x.type;return v===Vn?m(h,u,x.props.children,y,x.key):u!==null&&(u.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===rn&&lc(v)===u.type)?(y=o(u,x.props),y.ref=Ir(h,u,x),y.return=h,y):(y=Qo(x.type,x.key,x.props,null,h.mode,y),y.ref=Ir(h,u,x),y.return=h,y)}function d(h,u,x,y){return u===null||u.tag!==4||u.stateNode.containerInfo!==x.containerInfo||u.stateNode.implementation!==x.implementation?(u=ps(x,h.mode,y),u.return=h,u):(u=o(u,x.children||[]),u.return=h,u)}function m(h,u,x,y,v){return u===null||u.tag!==7?(u=Dn(x,h.mode,y,v),u.return=h,u):(u=o(u,x),u.return=h,u)}function g(h,u,x){if(typeof u=="string"&&u!==""||typeof u=="number")return u=ms(""+u,h.mode,x),u.return=h,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case yo:return x=Qo(u.type,u.key,u.props,null,h.mode,x),x.ref=Ir(h,null,u),x.return=h,x;case Un:return u=ps(u,h.mode,x),u.return=h,u;case rn:var y=u._init;return g(h,y(u._payload),x)}if(Or(u)||Nr(u))return u=Dn(u,h.mode,x,null),u.return=h,u;Io(h,u)}return null}function p(h,u,x,y){var v=u!==null?u.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return v!==null?null:i(h,u,""+x,y);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case yo:return x.key===v?c(h,u,x,y):null;case Un:return x.key===v?d(h,u,x,y):null;case rn:return v=x._init,p(h,u,v(x._payload),y)}if(Or(x)||Nr(x))return v!==null?null:m(h,u,x,y,null);Io(h,x)}return null}function f(h,u,x,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return h=h.get(x)||null,i(u,h,""+y,v);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case yo:return h=h.get(y.key===null?x:y.key)||null,c(u,h,y,v);case Un:return h=h.get(y.key===null?x:y.key)||null,d(u,h,y,v);case rn:var b=y._init;return f(h,u,x,b(y._payload),v)}if(Or(y)||Nr(y))return h=h.get(x)||null,m(u,h,y,v,null);Io(u,y)}return null}function k(h,u,x,y){for(var v=null,b=null,N=u,T=u=0,S=null;N!==null&&T<x.length;T++){N.index>T?(S=N,N=null):S=N.sibling;var C=p(h,N,x[T],y);if(C===null){N===null&&(N=S);break}e&&N&&C.alternate===null&&t(h,N),u=s(C,u,T),b===null?v=C:b.sibling=C,b=C,N=S}if(T===x.length)return n(h,N),ue&&Cn(h,T),v;if(N===null){for(;T<x.length;T++)N=g(h,x[T],y),N!==null&&(u=s(N,u,T),b===null?v=N:b.sibling=N,b=N);return ue&&Cn(h,T),v}for(N=r(h,N);T<x.length;T++)S=f(N,h,T,x[T],y),S!==null&&(e&&S.alternate!==null&&N.delete(S.key===null?T:S.key),u=s(S,u,T),b===null?v=S:b.sibling=S,b=S);return e&&N.forEach(function(L){return t(h,L)}),ue&&Cn(h,T),v}function w(h,u,x,y){var v=Nr(x);if(typeof v!="function")throw Error(_(150));if(x=v.call(x),x==null)throw Error(_(151));for(var b=v=null,N=u,T=u=0,S=null,C=x.next();N!==null&&!C.done;T++,C=x.next()){N.index>T?(S=N,N=null):S=N.sibling;var L=p(h,N,C.value,y);if(L===null){N===null&&(N=S);break}e&&N&&L.alternate===null&&t(h,N),u=s(L,u,T),b===null?v=L:b.sibling=L,b=L,N=S}if(C.done)return n(h,N),ue&&Cn(h,T),v;if(N===null){for(;!C.done;T++,C=x.next())C=g(h,C.value,y),C!==null&&(u=s(C,u,T),b===null?v=C:b.sibling=C,b=C);return ue&&Cn(h,T),v}for(N=r(h,N);!C.done;T++,C=x.next())C=f(N,h,T,C.value,y),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?T:C.key),u=s(C,u,T),b===null?v=C:b.sibling=C,b=C);return e&&N.forEach(function($){return t(h,$)}),ue&&Cn(h,T),v}function j(h,u,x,y){if(typeof x=="object"&&x!==null&&x.type===Vn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case yo:e:{for(var v=x.key,b=u;b!==null;){if(b.key===v){if(v=x.type,v===Vn){if(b.tag===7){n(h,b.sibling),u=o(b,x.props.children),u.return=h,h=u;break e}}else if(b.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===rn&&lc(v)===b.type){n(h,b.sibling),u=o(b,x.props),u.ref=Ir(h,b,x),u.return=h,h=u;break e}n(h,b);break}else t(h,b);b=b.sibling}x.type===Vn?(u=Dn(x.props.children,h.mode,y,x.key),u.return=h,h=u):(y=Qo(x.type,x.key,x.props,null,h.mode,y),y.ref=Ir(h,u,x),y.return=h,h=y)}return a(h);case Un:e:{for(b=x.key;u!==null;){if(u.key===b)if(u.tag===4&&u.stateNode.containerInfo===x.containerInfo&&u.stateNode.implementation===x.implementation){n(h,u.sibling),u=o(u,x.children||[]),u.return=h,h=u;break e}else{n(h,u);break}else t(h,u);u=u.sibling}u=ps(x,h.mode,y),u.return=h,h=u}return a(h);case rn:return b=x._init,j(h,u,b(x._payload),y)}if(Or(x))return k(h,u,x,y);if(Nr(x))return w(h,u,x,y);Io(h,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,u!==null&&u.tag===6?(n(h,u.sibling),u=o(u,x),u.return=h,h=u):(n(h,u),u=ms(x,h.mode,y),u.return=h,h=u),a(h)):n(h,u)}return j}var mr=nd(!0),rd=nd(!1),ul=Sn(null),dl=null,qn=null,Aa=null;function Fa(){Aa=qn=dl=null}function Ha(e){var t=ul.current;ae(ul),e._currentValue=t}function Zs(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cr(e,t){dl=e,Aa=qn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tt=!0),e.firstContext=null)}function wt(e){var t=e._currentValue;if(Aa!==e)if(e={context:e,memoizedValue:t,next:null},qn===null){if(dl===null)throw Error(_(308));qn=e,dl.dependencies={lanes:0,firstContext:e}}else qn=qn.next=e;return t}var Pn=null;function Ba(e){Pn===null?Pn=[e]:Pn.push(e)}function od(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Ba(t)):(n.next=o.next,o.next=n),t.interleaved=n,Qt(e,r)}function Qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var on=!1;function Ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ld(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Qt(e,n)}return o=r.interleaved,o===null?(t.next=t,Ba(r)):(t.next=o.next,o.next=t),r.interleaved=t,Qt(e,n)}function Uo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pa(e,n)}}function sc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fl(e,t,n,r){var o=e.updateQueue;on=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,i=o.shared.pending;if(i!==null){o.shared.pending=null;var c=i,d=c.next;c.next=null,a===null?s=d:a.next=d,a=c;var m=e.alternate;m!==null&&(m=m.updateQueue,i=m.lastBaseUpdate,i!==a&&(i===null?m.firstBaseUpdate=d:i.next=d,m.lastBaseUpdate=c))}if(s!==null){var g=o.baseState;a=0,m=d=c=null,i=s;do{var p=i.lane,f=i.eventTime;if((r&p)===p){m!==null&&(m=m.next={eventTime:f,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var k=e,w=i;switch(p=t,f=n,w.tag){case 1:if(k=w.payload,typeof k=="function"){g=k.call(f,g,p);break e}g=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=w.payload,p=typeof k=="function"?k.call(f,g,p):k,p==null)break e;g=he({},g,p);break e;case 2:on=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[i]:p.push(i))}else f={eventTime:f,lane:p,tag:i.tag,payload:i.payload,callback:i.callback,next:null},m===null?(d=m=f,c=g):m=m.next=f,a|=p;if(i=i.next,i===null){if(i=o.shared.pending,i===null)break;p=i,i=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(!0);if(m===null&&(c=g),o.baseState=c,o.firstBaseUpdate=d,o.lastBaseUpdate=m,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);On|=a,e.lanes=a,e.memoizedState=g}}function ac(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(_(191,o));o.call(r)}}}var xo={},$t=Sn(xo),lo=Sn(xo),so=Sn(xo);function In(e){if(e===xo)throw Error(_(174));return e}function Va(e,t){switch(oe(so,t),oe(lo,e),oe($t,xo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ms(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ms(t,e)}ae($t),oe($t,t)}function pr(){ae($t),ae(lo),ae(so)}function sd(e){In(so.current);var t=In($t.current),n=Ms(t,e.type);t!==n&&(oe(lo,e),oe($t,n))}function Ga(e){lo.current===e&&(ae($t),ae(lo))}var de=Sn(0);function hl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var is=[];function Ya(){for(var e=0;e<is.length;e++)is[e]._workInProgressVersionPrimary=null;is.length=0}var Vo=Jt.ReactCurrentDispatcher,cs=Jt.ReactCurrentBatchConfig,Ln=0,fe=null,je=null,Ce=null,ml=!1,Ur=!1,ao=0,op=0;function _e(){throw Error(_(321))}function Xa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dt(e[n],t[n]))return!1;return!0}function Ka(e,t,n,r,o,s){if(Ln=s,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vo.current=e===null||e.memoizedState===null?ip:cp,e=n(r,o),Ur){s=0;do{if(Ur=!1,ao=0,25<=s)throw Error(_(301));s+=1,Ce=je=null,t.updateQueue=null,Vo.current=up,e=n(r,o)}while(Ur)}if(Vo.current=pl,t=je!==null&&je.next!==null,Ln=0,Ce=je=fe=null,ml=!1,t)throw Error(_(300));return e}function Qa(){var e=ao!==0;return ao=0,e}function _t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?fe.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function kt(){if(je===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=Ce===null?fe.memoizedState:Ce.next;if(t!==null)Ce=t,je=e;else{if(e===null)throw Error(_(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Ce===null?fe.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function io(e,t){return typeof t=="function"?t(e):t}function us(e){var t=kt(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=je,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var a=o.next;o.next=s.next,s.next=a}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var i=a=null,c=null,d=s;do{var m=d.lane;if((Ln&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var g={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(i=c=g,a=r):c=c.next=g,fe.lanes|=m,On|=m}d=d.next}while(d!==null&&d!==s);c===null?a=r:c.next=i,Dt(r,t.memoizedState)||(tt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,fe.lanes|=s,On|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ds(e){var t=kt(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do s=e(s,a.action),a=a.next;while(a!==o);Dt(s,t.memoizedState)||(tt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ad(){}function id(e,t){var n=fe,r=kt(),o=t(),s=!Dt(r.memoizedState,o);if(s&&(r.memoizedState=o,tt=!0),r=r.queue,Za(dd.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,co(9,ud.bind(null,n,r,o,t),void 0,null),Te===null)throw Error(_(349));Ln&30||cd(n,t,o)}return o}function cd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ud(e,t,n,r){t.value=n,t.getSnapshot=r,fd(t)&&hd(e)}function dd(e,t,n){return n(function(){fd(t)&&hd(e)})}function fd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dt(e,n)}catch{return!0}}function hd(e){var t=Qt(e,1);t!==null&&It(t,e,1,-1)}function ic(e){var t=_t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:e},t.queue=e,e=e.dispatch=ap.bind(null,fe,e),[t.memoizedState,e]}function co(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function md(){return kt().memoizedState}function Go(e,t,n,r){var o=_t();fe.flags|=e,o.memoizedState=co(1|t,n,void 0,r===void 0?null:r)}function Pl(e,t,n,r){var o=kt();r=r===void 0?null:r;var s=void 0;if(je!==null){var a=je.memoizedState;if(s=a.destroy,r!==null&&Xa(r,a.deps)){o.memoizedState=co(t,n,s,r);return}}fe.flags|=e,o.memoizedState=co(1|t,n,s,r)}function cc(e,t){return Go(8390656,8,e,t)}function Za(e,t){return Pl(2048,8,e,t)}function pd(e,t){return Pl(4,2,e,t)}function xd(e,t){return Pl(4,4,e,t)}function gd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vd(e,t,n){return n=n!=null?n.concat([e]):null,Pl(4,4,gd.bind(null,t,e),n)}function Ja(){}function yd(e,t){var n=kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function bd(e,t){var n=kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function wd(e,t,n){return Ln&21?(Dt(n,t)||(n=Cu(),fe.lanes|=n,On|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tt=!0),e.memoizedState=n)}function lp(e,t){var n=ne;ne=n!==0&&4>n?n:4,e(!0);var r=cs.transition;cs.transition={};try{e(!1),t()}finally{ne=n,cs.transition=r}}function kd(){return kt().memoizedState}function sp(e,t,n){var r=xn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Sd(e))jd(t,n);else if(n=od(e,t,n,r),n!==null){var o=Ge();It(n,e,r,o),Nd(n,t,r)}}function ap(e,t,n){var r=xn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sd(e))jd(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,i=s(a,n);if(o.hasEagerState=!0,o.eagerState=i,Dt(i,a)){var c=t.interleaved;c===null?(o.next=o,Ba(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=od(e,t,o,r),n!==null&&(o=Ge(),It(n,e,r,o),Nd(n,t,r))}}function Sd(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function jd(e,t){Ur=ml=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Nd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pa(e,n)}}var pl={readContext:wt,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},ip={readContext:wt,useCallback:function(e,t){return _t().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:cc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Go(4194308,4,gd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Go(4194308,4,e,t)},useInsertionEffect:function(e,t){return Go(4,2,e,t)},useMemo:function(e,t){var n=_t();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_t();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sp.bind(null,fe,e),[r.memoizedState,e]},useRef:function(e){var t=_t();return e={current:e},t.memoizedState=e},useState:ic,useDebugValue:Ja,useDeferredValue:function(e){return _t().memoizedState=e},useTransition:function(){var e=ic(!1),t=e[0];return e=lp.bind(null,e[1]),_t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fe,o=_t();if(ue){if(n===void 0)throw Error(_(407));n=n()}else{if(n=t(),Te===null)throw Error(_(349));Ln&30||cd(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,cc(dd.bind(null,r,s,e),[e]),r.flags|=2048,co(9,ud.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=_t(),t=Te.identifierPrefix;if(ue){var n=Gt,r=Vt;n=(r&~(1<<32-Pt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ao++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=op++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cp={readContext:wt,useCallback:yd,useContext:wt,useEffect:Za,useImperativeHandle:vd,useInsertionEffect:pd,useLayoutEffect:xd,useMemo:bd,useReducer:us,useRef:md,useState:function(){return us(io)},useDebugValue:Ja,useDeferredValue:function(e){var t=kt();return wd(t,je.memoizedState,e)},useTransition:function(){var e=us(io)[0],t=kt().memoizedState;return[e,t]},useMutableSource:ad,useSyncExternalStore:id,useId:kd,unstable_isNewReconciler:!1},up={readContext:wt,useCallback:yd,useContext:wt,useEffect:Za,useImperativeHandle:vd,useInsertionEffect:pd,useLayoutEffect:xd,useMemo:bd,useReducer:ds,useRef:md,useState:function(){return ds(io)},useDebugValue:Ja,useDeferredValue:function(e){var t=kt();return je===null?t.memoizedState=e:wd(t,je.memoizedState,e)},useTransition:function(){var e=ds(io)[0],t=kt().memoizedState;return[e,t]},useMutableSource:ad,useSyncExternalStore:id,useId:kd,unstable_isNewReconciler:!1};function Ct(e,t){if(e&&e.defaultProps){t=he({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Js(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:he({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Il={isMounted:function(e){return(e=e._reactInternals)?An(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ge(),o=xn(e),s=Yt(r,o);s.payload=t,n!=null&&(s.callback=n),t=mn(e,s,o),t!==null&&(It(t,e,o,r),Uo(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ge(),o=xn(e),s=Yt(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=mn(e,s,o),t!==null&&(It(t,e,o,r),Uo(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ge(),r=xn(e),o=Yt(n,r);o.tag=2,t!=null&&(o.callback=t),t=mn(e,o,r),t!==null&&(It(t,e,r,n),Uo(t,e,r))}};function uc(e,t,n,r,o,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!to(n,r)||!to(o,s):!0}function Cd(e,t,n){var r=!1,o=bn,s=t.contextType;return typeof s=="object"&&s!==null?s=wt(s):(o=rt(t)?Rn:We.current,r=t.contextTypes,s=(r=r!=null)?fr(e,o):bn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Il,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function dc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Il.enqueueReplaceState(t,t.state,null)}function qs(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ua(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=wt(s):(s=rt(t)?Rn:We.current,o.context=fr(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Js(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Il.enqueueReplaceState(o,o.state,null),fl(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function xr(e,t){try{var n="",r=t;do n+=zh(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ea(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var dp=typeof WeakMap=="function"?WeakMap:Map;function Td(e,t,n){n=Yt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){gl||(gl=!0,ua=r),ea(e,t)},n}function Ed(e,t,n){n=Yt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ea(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ea(e,t),typeof r!="function"&&(pn===null?pn=new Set([this]):pn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function fc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new dp;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Np.bind(null,e,t,n),t.then(e,e))}function hc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mc(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Yt(-1,1),t.tag=2,mn(n,t,1))),n.lanes|=1),e)}var fp=Jt.ReactCurrentOwner,tt=!1;function Ve(e,t,n,r){t.child=e===null?rd(t,null,n,r):mr(t,e.child,n,r)}function pc(e,t,n,r,o){n=n.render;var s=t.ref;return cr(t,o),r=Ka(e,t,n,r,s,o),n=Qa(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Zt(e,t,o)):(ue&&n&&$a(t),t.flags|=1,Ve(e,t,r,o),t.child)}function xc(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!si(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Pd(e,t,s,r,o)):(e=Qo(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:to,n(a,r)&&e.ref===t.ref)return Zt(e,t,o)}return t.flags|=1,e=gn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Pd(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(to(s,r)&&e.ref===t.ref)if(tt=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(tt=!0);else return t.lanes=e.lanes,Zt(e,t,o)}return ta(e,t,n,r,o)}function Id(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(tr,it),it|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,oe(tr,it),it|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,oe(tr,it),it|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,oe(tr,it),it|=r;return Ve(e,t,o,n),t.child}function Md(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ta(e,t,n,r,o){var s=rt(n)?Rn:We.current;return s=fr(t,s),cr(t,o),n=Ka(e,t,n,r,s,o),r=Qa(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Zt(e,t,o)):(ue&&r&&$a(t),t.flags|=1,Ve(e,t,n,o),t.child)}function gc(e,t,n,r,o){if(rt(n)){var s=!0;al(t)}else s=!1;if(cr(t,o),t.stateNode===null)Yo(e,t),Cd(t,n,r),qs(t,n,r,o),r=!0;else if(e===null){var a=t.stateNode,i=t.memoizedProps;a.props=i;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=wt(d):(d=rt(n)?Rn:We.current,d=fr(t,d));var m=n.getDerivedStateFromProps,g=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==r||c!==d)&&dc(t,a,r,d),on=!1;var p=t.memoizedState;a.state=p,fl(t,r,a,o),c=t.memoizedState,i!==r||p!==c||nt.current||on?(typeof m=="function"&&(Js(t,n,m,r),c=t.memoizedState),(i=on||uc(t,n,i,r,p,c,d))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=d,r=i):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ld(e,t),i=t.memoizedProps,d=t.type===t.elementType?i:Ct(t.type,i),a.props=d,g=t.pendingProps,p=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=wt(c):(c=rt(n)?Rn:We.current,c=fr(t,c));var f=n.getDerivedStateFromProps;(m=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==g||p!==c)&&dc(t,a,r,c),on=!1,p=t.memoizedState,a.state=p,fl(t,r,a,o);var k=t.memoizedState;i!==g||p!==k||nt.current||on?(typeof f=="function"&&(Js(t,n,f,r),k=t.memoizedState),(d=on||uc(t,n,d,r,p,k,c)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,k,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,k,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),a.props=r,a.state=k,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return na(e,t,n,r,s,o)}function na(e,t,n,r,o,s){Md(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return o&&nc(t,n,!1),Zt(e,t,s);r=t.stateNode,fp.current=t;var i=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=mr(t,e.child,null,s),t.child=mr(t,null,i,s)):Ve(e,t,i,s),t.memoizedState=r.state,o&&nc(t,n,!0),t.child}function Dd(e){var t=e.stateNode;t.pendingContext?tc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tc(e,t.context,!1),Va(e,t.containerInfo)}function vc(e,t,n,r,o){return hr(),Wa(o),t.flags|=256,Ve(e,t,n,r),t.child}var ra={dehydrated:null,treeContext:null,retryLane:0};function oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rd(e,t,n){var r=t.pendingProps,o=de.current,s=!1,a=(t.flags&128)!==0,i;if((i=a)||(i=e!==null&&e.memoizedState===null?!1:(o&2)!==0),i?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),oe(de,o&1),e===null)return Qs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Rl(a,r,0,null),e=Dn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=oa(n),t.memoizedState=ra,e):qa(t,a));if(o=e.memoizedState,o!==null&&(i=o.dehydrated,i!==null))return hp(e,t,a,r,i,o,n);if(s){s=r.fallback,a=t.mode,o=e.child,i=o.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=gn(o,c),r.subtreeFlags=o.subtreeFlags&14680064),i!==null?s=gn(i,s):(s=Dn(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?oa(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=ra,r}return s=e.child,e=s.sibling,r=gn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function qa(e,t){return t=Rl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Mo(e,t,n,r){return r!==null&&Wa(r),mr(t,e.child,null,n),e=qa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hp(e,t,n,r,o,s,a){if(n)return t.flags&256?(t.flags&=-257,r=fs(Error(_(422))),Mo(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Rl({mode:"visible",children:r.children},o,0,null),s=Dn(s,o,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&mr(t,e.child,null,a),t.child.memoizedState=oa(a),t.memoizedState=ra,s);if(!(t.mode&1))return Mo(e,t,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var i=r.dgst;return r=i,s=Error(_(419)),r=fs(s,r,void 0),Mo(e,t,a,r)}if(i=(a&e.childLanes)!==0,tt||i){if(r=Te,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|a)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Qt(e,o),It(r,e,o,-1))}return li(),r=fs(Error(_(421))),Mo(e,t,a,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Cp.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,ct=hn(o.nextSibling),ut=t,ue=!0,Et=null,e!==null&&(gt[vt++]=Vt,gt[vt++]=Gt,gt[vt++]=_n,Vt=e.id,Gt=e.overflow,_n=t),t=qa(t,r.children),t.flags|=4096,t)}function yc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Zs(e.return,t,n)}function hs(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function _d(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Ve(e,t,r.children,n),r=de.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yc(e,n,t);else if(e.tag===19)yc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(oe(de,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&hl(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),hs(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&hl(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}hs(t,!0,n,null,s);break;case"together":hs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),On|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,n=gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mp(e,t,n){switch(t.tag){case 3:Dd(t),hr();break;case 5:sd(t);break;case 1:rt(t.type)&&al(t);break;case 4:Va(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;oe(ul,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(oe(de,de.current&1),t.flags|=128,null):n&t.child.childLanes?Rd(e,t,n):(oe(de,de.current&1),e=Zt(e,t,n),e!==null?e.sibling:null);oe(de,de.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return _d(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),oe(de,de.current),r)break;return null;case 22:case 23:return t.lanes=0,Id(e,t,n)}return Zt(e,t,n)}var Ld,la,Od,$d;Ld=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};la=function(){};Od=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,In($t.current);var s=null;switch(n){case"input":o=Ts(e,o),r=Ts(e,r),s=[];break;case"select":o=he({},o,{value:void 0}),r=he({},r,{value:void 0}),s=[];break;case"textarea":o=Is(e,o),r=Is(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ll)}Ds(n,r);var a;n=null;for(d in o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var i=o[d];for(a in i)i.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Xr.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(i=o!=null?o[d]:void 0,r.hasOwnProperty(d)&&c!==i&&(c!=null||i!=null))if(d==="style")if(i){for(a in i)!i.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&i[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Xr.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&se("scroll",e),s||i===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};$d=function(e,t,n,r){n!==r&&(t.flags|=4)};function Mr(e,t){if(!ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pp(e,t,n){var r=t.pendingProps;switch(za(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return rt(t.type)&&sl(),Le(t),null;case 3:return r=t.stateNode,pr(),ae(nt),ae(We),Ya(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Po(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Et!==null&&(ha(Et),Et=null))),la(e,t),Le(t),null;case 5:Ga(t);var o=In(so.current);if(n=t.type,e!==null&&t.stateNode!=null)Od(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_(166));return Le(t),null}if(e=In($t.current),Po(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Lt]=t,r[oo]=s,e=(t.mode&1)!==0,n){case"dialog":se("cancel",r),se("close",r);break;case"iframe":case"object":case"embed":se("load",r);break;case"video":case"audio":for(o=0;o<zr.length;o++)se(zr[o],r);break;case"source":se("error",r);break;case"img":case"image":case"link":se("error",r),se("load",r);break;case"details":se("toggle",r);break;case"input":Ei(r,s),se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},se("invalid",r);break;case"textarea":Ii(r,s),se("invalid",r)}Ds(n,s),o=null;for(var a in s)if(s.hasOwnProperty(a)){var i=s[a];a==="children"?typeof i=="string"?r.textContent!==i&&(s.suppressHydrationWarning!==!0&&Eo(r.textContent,i,e),o=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(s.suppressHydrationWarning!==!0&&Eo(r.textContent,i,e),o=["children",""+i]):Xr.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&se("scroll",r)}switch(n){case"input":bo(r),Pi(r,s,!0);break;case"textarea":bo(r),Mi(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ll)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=du(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Lt]=t,e[oo]=r,Ld(e,t,!1,!1),t.stateNode=e;e:{switch(a=Rs(n,r),n){case"dialog":se("cancel",e),se("close",e),o=r;break;case"iframe":case"object":case"embed":se("load",e),o=r;break;case"video":case"audio":for(o=0;o<zr.length;o++)se(zr[o],e);o=r;break;case"source":se("error",e),o=r;break;case"img":case"image":case"link":se("error",e),se("load",e),o=r;break;case"details":se("toggle",e),o=r;break;case"input":Ei(e,r),o=Ts(e,r),se("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=he({},r,{value:void 0}),se("invalid",e);break;case"textarea":Ii(e,r),o=Is(e,r),se("invalid",e);break;default:o=r}Ds(n,o),i=o;for(s in i)if(i.hasOwnProperty(s)){var c=i[s];s==="style"?mu(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&fu(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Kr(e,c):typeof c=="number"&&Kr(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Xr.hasOwnProperty(s)?c!=null&&s==="onScroll"&&se("scroll",e):c!=null&&Sa(e,s,c,a))}switch(n){case"input":bo(e),Pi(e,r,!1);break;case"textarea":bo(e),Mi(e);break;case"option":r.value!=null&&e.setAttribute("value",""+yn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?lr(e,!!r.multiple,s,!1):r.defaultValue!=null&&lr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ll)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)$d(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_(166));if(n=In(so.current),In($t.current),Po(t)){if(r=t.stateNode,n=t.memoizedProps,r[Lt]=t,(s=r.nodeValue!==n)&&(e=ut,e!==null))switch(e.tag){case 3:Eo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Eo(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Lt]=t,t.stateNode=r}return Le(t),null;case 13:if(ae(de),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&ct!==null&&t.mode&1&&!(t.flags&128))td(),hr(),t.flags|=98560,s=!1;else if(s=Po(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(_(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(_(317));s[Lt]=t}else hr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),s=!1}else Et!==null&&(ha(Et),Et=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||de.current&1?Ne===0&&(Ne=3):li())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return pr(),la(e,t),e===null&&no(t.stateNode.containerInfo),Le(t),null;case 10:return Ha(t.type._context),Le(t),null;case 17:return rt(t.type)&&sl(),Le(t),null;case 19:if(ae(de),s=t.memoizedState,s===null)return Le(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Mr(s,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=hl(e),a!==null){for(t.flags|=128,Mr(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return oe(de,de.current&1|2),t.child}e=e.sibling}s.tail!==null&&ge()>gr&&(t.flags|=128,r=!0,Mr(s,!1),t.lanes=4194304)}else{if(!r)if(e=hl(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Mr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ue)return Le(t),null}else 2*ge()-s.renderingStartTime>gr&&n!==1073741824&&(t.flags|=128,r=!0,Mr(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ge(),t.sibling=null,n=de.current,oe(de,r?n&1|2:n&1),t):(Le(t),null);case 22:case 23:return oi(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?it&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function xp(e,t){switch(za(t),t.tag){case 1:return rt(t.type)&&sl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pr(),ae(nt),ae(We),Ya(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ga(t),null;case 13:if(ae(de),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ae(de),null;case 4:return pr(),null;case 10:return Ha(t.type._context),null;case 22:case 23:return oi(),null;case 24:return null;default:return null}}var Do=!1,ze=!1,gp=typeof WeakSet=="function"?WeakSet:Set,z=null;function er(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){me(e,t,r)}else n.current=null}function sa(e,t,n){try{n()}catch(r){me(e,t,r)}}var bc=!1;function vp(e,t){if(Bs=nl,e=Hu(),Oa(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,i=-1,c=-1,d=0,m=0,g=e,p=null;t:for(;;){for(var f;g!==n||o!==0&&g.nodeType!==3||(i=a+o),g!==s||r!==0&&g.nodeType!==3||(c=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(f=g.firstChild)!==null;)p=g,g=f;for(;;){if(g===e)break t;if(p===n&&++d===o&&(i=a),p===s&&++m===r&&(c=a),(f=g.nextSibling)!==null)break;g=p,p=g.parentNode}g=f}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Us={focusedElem:e,selectionRange:n},nl=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var w=k.memoizedProps,j=k.memoizedState,h=t.stateNode,u=h.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ct(t.type,w),j);h.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(y){me(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return k=bc,bc=!1,k}function Vr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&sa(t,n,s)}o=o.next}while(o!==r)}}function Ml(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function aa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function zd(e){var t=e.alternate;t!==null&&(e.alternate=null,zd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Lt],delete t[oo],delete t[Ys],delete t[ep],delete t[tp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wd(e){return e.tag===5||e.tag===3||e.tag===4}function wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ia(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ll));else if(r!==4&&(e=e.child,e!==null))for(ia(e,t,n),e=e.sibling;e!==null;)ia(e,t,n),e=e.sibling}function ca(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ca(e,t,n),e=e.sibling;e!==null;)ca(e,t,n),e=e.sibling}var Me=null,Tt=!1;function en(e,t,n){for(n=n.child;n!==null;)Ad(e,t,n),n=n.sibling}function Ad(e,t,n){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Sl,n)}catch{}switch(n.tag){case 5:ze||er(n,t);case 6:var r=Me,o=Tt;Me=null,en(e,t,n),Me=r,Tt=o,Me!==null&&(Tt?(e=Me,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Me.removeChild(n.stateNode));break;case 18:Me!==null&&(Tt?(e=Me,n=n.stateNode,e.nodeType===8?ss(e.parentNode,n):e.nodeType===1&&ss(e,n),qr(e)):ss(Me,n.stateNode));break;case 4:r=Me,o=Tt,Me=n.stateNode.containerInfo,Tt=!0,en(e,t,n),Me=r,Tt=o;break;case 0:case 11:case 14:case 15:if(!ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&sa(n,t,a),o=o.next}while(o!==r)}en(e,t,n);break;case 1:if(!ze&&(er(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){me(n,t,i)}en(e,t,n);break;case 21:en(e,t,n);break;case 22:n.mode&1?(ze=(r=ze)||n.memoizedState!==null,en(e,t,n),ze=r):en(e,t,n);break;default:en(e,t,n)}}function kc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new gp),t.forEach(function(r){var o=Tp.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function jt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,a=t,i=a;e:for(;i!==null;){switch(i.tag){case 5:Me=i.stateNode,Tt=!1;break e;case 3:Me=i.stateNode.containerInfo,Tt=!0;break e;case 4:Me=i.stateNode.containerInfo,Tt=!0;break e}i=i.return}if(Me===null)throw Error(_(160));Ad(s,a,o),Me=null,Tt=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(d){me(o,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fd(t,e),t=t.sibling}function Fd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jt(t,e),Rt(e),r&4){try{Vr(3,e,e.return),Ml(3,e)}catch(w){me(e,e.return,w)}try{Vr(5,e,e.return)}catch(w){me(e,e.return,w)}}break;case 1:jt(t,e),Rt(e),r&512&&n!==null&&er(n,n.return);break;case 5:if(jt(t,e),Rt(e),r&512&&n!==null&&er(n,n.return),e.flags&32){var o=e.stateNode;try{Kr(o,"")}catch(w){me(e,e.return,w)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&s.type==="radio"&&s.name!=null&&cu(o,s),Rs(i,a);var d=Rs(i,s);for(a=0;a<c.length;a+=2){var m=c[a],g=c[a+1];m==="style"?mu(o,g):m==="dangerouslySetInnerHTML"?fu(o,g):m==="children"?Kr(o,g):Sa(o,m,g,d)}switch(i){case"input":Es(o,s);break;case"textarea":uu(o,s);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?lr(o,!!s.multiple,f,!1):p!==!!s.multiple&&(s.defaultValue!=null?lr(o,!!s.multiple,s.defaultValue,!0):lr(o,!!s.multiple,s.multiple?[]:"",!1))}o[oo]=s}catch(w){me(e,e.return,w)}}break;case 6:if(jt(t,e),Rt(e),r&4){if(e.stateNode===null)throw Error(_(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(w){me(e,e.return,w)}}break;case 3:if(jt(t,e),Rt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qr(t.containerInfo)}catch(w){me(e,e.return,w)}break;case 4:jt(t,e),Rt(e);break;case 13:jt(t,e),Rt(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(ni=ge())),r&4&&kc(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(ze=(d=ze)||m,jt(t,e),ze=d):jt(t,e),Rt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for(z=e,m=e.child;m!==null;){for(g=z=m;z!==null;){switch(p=z,f=p.child,p.tag){case 0:case 11:case 14:case 15:Vr(4,p,p.return);break;case 1:er(p,p.return);var k=p.stateNode;if(typeof k.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(w){me(r,n,w)}}break;case 5:er(p,p.return);break;case 22:if(p.memoizedState!==null){jc(g);continue}}f!==null?(f.return=p,z=f):jc(g)}m=m.sibling}e:for(m=null,g=e;;){if(g.tag===5){if(m===null){m=g;try{o=g.stateNode,d?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(i=g.stateNode,c=g.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=hu("display",a))}catch(w){me(e,e.return,w)}}}else if(g.tag===6){if(m===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(w){me(e,e.return,w)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;m===g&&(m=null),g=g.return}m===g&&(m=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:jt(t,e),Rt(e),r&4&&kc(e);break;case 21:break;default:jt(t,e),Rt(e)}}function Rt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Wd(n)){var r=n;break e}n=n.return}throw Error(_(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Kr(o,""),r.flags&=-33);var s=wc(e);ca(e,s,o);break;case 3:case 4:var a=r.stateNode.containerInfo,i=wc(e);ia(e,i,a);break;default:throw Error(_(161))}}catch(c){me(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yp(e,t,n){z=e,Hd(e)}function Hd(e,t,n){for(var r=(e.mode&1)!==0;z!==null;){var o=z,s=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||Do;if(!a){var i=o.alternate,c=i!==null&&i.memoizedState!==null||ze;i=Do;var d=ze;if(Do=a,(ze=c)&&!d)for(z=o;z!==null;)a=z,c=a.child,a.tag===22&&a.memoizedState!==null?Nc(o):c!==null?(c.return=a,z=c):Nc(o);for(;s!==null;)z=s,Hd(s),s=s.sibling;z=o,Do=i,ze=d}Sc(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,z=s):Sc(e)}}function Sc(e){for(;z!==null;){var t=z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ze||Ml(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ze)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Ct(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&ac(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ac(t,a,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var g=m.dehydrated;g!==null&&qr(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}ze||t.flags&512&&aa(t)}catch(p){me(t,t.return,p)}}if(t===e){z=null;break}if(n=t.sibling,n!==null){n.return=t.return,z=n;break}z=t.return}}function jc(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,z=n;break}z=t.return}}function Nc(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ml(4,t)}catch(c){me(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){me(t,o,c)}}var s=t.return;try{aa(t)}catch(c){me(t,s,c)}break;case 5:var a=t.return;try{aa(t)}catch(c){me(t,a,c)}}}catch(c){me(t,t.return,c)}if(t===e){z=null;break}var i=t.sibling;if(i!==null){i.return=t.return,z=i;break}z=t.return}}var bp=Math.ceil,xl=Jt.ReactCurrentDispatcher,ei=Jt.ReactCurrentOwner,bt=Jt.ReactCurrentBatchConfig,q=0,Te=null,we=null,De=0,it=0,tr=Sn(0),Ne=0,uo=null,On=0,Dl=0,ti=0,Gr=null,et=null,ni=0,gr=1/0,Bt=null,gl=!1,ua=null,pn=null,Ro=!1,cn=null,vl=0,Yr=0,da=null,Xo=-1,Ko=0;function Ge(){return q&6?ge():Xo!==-1?Xo:Xo=ge()}function xn(e){return e.mode&1?q&2&&De!==0?De&-De:rp.transition!==null?(Ko===0&&(Ko=Cu()),Ko):(e=ne,e!==0||(e=window.event,e=e===void 0?16:Ru(e.type)),e):1}function It(e,t,n,r){if(50<Yr)throw Yr=0,da=null,Error(_(185));ho(e,n,r),(!(q&2)||e!==Te)&&(e===Te&&(!(q&2)&&(Dl|=n),Ne===4&&sn(e,De)),ot(e,r),n===1&&q===0&&!(t.mode&1)&&(gr=ge()+500,El&&jn()))}function ot(e,t){var n=e.callbackNode;rm(e,t);var r=tl(e,e===Te?De:0);if(r===0)n!==null&&_i(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&_i(n),t===1)e.tag===0?np(Cc.bind(null,e)):Ju(Cc.bind(null,e)),Jm(function(){!(q&6)&&jn()}),n=null;else{switch(Tu(r)){case 1:n=Ea;break;case 4:n=ju;break;case 16:n=el;break;case 536870912:n=Nu;break;default:n=el}n=Qd(n,Bd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Bd(e,t){if(Xo=-1,Ko=0,q&6)throw Error(_(327));var n=e.callbackNode;if(ur()&&e.callbackNode!==n)return null;var r=tl(e,e===Te?De:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=yl(e,r);else{t=r;var o=q;q|=2;var s=Vd();(Te!==e||De!==t)&&(Bt=null,gr=ge()+500,Mn(e,t));do try{Sp();break}catch(i){Ud(e,i)}while(!0);Fa(),xl.current=s,q=o,we!==null?t=0:(Te=null,De=0,t=Ne)}if(t!==0){if(t===2&&(o=zs(e),o!==0&&(r=o,t=fa(e,o))),t===1)throw n=uo,Mn(e,0),sn(e,r),ot(e,ge()),n;if(t===6)sn(e,r);else{if(o=e.current.alternate,!(r&30)&&!wp(o)&&(t=yl(e,r),t===2&&(s=zs(e),s!==0&&(r=s,t=fa(e,s))),t===1))throw n=uo,Mn(e,0),sn(e,r),ot(e,ge()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(_(345));case 2:Tn(e,et,Bt);break;case 3:if(sn(e,r),(r&130023424)===r&&(t=ni+500-ge(),10<t)){if(tl(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ge(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Gs(Tn.bind(null,e,et,Bt),t);break}Tn(e,et,Bt);break;case 4:if(sn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-Pt(r);s=1<<a,a=t[a],a>o&&(o=a),r&=~s}if(r=o,r=ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bp(r/1960))-r,10<r){e.timeoutHandle=Gs(Tn.bind(null,e,et,Bt),r);break}Tn(e,et,Bt);break;case 5:Tn(e,et,Bt);break;default:throw Error(_(329))}}}return ot(e,ge()),e.callbackNode===n?Bd.bind(null,e):null}function fa(e,t){var n=Gr;return e.current.memoizedState.isDehydrated&&(Mn(e,t).flags|=256),e=yl(e,t),e!==2&&(t=et,et=n,t!==null&&ha(t)),e}function ha(e){et===null?et=e:et.push.apply(et,e)}function wp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!Dt(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sn(e,t){for(t&=~ti,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pt(t),r=1<<n;e[n]=-1,t&=~r}}function Cc(e){if(q&6)throw Error(_(327));ur();var t=tl(e,0);if(!(t&1))return ot(e,ge()),null;var n=yl(e,t);if(e.tag!==0&&n===2){var r=zs(e);r!==0&&(t=r,n=fa(e,r))}if(n===1)throw n=uo,Mn(e,0),sn(e,t),ot(e,ge()),n;if(n===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tn(e,et,Bt),ot(e,ge()),null}function ri(e,t){var n=q;q|=1;try{return e(t)}finally{q=n,q===0&&(gr=ge()+500,El&&jn())}}function $n(e){cn!==null&&cn.tag===0&&!(q&6)&&ur();var t=q;q|=1;var n=bt.transition,r=ne;try{if(bt.transition=null,ne=1,e)return e()}finally{ne=r,bt.transition=n,q=t,!(q&6)&&jn()}}function oi(){it=tr.current,ae(tr)}function Mn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Zm(n)),we!==null)for(n=we.return;n!==null;){var r=n;switch(za(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sl();break;case 3:pr(),ae(nt),ae(We),Ya();break;case 5:Ga(r);break;case 4:pr();break;case 13:ae(de);break;case 19:ae(de);break;case 10:Ha(r.type._context);break;case 22:case 23:oi()}n=n.return}if(Te=e,we=e=gn(e.current,null),De=it=t,Ne=0,uo=null,ti=Dl=On=0,et=Gr=null,Pn!==null){for(t=0;t<Pn.length;t++)if(n=Pn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=o,r.next=a}n.pending=r}Pn=null}return e}function Ud(e,t){do{var n=we;try{if(Fa(),Vo.current=pl,ml){for(var r=fe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}ml=!1}if(Ln=0,Ce=je=fe=null,Ur=!1,ao=0,ei.current=null,n===null||n.return===null){Ne=1,uo=t,we=null;break}e:{var s=e,a=n.return,i=n,c=t;if(t=De,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,m=i,g=m.tag;if(!(m.mode&1)&&(g===0||g===11||g===15)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var f=hc(a);if(f!==null){f.flags&=-257,mc(f,a,i,s,t),f.mode&1&&fc(s,d,t),t=f,c=d;var k=t.updateQueue;if(k===null){var w=new Set;w.add(c),t.updateQueue=w}else k.add(c);break e}else{if(!(t&1)){fc(s,d,t),li();break e}c=Error(_(426))}}else if(ue&&i.mode&1){var j=hc(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),mc(j,a,i,s,t),Wa(xr(c,i));break e}}s=c=xr(c,i),Ne!==4&&(Ne=2),Gr===null?Gr=[s]:Gr.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var h=Td(s,c,t);sc(s,h);break e;case 1:i=c;var u=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof u.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(pn===null||!pn.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var y=Ed(s,i,t);sc(s,y);break e}}s=s.return}while(s!==null)}Yd(n)}catch(v){t=v,we===n&&n!==null&&(we=n=n.return);continue}break}while(!0)}function Vd(){var e=xl.current;return xl.current=pl,e===null?pl:e}function li(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),Te===null||!(On&268435455)&&!(Dl&268435455)||sn(Te,De)}function yl(e,t){var n=q;q|=2;var r=Vd();(Te!==e||De!==t)&&(Bt=null,Mn(e,t));do try{kp();break}catch(o){Ud(e,o)}while(!0);if(Fa(),q=n,xl.current=r,we!==null)throw Error(_(261));return Te=null,De=0,Ne}function kp(){for(;we!==null;)Gd(we)}function Sp(){for(;we!==null&&!Xh();)Gd(we)}function Gd(e){var t=Kd(e.alternate,e,it);e.memoizedProps=e.pendingProps,t===null?Yd(e):we=t,ei.current=null}function Yd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=xp(n,t),n!==null){n.flags&=32767,we=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ne=6,we=null;return}}else if(n=pp(n,t,it),n!==null){we=n;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Ne===0&&(Ne=5)}function Tn(e,t,n){var r=ne,o=bt.transition;try{bt.transition=null,ne=1,jp(e,t,n,r)}finally{bt.transition=o,ne=r}return null}function jp(e,t,n,r){do ur();while(cn!==null);if(q&6)throw Error(_(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(om(e,s),e===Te&&(we=Te=null,De=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ro||(Ro=!0,Qd(el,function(){return ur(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=bt.transition,bt.transition=null;var a=ne;ne=1;var i=q;q|=4,ei.current=null,vp(e,n),Fd(n,e),Um(Us),nl=!!Bs,Us=Bs=null,e.current=n,yp(n),Kh(),q=i,ne=a,bt.transition=s}else e.current=n;if(Ro&&(Ro=!1,cn=e,vl=o),s=e.pendingLanes,s===0&&(pn=null),Jh(n.stateNode),ot(e,ge()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(gl)throw gl=!1,e=ua,ua=null,e;return vl&1&&e.tag!==0&&ur(),s=e.pendingLanes,s&1?e===da?Yr++:(Yr=0,da=e):Yr=0,jn(),null}function ur(){if(cn!==null){var e=Tu(vl),t=bt.transition,n=ne;try{if(bt.transition=null,ne=16>e?16:e,cn===null)var r=!1;else{if(e=cn,cn=null,vl=0,q&6)throw Error(_(331));var o=q;for(q|=4,z=e.current;z!==null;){var s=z,a=s.child;if(z.flags&16){var i=s.deletions;if(i!==null){for(var c=0;c<i.length;c++){var d=i[c];for(z=d;z!==null;){var m=z;switch(m.tag){case 0:case 11:case 15:Vr(8,m,s)}var g=m.child;if(g!==null)g.return=m,z=g;else for(;z!==null;){m=z;var p=m.sibling,f=m.return;if(zd(m),m===d){z=null;break}if(p!==null){p.return=f,z=p;break}z=f}}}var k=s.alternate;if(k!==null){var w=k.child;if(w!==null){k.child=null;do{var j=w.sibling;w.sibling=null,w=j}while(w!==null)}}z=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,z=a;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Vr(9,s,s.return)}var h=s.sibling;if(h!==null){h.return=s.return,z=h;break e}z=s.return}}var u=e.current;for(z=u;z!==null;){a=z;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,z=x;else e:for(a=u;z!==null;){if(i=z,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Ml(9,i)}}catch(v){me(i,i.return,v)}if(i===a){z=null;break e}var y=i.sibling;if(y!==null){y.return=i.return,z=y;break e}z=i.return}}if(q=o,jn(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Sl,e)}catch{}r=!0}return r}finally{ne=n,bt.transition=t}}return!1}function Tc(e,t,n){t=xr(n,t),t=Td(e,t,1),e=mn(e,t,1),t=Ge(),e!==null&&(ho(e,1,t),ot(e,t))}function me(e,t,n){if(e.tag===3)Tc(e,e,n);else for(;t!==null;){if(t.tag===3){Tc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pn===null||!pn.has(r))){e=xr(n,e),e=Ed(t,e,1),t=mn(t,e,1),e=Ge(),t!==null&&(ho(t,1,e),ot(t,e));break}}t=t.return}}function Np(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ge(),e.pingedLanes|=e.suspendedLanes&n,Te===e&&(De&n)===n&&(Ne===4||Ne===3&&(De&130023424)===De&&500>ge()-ni?Mn(e,0):ti|=n),ot(e,t)}function Xd(e,t){t===0&&(e.mode&1?(t=So,So<<=1,!(So&130023424)&&(So=4194304)):t=1);var n=Ge();e=Qt(e,t),e!==null&&(ho(e,t,n),ot(e,n))}function Cp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Xd(e,n)}function Tp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_(314))}r!==null&&r.delete(t),Xd(e,n)}var Kd;Kd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||nt.current)tt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return tt=!1,mp(e,t,n);tt=!!(e.flags&131072)}else tt=!1,ue&&t.flags&1048576&&qu(t,cl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Yo(e,t),e=t.pendingProps;var o=fr(t,We.current);cr(t,n),o=Ka(null,t,r,e,o,n);var s=Qa();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(r)?(s=!0,al(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ua(t),o.updater=Il,t.stateNode=o,o._reactInternals=t,qs(t,r,e,n),t=na(null,t,r,!0,s,n)):(t.tag=0,ue&&s&&$a(t),Ve(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Yo(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Pp(r),e=Ct(r,e),o){case 0:t=ta(null,t,r,e,n);break e;case 1:t=gc(null,t,r,e,n);break e;case 11:t=pc(null,t,r,e,n);break e;case 14:t=xc(null,t,r,Ct(r.type,e),n);break e}throw Error(_(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ct(r,o),ta(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ct(r,o),gc(e,t,r,o,n);case 3:e:{if(Dd(t),e===null)throw Error(_(387));r=t.pendingProps,s=t.memoizedState,o=s.element,ld(e,t),fl(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=xr(Error(_(423)),t),t=vc(e,t,r,n,o);break e}else if(r!==o){o=xr(Error(_(424)),t),t=vc(e,t,r,n,o);break e}else for(ct=hn(t.stateNode.containerInfo.firstChild),ut=t,ue=!0,Et=null,n=rd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hr(),r===o){t=Zt(e,t,n);break e}Ve(e,t,r,n)}t=t.child}return t;case 5:return sd(t),e===null&&Qs(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,a=o.children,Vs(r,o)?a=null:s!==null&&Vs(r,s)&&(t.flags|=32),Md(e,t),Ve(e,t,a,n),t.child;case 6:return e===null&&Qs(t),null;case 13:return Rd(e,t,n);case 4:return Va(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=mr(t,null,r,n):Ve(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ct(r,o),pc(e,t,r,o,n);case 7:return Ve(e,t,t.pendingProps,n),t.child;case 8:return Ve(e,t,t.pendingProps.children,n),t.child;case 12:return Ve(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,oe(ul,r._currentValue),r._currentValue=a,s!==null)if(Dt(s.value,a)){if(s.children===o.children&&!nt.current){t=Zt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var i=s.dependencies;if(i!==null){a=s.child;for(var c=i.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Yt(-1,n&-n),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Zs(s.return,n,t),i.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(_(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),Zs(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Ve(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,cr(t,n),o=wt(o),r=r(o),t.flags|=1,Ve(e,t,r,n),t.child;case 14:return r=t.type,o=Ct(r,t.pendingProps),o=Ct(r.type,o),xc(e,t,r,o,n);case 15:return Pd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ct(r,o),Yo(e,t),t.tag=1,rt(r)?(e=!0,al(t)):e=!1,cr(t,n),Cd(t,r,o),qs(t,r,o,n),na(null,t,r,!0,e,n);case 19:return _d(e,t,n);case 22:return Id(e,t,n)}throw Error(_(156,t.tag))};function Qd(e,t){return Su(e,t)}function Ep(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,n,r){return new Ep(e,t,n,r)}function si(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pp(e){if(typeof e=="function")return si(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Na)return 11;if(e===Ca)return 14}return 2}function gn(e,t){var n=e.alternate;return n===null?(n=yt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qo(e,t,n,r,o,s){var a=2;if(r=e,typeof e=="function")si(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Vn:return Dn(n.children,o,s,t);case ja:a=8,o|=8;break;case Ss:return e=yt(12,n,t,o|2),e.elementType=Ss,e.lanes=s,e;case js:return e=yt(13,n,t,o),e.elementType=js,e.lanes=s,e;case Ns:return e=yt(19,n,t,o),e.elementType=Ns,e.lanes=s,e;case su:return Rl(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ou:a=10;break e;case lu:a=9;break e;case Na:a=11;break e;case Ca:a=14;break e;case rn:a=16,r=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=yt(a,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Dn(e,t,n,r){return e=yt(7,e,r,t),e.lanes=n,e}function Rl(e,t,n,r){return e=yt(22,e,r,t),e.elementType=su,e.lanes=n,e.stateNode={isHidden:!1},e}function ms(e,t,n){return e=yt(6,e,null,t),e.lanes=n,e}function ps(e,t,n){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ip(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kl(0),this.expirationTimes=Kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ai(e,t,n,r,o,s,a,i,c){return e=new Ip(e,t,n,i,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=yt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ua(s),e}function Mp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Un,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Zd(e){if(!e)return bn;e=e._reactInternals;e:{if(An(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var n=e.type;if(rt(n))return Zu(e,n,t)}return t}function Jd(e,t,n,r,o,s,a,i,c){return e=ai(n,r,!0,e,o,s,a,i,c),e.context=Zd(null),n=e.current,r=Ge(),o=xn(n),s=Yt(r,o),s.callback=t??null,mn(n,s,o),e.current.lanes=o,ho(e,o,r),ot(e,r),e}function _l(e,t,n,r){var o=t.current,s=Ge(),a=xn(o);return n=Zd(n),t.context===null?t.context=n:t.pendingContext=n,t=Yt(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=mn(o,t,a),e!==null&&(It(e,o,a,s),Uo(e,o,a)),a}function bl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ec(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ii(e,t){Ec(e,t),(e=e.alternate)&&Ec(e,t)}function Dp(){return null}var qd=typeof reportError=="function"?reportError:function(e){console.error(e)};function ci(e){this._internalRoot=e}Ll.prototype.render=ci.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));_l(e,t,null,null)};Ll.prototype.unmount=ci.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$n(function(){_l(null,e,null,null)}),t[Kt]=null}};function Ll(e){this._internalRoot=e}Ll.prototype.unstable_scheduleHydration=function(e){if(e){var t=Iu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ln.length&&t!==0&&t<ln[n].priority;n++);ln.splice(n,0,e),n===0&&Du(e)}};function ui(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Pc(){}function Rp(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var d=bl(a);s.call(d)}}var a=Jd(t,r,e,0,null,!1,!1,"",Pc);return e._reactRootContainer=a,e[Kt]=a.current,no(e.nodeType===8?e.parentNode:e),$n(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var i=r;r=function(){var d=bl(c);i.call(d)}}var c=ai(e,0,!1,null,null,!1,!1,"",Pc);return e._reactRootContainer=c,e[Kt]=c.current,no(e.nodeType===8?e.parentNode:e),$n(function(){_l(t,c,n,r)}),c}function $l(e,t,n,r,o){var s=n._reactRootContainer;if(s){var a=s;if(typeof o=="function"){var i=o;o=function(){var c=bl(a);i.call(c)}}_l(t,a,e,o)}else a=Rp(n,t,e,o,r);return bl(a)}Eu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=$r(t.pendingLanes);n!==0&&(Pa(t,n|1),ot(t,ge()),!(q&6)&&(gr=ge()+500,jn()))}break;case 13:$n(function(){var r=Qt(e,1);if(r!==null){var o=Ge();It(r,e,1,o)}}),ii(e,1)}};Ia=function(e){if(e.tag===13){var t=Qt(e,134217728);if(t!==null){var n=Ge();It(t,e,134217728,n)}ii(e,134217728)}};Pu=function(e){if(e.tag===13){var t=xn(e),n=Qt(e,t);if(n!==null){var r=Ge();It(n,e,t,r)}ii(e,t)}};Iu=function(){return ne};Mu=function(e,t){var n=ne;try{return ne=e,t()}finally{ne=n}};Ls=function(e,t,n){switch(t){case"input":if(Es(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Tl(r);if(!o)throw Error(_(90));iu(r),Es(r,o)}}}break;case"textarea":uu(e,n);break;case"select":t=n.value,t!=null&&lr(e,!!n.multiple,t,!1)}};gu=ri;vu=$n;var _p={usingClientEntryPoint:!1,Events:[po,Kn,Tl,pu,xu,ri]},Dr={findFiberByHostInstance:En,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lp={bundleType:Dr.bundleType,version:Dr.version,rendererPackageName:Dr.rendererPackageName,rendererConfig:Dr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wu(e),e===null?null:e.stateNode},findFiberByHostInstance:Dr.findFiberByHostInstance||Dp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_o.isDisabled&&_o.supportsFiber)try{Sl=_o.inject(Lp),Ot=_o}catch{}}ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_p;ht.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ui(t))throw Error(_(200));return Mp(e,t,null,n)};ht.createRoot=function(e,t){if(!ui(e))throw Error(_(299));var n=!1,r="",o=qd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=ai(e,1,!1,null,null,n,!1,r,o),e[Kt]=t.current,no(e.nodeType===8?e.parentNode:e),new ci(t)};ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=wu(t),e=e===null?null:e.stateNode,e};ht.flushSync=function(e){return $n(e)};ht.hydrate=function(e,t,n){if(!Ol(t))throw Error(_(200));return $l(null,e,t,!0,n)};ht.hydrateRoot=function(e,t,n){if(!ui(e))throw Error(_(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",a=qd;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Jd(t,null,e,1,n??null,o,!1,s,a),e[Kt]=t.current,no(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Ll(t)};ht.render=function(e,t,n){if(!Ol(t))throw Error(_(200));return $l(null,e,t,!1,n)};ht.unmountComponentAtNode=function(e){if(!Ol(e))throw Error(_(40));return e._reactRootContainer?($n(function(){$l(null,null,e,!1,function(){e._reactRootContainer=null,e[Kt]=null})}),!0):!1};ht.unstable_batchedUpdates=ri;ht.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ol(n))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return $l(e,t,n,!1,r)};ht.version="18.3.1-next-f1338f8080-20240426";function ef(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ef)}catch(e){console.error(e)}}ef(),eu.exports=ht;var Sr=eu.exports,Ic=Sr;ws.createRoot=Ic.createRoot,ws.hydrateRoot=Ic.hydrateRoot;const Op={},Mc=e=>{let t;const n=new Set,r=(m,g)=>{const p=typeof m=="function"?m(t):m;if(!Object.is(p,t)){const f=t;t=g??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(k=>k(t,f))}},o=()=>t,c={setState:r,getState:o,getInitialState:()=>d,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(Op?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=t=e(r,o,c);return c},$p=e=>e?Mc(e):Mc;var tf={exports:{}},nf={},rf={exports:{}},of={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vr=P;function zp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wp=typeof Object.is=="function"?Object.is:zp,Ap=vr.useState,Fp=vr.useEffect,Hp=vr.useLayoutEffect,Bp=vr.useDebugValue;function Up(e,t){var n=t(),r=Ap({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return Hp(function(){o.value=n,o.getSnapshot=t,xs(o)&&s({inst:o})},[e,n,t]),Fp(function(){return xs(o)&&s({inst:o}),e(function(){xs(o)&&s({inst:o})})},[e]),Bp(n),n}function xs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wp(e,n)}catch{return!0}}function Vp(e,t){return t()}var Gp=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Vp:Up;of.useSyncExternalStore=vr.useSyncExternalStore!==void 0?vr.useSyncExternalStore:Gp;rf.exports=of;var Yp=rf.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zl=P,Xp=Yp;function Kp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qp=typeof Object.is=="function"?Object.is:Kp,Zp=Xp.useSyncExternalStore,Jp=zl.useRef,qp=zl.useEffect,ex=zl.useMemo,tx=zl.useDebugValue;nf.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var s=Jp(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=ex(function(){function c(f){if(!d){if(d=!0,m=f,f=r(f),o!==void 0&&a.hasValue){var k=a.value;if(o(k,f))return g=k}return g=f}if(k=g,Qp(m,f))return k;var w=r(f);return o!==void 0&&o(k,w)?(m=f,k):(m=f,g=w)}var d=!1,m,g,p=n===void 0?null:n;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,n,r,o]);var i=Zp(e,s[0],s[1]);return qp(function(){a.hasValue=!0,a.value=i},[i]),tx(i),i};tf.exports=nf;var nx=tf.exports;const rx=xa(nx),lf={},{useDebugValue:ox}=kl,{useSyncExternalStoreWithSelector:lx}=rx;let Dc=!1;const sx=e=>e;function ax(e,t=sx,n){(lf?"production":void 0)!=="production"&&n&&!Dc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Dc=!0);const r=lx(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return ox(r),r}const Rc=e=>{(lf?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?$p(e):e,n=(r,o)=>ax(t,r,o);return Object.assign(n,t),n},di=e=>e?Rc(e):Rc;let Lo;const ix=new Uint8Array(16);function cx(){if(!Lo&&(Lo=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Lo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Lo(ix)}const Ie=[];for(let e=0;e<256;++e)Ie.push((e+256).toString(16).slice(1));function ux(e,t=0){return Ie[e[t+0]]+Ie[e[t+1]]+Ie[e[t+2]]+Ie[e[t+3]]+"-"+Ie[e[t+4]]+Ie[e[t+5]]+"-"+Ie[e[t+6]]+Ie[e[t+7]]+"-"+Ie[e[t+8]]+Ie[e[t+9]]+"-"+Ie[e[t+10]]+Ie[e[t+11]]+Ie[e[t+12]]+Ie[e[t+13]]+Ie[e[t+14]]+Ie[e[t+15]]}const dx=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_c={randomUUID:dx};function $e(e,t,n){if(_c.randomUUID&&!e)return _c.randomUUID();e=e||{};const r=e.random||(e.rng||cx)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,ux(r)}function Rr(e){const t=e.sheets.find(n=>n.id===e.activeSheetId);return(t==null?void 0:t.widgets)||[]}function xt(e,t){return{...e,sheets:e.sheets.map(n=>n.id===e.activeSheetId?{...n,widgets:t(n.widgets)}:n)}}function fx(e){if(e.sheets&&e.sheets.length>0)return e;const t={id:$e(),name:"Main",widgets:e.widgets||[]};return{id:e.id,name:e.name,theme:e.theme,sheets:[t],activeSheetId:t.id}}const F=di(e=>{const t=(()=>{try{const s=localStorage.getItem("ucs:store");if(!s)return null;const a=JSON.parse(s);return{characters:a.characters.map(fx),activeCharacterId:a.activeCharacterId}}catch(s){return console.error("Failed to load persisted store",s),null}})(),n=(t==null?void 0:t.characters)??[],r=(t==null?void 0:t.activeCharacterId)??null;return{characters:n,activeCharacterId:r,mode:"play",editingWidgetId:null,selectedWidgetId:null,createCharacter:s=>e(a=>{const i={id:$e(),name:"Main",widgets:[]},c={id:$e(),name:s,sheets:[i],activeSheetId:i.id};return{characters:[...a.characters,c],activeCharacterId:c.id,mode:"edit"}}),createCharacterFromPreset:(s,a)=>e(i=>{var k;const c=$e(),d=new Map,m=new Map,g=new Map,p=s.sheets.map(w=>{const j=$e();d.set(w.id,j);const h=w.widgets.map(u=>{var v;const x=$e();m.set(u.id,x);let y=u.groupId;return u.groupId&&(g.has(u.groupId)||g.set(u.groupId,$e()),y=g.get(u.groupId)),{...u,id:x,groupId:y,attachedTo:(v=u.attachedTo)==null?void 0:v.map(b=>m.get(b)||b)}});return h.forEach(u=>{u.attachedTo&&(u.attachedTo=u.attachedTo.map(x=>m.get(x)||x))}),{...w,id:j,widgets:h}}),f={id:c,name:a||s.name,theme:s.theme,sheets:p,activeSheetId:d.get(s.activeSheetId)||((k=p[0])==null?void 0:k.id)};return{characters:[...i.characters,f],activeCharacterId:f.id,mode:"edit"}}),importCharacter:s=>e(a=>{var f;const i=$e(),c=new Map,d=new Map,m=new Map,g=s.sheets.map(k=>{const w=$e();c.set(k.id,w);const j=k.widgets.map(h=>{var y;const u=$e();d.set(h.id,u);let x=h.groupId;return h.groupId&&(m.has(h.groupId)||m.set(h.groupId,$e()),x=m.get(h.groupId)),{...h,id:u,groupId:x,attachedTo:(y=h.attachedTo)==null?void 0:y.map(v=>d.get(v)||v)}});return j.forEach(h=>{h.attachedTo&&(h.attachedTo=h.attachedTo.map(u=>d.get(u)||u))}),{...k,id:w,widgets:j}}),p={...s,id:i,name:s.name,sheets:g,activeSheetId:c.get(s.activeSheetId)||((f=g[0])==null?void 0:f.id)};return{characters:[...a.characters,p]}}),selectCharacter:s=>e({activeCharacterId:s}),deleteCharacter:s=>e(a=>({characters:a.characters.filter(i=>i.id!==s),activeCharacterId:a.activeCharacterId===s?null:a.activeCharacterId})),updateCharacterName:(s,a)=>e(i=>({characters:i.characters.map(c=>c.id===s?{...c,name:a}:c)})),updateCharacterTheme:(s,a)=>e(i=>({characters:i.characters.map(c=>c.id===s?{...c,theme:a}:c)})),setMode:s=>e({mode:s,selectedWidgetId:null}),setEditingWidgetId:s=>e({editingWidgetId:s}),setSelectedWidgetId:s=>e({selectedWidgetId:s}),createSheet:s=>e(a=>{if(!a.activeCharacterId)return a;const i={id:$e(),name:s,widgets:[]};return{characters:a.characters.map(c=>c.id===a.activeCharacterId?{...c,sheets:[...c.sheets,i],activeSheetId:i.id}:c)}}),selectSheet:s=>e(a=>a.activeCharacterId?{characters:a.characters.map(i=>i.id===a.activeCharacterId?{...i,activeSheetId:s}:i)}:a),deleteSheet:s=>e(a=>a.activeCharacterId?{characters:a.characters.map(i=>{if(i.id!==a.activeCharacterId||i.sheets.length<=1)return i;const c=i.sheets.filter(m=>m.id!==s),d=i.activeSheetId===s?c[0].id:i.activeSheetId;return{...i,sheets:c,activeSheetId:d}})}:a),renameSheet:(s,a)=>e(i=>i.activeCharacterId?{characters:i.characters.map(c=>c.id!==i.activeCharacterId?c:{...c,sheets:c.sheets.map(d=>d.id===s?{...d,name:a}:d)})}:i),addWidget:(s,a,i)=>e(c=>{if(!c.activeCharacterId)return c;const d=c.characters.find(u=>u.id===c.activeCharacterId);if(!d)return c;const m=Rr(d);let g=a,p=i;const f=10,k=200,w=120,j=20;if(m.length===0)g=Math.round(400/f)*f,p=Math.round(300/f)*f;else{const u=Math.min(...m.map(b=>b.x)),x=Math.max(...m.map(b=>b.x+(b.w||k))),y=Math.min(...m.map(b=>b.y)),v=Math.max(...m.map(b=>b.y+(b.h||w)));g=Math.round((x+j)/f)*f,p=Math.round(y/f)*f,g>1500&&(g=Math.round(u/f)*f,p=Math.round((v+j)/f)*f)}const h={id:$e(),type:s,x:g,y:p,w:k,h:w,data:{label:"New Widget",value:0,items:[],text:""}};return{characters:c.characters.map(u=>u.id===c.activeCharacterId?xt(u,x=>[...x,h]):u)}}),updateWidgetPosition:(s,a,i)=>e(c=>({characters:c.characters.map(d=>d.id===c.activeCharacterId?xt(d,m=>m.map(g=>g.id===s?{...g,x:a,y:i}:g)):d)})),updateWidgetSize:(s,a,i)=>e(c=>({characters:c.characters.map(d=>d.id===c.activeCharacterId?xt(d,m=>m.map(g=>g.id===s?{...g,w:a,h:i}:g)):d)})),updateWidgetData:(s,a)=>e(i=>({characters:i.characters.map(c=>c.id===i.activeCharacterId?xt(c,d=>d.map(m=>m.id===s?{...m,data:{...m.data,...a}}:m)):c)})),removeWidget:s=>e(a=>({characters:a.characters.map(i=>i.id===a.activeCharacterId?xt(i,c=>c.filter(d=>d.id!==s)):i)})),attachWidgets:(s,a)=>e(i=>i.activeCharacterId?{characters:i.characters.map(c=>{var f;if(c.id!==i.activeCharacterId)return c;const d=Rr(c),m=d.find(k=>k.id===s),g=d.find(k=>k.id===a);if(!m||!g||(f=m.attachedTo)!=null&&f.includes(a))return c;let p;if(m.groupId&&g.groupId&&m.groupId!==g.groupId){p=m.groupId;const k=g.groupId;return xt(c,w=>w.map(j=>j.groupId===k?{...j,groupId:p}:j.id===s?{...j,attachedTo:[...j.attachedTo||[],a]}:j.id===a?{...j,attachedTo:[...j.attachedTo||[],s]}:j))}else m.groupId?p=m.groupId:g.groupId?p=g.groupId:p=$e();return xt(c,k=>k.map(w=>w.id===s?{...w,groupId:p,attachedTo:[...w.attachedTo||[],a]}:w.id===a?{...w,groupId:p,attachedTo:[...w.attachedTo||[],s]}:w))})}:i),detachWidgets:(s,a)=>e(i=>i.activeCharacterId?{characters:i.characters.map(c=>{var y;if(c.id!==i.activeCharacterId)return c;const d=Rr(c),m=d.find(v=>v.id===s);if(!m||!m.groupId)return c;const g=m.groupId,p=m.attachedTo||[];let f=d.map(v=>v.id===s?{...v,groupId:void 0,attachedTo:void 0}:p.includes(v.id)?{...v,attachedTo:(v.attachedTo||[]).filter(b=>b!==s)}:v);const k=f.filter(v=>v.groupId===g).map(v=>v.id);if(k.length===0)return xt(c,()=>f);const w=new Map;for(const v of k){const b=f.find(N=>N.id===v);w.set(v,((y=b==null?void 0:b.attachedTo)==null?void 0:y.filter(N=>k.includes(N)))||[])}const j=new Set,h=[];for(const v of k){if(j.has(v))continue;const b=[],N=[v];for(;N.length>0;){const T=N.shift();if(j.has(T))continue;j.add(T),b.push(T);const S=w.get(T)||[];for(const C of S)j.has(C)||N.push(C)}h.push(b)}const u=h.map((v,b)=>{if(!(v.length<=1))return b===0&&h.filter(N=>N.length>1).length<=1?g:$e()}),x=new Map;return h.forEach((v,b)=>{for(const N of v)x.set(N,u[b])}),f=f.map(v=>{if(x.has(v.id)){const b=x.get(v.id);return b?{...v,groupId:b}:{...v,groupId:void 0,attachedTo:void 0}}return v}),xt(c,()=>f)})}:i),getWidgetsInGroup:s=>{const a=F.getState(),i=a.characters.find(d=>d.id===a.activeCharacterId);return i?Rr(i).filter(d=>d.groupId===s):[]},moveWidgetGroup:(s,a,i)=>e(c=>{if(!c.activeCharacterId)return c;const d=c.characters.find(f=>f.id===c.activeCharacterId);if(!d)return c;const g=Rr(d).find(f=>f.id===s);if(!g||!g.groupId)return{characters:c.characters.map(f=>f.id===c.activeCharacterId?xt(f,k=>k.map(w=>w.id===s?{...w,x:w.x+a,y:w.y+i}:w)):f)};const p=g.groupId;return{characters:c.characters.map(f=>f.id===c.activeCharacterId?xt(f,k=>k.map(w=>w.groupId===p?{...w,x:w.x+a,y:w.y+i}:w)):f)}}),performRest:s=>e(a=>{if(!a.activeCharacterId)return a;const{healAmount:i,clearConditions:c,resetSpellSlots:d,passTimeSeconds:m}=s;return{characters:a.characters.map(g=>g.id===a.activeCharacterId?xt(g,p=>p.map(f=>{if(f.type==="HEALTH_BAR"&&i!==void 0){const k=f.data.currentValue??0,w=f.data.maxValue??10;let j;return i==="full"?j=w:j=Math.min(w,k+i),{...f,data:{...f.data,currentValue:j}}}if(f.type==="TOGGLE_GROUP"&&c){const w=(f.data.toggleItems||[]).map(j=>({...j,active:!1}));return{...f,data:{...f.data,toggleItems:w}}}if(f.type==="SPELL_SLOT"&&d){const w=(f.data.spellLevels||[]).map(j=>({...j,used:0}));return{...f,data:{...f.data,spellLevels:w}}}if(f.type==="TIME_TRACKER"&&m!==void 0&&m>0){const k=f.data.timedEffects||[],w=f.data.roundMode||!1,j=m,h=k.map(u=>({...u,remainingSeconds:Math.max(0,u.remainingSeconds-j)}));return{...f,data:{...f.data,timedEffects:h}}}return f})):g)}})}});{let e=null;F.subscribe(()=>{e&&window.clearTimeout(e),e=window.setTimeout(()=>{try{const t=F.getState(),n={characters:t.characters,activeCharacterId:t.activeCharacterId};localStorage.setItem("ucs:store",JSON.stringify(n))}catch(t){console.error("Failed to persist store",t)}},150)})}const sf="/UniversalCharacterSheet/assets/paper-BEAu-nxw.jpg",af="/UniversalCharacterSheet/assets/paper_2-CH9Rkn63.jpg",cf="/UniversalCharacterSheet/assets/paper_3-kMWVO9hc.jpg",uf="/UniversalCharacterSheet/assets/wood-CRUr5oIk.jpg",df="/UniversalCharacterSheet/assets/arcs-D3YvlcmY.jpg",ff="/UniversalCharacterSheet/assets/circuit_board-DqNmZm31.jpg",hf="/UniversalCharacterSheet/assets/cloth-DQ1UH5v9.jpg",mf="/UniversalCharacterSheet/assets/fire-_GFizR-C.jpg",pf="/UniversalCharacterSheet/assets/fog-DRMbxaR3.jpg",xf="/UniversalCharacterSheet/assets/gears-DmesK-TK.jpg",gf="/UniversalCharacterSheet/assets/glyphs-JJHDyMLG.jpg",vf="/UniversalCharacterSheet/assets/leaf-9JTNOToz.jpg",yf="/UniversalCharacterSheet/assets/leather-gh3fCG9P.jpg",bf="/UniversalCharacterSheet/assets/metal-IUU3jIEo.jpg",wf="/UniversalCharacterSheet/assets/smoke-j_Zmmo3C.jpg",kf="/UniversalCharacterSheet/assets/snow-DoqVdj98.jpg",Sf="/UniversalCharacterSheet/assets/soil-DOAx3uxo.jpg",jf="/UniversalCharacterSheet/assets/solar-BaBFVAiA.jpg",Nf="/UniversalCharacterSheet/assets/stars-DnEgGp3s.jpg",Cf="/UniversalCharacterSheet/assets/stone-tbZqLald.jpg",Tf="/UniversalCharacterSheet/assets/tech-BxDJg7Fw.jpg",Ef="/UniversalCharacterSheet/assets/water-CwLTClza.jpg",Pf="/UniversalCharacterSheet/assets/waves-C9RfNNeY.jpg",nr={none:"none",paper:`url(${sf})`,crumpledPaper:`url(${af})`,graphPaper:`url(${cf})`,wood:`url(${uf})`,arcs:`url(${df})`,circuitBoard:`url(${ff})`,cloth:`url(${hf})`,fire:`url(${mf})`,fog:`url(${pf})`,gears:`url(${xf})`,glyphs:`url(${gf})`,leaf:`url(${vf})`,leather:`url(${yf})`,metal:`url(${bf})`,smoke:`url(${wf})`,snow:`url(${kf})`,soil:`url(${Sf})`,solar:`url(${jf})`,stars:`url(${Nf})`,stone:`url(${Cf})`,tech:`url(${Tf})`,water:`url(${Ef})`,waves:`url(${Pf})`},vn={paper:sf,crumpledPaper:af,graphPaper:cf,wood:uf,arcs:df,circuitBoard:ff,cloth:hf,fire:mf,fog:pf,gears:xf,glyphs:gf,leaf:vf,leather:yf,metal:bf,smoke:wf,snow:kf,soil:Sf,solar:jf,stars:Nf,stone:Cf,tech:Tf,water:Ef,waves:Pf};function Mt(e){return e in vn}function fi(e){return wn.find(t=>t.id===e)}const hx=[{value:"none",label:"None"},{value:"paper",label:"Paper"},{value:"crumpledPaper",label:"Crumpled Paper"},{value:"graphPaper",label:"Graph Paper"},{value:"wood",label:"Wood"},{value:"leather",label:"Leather"},{value:"cloth",label:"Cloth"},{value:"stone",label:"Stone"},{value:"metal",label:"Metal"},{value:"soil",label:"Soil"},{value:"leaf",label:"Leaf"},{value:"water",label:"Water"},{value:"waves",label:"Waves"},{value:"snow",label:"Snow"},{value:"fog",label:"Fog"},{value:"fire",label:"Fire"},{value:"smoke",label:"Smoke"},{value:"stars",label:"Stars"},{value:"solar",label:"Solar"},{value:"tech",label:"Technology"},{value:"circuitBoard",label:"Circuit Board"},{value:"gears",label:"Gears"},{value:"arcs",label:"Arcs"},{value:"glyphs",label:"Glyphs"}],mx=[{value:"hard",label:"Hard Offset"},{value:"soft",label:"Soft Drop"},{value:"glow",label:"Glow"},{value:"inset",label:"Inset"},{value:"layered",label:"Layered"},{value:"none",label:"None"}],px=[{value:"solid",label:"Solid"},{value:"dashed",label:"Dashed"},{value:"dotted",label:"Dotted"},{value:"double",label:"Double"}];function hi(e,t,n=.15){return e==="none"||!e||Mt(e)?"none":nr[e]||nr.none}function mi(e,t="transparent"){switch(e){case"hard":return"4px 4px 0 0 var(--color-shadow)";case"soft":return"0 4px 12px var(--color-shadow)";case"glow":return`0 0 12px ${t}, 0 0 24px var(--color-shadow)`;case"inset":return"inset 0 2px 8px var(--color-shadow)";case"layered":return"2px 2px 0 var(--color-border), 4px 4px 8px var(--color-shadow)";case"none":return"none";default:return"4px 4px 0 0 var(--color-shadow)"}}const wn=[{id:"default",name:"Classic",icon:"",description:"Clean black & white with hard shadows",colors:{background:"#e5e7eb",paper:"#ffffff",ink:"#000000",accent:"#000000",accentHover:"#374151",border:"#000000",shadow:"#000000",muted:"#6b7280",glow:"transparent"},fonts:{heading:'"Courier New", Courier, monospace',body:'"Courier New", Courier, monospace'},borderRadius:"0px",borderWidth:"2px",shadowStyle:"4px 4px 0 0 var(--color-shadow)",cardTexture:nr.none,borderStyle:"solid"},{id:"pen-and-paper",name:"Pen & Paper",icon:"",description:"Handwritten style with lined paper feel",colors:{background:"#d7d7d7",paper:"#d7d7d7",ink:"#2c3e50",accent:"#8b4513",accentHover:"#a0522d",border:"#8b7355",shadow:"#8b7355",muted:"#7f8c8d",glow:"transparent"},fonts:{heading:'"Comic Sans MS", "Segoe Print", cursive',body:'"Segoe Print", "Comic Sans MS", cursive'},borderRadius:"2px",borderWidth:"1px",shadowStyle:"2px 2px 0 0 var(--color-shadow)",cardTexture:"graphPaper",textureOpacity:1,borderStyle:"solid"},{id:"medieval",name:"Medieval",icon:"",description:"Aged parchment with ornate styling",colors:{background:"#3d2914",paper:"#d4c4a8",ink:"#2c1810",accent:"#8b0000",accentHover:"#a52a2a",border:"#5c4033",shadow:"#2c1810",muted:"#6b5344",glow:"transparent"},fonts:{heading:'"Times New Roman", "Palatino Linotype", serif',body:'"Palatino Linotype", "Book Antiqua", serif'},borderRadius:"0px",borderWidth:"3px",shadowStyle:"3px 3px 6px 0 var(--color-shadow)",cardTexture:"paper",textureOpacity:1,borderStyle:"double"},{id:"scifi",name:"Sci-Fi",icon:"",description:"Futuristic holographic interface",colors:{background:"#0a0a1a",paper:"#141428",ink:"#00ffff",accent:"#00ff88",accentHover:"#00cc6a",border:"#00ffff",shadow:"#00ffff40",muted:"#4a9eff",glow:"#008cffff"},fonts:{heading:'"Orbitron", "Segoe UI", sans-serif',body:'"Roboto Mono", "Consolas", monospace'},borderRadius:"4px",borderWidth:"1px",shadowStyle:"0 0 8px var(--color-glow), 0 0 16px var(--color-shadow)",cardTexture:"circuitBoard",textureOpacity:.4,borderStyle:"solid"},{id:"classic-dark",name:"Classic Dark",icon:"",description:"Traditional dark theme with warm accents",colors:{background:"#1a1a1a",paper:"#2d2d2d",ink:"#e0e0e0",accent:"#d4a574",accentHover:"#c49464",border:"#404040",shadow:"#00000080",muted:"#888888",glow:"transparent"},fonts:{heading:'"Georgia", "Times New Roman", serif',body:'"Georgia", "Times New Roman", serif'},borderRadius:"4px",borderWidth:"1px",shadowStyle:"0 4px 12px var(--color-shadow)",cardTexture:nr.none,borderStyle:"solid"},{id:"modern-dark",name:"Modern Dark",icon:"",description:"Sleek contemporary dark interface",colors:{background:"#0f172a",paper:"#1e293b",ink:"#f1f5f9",accent:"#3b82f6",accentHover:"#2563eb",border:"#334155",shadow:"#00000060",muted:"#94a3b8",glow:"#3b82f6"},fonts:{heading:'"Inter", "Segoe UI", sans-serif',body:'"Inter", "Segoe UI", sans-serif'},borderRadius:"8px",borderWidth:"1px",shadowStyle:"0 4px 20px var(--color-shadow)",cardTexture:nr.darkGrain,borderStyle:"solid"},{id:"high-magic",name:"High Magic",icon:"",description:"Arcane glyphs and mystical energy",colors:{background:"#1a0a2e",paper:"#2d1b4e",ink:"#e8d5ff",accent:"#bf7fff",accentHover:"#9966cc",border:"#bf7fff",shadow:"#bf7fff40",muted:"#9b8ab8",glow:"#bf7fff"},fonts:{heading:'"Cinzel", "Times New Roman", serif',body:'"Crimson Text", "Georgia", serif'},borderRadius:"8px",borderWidth:"2px",shadowStyle:"0 0 12px var(--color-glow), 0 0 24px var(--color-shadow)",cardTexture:"arcs",textureOpacity:.15,borderStyle:"solid"},{id:"necrotic",name:"Necrotic",icon:"",description:"Dark and sinister undead aesthetic",colors:{background:"#0d0d0d",paper:"#1a1a1a",ink:"#c8c8c8",accent:"#4a0",accentHover:"#5b0",border:"#333333",shadow:"#00000080",muted:"#666666",glow:"#4a0"},fonts:{heading:'"Copperplate", "Copperplate Gothic Light", "Impact", fantasy',body:'"Courier New", monospace'},borderRadius:"0px",borderWidth:"1px",shadowStyle:"0 0 10px var(--color-shadow), inset 0 0 30px rgba(74, 170, 0, 0.05)",cardTexture:"smoke",textureOpacity:.6,borderStyle:"solid"},{id:"modern",name:"Modern",icon:"",description:"Sleek contemporary design",colors:{background:"#f8fafc",paper:"#ffffff",ink:"#1e293b",accent:"#3b82f6",accentHover:"#2563eb",border:"#e2e8f0",shadow:"#64748b20",muted:"#64748b",glow:"transparent"},fonts:{heading:'"Inter", "Segoe UI", sans-serif',body:'"Inter", "Segoe UI", sans-serif'},borderRadius:"8px",borderWidth:"1px",shadowStyle:"0 4px 16px var(--color-shadow)",cardTexture:nr.none,borderStyle:"solid"},{id:"steampunk",name:"Steampunk",icon:"",description:"Victorian brass and gears",colors:{background:"#2a1f1a",paper:"#3d2b1f",ink:"#d4a574",accent:"#cd7f32",accentHover:"#b8860b",border:"#cd7f32",shadow:"#00000060",muted:"#8b7355",glow:"#cd7f32"},fonts:{heading:'"Spectral SC", "Georgia", serif',body:'"Cutive Mono", "Courier New", monospace'},borderRadius:"2px",borderWidth:"2px",shadowStyle:"2px 2px 0 var(--color-border), 4px 4px 8px var(--color-shadow)",cardTexture:"gears",textureOpacity:.25,borderStyle:"solid"},{id:"cyberpunk",name:"Cyberpunk",icon:"",description:"Neon lights in a dark future",colors:{background:"#0f0f23",paper:"#24243fff",ink:"#eeff00",accent:"#ff00ff",accentHover:"#cc00cc",border:"#ff00ff",shadow:"#ff00ff40",muted:"#00ffff",glow:"#ff00ff"},fonts:{heading:'"Consolas", "Lucida Console", "Monaco", monospace',body:'"Consolas", "Lucida Console", "Monaco", monospace'},borderRadius:"0px",borderWidth:"2px",shadowStyle:"0 0 10px var(--color-glow), 0 0 20px var(--color-shadow), 4px 4px 0 var(--color-border)",cardTexture:"tech",textureOpacity:.4,borderStyle:"solid"},{id:"nature",name:"Nature",icon:"",description:"Organic earthy woodland feel",colors:{background:"#2d4a3e",paper:"#f4f1e0cc",ink:"#2d3b2d",accent:"#4a7c59",accentHover:"#3d6b4f",border:"#5a7247",shadow:"#2d3b2d40",muted:"#6b7c5a",glow:"transparent"},fonts:{heading:'"Amatic SC", "Trebuchet MS", sans-serif',body:'"Nunito", "Verdana", sans-serif'},borderRadius:"12px",borderWidth:"2px",shadowStyle:"0 4px 12px var(--color-shadow)",cardTexture:"leaf",textureOpacity:.6,borderStyle:"solid"}];di(e=>({currentTheme:(()=>{try{const n=localStorage.getItem("ucs:theme");return n?JSON.parse(n):"default"}catch{return"default"}})(),setTheme:n=>{e({currentTheme:n}),localStorage.setItem("ucs:theme",JSON.stringify(n)),yr(n)}}));function yr(e){const t=wn.find(o=>o.id===e)||wn[0],n=document.documentElement;n.style.setProperty("--color-background",t.colors.background),n.style.setProperty("--color-paper",t.colors.paper),n.style.setProperty("--color-ink",t.colors.ink),n.style.setProperty("--color-accent",t.colors.accent),n.style.setProperty("--color-accent-hover",t.colors.accentHover),n.style.setProperty("--color-border",t.colors.border),n.style.setProperty("--color-shadow",t.colors.shadow),n.style.setProperty("--color-muted",t.colors.muted),n.style.setProperty("--color-glow",t.colors.glow),n.style.setProperty("--font-heading",t.fonts.heading),n.style.setProperty("--font-body",t.fonts.body),n.style.setProperty("--border-radius",t.borderRadius),n.style.setProperty("--border-width",t.borderWidth),n.style.setProperty("--shadow-style",t.shadowStyle),n.style.setProperty("--card-texture",t.cardTexture);const r=Mt(t.cardTexture)?t.cardTexture:"none";n.style.setProperty("--card-texture-key",r),n.style.setProperty("--card-texture-color","#ffffff"),n.style.setProperty("--card-texture-opacity",String(t.textureOpacity??.15)),n.style.setProperty("--border-style",t.borderStyle)}function ma(e){const t=document.documentElement;t.style.setProperty("--color-background",e.colors.background),t.style.setProperty("--color-paper",e.colors.paper),t.style.setProperty("--color-ink",e.colors.ink),t.style.setProperty("--color-accent",e.colors.accent),t.style.setProperty("--color-accent-hover",e.colors.accentHover),t.style.setProperty("--color-border",e.colors.border),t.style.setProperty("--color-shadow",e.colors.shadow),t.style.setProperty("--color-muted",e.colors.muted),t.style.setProperty("--color-glow",e.colors.glow||"transparent"),t.style.setProperty("--font-heading",e.fonts.heading),t.style.setProperty("--font-body",e.fonts.body),t.style.setProperty("--border-radius",e.borderRadius),t.style.setProperty("--border-width",e.borderWidth);const n=mi(e.shadowStyle||"hard",e.colors.glow||"transparent");t.style.setProperty("--shadow-style",n);const r=e.cardTexture||"none";t.style.setProperty("--card-texture-key",r);const o=hi(r,e.textureColor,e.textureOpacity??.15);t.style.setProperty("--card-texture",o),t.style.setProperty("--card-texture-color",e.textureColor||"#ffffff"),t.style.setProperty("--card-texture-opacity",String(e.textureOpacity??.15)),t.style.setProperty("--border-style",e.borderStyle||"solid")}const Lc=[{value:'"Arial", "Helvetica Neue", "Helvetica", sans-serif',label:"Arial"},{value:'"Arial Black", "Arial Bold", sans-serif',label:"Arial Black"},{value:'"Verdana", "Geneva", sans-serif',label:"Verdana"},{value:'"Trebuchet MS", "Lucida Sans Unicode", sans-serif',label:"Trebuchet MS"},{value:'"Tahoma", "Geneva", sans-serif',label:"Tahoma"},{value:'"Segoe UI", "Helvetica Neue", sans-serif',label:"Segoe UI"},{value:'"Calibri", "Candara", sans-serif',label:"Calibri"},{value:'"Candara", "Calibri", sans-serif',label:"Candara"},{value:'"Optima", "Segoe UI", sans-serif',label:"Optima"},{value:'"Lucida Sans", "Lucida Grande", sans-serif',label:"Lucida Sans"},{value:'"Times New Roman", "Times", serif',label:"Times New Roman"},{value:'"Georgia", "Palatino", serif',label:"Georgia"},{value:'"Palatino Linotype", "Book Antiqua", "Palatino", serif',label:"Palatino"},{value:'"Book Antiqua", "Palatino Linotype", serif',label:"Book Antiqua"},{value:'"Garamond", "Baskerville", serif',label:"Garamond"},{value:'"Baskerville", "Garamond", serif',label:"Baskerville"},{value:'"Cambria", "Georgia", serif',label:"Cambria"},{value:'"Didot", "Bodoni MT", serif',label:"Didot"},{value:'"Rockwell", "Courier Bold", serif',label:"Rockwell"},{value:'"Courier New", "Courier", monospace',label:"Courier New"},{value:'"Consolas", "Lucida Console", monospace',label:"Consolas"},{value:'"Lucida Console", "Monaco", monospace',label:"Lucida Console"},{value:'"Monaco", "Consolas", monospace',label:"Monaco"},{value:'"Andale Mono", "Consolas", monospace',label:"Andale Mono"},{value:'"Impact", "Haettenschweiler", sans-serif',label:"Impact"},{value:'"Copperplate", "Copperplate Gothic Light", fantasy',label:"Copperplate"},{value:'"Papyrus", fantasy',label:"Papyrus"},{value:'"Brush Script MT", cursive',label:"Brush Script"},{value:'"Comic Sans MS", "Segoe Print", cursive',label:"Comic Sans"},{value:'"Segoe Print", "Comic Sans MS", cursive',label:"Segoe Print"},{value:'"Lucida Handwriting", cursive',label:"Lucida Handwriting"}],xx=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],If="ucs:custom-themes";function gx(){try{const e=localStorage.getItem(If);return e?JSON.parse(e):[]}catch{return[]}}function gs(e){localStorage.setItem(If,JSON.stringify(e))}const rr=di((e,t)=>({customThemes:gx(),addCustomTheme:n=>{const r=[...t().customThemes,n];gs(r),e({customThemes:r})},updateCustomTheme:(n,r)=>{const o=t().customThemes.map(s=>s.id===n?r:s);gs(o),e({customThemes:o})},deleteCustomTheme:n=>{const r=t().customThemes.filter(o=>o.id!==n);gs(r),e({customThemes:r})}}));function zn(e){return rr.getState().customThemes.find(t=>t.id===e)}function vx(){return{name:"My Custom Theme",icon:"",description:"A personalized theme",colors:{background:"#e5e7eb",paper:"#ffffff",ink:"#000000",accent:"#3b82f6",accentHover:"#2563eb",border:"#374151",shadow:"#1f2937",muted:"#6b7280",glow:"transparent"},fonts:{heading:'"Arial", "Helvetica Neue", sans-serif',body:'"Arial", "Helvetica Neue", sans-serif'},borderRadius:"4px",borderWidth:"2px",shadowStyle:"hard",cardTexture:"none",textureColor:"#ffffff",textureOpacity:.15,borderStyle:"solid"}}const yx="ab354335-a46a-4564-9e80-51b8900d987f",bx="DnD preset",wx=[{id:"c04ff32a-56f2-4a3b-a392-7b2ad6f1b1b7",name:"Main",widgets:[{id:"ba6bae45-2b0c-421d-868f-21fcf18d207b",type:"IMAGE",x:0,y:0,w:190,h:220,data:{label:"Name",value:0,items:[],text:""},groupId:"2a5254dc-b728-442e-a414-46e02c6de2e0",attachedTo:["4361bcbb-1c2c-4773-9341-853f566717a1","ca0cb9bc-0c1d-47e1-b8d0-955591c31276","06adfbda-5857-4bdf-83c7-233c1d7466be"]},{id:"4361bcbb-1c2c-4773-9341-853f566717a1",type:"HEALTH_BAR",x:0,y:220,w:190,h:100,data:{label:"Health",value:0,items:[],text:""},groupId:"2a5254dc-b728-442e-a414-46e02c6de2e0",attachedTo:["ba6bae45-2b0c-421d-868f-21fcf18d207b","55f06d23-f8d5-421f-9747-f03ad9319356","06adfbda-5857-4bdf-83c7-233c1d7466be"]},{id:"d2327abf-c6a7-4f8a-b8de-26124b65fe76",type:"DICE_ROLLER",x:470,y:120,w:180,h:120,data:{label:"Damage",value:0,items:[],text:"",diceGroups:[{count:1,faces:6}]},groupId:"2a5254dc-b728-442e-a414-46e02c6de2e0",attachedTo:["1eca844b-cbdc-4462-89f8-297566d9843d","c9ce0e76-74fc-4d0a-8caa-469071ef1209","ca0cb9bc-0c1d-47e1-b8d0-955591c31276","06adfbda-5857-4bdf-83c7-233c1d7466be"]},{id:"ab2c2510-a9e0-418f-bb11-f861388b03fa",type:"NUMBER",x:190,y:340,w:280,h:450,data:{label:"Skills",value:0,items:[],text:"",numberItems:[{name:"Acrobatics(DEX)",value:0},{name:"Animal Handling (WIS)",value:0},{name:"Arcana (INT)",value:0},{name:"Athletics (STR)",value:0},{name:"Deception (CHA)",value:0},{name:"History (INT)",value:0},{name:"Insight (WIS)",value:0},{name:"Intimidation (CHA)",value:0},{name:"Investigation (INT)",value:0},{name:"Medicine (WIS)",value:0},{name:"Nature (INT)",value:0},{name:"Perception (WIS)",value:0},{name:"Performance (CHA)",value:0},{name:"Persuasion (CHA)",value:0},{name:"Religion (INT)",value:0},{name:"Sleight of Hand (DEX)",value:0},{name:"Stealth (DEX)",value:0},{name:"Survival (WIS)",value:0}]},groupId:"2a5254dc-b728-442e-a414-46e02c6de2e0",attachedTo:["6068dca9-c537-42c2-b4c8-ef1cb3697aed","06adfbda-5857-4bdf-83c7-233c1d7466be","55f06d23-f8d5-421f-9747-f03ad9319356","c9ce0e76-74fc-4d0a-8caa-469071ef1209","0452783b-0cc1-40b3-9e1b-a7c0f38dbf32"]},{id:"55f06d23-f8d5-421f-9747-f03ad9319356",type:"NUMBER",x:0,y:320,w:190,h:170,data:{label:"Stats",value:0,items:[],text:"",numberItems:[{name:"Level",value:1},{name:"XP",value:0},{name:"AC",value:10},{name:"Init",value:0},{name:"Speed",value:30}]},groupId:"2a5254dc-b728-442e-a414-46e02c6de2e0",attachedTo:["0452783b-0cc1-40b3-9e1b-a7c0f38dbf32","ab2c2510-a9e0-418f-bb11-f861388b03fa","06adfbda-5857-4bdf-83c7-233c1d7466be"]},{id:"cc54bf1f-db8a-4637-afd6-f74199f9c783",type:"TABLE",x:670,y:570,w:650,h:220,data:{label:"Backback",value:0,items:[],text:"",rows:[{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]}]},groupId:"1b1abaef-6f7c-45a2-9923-83ccfdf837c4",attachedTo:["b218af9a-2dbf-400b-89d3-84f9b65ac4e9","402c930f-4b54-43d2-b5a9-a452297a525d"]},{id:"6068dca9-c537-42c2-b4c8-ef1cb3697aed",type:"TIME_TRACKER",x:470,y:500,w:180,h:290,data:{label:"Effects",value:0,items:[],text:"",timedEffects:[]},groupId:"2a5254dc-b728-442e-a414-46e02c6de2e0",attachedTo:["ab2c2510-a9e0-418f-bb11-f861388b03fa","c9ce0e76-74fc-4d0a-8caa-469071ef1209"]},{id:"c9ce0e76-74fc-4d0a-8caa-469071ef1209",type:"TOGGLE_GROUP",x:470,y:240,w:180,h:260,data:{label:"Conditions",value:0,items:[],text:"",toggleItems:[{name:"Blinded",active:!1},{name:"Charmed",active:!1},{name:"Deafened",active:!1},{name:"Frightened",active:!1},{name:"Grappled",active:!1},{name:"Incapacitated",active:!1},{name:"Invisible",active:!1},{name:"Paralyzed",active:!1},{name:"Petrified",active:!1},{name:"Poisoned",active:!1},{name:"Prone",active:!1},{name:"Restrained",active:!1},{name:"Stunned",active:!1},{name:"Unconscious",active:!1}]},groupId:"2a5254dc-b728-442e-a414-46e02c6de2e0",attachedTo:["06adfbda-5857-4bdf-83c7-233c1d7466be","ab2c2510-a9e0-418f-bb11-f861388b03fa"]},{id:"06adfbda-5857-4bdf-83c7-233c1d7466be",type:"NUMBER",x:190,y:150,w:280,h:190,data:{label:"Attributes",value:0,items:[],text:"",numberItems:[{name:"Strength",value:10},{name:"Dexterity",value:10},{name:"Constitution",value:10},{name:"Intelligence",value:10},{name:"Wisdom",value:10},{name:"Charisma",value:10}]},groupId:"2a5254dc-b728-442e-a414-46e02c6de2e0",attachedTo:["ca0cb9bc-0c1d-47e1-b8d0-955591c31276","ab2c2510-a9e0-418f-bb11-f861388b03fa","55f06d23-f8d5-421f-9747-f03ad9319356","4361bcbb-1c2c-4773-9341-853f566717a1","ba6bae45-2b0c-421d-868f-21fcf18d207b","d2327abf-c6a7-4f8a-b8de-26124b65fe76"]},{id:"0452783b-0cc1-40b3-9e1b-a7c0f38dbf32",type:"LIST",x:0,y:490,w:190,h:300,data:{label:"Features & Traits",value:0,items:["","","","","","","",""],text:"",itemCount:8},groupId:"2a5254dc-b728-442e-a414-46e02c6de2e0",attachedTo:["55f06d23-f8d5-421f-9747-f03ad9319356","ab2c2510-a9e0-418f-bb11-f861388b03fa"]},{id:"1eca844b-cbdc-4462-89f8-297566d9843d",type:"DICE_ROLLER",x:470,y:0,w:180,h:120,data:{label:"Attack",value:0,items:[],text:""},groupId:"2a5254dc-b728-442e-a414-46e02c6de2e0",attachedTo:["d2327abf-c6a7-4f8a-b8de-26124b65fe76","ca0cb9bc-0c1d-47e1-b8d0-955591c31276"]},{id:"b218af9a-2dbf-400b-89d3-84f9b65ac4e9",type:"NUMBER",x:1180,y:400,w:140,h:170,data:{label:"Wealth",value:0,items:[],text:"",numberItems:[{name:"PP",value:0},{name:"GP",value:0},{name:"EP",value:0},{name:"SP",value:0},{name:"CP",value:0}]},groupId:"1b1abaef-6f7c-45a2-9923-83ccfdf837c4",attachedTo:["402c930f-4b54-43d2-b5a9-a452297a525d","cc54bf1f-db8a-4637-afd6-f74199f9c783"]},{id:"a14807b0-b531-4ecb-9fc1-cfd79efb4f7a",type:"SPELL_SLOT",x:670,y:120,w:170,h:240,data:{label:"Spell Slots",value:0,items:[],text:"",spellLevels:[{level:1,max:4,used:0},{level:2,max:2,used:0}]},groupId:"20e26d52-420a-4d58-8d67-5e49fdebae69",attachedTo:["e2446c7d-8726-4b34-88be-ff37563050f8","7149c344-778b-4992-994a-e3cb949cb8c8"]},{id:"ca0cb9bc-0c1d-47e1-b8d0-955591c31276",type:"FORM",x:190,y:0,w:280,h:150,data:{label:"Info",value:0,items:[],text:"",formItems:[{name:"Class",value:""},{name:"Background",value:""},{name:"Race",value:""},{name:"Alignment",value:""}]},groupId:"2a5254dc-b728-442e-a414-46e02c6de2e0",attachedTo:["06adfbda-5857-4bdf-83c7-233c1d7466be","d2327abf-c6a7-4f8a-b8de-26124b65fe76"]},{id:"402c930f-4b54-43d2-b5a9-a452297a525d",type:"TEXT",x:670,y:400,w:510,h:170,data:{label:"Notes",value:0,items:[],text:""},groupId:"1b1abaef-6f7c-45a2-9923-83ccfdf837c4",attachedTo:["b218af9a-2dbf-400b-89d3-84f9b65ac4e9","cc54bf1f-db8a-4637-afd6-f74199f9c783"]},{id:"e2446c7d-8726-4b34-88be-ff37563050f8",type:"TABLE",x:840,y:120,w:480,h:240,data:{label:"Spells",value:0,items:[],text:"",columns:["Name","Level","Notes"],rows:[{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]}]},groupId:"20e26d52-420a-4d58-8d67-5e49fdebae69",attachedTo:["a14807b0-b531-4ecb-9fc1-cfd79efb4f7a","7149c344-778b-4992-994a-e3cb949cb8c8"]},{id:"7149c344-778b-4992-994a-e3cb949cb8c8",type:"FORM",x:670,y:0,w:650,h:120,data:{label:"",value:0,items:[],text:"",formItems:[{name:"Spellcasting class",value:""},{name:"Spellcasting ability",value:""},{name:"Spell Save DC",value:""},{name:"Spell Attack Bonus",value:""}]},groupId:"20e26d52-420a-4d58-8d67-5e49fdebae69",attachedTo:["a14807b0-b531-4ecb-9fc1-cfd79efb4f7a","e2446c7d-8726-4b34-88be-ff37563050f8"]}]}],kx="c04ff32a-56f2-4a3b-a392-7b2ad6f1b1b7",Sx="default",jx={id:yx,name:bx,sheets:wx,activeSheetId:kx,theme:Sx},Mf={"D&D 5e":jx};function Nx(){return Object.keys(Mf)}function Cx(e){return Mf[e]}function Tx(e){const t=e?zn(e):void 0;if(t){const r=mi(t.shadowStyle||"hard",t.colors.glow||"transparent"),o=t.cardTexture||"none",s=Mt(o)?"none":hi(o,t.textureColor,t.textureOpacity);return{"--card-background":t.colors.paper,"--card-ink":t.colors.ink,"--card-border":t.colors.border,"--card-shadow":t.colors.shadow,"--card-muted":t.colors.muted,"--card-accent":t.colors.accent,"--card-glow":t.colors.glow||"transparent","--card-radius":t.borderRadius,"--card-border-width":t.borderWidth,"--card-border-style":t.borderStyle||"solid","--card-shadow-style":r,"--card-texture":s,"--card-texture-key":o,"--card-texture-color":t.textureColor||"#ffffff","--card-texture-opacity":String(t.textureOpacity??.15),fontFamily:t.fonts.body}}const n=wn.find(r=>r.id===(e||"default"))||wn[0];return{"--card-background":n.colors.paper,"--card-ink":n.colors.ink,"--card-border":n.colors.border,"--card-shadow":n.colors.shadow,"--card-muted":n.colors.muted,"--card-accent":n.colors.accent,"--card-glow":n.colors.glow,"--card-radius":n.borderRadius,"--card-border-width":n.borderWidth,"--card-border-style":n.borderStyle,"--card-shadow-style":n.shadowStyle,"--card-texture":n.cardTexture,"--card-texture-key":"none","--card-texture-color":"#ffffff","--card-texture-opacity":"0.15",fontFamily:n.fonts.body}}function Ex(){var $;const e=rr(M=>M.customThemes),t=F(M=>M.characters),n=F(M=>M.createCharacter),r=F(M=>M.createCharacterFromPreset),o=F(M=>M.updateCharacterTheme),s=F(M=>M.importCharacter),a=F(M=>M.selectCharacter),i=F(M=>M.deleteCharacter),[c,d]=P.useState(null),[m,g]=P.useState(!1),[p,f]=P.useState(!1),[k,w]=P.useState(""),[j,h]=P.useState(""),[u,x]=P.useState("default"),y=P.useRef(null),v=P.useRef(null),b=Nx(),N=()=>{const M=k.trim()||"New Character";if(j&&j!==""){const U=Cx(j);if(U){r(U,M);const V=F.getState(),Y=V.characters[V.characters.length-1];Y&&u!=="default"&&o(Y.id,u)}}else{n(M);const U=F.getState(),V=U.characters[U.characters.length-1];V&&u!=="default"&&o(V.id,u)}w(""),h(""),x("default"),g(!1)},T=M=>{const U=JSON.stringify(M,null,2),V=new Blob([U],{type:"application/json"}),Y=URL.createObjectURL(V),X=document.createElement("a");X.href=Y,X.download=`${M.name.replace(/[^a-z0-9]/gi,"_")}.json`,document.body.appendChild(X),X.click(),document.body.removeChild(X),URL.revokeObjectURL(Y)},S=M=>{var Y;const U=(Y=M.target.files)==null?void 0:Y[0];if(!U)return;const V=new FileReader;V.onload=X=>{var I;try{const E=JSON.parse((I=X.target)==null?void 0:I.result);if(!E.name||!E.sheets||!Array.isArray(E.sheets)){alert("Invalid character file format");return}s(E)}catch(E){alert("Failed to parse character file"),console.error(E)}},V.readAsText(U),y.current&&(y.current.value="")},C=()=>{const M={version:1,timestamp:new Date().toISOString(),characters:t,customThemes:e},U=JSON.stringify(M,null,2),V=new Blob([U],{type:"application/json"}),Y=URL.createObjectURL(V),X=document.createElement("a");X.href=Y,X.download=`ucs_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(X),X.click(),document.body.removeChild(X),URL.revokeObjectURL(Y)},L=M=>{var Y;const U=(Y=M.target.files)==null?void 0:Y[0];if(!U)return;const V=new FileReader;V.onload=X=>{var I;try{const E=JSON.parse((I=X.target)==null?void 0:I.result);if(!E.characters||!Array.isArray(E.characters)){alert("Invalid backup file format");return}if(!window.confirm(`This will replace all your current data with the backup from ${E.timestamp?new Date(E.timestamp).toLocaleString():"unknown date"}.

Backup contains ${E.characters.length} character(s).

Are you sure you want to continue?`))return;localStorage.setItem("ucs:store",JSON.stringify({characters:E.characters,activeCharacterId:null})),E.customThemes&&localStorage.setItem("ucs:customThemes",JSON.stringify(E.customThemes)),window.location.reload()}catch(E){alert("Failed to parse backup file"),console.error(E)}},V.readAsText(U),v.current&&(v.current.value="")};return l.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-8 h-full overflow-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-8 border-b-[length:var(--border-width)] border-theme-border pb-2 sm:pb-4",children:[l.jsx("h1",{className:"text-2xl sm:text-4xl font-bold uppercase tracking-wider text-theme-ink font-heading",children:"Character Select"}),l.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-3 py-2 text-sm font-body text-theme-ink border-[length:var(--border-width)] border-theme-border bg-theme-paper hover:bg-theme-accent hover:text-theme-paper rounded-theme transition-colors shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none",title:"Backup & Restore",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),l.jsx("span",{className:"hidden sm:inline",children:"Backup"})]})]}),l.jsxs("div",{className:"mb-6 sm:mb-12 flex gap-2 sm:gap-4",children:[l.jsx("button",{onClick:()=>g(!0),className:"flex-1 bg-theme-accent text-theme-paper px-6 sm:px-8 py-4 sm:py-5 text-lg sm:text-xl font-bold hover:bg-theme-accent-hover transition-colors shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme font-heading",children:"+ CREATE NEW CHARACTER"}),l.jsxs("label",{className:"bg-theme-paper text-theme-ink px-4 sm:px-6 py-4 sm:py-5 font-bold hover:bg-theme-accent hover:text-theme-paper transition-colors shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme font-heading cursor-pointer border-[length:var(--border-width)] border-theme-border text-center flex items-center justify-center",children:["IMPORT",l.jsx("input",{ref:y,type:"file",accept:".json",onChange:S,className:"hidden"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 pb-4",children:[t.map(M=>{const U=Tx(M.theme),V=M.theme?zn(M.theme):void 0,Y=(V==null?void 0:V.cardTexture)||"none",X=Mt(Y);return l.jsxs("div",{style:U,className:"p-4 sm:p-6 active:translate-x-[2px] active:translate-y-[2px] sm:hover:-translate-y-1 transition-transform cursor-pointer relative group",onClick:()=>a(M.id),children:[l.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",style:{backgroundColor:"var(--card-background)",backgroundImage:X?"none":"var(--card-texture)",borderRadius:"var(--card-radius)",border:"var(--card-border-width) var(--card-border-style) var(--card-border)",boxShadow:"var(--card-shadow-style)"},children:X&&l.jsx("div",{style:{position:"absolute",inset:0,backgroundColor:"var(--card-background)"},children:l.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:`url(${vn[Y]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:"var(--card-texture-opacity)",mixBlendMode:"overlay"}})})}),l.jsxs("div",{className:"relative",children:[l.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-2 pr-12",style:{color:"var(--card-ink)"},children:M.name}),l.jsxs("p",{className:"text-sm sm:text-base mb-2 sm:mb-4",style:{color:"var(--card-muted)"},children:[M.sheets.reduce((I,E)=>I+E.widgets.length,0)," Widgets  ",M.sheets.length," Sheet",M.sheets.length!==1?"s":""]}),l.jsx("button",{onClick:I=>{I.stopPropagation(),T(M)},className:"absolute top-0 right-0 px-2 py-1 sm:opacity-0 sm:group-hover:opacity-100 font-bold flex items-center justify-center z-10 text-sm rounded transition-colors",style:{color:"var(--card-accent)",border:"1px solid var(--card-border)",backgroundColor:"var(--card-background)"},onMouseEnter:I=>{I.currentTarget.style.backgroundColor="var(--card-accent)",I.currentTarget.style.color="var(--card-background)"},onMouseLeave:I=>{I.currentTarget.style.backgroundColor="var(--card-background)",I.currentTarget.style.color="var(--card-accent)"},title:"Export character",children:"Export"}),l.jsx("button",{onClick:I=>{I.stopPropagation(),d(M.id)},className:"absolute bottom-0 right-0 px-2 py-1 sm:opacity-0 sm:group-hover:opacity-100 font-bold flex items-center justify-center z-10 text-sm rounded transition-colors",style:{color:"var(--card-accent)",border:"1px solid var(--card-border)",backgroundColor:"var(--card-background)"},onMouseEnter:I=>{I.currentTarget.style.backgroundColor="var(--card-accent)",I.currentTarget.style.color="var(--card-background)"},onMouseLeave:I=>{I.currentTarget.style.backgroundColor="var(--card-background)",I.currentTarget.style.color="var(--card-accent)"},title:"Delete character",children:"Delete"})]})]},M.id)}),t.length===0&&l.jsx("div",{className:"col-span-full text-center py-8 sm:py-12 text-theme-muted border-[length:var(--border-width)] border-dashed border-theme-border/50 text-sm sm:text-base rounded-theme font-body",children:"No characters found. Create one to begin."})]}),c&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>d(null)}),l.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme p-4 z-50 min-w-[250px]",children:[l.jsx("h3",{className:"font-heading text-theme-ink font-bold mb-2",children:"Delete Character?"}),l.jsxs("p",{className:"text-sm text-theme-muted font-body mb-4",children:['Are you sure you want to delete "',($=t.find(M=>M.id===c))==null?void 0:$.name,'"? This will delete all sheets and widgets.']}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx("button",{onClick:()=>d(null),className:"px-3 py-1.5 text-sm font-body text-theme-ink hover:bg-theme-accent/20 rounded-theme transition-colors",children:"Cancel"}),l.jsx("button",{onClick:()=>{i(c),d(null)},className:"px-3 py-1.5 text-sm font-body bg-red-500 text-white hover:bg-red-600 rounded-theme transition-colors",children:"Delete"})]})]})]}),m&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>g(!1)}),l.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme p-6 z-50 w-[90vw] max-w-[400px]",children:[l.jsx("h3",{className:"font-heading text-theme-ink font-bold text-xl mb-4",children:"Create New Character"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-body text-theme-muted mb-1",children:"Character Name"}),l.jsx("input",{type:"text",value:k,onChange:M=>w(M.target.value),placeholder:"Enter character name...",className:"w-full p-3 text-base border-[length:var(--border-width)] border-theme-border shadow-theme focus:outline-none focus:translate-x-[1px] focus:translate-y-[1px] focus:shadow-none transition-all bg-theme-paper text-theme-ink rounded-theme font-body",autoFocus:!0})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-body text-theme-muted mb-1",children:"Preset"}),l.jsxs("select",{value:j,onChange:M=>h(M.target.value),className:"w-full p-3 text-base border-[length:var(--border-width)] border-theme-border shadow-theme focus:outline-none transition-all bg-theme-paper text-theme-ink rounded-theme font-body cursor-pointer",children:[l.jsx("option",{value:"",children:"No Preset"}),b.map(M=>l.jsx("option",{value:M,children:M},M))]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-body text-theme-muted mb-1",children:"Theme"}),l.jsx("select",{value:u,onChange:M=>x(M.target.value),className:"w-full p-3 text-base border-[length:var(--border-width)] border-theme-border shadow-theme focus:outline-none transition-all bg-theme-paper text-theme-ink rounded-theme font-body cursor-pointer",children:wn.map(M=>l.jsxs("option",{value:M.id,children:[M.icon," ",M.name]},M.id))})]}),l.jsxs("div",{className:"flex gap-3 justify-end",children:[l.jsx("button",{onClick:()=>{g(!1),w(""),h(""),x("default")},className:"px-4 py-2 font-body text-theme-ink hover:bg-theme-accent/20 rounded-theme transition-colors border-[length:var(--border-width)] border-theme-border",children:"Cancel"}),l.jsx("button",{onClick:N,className:"px-6 py-2 font-body bg-theme-accent text-theme-paper hover:bg-theme-accent-hover rounded-theme transition-colors font-bold",children:"Create"})]})]})]}),p&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>f(!1)}),l.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme p-6 z-50 w-[90vw] max-w-[450px]",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"font-heading text-theme-ink font-bold text-xl",children:"Backup & Restore"}),l.jsx("button",{onClick:()=>f(!1),className:"text-theme-muted hover:text-theme-ink transition-colors",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-theme p-4 mb-6",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-yellow-600 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-body text-theme-ink text-sm font-semibold mb-1",children:"Your data is stored locally"}),l.jsx("p",{className:"font-body text-theme-muted text-sm",children:"All your characters and settings are stored in your browser's local storage. This data may be lost if you clear your browser cache, use private/incognito mode, or switch browsers."})]})]})}),l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"font-body text-theme-ink font-semibold mb-2",children:"Create Backup"}),l.jsx("p",{className:"font-body text-theme-muted text-sm mb-3",children:"Download a backup file containing all your characters and custom themes."}),l.jsxs("button",{onClick:C,className:"w-full flex items-center justify-center gap-2 px-4 py-3 font-body bg-theme-accent text-theme-paper hover:bg-theme-accent-hover rounded-theme transition-colors font-bold",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download Backup"]})]}),l.jsx("div",{className:"border-t border-theme-border my-4"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-body text-theme-ink font-semibold mb-2",children:"Restore from Backup"}),l.jsxs("p",{className:"font-body text-theme-muted text-sm mb-3",children:["Upload a backup file to restore your characters and themes. ",l.jsx("span",{className:"text-red-500 font-semibold",children:"This will replace all current data."})]}),l.jsxs("label",{className:"w-full flex items-center justify-center gap-2 px-4 py-3 font-body border-[length:var(--border-width)] border-theme-border text-theme-ink hover:bg-theme-accent hover:text-theme-paper rounded-theme transition-colors font-bold cursor-pointer",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Upload Backup File",l.jsx("input",{ref:v,type:"file",accept:".json",onChange:L,className:"hidden"})]})]})]})]})]})}const Px=[{type:"CHECKBOX",label:"Checkbox"},{type:"TOGGLE_GROUP",label:"Conditions"},{type:"DICE_ROLLER",label:"Dice Roller"},{type:"DICE_TRAY",label:"Dice Tray"},{type:"FORM",label:"Form"},{type:"HEALTH_BAR",label:"Health Bar"},{type:"IMAGE",label:"Image"},{type:"LIST",label:"List"},{type:"NUMBER",label:"Number Tracker"},{type:"POOL",label:"Resource Pool"},{type:"PROGRESS_BAR",label:"Progress Bar"},{type:"REST_BUTTON",label:"Rest Button"},{type:"SPELL_SLOT",label:"Spell Slots"},{type:"TABLE",label:"Table"},{type:"TEXT",label:"Text Area"},{type:"TIME_TRACKER",label:"Time Tracker"}];function Ix({collapsed:e,onToggle:t}){const n=F(p=>p.addWidget),r=F(p=>p.activeCharacterId),s=F(p=>p.characters).find(p=>p.id===r),a=s!=null&&s.theme?zn(s.theme):void 0,i=s!=null&&s.theme?fi(s.theme):void 0,c=(a==null?void 0:a.cardTexture)||(i==null?void 0:i.cardTexture)||"none",d=Mt(c),m=p=>{n(p,100,100)},g=(p,f)=>{p.dataTransfer.setData("widgetType",f),p.dataTransfer.effectAllowed="copy"};return l.jsxs(l.Fragment,{children:[!e&&l.jsx("div",{className:"fixed inset-0 bg-black/30 z-40 md:hidden",onClick:t}),l.jsxs("div",{className:`fixed left-0 top-0 bottom-0 w-[80vw] max-w-[280px] md:w-64 bg-theme-paper border-r-[length:var(--border-width)] border-theme-border z-50 flex flex-col p-3 sm:p-4 shadow-theme overflow-hidden transition-transform duration-300 ease-in-out safe-area-bottom touch-pan-y ${e?"-translate-x-full":"translate-x-0"}`,children:[d&&l.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",style:{backgroundColor:"var(--color-paper)"},children:l.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${vn[c]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:"var(--card-texture-opacity)",mixBlendMode:"overlay"}})}),l.jsx("button",{onClick:t,className:"hidden md:flex absolute -right-10 top-20 w-10 h-10 bg-theme-paper border-[length:var(--border-width)] border-theme-border border-l-0 font-bold shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all items-center justify-center text-theme-ink z-20",title:e?"Show Toolbox":"Hide Toolbox",children:e?"":""}),l.jsx("button",{onClick:t,className:"md:hidden absolute top-3 right-3 w-10 h-10 bg-theme-accent text-theme-paper font-bold flex items-center justify-center rounded-theme z-20 shadow-theme",children:""}),l.jsxs("div",{className:"relative z-10 flex flex-col h-full overflow-y-auto touch-pan-y pt-12 md:pt-0",children:[l.jsx("div",{className:"mb-4 sm:mb-8",children:l.jsx("h2",{className:"text-xl sm:text-2xl font-bold uppercase tracking-wider border-b-[length:var(--border-width)] border-theme-border pb-2 text-theme-ink font-heading",children:"Toolbox"})}),l.jsx("div",{className:"flex flex-col gap-2 sm:gap-3",children:Px.map(({type:p,label:f})=>l.jsx("div",{draggable:!0,onDragStart:k=>g(k,p),onClick:()=>m(p),className:"p-2 sm:p-3 border-[length:var(--border-width)] border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-all text-left font-bold shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none cursor-pointer flex items-center gap-2 bg-theme-paper text-theme-ink rounded-theme",children:l.jsxs("span",{className:"text-xs sm:text-sm font-body",children:["+ ",f]})},p))}),l.jsxs("div",{className:"mt-auto pt-4 text-[10px] sm:text-xs text-theme-muted border-t border-theme-border/50 font-body",children:[l.jsx("p",{className:"hidden sm:block",children:"Drag widgets to arrange."}),l.jsx("p",{className:"sm:hidden",children:"Tap to add widgets."}),l.jsx("p",{children:"Pan with finger/mouse."}),l.jsx("p",{children:"Pinch/scroll to zoom."}),l.jsx("p",{className:"mt-2 text-theme-ink font-bold",children:"Edit Mode Active"})]})]})]})]})}function Mx({theme:e,onSave:t,onCancel:n,onDelete:r}){const o=!!e,s=vx(),[a,i]=P.useState((e==null?void 0:e.name)||s.name),[c,d]=P.useState((e==null?void 0:e.icon)||s.icon),[m,g]=P.useState((e==null?void 0:e.description)||s.description),[p,f]=P.useState((e==null?void 0:e.colors)||s.colors),[k,w]=P.useState((e==null?void 0:e.fonts.heading)||s.fonts.heading),[j,h]=P.useState((e==null?void 0:e.fonts.body)||s.fonts.body),[u,x]=P.useState((e==null?void 0:e.borderRadius)||s.borderRadius),[y,v]=P.useState((e==null?void 0:e.borderWidth)||s.borderWidth),[b,N]=P.useState((e==null?void 0:e.shadowStyle)||s.shadowStyle),[T,S]=P.useState((e==null?void 0:e.cardTexture)||s.cardTexture),C="#ffffff",[L,$]=P.useState((e==null?void 0:e.textureOpacity)??s.textureOpacity),[M,U]=P.useState((e==null?void 0:e.borderStyle)||s.borderStyle),[V,Y]=P.useState(!1),X=(R,le)=>{f(Ae=>({...Ae,[R]:le}))},I=()=>{const R={id:(e==null?void 0:e.id)||`custom-${$e()}`,name:a,icon:c,description:m,colors:p,fonts:{heading:k,body:j},borderRadius:u,borderWidth:y,shadowStyle:b,cardTexture:T,textureColor:"#ffffff",textureOpacity:L,borderStyle:M};t(R)},E=[{key:"background",label:"Background"},{key:"paper",label:"Paper/Card"},{key:"ink",label:"Text/Ink"},{key:"accent",label:"Accent"},{key:"accentHover",label:"Accent Hover"},{key:"border",label:"Border"},{key:"shadow",label:"Shadow"},{key:"muted",label:"Muted Text"},{key:"glow",label:"Glow"}],W=()=>l.jsx("div",{className:"p-3 sm:p-4",style:{backgroundColor:p.background,borderRadius:u},children:l.jsxs("div",{className:"p-3 sm:p-4 relative overflow-hidden",style:{backgroundColor:p.paper,backgroundImage:Mt(T)?"none":hi(T,C,L),border:`${y} ${M} ${p.border}`,borderRadius:u,boxShadow:mi(b,p.glow).replace(/var\(--color-shadow\)/g,p.shadow).replace(/var\(--color-border\)/g,p.border).replace(/var\(--color-glow\)/g,p.glow)},children:[Mt(T)&&l.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundColor:p.paper,borderRadius:u},children:l.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${vn[T]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:L,mixBlendMode:"overlay",borderRadius:u}})}),l.jsxs("h4",{className:"text-base sm:text-lg font-bold mb-2 relative",style:{color:p.ink,fontFamily:k},children:[c," ",a]}),l.jsx("p",{className:"text-xs sm:text-sm mb-3 relative",style:{color:p.muted,fontFamily:j},children:m}),l.jsx("button",{className:"px-3 sm:px-4 py-1.5 sm:py-2 text-sm font-bold transition-colors relative",style:{backgroundColor:p.accent,color:p.paper,borderRadius:u,fontFamily:k},children:"Sample Button"})]})});return l.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-2 sm:p-4",children:l.jsxs("div",{className:"bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme w-full max-w-4xl max-h-[95vh] flex flex-col",onClick:R=>R.stopPropagation(),children:[l.jsx("div",{className:"p-3 sm:p-4 border-b-[length:var(--border-width)] border-theme-border bg-theme-paper flex-shrink-0",children:l.jsx("h2",{className:"text-lg sm:text-xl font-bold text-theme-ink font-heading",children:o?" Edit Custom Theme":" Create Custom Theme"})}),l.jsxs("div",{className:"flex flex-col md:flex-row flex-1 overflow-hidden",children:[l.jsxs("div",{className:"order-first md:order-last w-full md:w-80 flex-shrink-0 border-b-[length:var(--border-width)] md:border-b-0 md:border-l-[length:var(--border-width)] border-theme-border p-3 sm:p-4 bg-theme-background/50 max-h-[40vh] md:max-h-none overflow-auto md:overflow-visible",children:[l.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-2 sm:mb-3 uppercase tracking-wider font-heading",children:"Preview"}),l.jsx("div",{className:"md:sticky md:top-0",children:l.jsx(W,{})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4 space-y-5 sm:space-y-6",children:[l.jsxs("section",{children:[l.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Basic Info"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Theme Name"}),l.jsx("input",{type:"text",value:a,onChange:R=>i(R.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",placeholder:"My Custom Theme"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Icon"}),l.jsxs("button",{onClick:()=>Y(!V),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body text-left flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:c}),l.jsx("span",{className:"text-xs text-theme-muted",children:"Click to change"})]}),V&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 p-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme z-20 grid grid-cols-10 gap-1 max-h-40 overflow-y-auto",children:xx.map(R=>l.jsx("button",{onClick:()=>{d(R),Y(!1)},className:`p-1 text-lg hover:bg-theme-accent hover:text-theme-paper rounded ${c===R?"bg-theme-accent text-theme-paper":""}`,children:R},R))})]}),l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Description"}),l.jsx("input",{type:"text",value:m,onChange:R=>g(R.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",placeholder:"A personalized theme"})]})]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Colors"}),l.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-2 sm:gap-3",children:E.map(({key:R,label:le})=>l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("label",{className:"block text-[10px] sm:text-xs font-bold text-theme-muted mb-1 font-body text-center",children:le}),l.jsx("input",{type:"color",value:p[R],onChange:Ae=>X(R,Ae.target.value),className:"w-10 h-10 sm:w-12 sm:h-12 border-[length:var(--border-width)] border-theme-border rounded-theme cursor-pointer"})]},R))})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Fonts"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Heading Font"}),l.jsx("select",{value:k,onChange:R=>w(R.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:Lc.map(R=>l.jsx("option",{value:R.value,style:{fontFamily:R.value},children:R.label},R.value))}),l.jsx("p",{className:"text-xs text-theme-muted mt-1",style:{fontFamily:k},children:"Preview: The quick brown fox"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Body Font"}),l.jsx("select",{value:j,onChange:R=>h(R.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:Lc.map(R=>l.jsx("option",{value:R.value,style:{fontFamily:R.value},children:R.label},R.value))}),l.jsx("p",{className:"text-xs text-theme-muted mt-1",style:{fontFamily:j},children:"Preview: The quick brown fox"})]})]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Style"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Border Radius"}),l.jsxs("select",{value:u,onChange:R=>x(R.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:[l.jsx("option",{value:"0px",children:"Sharp (0px)"}),l.jsx("option",{value:"2px",children:"Subtle (2px)"}),l.jsx("option",{value:"4px",children:"Small (4px)"}),l.jsx("option",{value:"8px",children:"Medium (8px)"}),l.jsx("option",{value:"12px",children:"Large (12px)"}),l.jsx("option",{value:"16px",children:"Extra Large (16px)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Border Width"}),l.jsxs("select",{value:y,onChange:R=>v(R.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:[l.jsx("option",{value:"1px",children:"Thin (1px)"}),l.jsx("option",{value:"2px",children:"Medium (2px)"}),l.jsx("option",{value:"3px",children:"Thick (3px)"}),l.jsx("option",{value:"4px",children:"Extra Thick (4px)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Border Style"}),l.jsx("select",{value:M,onChange:R=>U(R.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:px.map(R=>l.jsx("option",{value:R.value,children:R.label},R.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Shadow Style"}),l.jsx("select",{value:b,onChange:R=>N(R.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:mx.map(R=>l.jsx("option",{value:R.value,children:R.label},R.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Card Texture"}),l.jsx("select",{value:T,onChange:R=>S(R.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:hx.map(R=>l.jsx("option",{value:R.value,children:R.label},R.value))})]}),l.jsxs("div",{className:"sm:col-span-2",children:[l.jsxs("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:["Texture Opacity: ",Math.round(L*100),"%"]}),l.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:L,onChange:R=>$(parseFloat(R.target.value)),className:"w-full h-2 bg-theme-border rounded-theme appearance-none cursor-pointer",disabled:T==="none"})]})]})]})]})]}),l.jsxs("div",{className:"p-3 sm:p-4 border-t-[length:var(--border-width)] border-theme-border bg-theme-paper flex flex-wrap gap-2 justify-between flex-shrink-0",children:[l.jsx("div",{children:o&&r&&l.jsx("button",{onClick:()=>{confirm("Are you sure you want to delete this custom theme?")&&r()},className:"px-3 sm:px-4 py-2 bg-red-500 text-white text-sm font-bold rounded-theme hover:bg-red-600 transition-colors font-heading",children:" Delete"})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:n,className:"px-3 sm:px-4 py-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink text-sm font-bold rounded-theme hover:bg-theme-accent hover:text-theme-paper transition-colors font-heading",children:"Cancel"}),l.jsx("button",{onClick:I,className:"px-3 sm:px-4 py-2 bg-theme-accent text-theme-paper text-sm font-bold rounded-theme hover:bg-theme-accent-hover transition-colors font-heading",children:o?" Save Changes":" Create Theme"})]})]})]})})}function Dx({collapsed:e,onToggle:t}){const n=F(S=>S.activeCharacterId),r=F(S=>S.characters),o=F(S=>S.updateCharacterTheme),s=r.find(S=>S.id===n),a=(s==null?void 0:s.theme)||"default",i=s!=null&&s.theme?zn(s.theme):void 0,c=s!=null&&s.theme?fi(s.theme):void 0,d=(i==null?void 0:i.cardTexture)||(c==null?void 0:c.cardTexture)||"none",m=Mt(d),g=rr(S=>S.customThemes),p=rr(S=>S.addCustomTheme),f=rr(S=>S.updateCustomTheme),k=rr(S=>S.deleteCustomTheme),[w,j]=P.useState(!1),[h,u]=P.useState(void 0),x=S=>{if(n){o(n,S);const C=zn(S);C?ma(C):yr(S)}},y=()=>{u(void 0),j(!0)},v=(S,C)=>{C.stopPropagation(),u(S),j(!0)},b=S=>{h?(f(S.id,S),a===S.id&&ma(S)):p(S),j(!1),u(void 0)},N=()=>{h&&(a===h.id&&n&&(o(n,"default"),yr("default")),k(h.id)),j(!1),u(void 0)},T=()=>{const S=wn.find(L=>L.id===a);if(S)return S.name;const C=g.find(L=>L.id===a);return C?C.name:"Unknown"};return l.jsxs(l.Fragment,{children:[w&&l.jsx(Mx,{theme:h,onSave:b,onCancel:()=>{j(!1),u(void 0)},onDelete:h?N:void 0}),!e&&l.jsx("div",{className:"fixed inset-0 bg-black/30 z-40 md:hidden",onClick:t}),l.jsxs("div",{className:`fixed right-0 top-0 bottom-0 w-[80vw] max-w-[280px] md:w-64 bg-theme-paper border-l-[length:var(--border-width)] border-theme-border z-50 flex flex-col p-3 sm:p-4 shadow-theme overflow-hidden transition-transform duration-300 ease-in-out safe-area-bottom touch-pan-y ${e?"translate-x-full":"translate-x-0"}`,children:[m&&l.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",style:{backgroundColor:"var(--color-paper)"},children:l.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${vn[d]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:"var(--card-texture-opacity)",mixBlendMode:"overlay"}})}),l.jsx("button",{onClick:t,className:"hidden md:flex absolute -left-10 top-20 w-10 h-10 bg-theme-paper border-[length:var(--border-width)] border-theme-border border-r-0 font-bold shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all items-center justify-center text-theme-ink z-20",title:e?"Show Themes":"Hide Themes",children:e?"":""}),l.jsx("button",{onClick:t,className:"md:hidden absolute top-3 right-3 w-10 h-10 bg-theme-accent text-theme-paper font-bold flex items-center justify-center rounded-theme z-20 shadow-theme",children:""}),l.jsxs("div",{className:"relative z-10 flex flex-col h-full overflow-y-auto touch-pan-y pt-12 md:pt-0",children:[l.jsx("div",{className:"mb-4 sm:mb-6",children:l.jsx("h2",{className:"text-xl sm:text-2xl font-bold uppercase tracking-wider border-b-[length:var(--border-width)] border-theme-border pb-2 text-theme-ink font-heading",children:" Themes"})}),l.jsx("div",{className:"flex flex-col gap-2 sm:gap-3",children:wn.map(S=>{const C=Mt(S.cardTexture)?S.cardTexture:null,L=a===S.id;return l.jsxs("button",{onClick:()=>x(S.id),style:{backgroundColor:L?S.colors.accent:S.colors.paper,color:L?S.colors.paper:S.colors.ink,borderColor:S.colors.border,borderRadius:S.borderRadius,borderWidth:S.borderWidth,fontFamily:S.fonts.body,boxShadow:`3px 3px 0 ${S.colors.shadow}`,position:"relative",overflow:"hidden"},className:"p-2 sm:p-3 border-solid transition-all text-left font-bold active:translate-x-[2px] active:translate-y-[2px] active:shadow-none",children:[C&&!L&&l.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundColor:S.colors.paper,borderRadius:S.borderRadius},children:l.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${vn[C]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:S.textureOpacity??.15,mixBlendMode:"overlay",borderRadius:S.borderRadius}})}),l.jsxs("div",{className:"relative flex items-center gap-2",children:[l.jsx("span",{className:"text-base sm:text-lg",children:S.icon}),l.jsx("span",{className:"text-xs sm:text-sm",style:{fontFamily:S.fonts.heading},children:S.name})]}),l.jsx("p",{className:"relative text-[10px] sm:text-xs mt-1 opacity-70",children:S.description}),l.jsxs("div",{className:"relative flex gap-1 mt-2",children:[l.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:S.colors.paper},title:"Paper"}),l.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:S.colors.ink},title:"Ink"}),l.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:S.colors.accent},title:"Accent"}),l.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:S.colors.background},title:"Background"})]})]},S.id)})}),l.jsxs("div",{className:"mt-6 pt-4 border-t border-theme-border/50",children:[l.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:" Custom Themes"}),l.jsxs("button",{onClick:y,className:"w-full p-2 sm:p-3 border-[length:var(--border-width)] border-dashed border-theme-border transition-all text-left font-bold rounded-theme bg-theme-paper text-theme-ink hover:bg-theme-accent hover:text-theme-paper hover:border-solid mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-base sm:text-lg",children:""}),l.jsx("span",{className:"text-xs sm:text-sm font-heading",children:"Create Custom Theme"})]}),l.jsx("p",{className:"text-[10px] sm:text-xs mt-1 opacity-70 font-body",children:"Design your own unique theme"})]}),l.jsx("div",{className:"flex flex-col gap-2 sm:gap-3 mt-3",children:g.map(S=>{const C=Mt(S.cardTexture||"")?S.cardTexture:null,L=a===S.id;return l.jsxs("div",{style:{backgroundColor:L?S.colors.accent:S.colors.paper,color:L?S.colors.paper:S.colors.ink,borderColor:S.colors.border,borderRadius:S.borderRadius,borderWidth:S.borderWidth,fontFamily:S.fonts.body,boxShadow:`3px 3px 0 ${S.colors.shadow}`,position:"relative",overflow:"hidden"},className:"p-2 sm:p-3 border-solid transition-all text-left font-bold",children:[C&&!L&&l.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundColor:S.colors.paper,borderRadius:S.borderRadius},children:l.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${vn[C]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:S.textureOpacity??.15,mixBlendMode:"overlay",borderRadius:S.borderRadius}})}),l.jsxs("button",{onClick:()=>x(S.id),className:"relative w-full text-left",children:[l.jsxs("div",{className:"flex items-center gap-2 pr-8",children:[l.jsx("span",{className:"text-base sm:text-lg",children:S.icon}),l.jsx("span",{className:"text-xs sm:text-sm",style:{fontFamily:S.fonts.heading},children:S.name})]}),l.jsx("p",{className:"text-[10px] sm:text-xs mt-1 opacity-70",children:S.description}),l.jsxs("div",{className:"flex gap-1 mt-2",children:[l.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:S.colors.paper},title:"Paper"}),l.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:S.colors.ink},title:"Ink"}),l.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:S.colors.accent},title:"Accent"}),l.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:S.colors.background},title:"Background"})]})]}),l.jsx("button",{onClick:$=>v(S,$),style:{backgroundColor:L?`${S.colors.paper}33`:`${S.colors.accent}1a`,color:L?S.colors.paper:S.colors.accent},className:"absolute top-2 right-2 w-6 h-6 flex items-center justify-center rounded text-xs hover:scale-110 transition-transform z-10",title:"Edit theme",children:""})]},S.id)})}),g.length===0&&l.jsx("p",{className:"text-[10px] sm:text-xs text-theme-muted mt-2 font-body",children:"No custom themes yet. Create one above!"})]}),l.jsxs("div",{className:"mt-auto pt-4 text-[10px] sm:text-xs text-theme-muted border-t border-theme-border/50 font-body",children:[l.jsx("p",{children:"Select a theme to change the appearance of your character sheet."}),l.jsxs("p",{className:"mt-2 text-theme-ink font-bold",children:["Current: ",T()]})]})]})]})]})}var Wl={exports:{}},Df={},Rf={exports:{}},Rx="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_x=Rx,Lx=_x;function _f(){}function Lf(){}Lf.resetWarningCache=_f;var Ox=function(){function e(r,o,s,a,i,c){if(c!==Lx){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Lf,resetWarningCache:_f};return n.PropTypes=n,n};Rf.exports=Ox();var Of=Rf.exports,pa={exports:{}};function $f(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=$f(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Oc(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=$f(e))&&(r&&(r+=" "),r+=t);return r}pa.exports=Oc,pa.exports.clsx=Oc;var $x=pa.exports,pe={},zt={};Object.defineProperty(zt,"__esModule",{value:!0});zt.dontSetMe=Hx;zt.findInArray=zx;zt.int=Fx;zt.isFunction=Wx;zt.isNum=Ax;function zx(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function Wx(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function Ax(e){return typeof e=="number"&&!isNaN(e)}function Fx(e){return parseInt(e,10)}function Hx(e,t,n){if(e[t])return new Error(`Invalid prop ${t} passed to ${n} - do not set this, set it on the child.`)}var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.browserPrefixToKey=Wf;Fn.browserPrefixToStyle=Bx;Fn.default=void 0;Fn.getPrefix=zf;const vs=["Moz","Webkit","O","ms"];function zf(){var n,r;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const t=(r=(n=window.document)==null?void 0:n.documentElement)==null?void 0:r.style;if(!t||e in t)return"";for(let o=0;o<vs.length;o++)if(Wf(e,vs[o])in t)return vs[o];return""}function Wf(e,t){return t?`${t}${Ux(e)}`:e}function Bx(e,t){return t?`-${t.toLowerCase()}-${e}`:e}function Ux(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}Fn.default=zf();Object.defineProperty(pe,"__esModule",{value:!0});pe.addClassName=Hf;pe.addEvent=Gx;pe.addUserSelectStyles=rg;pe.createCSSTransform=qx;pe.createSVGTransform=eg;pe.getTouch=tg;pe.getTouchIdentifier=ng;pe.getTranslation=pi;pe.innerHeight=Qx;pe.innerWidth=Zx;pe.matchesSelector=Ff;pe.matchesSelectorAndParentsTo=Vx;pe.offsetXYFromParent=Jx;pe.outerHeight=Xx;pe.outerWidth=Kx;pe.removeClassName=Bf;pe.removeEvent=Yx;pe.scheduleRemoveUserSelectStyles=og;var dt=zt,$c=Af(Fn);function Af(e,t){if(typeof WeakMap=="function")var n=new WeakMap,r=new WeakMap;return(Af=function(o,s){if(!s&&o&&o.__esModule)return o;var a,i,c={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return c;if(a=s?r:n){if(a.has(o))return a.get(o);a.set(o,c)}for(const d in o)d!=="default"&&{}.hasOwnProperty.call(o,d)&&((i=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,d))&&(i.get||i.set)?a(c,d,i):c[d]=o[d]);return c})(e,t)}let Oo="";function Ff(e,t){return Oo||(Oo=(0,dt.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,dt.isFunction)(e[n])})),(0,dt.isFunction)(e[Oo])?e[Oo](t):!1}function Vx(e,t,n){let r=e;do{if(Ff(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function Gx(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function Yx(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function Xx(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,dt.int)(n.borderTopWidth),t+=(0,dt.int)(n.borderBottomWidth),t}function Kx(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,dt.int)(n.borderLeftWidth),t+=(0,dt.int)(n.borderRightWidth),t}function Qx(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,dt.int)(n.paddingTop),t-=(0,dt.int)(n.paddingBottom),t}function Zx(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,dt.int)(n.paddingLeft),t-=(0,dt.int)(n.paddingRight),t}function Jx(e,t,n){const o=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),s=(e.clientX+t.scrollLeft-o.left)/n,a=(e.clientY+t.scrollTop-o.top)/n;return{x:s,y:a}}function qx(e,t){const n=pi(e,t,"px");return{[(0,$c.browserPrefixToKey)("transform",$c.default)]:n}}function eg(e,t){return pi(e,t,"")}function pi(e,t,n){let{x:r,y:o}=e,s=`translate(${r}${n},${o}${n})`;if(t){const a=`${typeof t.x=="string"?t.x:t.x+n}`,i=`${typeof t.y=="string"?t.y:t.y+n}`;s=`translate(${a}, ${i})`+s}return s}function tg(e,t){return e.targetTouches&&(0,dt.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,dt.findInArray)(e.changedTouches,n=>t===n.identifier)}function ng(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function rg(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&Hf(e.body,"react-draggable-transparent-selection")}function og(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{zc(e)}):zc(e)}function zc(e){if(e)try{if(e.body&&Bf(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function Hf(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function Bf(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.canDragX=ag;Wt.canDragY=ig;Wt.createCoreData=ug;Wt.createDraggableData=dg;Wt.getBoundPosition=lg;Wt.getControlPosition=cg;Wt.snapToGrid=sg;var at=zt,or=pe;function lg(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:r}=e.props;r=typeof r=="string"?r:fg(r);const o=xi(e);if(typeof r=="string"){const{ownerDocument:s}=o,a=s.defaultView;let i;if(r==="parent"?i=o.parentNode:i=o.getRootNode().querySelector(r),!(i instanceof a.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const c=i,d=a.getComputedStyle(o),m=a.getComputedStyle(c);r={left:-o.offsetLeft+(0,at.int)(m.paddingLeft)+(0,at.int)(d.marginLeft),top:-o.offsetTop+(0,at.int)(m.paddingTop)+(0,at.int)(d.marginTop),right:(0,or.innerWidth)(c)-(0,or.outerWidth)(o)-o.offsetLeft+(0,at.int)(m.paddingRight)-(0,at.int)(d.marginRight),bottom:(0,or.innerHeight)(c)-(0,or.outerHeight)(o)-o.offsetTop+(0,at.int)(m.paddingBottom)-(0,at.int)(d.marginBottom)}}return(0,at.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,at.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,at.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,at.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function sg(e,t,n){const r=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[r,o]}function ag(e){return e.props.axis==="both"||e.props.axis==="x"}function ig(e){return e.props.axis==="both"||e.props.axis==="y"}function cg(e,t,n){const r=typeof t=="number"?(0,or.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;const o=xi(n),s=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,or.offsetXYFromParent)(r||e,s,n.props.scale)}function ug(e,t,n){const r=!(0,at.isNum)(e.lastX),o=xi(e);return r?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function dg(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function fg(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function xi(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var Al={},Fl={};Object.defineProperty(Fl,"__esModule",{value:!0});Fl.default=hg;function hg(){}Object.defineProperty(Al,"__esModule",{value:!0});Al.default=void 0;var ys=Uf(P),Be=gi(Of),mg=gi(Sr),Oe=pe,tn=Wt,bs=zt,_r=gi(Fl);function gi(e){return e&&e.__esModule?e:{default:e}}function Uf(e,t){if(typeof WeakMap=="function")var n=new WeakMap,r=new WeakMap;return(Uf=function(o,s){if(!s&&o&&o.__esModule)return o;var a,i,c={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return c;if(a=s?r:n){if(a.has(o))return a.get(o);a.set(o,c)}for(const d in o)d!=="default"&&{}.hasOwnProperty.call(o,d)&&((i=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,d))&&(i.get||i.set)?a(c,d,i):c[d]=o[d]);return c})(e,t)}function Ue(e,t,n){return(t=pg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pg(e){var t=xg(e,"string");return typeof t=="symbol"?t:t+""}function xg(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Nt={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let nn=Nt.mouse,Hl=class extends ys.Component{constructor(){super(...arguments),Ue(this,"dragging",!1),Ue(this,"lastX",NaN),Ue(this,"lastY",NaN),Ue(this,"touchIdentifier",null),Ue(this,"mounted",!1),Ue(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(t.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Oe.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,Oe.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&!this.props.allowMobileScroll&&t.preventDefault();const o=(0,Oe.getTouchIdentifier)(t);this.touchIdentifier=o;const s=(0,tn.getControlPosition)(t,o,this);if(s==null)return;const{x:a,y:i}=s,c=(0,tn.createCoreData)(this,a,i);(0,_r.default)("DraggableCore: handleDragStart: %j",c),(0,_r.default)("calling",this.props.onStart),!(this.props.onStart(t,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Oe.addUserSelectStyles)(r),this.dragging=!0,this.lastX=a,this.lastY=i,(0,Oe.addEvent)(r,nn.move,this.handleDrag),(0,Oe.addEvent)(r,nn.stop,this.handleDragStop))}),Ue(this,"handleDrag",t=>{const n=(0,tn.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let i=r-this.lastX,c=o-this.lastY;if([i,c]=(0,tn.snapToGrid)(this.props.grid,i,c),!i&&!c)return;r=this.lastX+i,o=this.lastY+c}const s=(0,tn.createCoreData)(this,r,o);if((0,_r.default)("DraggableCore: handleDrag: %j",s),this.props.onDrag(t,s)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=r,this.lastY=o}),Ue(this,"handleDragStop",t=>{if(!this.dragging)return;const n=(0,tn.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let c=r-this.lastX||0,d=o-this.lastY||0;[c,d]=(0,tn.snapToGrid)(this.props.grid,c,d),r=this.lastX+c,o=this.lastY+d}const s=(0,tn.createCoreData)(this,r,o);if(this.props.onStop(t,s)===!1||this.mounted===!1)return!1;const i=this.findDOMNode();i&&this.props.enableUserSelectHack&&(0,Oe.scheduleRemoveUserSelectStyles)(i.ownerDocument),(0,_r.default)("DraggableCore: handleDragStop: %j",s),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,i&&((0,_r.default)("DraggableCore: Removing handlers"),(0,Oe.removeEvent)(i.ownerDocument,nn.move,this.handleDrag),(0,Oe.removeEvent)(i.ownerDocument,nn.stop,this.handleDragStop))}),Ue(this,"onMouseDown",t=>(nn=Nt.mouse,this.handleDragStart(t))),Ue(this,"onMouseUp",t=>(nn=Nt.mouse,this.handleDragStop(t))),Ue(this,"onTouchStart",t=>(nn=Nt.touch,this.handleDragStart(t))),Ue(this,"onTouchEnd",t=>(nn=Nt.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,Oe.addEvent)(t,Nt.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:n}=t;(0,Oe.removeEvent)(n,Nt.mouse.move,this.handleDrag),(0,Oe.removeEvent)(n,Nt.touch.move,this.handleDrag),(0,Oe.removeEvent)(n,Nt.mouse.stop,this.handleDragStop),(0,Oe.removeEvent)(n,Nt.touch.stop,this.handleDragStop),(0,Oe.removeEvent)(t,Nt.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Oe.scheduleRemoveUserSelectStyles)(n)}}findDOMNode(){var t,n,r;return(t=this.props)!=null&&t.nodeRef?(r=(n=this.props)==null?void 0:n.nodeRef)==null?void 0:r.current:mg.default.findDOMNode(this)}render(){return ys.cloneElement(ys.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Al.default=Hl;Ue(Hl,"displayName","DraggableCore");Ue(Hl,"propTypes",{allowAnyClick:Be.default.bool,allowMobileScroll:Be.default.bool,children:Be.default.node.isRequired,disabled:Be.default.bool,enableUserSelectHack:Be.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Be.default.arrayOf(Be.default.number),handle:Be.default.string,cancel:Be.default.string,nodeRef:Be.default.object,onStart:Be.default.func,onDrag:Be.default.func,onStop:Be.default.func,onMouseDown:Be.default.func,scale:Be.default.number,className:bs.dontSetMe,style:bs.dontSetMe,transform:bs.dontSetMe});Ue(Hl,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),e.default=void 0;var t=g(P),n=m(Of),r=m(Sr),o=$x,s=pe,a=Wt,i=zt,c=m(Al),d=m(Fl);function m(h){return h&&h.__esModule?h:{default:h}}function g(h,u){if(typeof WeakMap=="function")var x=new WeakMap,y=new WeakMap;return(g=function(v,b){if(!b&&v&&v.__esModule)return v;var N,T,S={__proto__:null,default:v};if(v===null||typeof v!="object"&&typeof v!="function")return S;if(N=b?y:x){if(N.has(v))return N.get(v);N.set(v,S)}for(const C in v)C!=="default"&&{}.hasOwnProperty.call(v,C)&&((T=(N=Object.defineProperty)&&Object.getOwnPropertyDescriptor(v,C))&&(T.get||T.set)?N(S,C,T):S[C]=v[C]);return S})(h,u)}function p(){return p=Object.assign?Object.assign.bind():function(h){for(var u=1;u<arguments.length;u++){var x=arguments[u];for(var y in x)({}).hasOwnProperty.call(x,y)&&(h[y]=x[y])}return h},p.apply(null,arguments)}function f(h,u,x){return(u=k(u))in h?Object.defineProperty(h,u,{value:x,enumerable:!0,configurable:!0,writable:!0}):h[u]=x,h}function k(h){var u=w(h,"string");return typeof u=="symbol"?u:u+""}function w(h,u){if(typeof h!="object"||!h)return h;var x=h[Symbol.toPrimitive];if(x!==void 0){var y=x.call(h,u);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(h)}class j extends t.Component{static getDerivedStateFromProps(u,x){let{position:y}=u,{prevPropsPosition:v}=x;return y&&(!v||y.x!==v.x||y.y!==v.y)?((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:y,prevPropsPosition:v}),{x:y.x,y:y.y,prevPropsPosition:{...y}}):null}constructor(u){super(u),f(this,"onDragStart",(x,y)=>{if((0,d.default)("Draggable: onDragStart: %j",y),this.props.onStart(x,(0,a.createDraggableData)(this,y))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),f(this,"onDrag",(x,y)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",y);const v=(0,a.createDraggableData)(this,y),b={x:v.x,y:v.y,slackX:0,slackY:0};if(this.props.bounds){const{x:T,y:S}=b;b.x+=this.state.slackX,b.y+=this.state.slackY;const[C,L]=(0,a.getBoundPosition)(this,b.x,b.y);b.x=C,b.y=L,b.slackX=this.state.slackX+(T-b.x),b.slackY=this.state.slackY+(S-b.y),v.x=b.x,v.y=b.y,v.deltaX=b.x-this.state.x,v.deltaY=b.y-this.state.y}if(this.props.onDrag(x,v)===!1)return!1;this.setState(b)}),f(this,"onDragStop",(x,y)=>{if(!this.state.dragging||this.props.onStop(x,(0,a.createDraggableData)(this,y))===!1)return!1;(0,d.default)("Draggable: onDragStop: %j",y);const b={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:T,y:S}=this.props.position;b.x=T,b.y=S}this.setState(b)}),this.state={dragging:!1,dragged:!1,x:u.position?u.position.x:u.defaultPosition.x,y:u.position?u.position.y:u.defaultPosition.y,prevPropsPosition:{...u.position},slackX:0,slackY:0,isElementSVG:!1},u.position&&!(u.onDrag||u.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var u,x;return((x=(u=this.props)==null?void 0:u.nodeRef)==null?void 0:x.current)??r.default.findDOMNode(this)}render(){const{axis:u,bounds:x,children:y,defaultPosition:v,defaultClassName:b,defaultClassNameDragging:N,defaultClassNameDragged:T,position:S,positionOffset:C,scale:L,...$}=this.props;let M={},U=null;const Y=!!!S||this.state.dragging,X=S||v,I={x:(0,a.canDragX)(this)&&Y?this.state.x:X.x,y:(0,a.canDragY)(this)&&Y?this.state.y:X.y};this.state.isElementSVG?U=(0,s.createSVGTransform)(I,C):M=(0,s.createCSSTransform)(I,C);const E=(0,o.clsx)(y.props.className||"",b,{[N]:this.state.dragging,[T]:this.state.dragged});return t.createElement(c.default,p({},$,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(y),{className:E,style:{...y.props.style,...M},transform:U}))}}e.default=j,f(j,"displayName","Draggable"),f(j,"propTypes",{...c.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:i.dontSetMe,style:i.dontSetMe,transform:i.dontSetMe}),f(j,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Df);const{default:Vf,DraggableCore:gg}=Df;Wl.exports=Vf;Wl.exports.default=Vf;Wl.exports.DraggableCore=gg;var vg=Wl.exports;const yg=xa(vg);function Gf({widget:e,height:t}){const n=F(T=>T.updateWidgetData),{label:r,numberItems:o=[]}=e.data,[s,a]=P.useState(null),[i,c]=P.useState(""),d="text-xs",m="text-xs",g="w-5 h-5 text-xs",p="text-sm w-8",f="gap-1",h=Math.max(30,t-16-4-8*2),u=(T,S)=>{const C=[...o];C[T]={...C[T],value:C[T].value+S},n(e.id,{numberItems:C})},x=(T,S)=>{a(T),c(String(S))},y=T=>{c(T.target.value)},v=T=>{const S=parseInt(i,10);if(!isNaN(S)){const C=[...o];C[T]={...C[T],value:S},n(e.id,{numberItems:C})}a(null),c("")},b=(T,S)=>{T.key==="Enter"?v(S):T.key==="Escape"&&(a(null),c(""))},N="w-[62px]";return l.jsxs("div",{className:`flex flex-col ${f} w-full h-full`,children:[r&&l.jsx("div",{className:`font-bold ${d} text-theme-ink font-heading flex-shrink-0`,children:r}),l.jsxs("div",{className:"flex flex-col gap-0.5 overflow-y-auto overflow-x-hidden flex-1 pr-4",style:{maxHeight:`${h}px`},onWheel:T=>{const S=T.currentTarget;S.scrollHeight>S.clientHeight&&T.stopPropagation()},children:[o.map((T,S)=>l.jsxs("div",{className:`flex items-center ${f}`,children:[l.jsx("span",{className:`flex-1 ${m} text-theme-ink font-body truncate`,children:T.name}),l.jsxs("div",{className:`flex items-center justify-center gap-0.5 flex-shrink-0 ${N}`,children:[l.jsx("button",{onClick:()=>u(S,-1),onMouseDown:C=>C.stopPropagation(),className:`${g} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors flex items-center justify-center text-theme-ink rounded-theme flex-shrink-0`,children:"-"}),s===S?l.jsx("input",{type:"text",inputMode:"numeric",value:i,onChange:y,onBlur:()=>v(S),onKeyDown:C=>b(C,S),onMouseDown:C=>C.stopPropagation(),autoFocus:!0,className:`${p} text-center font-bold text-theme-ink bg-theme-paper border border-theme-border rounded-theme flex-shrink-0 outline-none focus:border-theme-accent`}):l.jsx("span",{className:`${p} text-center font-bold text-theme-ink flex-shrink-0 cursor-pointer hover:bg-theme-accent/20 rounded-theme`,onClick:()=>x(S,T.value),onMouseDown:C=>C.stopPropagation(),children:T.value}),l.jsx("button",{onClick:()=>u(S,1),onMouseDown:C=>C.stopPropagation(),className:`${g} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors flex items-center justify-center text-theme-ink rounded-theme flex-shrink-0`,children:"+"})]})]},S)),o.length===0&&l.jsx("div",{className:`${m} text-theme-muted italic`,children:"No items yet"})]})]})}function Yf({widget:e,height:t}){const n=F(j=>j.updateWidgetData),{label:r,items:o=[],itemCount:s=5}=e.data,a="text-xs",i="text-xs py-0.5",c="gap-1",p=Math.max(40,t-16-4-8*2),f=Array.from({length:s},(j,h)=>o[h]||""),k=(j,h)=>{const u=[...f];u[j]=h,n(e.id,{items:u})},w=j=>{const h=[...f];h[j]="",n(e.id,{items:h})};return l.jsxs("div",{className:`flex flex-col ${c} w-full h-full`,children:[r&&l.jsx("div",{className:`font-bold ${a} text-theme-ink font-heading flex-shrink-0`,children:r}),l.jsx("div",{className:"space-y-1 overflow-y-auto flex-1",style:{maxHeight:`${p}px`},onWheel:j=>{const h=j.currentTarget;h.scrollHeight>h.clientHeight&&j.stopPropagation()},children:f.map((j,h)=>l.jsxs("div",{className:"flex items-center gap-1 group",children:[l.jsx("span",{className:"text-theme-ink",children:""}),l.jsx("input",{className:`flex-1 border-b border-theme-border/50 focus:border-theme-border focus:outline-none ${i} min-w-0 bg-transparent text-theme-ink font-body`,value:j,onChange:u=>k(h,u.target.value),placeholder:"...",onMouseDown:u=>u.stopPropagation()}),l.jsx("button",{onClick:()=>w(h),className:"opacity-0 group-hover:opacity-100 text-theme-muted hover:text-theme-ink px-1 flex-shrink-0",onMouseDown:u=>u.stopPropagation(),children:""})]},h))})]})}function Xf({widget:e,height:t}){const n=F(f=>f.updateWidgetData),{label:r,text:o=""}=e.data,s="text-xs",a="text-xs p-1",i="gap-1",g=Math.max(32,t-16-4-8*2),p=f=>{n(e.id,{text:f.target.value})};return l.jsxs("div",{className:`flex flex-col ${i} w-full h-full`,children:[r&&l.jsx("div",{className:`font-bold ${s} text-theme-ink font-heading flex-shrink-0`,children:r}),l.jsx("textarea",{className:`w-full flex-1 ${a} border border-theme-border/50 focus:border-theme-border focus:outline-none resize-none bg-transparent text-theme-ink font-body rounded-theme`,style:{height:`${g}px`},value:o,onChange:p,placeholder:"Enter text here...",onMouseDown:f=>f.stopPropagation()})]})}function Kf({widget:e,height:t}){const n=F(w=>w.updateWidgetData),{label:r,checkboxItems:o=[]}=e.data,s="text-xs",a="text-xs",i="w-4 h-4",c="text-xs",d="gap-1",f=Math.max(30,t-16-4-8*2),k=w=>{const j=[...o];j[w]={...j[w],checked:!j[w].checked},n(e.id,{checkboxItems:j})};return l.jsxs("div",{className:`flex flex-col ${d} w-full h-full`,children:[r&&l.jsx("div",{className:`font-bold ${s} text-theme-ink font-heading flex-shrink-0`,children:r}),l.jsxs("div",{className:"flex flex-col gap-0.5 overflow-y-auto flex-1",style:{maxHeight:`${f}px`},onWheel:w=>{const j=w.currentTarget;j.scrollHeight>j.clientHeight&&w.stopPropagation()},children:[o.map((w,j)=>l.jsxs("div",{className:`flex items-center ${d}`,children:[l.jsx("button",{onClick:()=>k(j),onMouseDown:h=>h.stopPropagation(),className:`${i} border-[length:var(--border-width)] border-theme-border flex items-center justify-center transition-colors flex-shrink-0 rounded-theme ${w.checked?"bg-theme-accent text-theme-paper":"bg-theme-paper hover:opacity-80"}`,children:w.checked&&l.jsx("span",{className:c,children:""})}),l.jsx("span",{className:`flex-1 ${a} font-body text-theme-ink ${w.checked?"line-through text-theme-muted":""}`,children:w.name})]},j)),o.length===0&&l.jsx("div",{className:`${a} text-theme-muted italic`,children:"No items yet"})]})]})}function Wc({title:e,onConfirm:t,onCancel:n,buttonLabel:r,isDamage:o}){const[s,a]=P.useState(1),i=()=>{const c=typeof s=="string"?parseInt(s)||1:s;t(Math.max(1,c))};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:n}),l.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme p-4 z-50 min-w-[200px]",children:[l.jsx("h3",{className:"font-heading text-theme-ink font-bold mb-3",children:e}),l.jsx("input",{type:"number",min:"1",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent mb-3 text-center font-bold text-lg",value:s,onChange:c=>a(c.target.value===""?"":parseInt(c.target.value)||""),onBlur:c=>a(Math.max(1,parseInt(c.target.value)||1)),autoFocus:!0,onKeyDown:c=>{c.key==="Enter"&&i(),c.key==="Escape"&&n()}}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:n,className:"flex-1 px-3 py-1.5 text-sm font-body text-theme-ink hover:bg-theme-accent/20 rounded-theme transition-colors border border-theme-border",children:"Cancel"}),l.jsx("button",{onClick:i,className:"flex-1 px-3 py-1.5 text-sm font-body rounded-theme transition-colors bg-theme-accent text-theme-paper hover:opacity-80",children:r})]})]})]})}function Qf({widget:e}){const t=F(u=>u.updateWidgetData),{label:n,currentValue:r=10,maxValue:o=10}=e.data,[s,a]=P.useState(!1),[i,c]=P.useState(!1),d=Math.max(0,Math.min(100,r/o*100)),m="text-xs",g="text-xs",p="px-1.5 py-0.5 text-[10px]",f="gap-1",k="h-4",w=u=>{const x=Math.max(0,r-u);t(e.id,{currentValue:x}),a(!1)},j=u=>{const x=Math.min(o,r+u);t(e.id,{currentValue:x}),c(!1)},h=()=>{t(e.id,{currentValue:o})};return l.jsxs("div",{className:`flex flex-col ${f} w-full h-full justify-between`,children:[n&&l.jsx("div",{className:`font-bold ${m} text-theme-ink font-heading flex-shrink-0`,children:n}),l.jsx("div",{className:"flex-1 flex flex-col justify-center",children:l.jsxs("div",{className:`relative ${k} bg-theme-accent rounded-theme overflow-hidden border border-theme-border`,children:[l.jsx("div",{className:"absolute inset-y-0 left-0 bg-theme-accent transition-all duration-300 ease-out",style:{width:`${d}%`}}),l.jsx("div",{className:"absolute inset-y-0 right-0 bg-theme-paper/70",style:{width:`${100-d}%`}}),l.jsxs("div",{className:`absolute inset-0 flex items-center justify-center font-bold ${g} text-theme-paper`,children:[r," / ",o]})]})}),l.jsxs("div",{className:"flex items-center justify-between gap-1 flex-shrink-0",children:[l.jsx("button",{onClick:()=>a(!0),onMouseDown:u=>u.stopPropagation(),className:`${p} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme font-bold`,children:"Damage"}),l.jsx("button",{onClick:()=>c(!0),onMouseDown:u=>u.stopPropagation(),className:`${p} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme font-bold`,children:"Heal"}),l.jsx("button",{onClick:h,onMouseDown:u=>u.stopPropagation(),className:`${p} bg-theme-accent text-theme-paper hover:opacity-80 transition-colors rounded-theme font-bold`,children:"Full"})]}),s&&l.jsx(Wc,{title:"Take Damage",onConfirm:w,onCancel:()=>a(!1),buttonLabel:"Damage",isDamage:!0}),i&&l.jsx(Wc,{title:"Heal",onConfirm:j,onCancel:()=>c(!1),buttonLabel:"Heal",isDamage:!1})]})}function Zf({widget:e}){const{label:t,diceGroups:n=[{count:1,faces:20}],modifier:r=0}=e.data,[o,s]=P.useState(null),[a,i]=P.useState(!1),c="text-xs",d="py-1 px-2 text-xs",m="text-xl",g="text-[10px]",p="gap-1",f=()=>{i(!0),setTimeout(()=>{const j=[];let h=0;for(const u of n){const x=[];for(let y=0;y<u.count;y++){const v=Math.floor(Math.random()*u.faces)+1;x.push(v),h+=v}j.push({faces:u.faces,rolls:x})}s({groups:j,modifier:r,total:h+r}),i(!1)},300)},w=(()=>{let h=n.map(u=>`${u.count}d${u.faces}`).join(" + ");return r!==0&&(h+=r>=0?` + ${r}`:` - ${Math.abs(r)}`),h})();return l.jsxs("div",{className:`flex flex-col ${p} w-full h-full`,children:[t&&l.jsx("div",{className:`font-bold text-center ${c} text-theme-ink font-heading flex-shrink-0`,children:t}),l.jsxs("button",{onClick:f,onMouseDown:j=>j.stopPropagation(),className:`${d} border-[length:var(--border-width)] border-theme-border font-bold transition-all rounded-theme flex-shrink-0 ${a?"bg-theme-muted animate-pulse text-theme-paper":"bg-theme-paper text-theme-ink hover:bg-theme-accent hover:text-theme-paper"}`,disabled:a,children:[" Roll ",w]}),l.jsx("div",{className:"text-center border-t border-theme-border/50 pt-1 flex-1 flex flex-col justify-center",children:o&&!a?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`${m} font-bold text-theme-ink font-heading`,children:o.total}),l.jsxs("div",{className:`${g} text-theme-muted font-body`,children:[o.groups.map((j,h)=>l.jsxs("span",{children:[h>0&&" + ",l.jsxs("span",{title:`d${j.faces}`,children:["[",j.rolls.join(", "),"]"]})]},h)),o.modifier!==0&&l.jsxs("span",{children:[" ",o.modifier>=0?"+":"",o.modifier]})]}),o.groups.length===1&&o.groups[0].rolls.length===1&&o.groups[0].faces===20&&l.jsxs(l.Fragment,{children:[o.groups[0].rolls[0]===20&&l.jsx("div",{className:`text-green-600 font-bold ${g}`,children:"NAT 20!"}),o.groups[0].rolls[0]===1&&l.jsx("div",{className:`text-red-600 font-bold ${g}`,children:"NAT 1!"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`${m} font-bold text-theme-muted font-heading`,children:""}),l.jsx("div",{className:`${g} text-theme-muted font-body`,children:""})]})})]})}function Jf({widget:e}){const{label:t,availableDice:n=[4,6,8,10,12,20]}=e.data,[r,o]=P.useState([]),[s,a]=P.useState(null),[i,c]=P.useState(!1),[d,m]=P.useState(1),g="text-xs",p="py-1 px-2 text-xs",f="text-xl",k="text-[10px]",w="gap-1",j=v=>{o(b=>[...b,{faces:v,id:d}]),m(b=>b+1),a(null)},h=()=>{o([]),a(null)},u=()=>{r.length!==0&&(c(!0),setTimeout(()=>{const v=[];let b=0;for(const N of r){const T=Math.floor(Math.random()*N.faces)+1;v.push({faces:N.faces,roll:T}),b+=T}a({dice:v,total:b}),c(!1),o([]),m(1)},300))},x=r.reduce((v,b)=>(v[b.faces]=(v[b.faces]||0)+1,v),{}),y=()=>{const v=Object.entries(x).sort(([b],[N])=>Number(N)-Number(b)).map(([b,N])=>`${N}d${b}`);return v.length>0?v.join(" + "):"Empty"};return l.jsxs("div",{className:`flex flex-col ${w} w-full h-full`,children:[t&&l.jsx("div",{className:`font-bold text-center ${g} text-theme-ink font-heading flex-shrink-0`,children:t}),l.jsx("div",{className:"flex flex-wrap gap-1 justify-center flex-shrink-0",children:n.map(v=>l.jsxs("button",{onClick:()=>j(v),onMouseDown:b=>b.stopPropagation(),className:`${p} border-[length:var(--border-width)] border-theme-border font-bold transition-all rounded-theme bg-theme-paper text-theme-ink hover:bg-theme-accent hover:text-theme-paper min-w-[40px]`,title:`Add d${v}`,children:["d",v]},v))}),l.jsx("div",{className:"flex-1 flex flex-col justify-center",children:l.jsxs("div",{className:"flex gap-1 justify-center flex-shrink-0",children:[l.jsx("button",{onClick:u,onMouseDown:v=>v.stopPropagation(),className:`${p} border-[length:var(--border-width)] border-theme-border font-bold transition-all rounded-theme flex-1 ${i||r.length===0?"bg-theme-muted text-theme-paper cursor-not-allowed":"bg-theme-accent text-theme-paper hover:opacity-90"}`,disabled:i||r.length===0,children:r.length>0?`Roll ${y()}`:"Roll"}),r.length>0&&l.jsx("button",{onClick:h,onMouseDown:v=>v.stopPropagation(),className:`${p} border-[length:var(--border-width)] border-theme-border font-bold transition-all rounded-theme bg-theme-paper text-theme-ink hover:bg-red-500 hover:text-white hover:border-red-500`,children:"Clear"})]})}),l.jsx("div",{className:"text-center border-t border-theme-border/50 pt-1 flex-shrink-0",children:s&&!i?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`${f} font-bold text-theme-ink font-heading`,children:s.total}),l.jsx("div",{className:`${k} text-theme-muted font-body`,children:s.dice.map((v,b)=>l.jsxs("span",{children:[b>0&&" + ",l.jsx("span",{title:`d${v.faces}`,children:v.roll})]},b))}),s.dice.length===1&&s.dice[0].faces===20&&l.jsxs(l.Fragment,{children:[s.dice[0].roll===20&&l.jsx("div",{className:`text-green-600 font-bold ${k}`,children:"NAT 20!"}),s.dice[0].roll===1&&l.jsx("div",{className:`text-red-600 font-bold ${k}`,children:"NAT 1!"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`${f} font-bold text-theme-muted font-heading`,children:""}),l.jsx("div",{className:`${k} text-theme-muted font-body`,children:""})]})})]})}function qf({widget:e,height:t}){const n=F(u=>u.updateWidgetData),{label:r,spellLevels:o=[{level:1,max:4,used:0}]}=e.data,s="text-xs",a="w-6 text-[10px]",i="w-4 h-4",c="text-[10px] px-1 py-0.5",d="gap-1",k=Math.max(30,t-16-28-4*3-8*2),w=(u,x)=>{const y=[...o],v=y[u];x<v.used?y[u]={...v,used:x}:y[u]={...v,used:x+1},n(e.id,{spellLevels:y})},j=()=>{const u=o.map(x=>({...x,used:0}));n(e.id,{spellLevels:u})},h=u=>{const x=["th","st","nd","rd"],y=u%100;return u+(x[(y-20)%10]||x[y]||x[0])};return l.jsxs("div",{className:`flex flex-col ${d} w-full h-full`,children:[r&&l.jsx("div",{className:`font-bold ${s} text-theme-ink font-heading flex-shrink-0`,children:r}),l.jsxs("div",{className:`flex flex-col ${d} overflow-y-auto flex-1`,style:{maxHeight:`${k}px`},onWheel:u=>{const x=u.currentTarget;x.scrollHeight>x.clientHeight&&u.stopPropagation()},children:[o.map((u,x)=>l.jsxs("div",{className:`flex items-center ${d}`,children:[l.jsx("span",{className:`${a} font-bold text-center text-theme-ink`,children:h(u.level)}),l.jsx("div",{className:"flex gap-1 flex-1 flex-wrap",children:Array.from({length:u.max}).map((y,v)=>l.jsx("button",{onClick:()=>w(x,v),onMouseDown:b=>b.stopPropagation(),className:`${i} rounded-full border-[length:var(--border-width)] border-theme-border transition-all ${v<u.used?"bg-theme-accent":"bg-theme-paper hover:opacity-80"}`,title:v<u.used?"Click to restore":"Click to use"},v))})]},x)),o.length===0&&l.jsx("div",{className:`${a} text-theme-muted italic`,children:"No spell levels configured"})]}),l.jsx("div",{className:`flex items-center justify-end ${d} border-t border-theme-border/50 pt-2 flex-shrink-0`,children:l.jsx("button",{onClick:j,onMouseDown:u=>u.stopPropagation(),className:`${c} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme`,children:"Reset All"})})]})}function eh({widget:e,height:t}){const{label:n,imageUrl:r=""}=e.data,o="text-xs",s="text-2xl",a="text-[10px]",i="gap-1",g=Math.max(40,t-16-4-8*2);return l.jsxs("div",{className:`flex flex-col ${i} w-full h-full`,children:[n&&l.jsx("div",{className:`font-bold text-center ${o} text-theme-ink font-heading flex-shrink-0`,children:n}),l.jsx("div",{className:"border-[length:var(--border-width)] border-theme-border bg-theme-background flex items-center justify-center overflow-hidden rounded-theme flex-1",style:{height:`${g}px`},children:r?l.jsx("img",{src:r,alt:n||"Character",className:"w-full h-full object-cover",onError:p=>{p.target.style.display="none"}}):l.jsxs("div",{className:"text-theme-muted text-center p-1",children:[l.jsx("div",{className:`${s} mb-1`,children:""}),l.jsx("span",{className:`${a} font-body`,children:"No image"})]})})]})}function th({widget:e}){const t=F(f=>f.updateWidgetData),{label:n,maxPool:r=5,currentPool:o=5,poolStyle:s="dots"}=e.data,a="text-xs",i="w-5 h-5 text-sm",c="text-[10px]",d="gap-1",m=f=>{f<o?t(e.id,{currentPool:f}):t(e.id,{currentPool:f+1})},g=f=>{switch(s){case"hearts":return f?"":"";case"boxes":return f?"":"";case"dots":default:return f?"":""}},p=f=>{const k=`${i} flex items-center justify-center transition-all cursor-pointer hover:scale-125`;return s==="hearts"?k:`${k} ${f?"text-theme-ink":"text-theme-muted"}`};return l.jsxs("div",{className:`flex flex-col ${d} w-full h-full`,children:[n&&l.jsx("div",{className:`font-bold ${a} text-theme-ink font-heading flex-shrink-0`,children:n}),l.jsx("div",{className:"flex flex-wrap gap-0.5 flex-1 content-start overflow-y-auto",onWheel:f=>{const k=f.currentTarget;k.scrollHeight>k.clientHeight&&f.stopPropagation()},children:Array.from({length:r}).map((f,k)=>l.jsx("button",{onClick:()=>m(k),onMouseDown:w=>w.stopPropagation(),className:p(k<o),title:k<o?"Click to use":"Click to restore",children:g(k<o)},k))}),l.jsxs("div",{className:`${c} text-center text-theme-muted font-body flex-shrink-0`,children:[o," / ",r]})]})}function nh({widget:e}){const t=F(c=>c.updateWidgetData),{label:n,toggleItems:r=[]}=e.data,o="text-xs",s="px-1.5 py-0.5 text-[10px]",a="gap-1",i=c=>{const d=[...r];d[c]={...d[c],active:!d[c].active},t(e.id,{toggleItems:d})};return l.jsxs("div",{className:`flex flex-col ${a} w-full h-full`,children:[n&&l.jsx("div",{className:`font-bold ${o} text-theme-ink font-heading flex-shrink-0`,children:n}),l.jsxs("div",{className:`flex flex-wrap ${a} overflow-y-auto flex-1 content-start`,onWheel:c=>{const d=c.currentTarget;d.scrollHeight>d.clientHeight&&c.stopPropagation()},children:[r.map((c,d)=>l.jsx("button",{onClick:()=>i(d),onMouseDown:m=>m.stopPropagation(),className:`${s} border border-theme-border transition-all rounded-theme font-body ${c.active?"bg-theme-accent text-theme-paper":"bg-theme-paper text-theme-ink hover:opacity-80"}`,children:c.name},d)),r.length===0&&l.jsx("div",{className:`${s} text-theme-muted italic`,children:"No conditions configured"})]})]})}function rh({widget:e,height:t}){const n=F(L=>L.updateWidgetData),{label:r,columns:o=["Item","Qty","Weight"],rows:s=[]}=e.data,[a,i]=P.useState(null),[c,d]=P.useState(null),[m,g]=P.useState(null),p=kl.useRef(null),f="text-xs",k="text-[10px] p-0.5",w="gap-1",x=Math.max(40,t-16-4-8*2),y=(L,$,M)=>{const U=[...s];U[L]={...U[L],cells:[...U[L].cells]},U[L].cells[$]=M,n(e.id,{rows:U})},v=L=>{const $=[...s];$[L]={cells:o.map(()=>"")},n(e.id,{rows:$})},b=(L,$)=>{p.current=$,d($),L.dataTransfer.effectAllowed="move",L.dataTransfer.setData("text/plain",$.toString())},N=(L,$)=>{L.preventDefault(),L.stopPropagation(),p.current!==null&&p.current!==$&&g($)},T=()=>{g(null)},S=(L,$)=>{L.preventDefault(),L.stopPropagation();const M=p.current;if(M!==null&&M!==$){const U=[...s],[V]=U.splice(M,1),Y=M<$?$-1:$;U.splice(Y,0,V),n(e.id,{rows:U})}p.current=null,d(null),g(null)},C=()=>{p.current=null,d(null),g(null)};return l.jsxs("div",{className:`flex flex-col ${w} w-full h-full`,children:[r&&l.jsx("div",{className:`font-bold ${f} text-theme-ink font-heading flex-shrink-0`,children:r}),l.jsx("div",{className:"overflow-auto flex-1",style:{maxHeight:`${x}px`},onWheel:L=>{const $=L.currentTarget;($.scrollHeight>$.clientHeight||$.scrollWidth>$.clientWidth)&&L.stopPropagation()},onDragOver:L=>L.preventDefault(),children:l.jsxs("table",{className:`w-full border-collapse ${k}`,children:[l.jsx("thead",{className:"sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"w-4"}),o.map((L,$)=>l.jsx("th",{className:`border border-theme-border bg-theme-background ${k} text-theme-ink font-heading`,children:L},$)),l.jsx("th",{className:"w-4"})]})}),l.jsx("tbody",{children:s.map((L,$)=>l.jsxs("tr",{className:`group ${c===$?"opacity-50":""} ${m===$&&c!==$?"border-t-2 border-theme-accent":""}`,onDragOver:M=>{M.preventDefault(),M.stopPropagation(),N(M,$)},onDragLeave:T,onDrop:M=>{M.preventDefault(),M.stopPropagation(),S(M,$)},children:[l.jsx("td",{className:"w-4 p-0 cursor-grab active:cursor-grabbing",draggable:!0,onDragStart:M=>b(M,$),onDragEnd:C,onMouseDown:M=>M.stopPropagation(),children:l.jsx("div",{className:"text-theme-muted hover:text-theme-ink text-[10px] text-center touch-none select-none",children:""})}),L.cells.map((M,U)=>l.jsx("td",{className:`border border-theme-border ${k} text-theme-ink`,children:(a==null?void 0:a.row)===$&&(a==null?void 0:a.col)===U?l.jsx("input",{autoFocus:!0,value:M,onChange:V=>y($,U,V.target.value),onBlur:()=>i(null),onKeyDown:V=>{V.key==="Enter"?i(null):V.key==="Tab"&&(V.preventDefault(),V.shiftKey?U>0?i({row:$,col:U-1}):$>0&&i({row:$-1,col:o.length-1}):U<o.length-1?i({row:$,col:U+1}):$<s.length-1&&i({row:$+1,col:0}))},className:"w-full bg-transparent focus:outline-none text-[10px] text-theme-ink font-body",onMouseDown:V=>V.stopPropagation()}):l.jsx("div",{onClick:()=>i({row:$,col:U}),onMouseDown:V=>V.stopPropagation(),className:"min-h-[1em] cursor-text hover:opacity-70 font-body",children:M||l.jsx("span",{className:"text-theme-muted",children:"-"})})},U)),l.jsx("td",{className:"w-4 p-0",children:l.jsx("button",{onClick:()=>v($),onMouseDown:M=>M.stopPropagation(),className:"w-full h-full text-theme-muted hover:text-theme-ink opacity-0 group-hover:opacity-100",children:""})})]},$))})]})})]})}function Ac({title:e,onClose:t,children:n}){return Sr.createPortal(l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999]",onClick:t,onMouseDown:r=>r.stopPropagation(),children:l.jsxs("div",{className:"bg-theme-paper border border-theme-border rounded-theme shadow-xl p-4 min-w-[280px] max-w-[400px]",onClick:r=>r.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"font-bold text-theme-ink font-heading",children:e}),l.jsx("button",{onClick:t,className:"text-theme-muted hover:text-theme-ink text-xl leading-none",children:""})]}),n]})}),document.body)}function bg(e){if(e<=0)return"Expired";const t=Math.floor(e/(365*24*60*60)),n=Math.floor(e%(365*24*60*60)/(30*24*60*60)),r=Math.floor(e%(30*24*60*60)/(24*60*60)),o=Math.floor(e%(24*60*60)/(60*60)),s=Math.floor(e%(60*60)/60),a=e%60,i=[];return t>0&&i.push(`${t}y`),n>0&&i.push(`${n}mo`),r>0&&i.push(`${r}d`),o>0&&i.push(`${o}h`),s>0&&i.push(`${s}m`),(a>0||i.length===0)&&i.push(`${a}s`),i.slice(0,3).join(" ")}function Fc(e,t){switch(t){case"seconds":return e;case"minutes":return e*60;case"hours":return e*60*60;case"days":return e*24*60*60;case"months":return e*30*24*60*60;case"years":return e*365*24*60*60;default:return e}}function wg(e){return e<=0?"Expired":e===1?"1 round":`${e} rounds`}function oh({widget:e,height:t}){const n=F(E=>E.updateWidgetData),{label:r,timedEffects:o=[],roundMode:s=!1}=e.data,[a,i]=P.useState(!1),[c,d]=P.useState(!1),[m,g]=P.useState(""),[p,f]=P.useState(1),[k,w]=P.useState("minutes"),[j,h]=P.useState(1),[u,x]=P.useState("minutes"),y="text-xs",v="text-xs",b="text-xs px-2 py-1",N="gap-1",T=()=>{if(m.trim()){const E=s?p:Fc(p,k),W={name:m.trim(),remainingSeconds:E};n(e.id,{timedEffects:[...o,W]}),g(""),f(1),i(!1)}},S=()=>{g(""),f(1),i(!1)},C=E=>{const W=[...o];W.splice(E,1),n(e.id,{timedEffects:W})},L=()=>{const E=s?1:Fc(j,u),W=o.map(R=>({...R,remainingSeconds:Math.max(0,R.remainingSeconds-E)}));n(e.id,{timedEffects:W}),d(!1)},$=()=>{const E=o.map(W=>({...W,remainingSeconds:Math.max(0,W.remainingSeconds-1)}));n(e.id,{timedEffects:E})},M=()=>{h(1),d(!1)},I=Math.max(60,t-16-32-4*3-8*2);return l.jsxs("div",{className:`flex flex-col ${N} w-full h-full`,children:[r&&l.jsx("div",{className:`font-bold ${y} text-theme-ink font-heading flex-shrink-0`,children:r}),l.jsxs("div",{className:`space-y-1 overflow-y-auto flex-1 ${v}`,style:{maxHeight:`${I}px`},onWheel:E=>{const W=E.currentTarget;W.scrollHeight>W.clientHeight&&E.stopPropagation()},children:[o.map((E,W)=>l.jsxs("div",{className:`flex items-center group px-1.5 py-0.5 rounded-theme border ${E.remainingSeconds<=0?"bg-theme-accent/20 border-theme-accent animate-pulse":"border-theme-border/30 hover:border-theme-border"}`,children:[l.jsx("span",{className:`flex-1 min-w-0 truncate font-medium ${E.remainingSeconds<=0?"text-theme-accent":"text-theme-ink"}`,children:E.name}),l.jsx("span",{className:`flex-shrink-0 ml-2 ${E.remainingSeconds<=0?"text-theme-accent font-bold":"text-theme-muted"}`,children:s?wg(E.remainingSeconds):bg(E.remainingSeconds)}),l.jsx("button",{onClick:()=>C(W),className:"opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 px-1 flex-shrink-0",onMouseDown:R=>R.stopPropagation(),children:""})]},W)),o.length===0&&!a&&l.jsx("div",{className:"text-theme-muted italic text-center py-2",children:"No active effects"})]}),l.jsxs("div",{className:`flex ${N} border-t border-theme-border/50 pt-2 flex-shrink-0`,children:[l.jsx("button",{onClick:()=>i(!0),className:`${b} flex-1 border border-theme-border text-theme-ink rounded-theme hover:bg-theme-accent hover:text-theme-paper transition-colors font-bold`,onMouseDown:E=>E.stopPropagation(),children:"+ Add Effect"}),o.length>0&&(s?l.jsx("button",{onClick:$,className:`${b} flex-1 border border-theme-border text-theme-ink rounded-theme hover:bg-theme-accent hover:text-theme-paper transition-colors font-bold`,onMouseDown:E=>E.stopPropagation(),children:" Pass Round"}):l.jsx("button",{onClick:()=>d(!0),className:`${b} flex-1 border border-theme-border text-theme-ink rounded-theme hover:bg-theme-accent hover:text-theme-paper transition-colors font-bold`,onMouseDown:E=>E.stopPropagation(),children:" Pass Time"}))]}),a&&l.jsx(Ac,{title:"Add Effect",onClose:S,children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("input",{className:"w-full border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme",value:m,onChange:E=>g(E.target.value),placeholder:"Effect name...",autoFocus:!0,onKeyDown:E=>{E.key==="Enter"&&T(),E.key==="Escape"&&S()}}),s?l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx("input",{type:"number",min:"1",className:"w-20 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme text-center",value:p,onChange:E=>f(E.target.value===""?"":parseInt(E.target.value)||1),onBlur:E=>f(Math.max(1,parseInt(E.target.value)||1))}),l.jsx("span",{className:"text-theme-ink",children:p===1?"round":"rounds"})]}):l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"number",min:"1",className:"w-20 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme text-center",value:p,onChange:E=>f(E.target.value===""?"":parseInt(E.target.value)||1),onBlur:E=>f(Math.max(1,parseInt(E.target.value)||1))}),l.jsxs("select",{className:"flex-1 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme",value:k,onChange:E=>w(E.target.value),children:[l.jsx("option",{value:"seconds",children:"Seconds"}),l.jsx("option",{value:"minutes",children:"Minutes"}),l.jsx("option",{value:"hours",children:"Hours"}),l.jsx("option",{value:"days",children:"Days"}),l.jsx("option",{value:"months",children:"Months"}),l.jsx("option",{value:"years",children:"Years"})]})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsx("button",{onClick:T,className:"flex-1 py-2 px-4 bg-theme-accent text-theme-paper rounded-theme hover:opacity-90 transition-colors font-bold",children:"Add Effect"}),l.jsx("button",{onClick:S,className:"flex-1 py-2 px-4 border border-theme-border text-theme-muted rounded-theme hover:bg-theme-border hover:text-theme-ink transition-colors",children:"Cancel"})]})]})}),c&&l.jsx(Ac,{title:"Pass Time",onClose:M,children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-theme-muted text-sm",children:"How much time passes for all effects?"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"number",min:"1",className:"w-20 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme text-center",value:j,onChange:E=>h(E.target.value===""?"":parseInt(E.target.value)||1),onBlur:E=>h(Math.max(1,parseInt(E.target.value)||1)),autoFocus:!0,onKeyDown:E=>{E.key==="Enter"&&L(),E.key==="Escape"&&M()}}),l.jsxs("select",{className:"flex-1 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme",value:u,onChange:E=>x(E.target.value),children:[l.jsx("option",{value:"seconds",children:"Seconds"}),l.jsx("option",{value:"minutes",children:"Minutes"}),l.jsx("option",{value:"hours",children:"Hours"}),l.jsx("option",{value:"days",children:"Days"}),l.jsx("option",{value:"months",children:"Months"}),l.jsx("option",{value:"years",children:"Years"})]})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsx("button",{onClick:L,className:"flex-1 py-2 px-4 bg-theme-accent text-theme-paper rounded-theme hover:opacity-90 transition-colors font-bold",children:"Confirm"}),l.jsx("button",{onClick:M,className:"flex-1 py-2 px-4 border border-theme-border text-theme-muted rounded-theme hover:bg-theme-border hover:text-theme-ink transition-colors",children:"Cancel"})]})]})})]})}function lh({widget:e,height:t}){const n=F(f=>f.updateWidgetData),{label:r,formItems:o=[]}=e.data,s="text-xs",a="text-xs",i="gap-1",g=Math.max(30,t-16-4-8*2),p=(f,k)=>{const w=[...o];w[f]={...w[f],value:k},n(e.id,{formItems:w})};return l.jsxs("div",{className:`flex flex-col ${i} w-full h-full`,children:[r&&l.jsx("div",{className:`font-bold ${s} text-theme-ink font-heading flex-shrink-0`,children:r}),l.jsxs("div",{className:"flex flex-col gap-0.5 overflow-y-auto overflow-x-hidden flex-1 pr-1",style:{maxHeight:`${g}px`},onWheel:f=>{const k=f.currentTarget;k.scrollHeight>k.clientHeight&&f.stopPropagation()},children:[o.map((f,k)=>l.jsxs("div",{className:`flex items-center ${i}`,children:[l.jsx("span",{className:`w-1/3 ${a} text-theme-ink font-body truncate flex-shrink-0`,children:f.name}),l.jsx("input",{type:"text",value:f.value,onChange:w=>p(k,w.target.value),onMouseDown:w=>w.stopPropagation(),className:`flex-1 ${a} px-1 py-0.5 border-b border-theme-border/50 focus:border-theme-border focus:outline-none bg-transparent text-theme-ink font-body min-w-0`,placeholder:"..."})]},k)),o.length===0&&l.jsx("div",{className:`${a} text-theme-muted italic`,children:"No fields yet"})]})]})}function kg({title:e,onClose:t,children:n}){return Sr.createPortal(l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999]",onClick:t,onMouseDown:r=>r.stopPropagation(),children:l.jsxs("div",{className:"bg-theme-paper border border-theme-border rounded-theme shadow-xl p-4 min-w-[280px] max-w-[400px]",onClick:r=>r.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"font-bold text-theme-ink font-heading",children:e}),l.jsx("button",{onClick:t,className:"text-theme-muted hover:text-theme-ink text-xl leading-none",children:""})]}),n]})}),document.body)}function Hc(e,t){switch(t){case"seconds":return e;case"minutes":return e*60;case"hours":return e*60*60;case"days":return e*24*60*60;case"months":return e*30*24*60*60;case"years":return e*365*24*60*60;default:return e}}function Sg(e){let t=0;for(const n of e)for(let r=0;r<n.count;r++)t+=Math.floor(Math.random()*n.faces)+1;return t}function jg(e){return e.map(t=>`${t.count}d${t.faces}`).join(" + ")}function sh({widget:e}){const t=F(C=>C.performRest),[n,r]=P.useState(null),[o,s]=P.useState(!1),[a,i]=P.useState(!1),[c,d]=P.useState(1),[m,g]=P.useState("hours"),{buttonText:p="Rest",healToFull:f=!1,healRandomDice:k=[],healFlatAmount:w=0,clearConditions:j=!1,resetSpellSlots:h=!1,passTime:u=!1,passTimeAmount:x=0,passTimeUnit:y="hours"}=e.data,v=f||k.length>0||(w??0)>0||j||h||u,b=C=>{s(!0);let L,$="";f?(L="full",$="Healed to full!"):k.length>0?(L=Sg(k)+(w??0),$=`Healed ${L} HP (${jg(k)}${w?` + ${w}`:""})`):w&&w>0&&(L=w,$=`Healed ${L} HP`);const M=[];L!==void 0&&M.push($),j&&M.push("Conditions cleared"),h&&M.push("Spell slots reset"),C!==void 0&&C>0&&M.push("Time passed"),r(M.join("  ")),t({healAmount:L,clearConditions:j,resetSpellSlots:h,passTimeSeconds:C}),setTimeout(()=>{s(!1)},300),setTimeout(()=>{r(null)},3e3)},N=()=>{if(!v)return;if(u&&(!x||x<=0)){i(!0);return}const C=u&&x>0?Hc(x,y):void 0;b(C)},T=()=>{const C=Hc(c,m);i(!1),b(C)},S=()=>{d(1),g("hours"),i(!1)};return l.jsxs("div",{className:"flex flex-col gap-1 w-full h-full items-center justify-center p-1",children:[l.jsx("button",{onClick:N,onMouseDown:C=>C.stopPropagation(),disabled:!v,className:`w-full h-full min-w-0 px-2 py-1 font-bold text-xs border-[length:var(--border-width)] border-theme-border rounded-theme shadow-theme transition-all font-body truncate ${v?"bg-theme-accent text-theme-paper hover:opacity-90 active:translate-x-[2px] active:translate-y-[2px] active:shadow-none cursor-pointer":"bg-theme-muted text-theme-paper opacity-50 cursor-not-allowed"} ${o?"scale-95":""}`,children:p}),n&&l.jsx("div",{className:"absolute -bottom-5 left-0 right-0 text-[10px] text-theme-accent font-bold text-center font-body animate-pulse whitespace-nowrap",children:n}),a&&l.jsx(kg,{title:"Pass Time",onClose:S,children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-theme-muted text-sm",children:"How much time passes?"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"number",min:"1",className:"w-20 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme text-center",value:c,onChange:C=>d(C.target.value===""?"":parseInt(C.target.value)||1),onBlur:C=>d(Math.max(1,parseInt(C.target.value)||1)),autoFocus:!0,onKeyDown:C=>{C.key==="Enter"&&T(),C.key==="Escape"&&S()}}),l.jsxs("select",{className:"flex-1 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme",value:m,onChange:C=>g(C.target.value),children:[l.jsx("option",{value:"seconds",children:"Seconds"}),l.jsx("option",{value:"minutes",children:"Minutes"}),l.jsx("option",{value:"hours",children:"Hours"}),l.jsx("option",{value:"days",children:"Days"}),l.jsx("option",{value:"months",children:"Months"}),l.jsx("option",{value:"years",children:"Years"})]})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsx("button",{onClick:T,className:"flex-1 py-2 px-4 bg-theme-accent text-theme-paper rounded-theme hover:opacity-90 transition-colors font-bold",children:"Confirm"}),l.jsx("button",{onClick:S,className:"flex-1 py-2 px-4 border border-theme-border text-theme-muted rounded-theme hover:bg-theme-border hover:text-theme-ink transition-colors",children:"Cancel"})]})]})})]})}function Ng({title:e,onConfirm:t,onCancel:n,buttonLabel:r,currentValue:o,maxValue:s}){const[a,i]=P.useState(o),c=()=>{const d=typeof a=="string"?parseInt(a)||0:a;t(Math.max(0,Math.min(s,d)))};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:n}),l.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme p-4 z-50 min-w-[200px]",children:[l.jsx("h3",{className:"font-heading text-theme-ink font-bold mb-3",children:e}),l.jsx("input",{type:"number",min:"0",max:s,className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent mb-3 text-center font-bold text-lg",value:a,onChange:d=>i(d.target.value===""?"":parseInt(d.target.value)||0),onBlur:d=>i(Math.max(0,Math.min(s,parseInt(d.target.value)||0))),autoFocus:!0,onKeyDown:d=>{d.key==="Enter"&&c(),d.key==="Escape"&&n()}}),l.jsxs("p",{className:"text-xs text-theme-muted mb-3 text-center",children:["Max: ",s]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:n,className:"flex-1 px-3 py-1.5 text-sm font-body text-theme-ink hover:bg-theme-accent/20 rounded-theme transition-colors border border-theme-border",children:"Cancel"}),l.jsx("button",{onClick:c,className:"flex-1 px-3 py-1.5 text-sm font-body rounded-theme transition-colors bg-theme-accent text-theme-paper hover:opacity-80",children:r})]})]})]})}function ah({widget:e}){const t=F(x=>x.updateWidgetData),{label:n,currentValue:r=0,maxValue:o=100,showPercentage:s=!0,showValues:a=!0}=e.data,[i,c]=P.useState(!1),d=o>0?Math.max(0,Math.min(100,r/o*100)):0,m="text-xs",g="text-xs",p="px-1.5 py-0.5 text-[10px]",f="gap-1",k="h-4",w=x=>{t(e.id,{currentValue:Math.max(0,Math.min(o,x))}),c(!1)},j=()=>{const x=Math.min(o,r+1);t(e.id,{currentValue:x})},h=()=>{const x=Math.max(0,r-1);t(e.id,{currentValue:x})},u=()=>a&&s?`${r} / ${o} (${Math.round(d)}%)`:a?`${r} / ${o}`:s?`${Math.round(d)}%`:"";return l.jsxs("div",{className:`flex flex-col ${f} w-full h-full justify-between`,children:[n&&l.jsx("div",{className:`font-bold ${m} text-theme-ink font-heading flex-shrink-0`,children:n}),l.jsx("div",{className:"flex-1 flex flex-col justify-center",children:l.jsxs("div",{className:`relative ${k} bg-theme-muted/30 rounded-theme overflow-hidden border border-theme-border cursor-pointer`,onClick:()=>c(!0),onMouseDown:x=>x.stopPropagation(),title:"Click to set value",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 bg-theme-accent transition-all duration-300 ease-out",style:{width:`${d}%`}}),(a||s)&&l.jsx("div",{className:`absolute inset-0 flex items-center justify-center font-bold ${g} text-theme-paper mix-blend-difference`,children:u()})]})}),l.jsxs("div",{className:"flex items-center justify-center gap-2 flex-shrink-0",children:[l.jsx("button",{onClick:h,onMouseDown:x=>x.stopPropagation(),disabled:r<=0,className:`${p} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme font-bold disabled:opacity-50 disabled:cursor-not-allowed`,children:""}),l.jsx("button",{onClick:()=>c(!0),onMouseDown:x=>x.stopPropagation(),className:`${p} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme font-bold`,children:"Set"}),l.jsx("button",{onClick:j,onMouseDown:x=>x.stopPropagation(),disabled:r>=o,className:`${p} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme font-bold disabled:opacity-50 disabled:cursor-not-allowed`,children:"+"})]}),i&&l.jsx(Ng,{title:"Set Progress",onConfirm:w,onCancel:()=>c(!1),buttonLabel:"Set",currentValue:r,maxValue:o})]})}function Cg({widget:e,updateData:t}){const{label:n,numberItems:r=[]}=e.data,[o,s]=P.useState(""),a=m=>{m.preventDefault(),o.trim()&&(t({numberItems:[...r,{name:o.trim(),value:0}]}),s(""))},i=m=>{const g=[...r];g.splice(m,1),t({numberItems:g})},c=(m,g)=>{const p=[...r];p[m]={...p[m],name:g},t({numberItems:p})},d=(m,g)=>{const p=[...r];p[m]={...p[m],value:g},t({numberItems:p})};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),l.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:m=>t({label:m.target.value}),placeholder:"Trackers"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Items"}),l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:r.map((m,g)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm",value:m.name,onChange:p=>c(g,p.target.value),placeholder:"Name"}),l.jsx("input",{type:"number",className:"w-20 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center",value:m.value,onChange:p=>d(g,parseInt(p.target.value)||0)}),l.jsx("button",{onClick:()=>i(g),className:"text-red-500 hover:text-red-700 px-2",children:""})]},g))}),l.jsxs("form",{onSubmit:a,className:"flex gap-2 mt-2",children:[l.jsx("input",{type:"text",value:o,onChange:m=>s(m.target.value),placeholder:"Add new item...",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm"}),l.jsx("button",{type:"submit",className:"px-3 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90",children:"Add"})]})]})]})}function Tg({widget:e,updateData:t}){const{label:n,formItems:r=[]}=e.data,[o,s]=P.useState(""),a=m=>{m.preventDefault(),o.trim()&&(t({formItems:[...r,{name:o.trim(),value:""}]}),s(""))},i=m=>{const g=[...r];g.splice(m,1),t({formItems:g})},c=(m,g)=>{const p=[...r];p[m]={...p[m],name:g},t({formItems:p})},d=(m,g)=>{const p=[...r];p[m]={...p[m],value:g},t({formItems:p})};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),l.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:m=>t({label:m.target.value}),placeholder:"Form Fields"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Items"}),l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:r.map((m,g)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm",value:m.name,onChange:p=>c(g,p.target.value),placeholder:"Name"}),l.jsx("input",{type:"text",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm",value:m.value,onChange:p=>d(g,p.target.value),placeholder:"Value"}),l.jsx("button",{onClick:()=>i(g),className:"text-red-500 hover:text-red-700 px-2",children:""})]},g))}),l.jsxs("form",{onSubmit:a,className:"flex gap-2 mt-2",children:[l.jsx("input",{type:"text",value:o,onChange:m=>s(m.target.value),placeholder:"Add new field...",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm"}),l.jsx("button",{type:"submit",className:"px-3 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90",children:"Add"})]})]})]})}function Eg({widget:e,updateData:t}){const{label:n,itemCount:r=5}=e.data;return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),l.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:o=>t({label:o.target.value}),placeholder:"List Title"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Number of Item Slots"}),l.jsx("input",{type:"number",min:"1",max:"50",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:r,onChange:o=>t({itemCount:o.target.value===""?"":parseInt(o.target.value)||""}),onBlur:o=>t({itemCount:Math.max(1,Math.min(50,parseInt(o.target.value)||1))})}),l.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Items can be filled in during play mode"})]})]})}function Pg({widget:e,updateData:t}){const{label:n}=e.data;return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),l.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:r=>t({label:r.target.value}),placeholder:"Title"})]}),l.jsx("p",{className:"text-xs text-theme-muted",children:"Use the resize handle on the widget in edit mode to adjust the size."})]})}function Ig({widget:e,updateData:t}){const{label:n,checkboxItems:r=[]}=e.data,[o,s]=P.useState(""),a=c=>{c.preventDefault(),o.trim()&&(t({checkboxItems:[...r,{name:o.trim(),checked:!1}]}),s(""))},i=c=>{const d=[...r];d.splice(c,1),t({checkboxItems:d})};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),l.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:c=>t({label:c.target.value}),placeholder:"Checklist Title"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Checkbox Items"}),l.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:r.map((c,d)=>l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{className:"flex-1 text-theme-ink",children:c.name}),l.jsx("button",{onClick:()=>i(d),className:"text-red-500 hover:text-red-700 px-2",children:""})]},d))}),l.jsxs("form",{onSubmit:a,className:"flex gap-2 mt-2",children:[l.jsx("input",{type:"text",value:o,onChange:c=>s(c.target.value),placeholder:"Add new item...",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm"}),l.jsx("button",{type:"submit",className:"px-3 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90",children:"Add"})]})]})]})}function Mg({widget:e,updateData:t}){const{label:n,maxValue:r=100,currentValue:o=0,showPercentage:s=!0,showValues:a=!0}=e.data;return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),l.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:i=>t({label:i.target.value}),placeholder:"Progress"})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Current Value"}),l.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:o,onChange:i=>{const c=i.target.value===""?"":parseInt(i.target.value)||0;t({currentValue:c})},onBlur:i=>{const c=parseInt(i.target.value)||0;t({currentValue:Math.max(0,Math.min(r,c))})},min:0})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Maximum Value"}),l.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:r,onChange:i=>{t({maxValue:i.target.value===""?"":parseInt(i.target.value)||""})},onBlur:i=>{const c=parseInt(i.target.value)||1;t({maxValue:Math.max(1,c)})},min:1})]})]}),l.jsxs("div",{className:"border border-theme-border rounded-theme p-3",children:[l.jsx("h4",{className:"font-medium text-theme-ink mb-3",children:"Display Options"}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-2",children:[l.jsx("input",{type:"checkbox",checked:a,onChange:i=>t({showValues:i.target.checked}),className:"w-4 h-4 accent-theme-accent"}),l.jsx("span",{className:"text-sm text-theme-ink",children:"Show Values (e.g., 50 / 100)"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:s,onChange:i=>t({showPercentage:i.target.checked}),className:"w-4 h-4 accent-theme-accent"}),l.jsx("span",{className:"text-sm text-theme-ink",children:"Show Percentage"})]})]})]})}function Dg({widget:e,updateData:t}){const{label:n,maxValue:r=10}=e.data;return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),l.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:o=>t({label:o.target.value}),placeholder:"Health"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Maximum Value"}),l.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:r,onChange:o=>{t({maxValue:o.target.value===""?"":parseInt(o.target.value)||""})},onBlur:o=>{const s=parseInt(o.target.value)||1;t({maxValue:Math.max(1,s)})},min:1})]})]})}function Rg({widget:e,updateData:t}){const{label:n,diceGroups:r=[{count:1,faces:20}],modifier:o=0}=e.data,s=(c,d,m)=>{const g=[...r];g[c]={...g[c],[d]:m},t({diceGroups:g})},a=()=>{t({diceGroups:[...r,{count:1,faces:6}]})},i=c=>{if(r.length>1){const d=r.filter((m,g)=>g!==c);t({diceGroups:d})}};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),l.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:c=>t({label:c.target.value}),placeholder:"Roll Name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Dice Groups"}),l.jsx("div",{className:"space-y-2",children:r.map((c,d)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"number",min:"1",value:c.count,onChange:m=>s(d,"count",m.target.value===""?"":parseInt(m.target.value)||""),onBlur:m=>s(d,"count",Math.max(1,parseInt(m.target.value)||1)),className:"w-16 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center"}),l.jsx("span",{className:"text-theme-ink",children:"d"}),l.jsx("input",{type:"number",min:"1",value:c.faces,onChange:m=>s(d,"faces",m.target.value===""?"":parseInt(m.target.value)||""),onBlur:m=>s(d,"faces",Math.max(1,parseInt(m.target.value)||1)),className:"w-16 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center"}),r.length>1&&l.jsx("button",{onClick:()=>i(d),className:"text-red-500 hover:text-red-700 px-2",children:""})]},d))}),l.jsx("button",{onClick:a,className:"mt-2 px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Dice"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Modifier"}),l.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:o,onChange:c=>t({modifier:parseInt(c.target.value)||0})})]})]})}function _g({widget:e,updateData:t}){const{label:n,availableDice:r=[4,6,8,10,12,20]}=e.data,[o,s]=P.useState(""),a=[4,6,8,10,12,20,100],i=m=>{const g=r;g.includes(m)?t({availableDice:g.filter(p=>p!==m)}):t({availableDice:[...g,m].sort((p,f)=>p-f)})},c=m=>{m.preventDefault();const g=parseInt(o);g&&g>0&&!r.includes(g)&&(t({availableDice:[...r,g].sort((p,f)=>p-f)}),s(""))},d=m=>{t({availableDice:r.filter(g=>g!==m)})};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),l.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:m=>t({label:m.target.value}),placeholder:"Dice Tray"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Quick Add Common Dice"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(m=>l.jsxs("button",{onClick:()=>i(m),className:`px-3 py-2 border border-theme-border rounded-theme text-sm font-bold transition-all ${r.includes(m)?"bg-theme-accent text-theme-paper":"bg-theme-paper text-theme-ink hover:bg-theme-muted hover:text-theme-paper"}`,children:["d",m]},m))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Add Custom Dice"}),l.jsxs("form",{onSubmit:c,className:"flex gap-2",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-theme-ink",children:"d"}),l.jsx("input",{type:"number",min:"1",value:o,onChange:m=>s(m.target.value),placeholder:"faces",className:"w-20 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm"})]}),l.jsx("button",{type:"submit",className:"px-3 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90",children:"Add"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Current Dice Types"}),r.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(m=>l.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm",children:[l.jsxs("span",{children:["d",m]}),l.jsx("button",{onClick:()=>d(m),className:"hover:text-red-300 ml-1",children:""})]},m))}):l.jsx("p",{className:"text-xs text-theme-muted",children:"No dice types selected"})]})]})}function Lg({widget:e,updateData:t}){const{label:n,spellLevels:r=[{level:1,max:4,used:0}]}=e.data,o=()=>{const c=r.map(m=>m.level),d=Math.min(9,Math.max(...c,0)+1);d<=9&&!c.includes(d)&&t({spellLevels:[...r,{level:d,max:2,used:0}]})},s=c=>{const d=[...r];d.splice(c,1),t({spellLevels:d})},a=(c,d)=>{const m=[...r];if(typeof d=="string")m[c]={...m[c],max:d};else{const g=Math.max(1,Math.min(10,d));m[c]={...m[c],max:g,used:Math.min(m[c].used,g)}}t({spellLevels:m})},i=(c,d)=>{const m=[...r];typeof d=="string"?m[c]={...m[c],level:d}:m[c]={...m[c],level:Math.max(1,Math.min(9,d))},t({spellLevels:m})};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),l.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:c=>t({label:c.target.value}),placeholder:"Spell Slots"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Spell Levels"}),l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:r.map((c,d)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-theme-ink text-sm",children:"Level"}),l.jsx("input",{type:"number",value:c.level,onChange:m=>i(d,m.target.value===""?"":parseInt(m.target.value)||""),onBlur:m=>i(d,Math.max(1,Math.min(9,parseInt(m.target.value)||1))),className:"w-12 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center",min:1,max:9}),l.jsx("span",{className:"text-theme-ink text-sm",children:"Max Slots"}),l.jsx("input",{type:"number",value:c.max,onChange:m=>a(d,m.target.value===""?"":parseInt(m.target.value)||""),onBlur:m=>a(d,Math.max(1,Math.min(10,parseInt(m.target.value)||1))),className:"w-12 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center",min:1,max:10}),l.jsx("button",{onClick:()=>s(d),className:"text-red-500 hover:text-red-700 px-2",children:""})]},d))}),r.length<9&&l.jsx("button",{onClick:o,className:"mt-2 px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Level"})]})]})}function Og({widget:e,updateData:t}){const{label:n,imageUrl:r=""}=e.data,o=a=>{var c;const i=(c=a.target.files)==null?void 0:c[0];if(i){const d=new FileReader;d.onload=m=>{var p;const g=(p=m.target)==null?void 0:p.result;t({imageUrl:g})},d.readAsDataURL(i)}},s=()=>{t({imageUrl:""})};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),l.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:a=>t({label:a.target.value}),placeholder:"Portrait"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Image"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("label",{className:"flex-1 px-3 py-2 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90 cursor-pointer text-center",children:["Upload Image",l.jsx("input",{type:"file",accept:"image/*",onChange:o,className:"hidden"})]}),r&&l.jsx("button",{onClick:s,className:"px-3 py-2 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-red-500 hover:text-white hover:border-red-500",children:"Clear"})]}),r&&l.jsx("div",{className:"mt-2 border border-theme-border rounded-theme overflow-hidden",children:l.jsx("img",{src:r,alt:"Preview",className:"w-full h-32 object-cover"})})]})]})}function $g({widget:e,updateData:t}){const{label:n,maxPool:r=5,poolStyle:o="dots"}=e.data;return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),l.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:s=>t({label:s.target.value}),placeholder:"Resource Pool"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Maximum Pool"}),l.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:r,onChange:s=>{t({maxPool:s.target.value===""?"":parseInt(s.target.value)||""})},onBlur:s=>{const a=Math.max(1,Math.min(1e3,parseInt(s.target.value)||1));t({maxPool:a})},min:1,max:1e3})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Style"}),l.jsxs("select",{value:o,onChange:s=>t({poolStyle:s.target.value}),className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",children:[l.jsx("option",{value:"dots",children:"Dots"}),l.jsx("option",{value:"boxes",children:"Boxes"}),l.jsx("option",{value:"hearts",children:"Hearts"})]})]})]})}function zg({widget:e,updateData:t}){const{label:n,toggleItems:r=[]}=e.data,[o,s]=P.useState(""),a=["Blinded","Charmed","Frightened","Poisoned","Stunned","Prone","Invisible","Paralyzed","Unconscious","Exhausted","Afraid","Angry","Confused","Wounded","Dazed"],i=p=>{p.trim()&&!r.some(f=>f.name.toLowerCase()===p.trim().toLowerCase())&&t({toggleItems:[...r,{name:p.trim(),active:!1}]}),s("")},c=p=>{p.preventDefault(),i(o)},d=p=>{const f=[...r];f.splice(p,1),t({toggleItems:f})},m=r.map(p=>p.name.toLowerCase()),g=a.filter(p=>!m.includes(p.toLowerCase()));return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),l.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:p=>t({label:p.target.value}),placeholder:"Conditions"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Conditions"}),l.jsx("div",{className:"flex flex-wrap gap-1 max-h-32 overflow-y-auto",children:r.map((p,f)=>l.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-theme-background rounded-theme text-sm",children:[l.jsx("span",{className:"text-theme-ink",children:p.name}),l.jsx("button",{onClick:()=>d(f),className:"text-red-500 hover:text-red-700",children:""})]},f))}),l.jsxs("form",{onSubmit:c,className:"flex gap-2 mt-2",children:[l.jsx("input",{type:"text",value:o,onChange:p=>s(p.target.value),placeholder:"Add condition...",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm"}),l.jsx("button",{type:"submit",className:"px-3 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90",children:"Add"})]}),g.length>0&&l.jsxs("div",{className:"mt-2",children:[l.jsx("span",{className:"text-xs text-theme-muted",children:"Quick add:"}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:g.slice(0,8).map(p=>l.jsx("button",{onClick:()=>i(p),className:"px-2 py-0.5 text-xs border border-theme-border rounded-theme text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:p},p))})]})]})]})}function Wg({widget:e,updateData:t}){const{label:n,roundMode:r=!1}=e.data;return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),l.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:o=>t({label:o.target.value}),placeholder:"Time Tracker"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:r,onChange:o=>t({roundMode:o.target.checked}),className:"w-4 h-4 accent-theme-accent"}),l.jsx("span",{className:"text-sm font-medium text-theme-ink",children:"Round Mode"})]}),l.jsx("p",{className:"text-xs text-theme-muted mt-1 ml-6",children:"In round mode, time is tracked in rounds instead of real-world time units."})]}),l.jsxs("div",{className:"text-sm text-theme-muted",children:[l.jsx("p",{children:"Use this widget to track timed effects in your game."}),l.jsxs("ul",{className:"list-disc ml-4 mt-2 space-y-1",children:[l.jsx("li",{children:"Add effects with their remaining duration"}),l.jsx("li",{children:r?'Use "Pass Round" to advance all timers by 1 round':'Use the "Pass Time" controls to advance all timers at once'}),l.jsx("li",{children:"Expired effects will be highlighted"})]})]})]})}function Ag({widget:e,updateData:t}){const{label:n,columns:r=["Item","Qty","Weight"],rows:o=[]}=e.data,[s,a]=P.useState(null),[i,c]=P.useState(null),d=kl.useRef(null),m=(y,v)=>{const b=[...r];b[y]=v,t({columns:b})},g=()=>{const y=o.map(v=>({...v,cells:[...v.cells,""]}));t({columns:[...r,"New"],rows:y})},p=y=>{if(r.length<=1)return;const v=[...r];v.splice(y,1);const b=o.map(N=>({...N,cells:N.cells.filter((T,S)=>S!==y)}));t({columns:v,rows:b})},f=(y,v)=>{d.current=v,a(v),y.dataTransfer.effectAllowed="move",y.dataTransfer.setData("text/plain",v.toString());const b=y.currentTarget;b&&y.dataTransfer.setDragImage(b,0,0)},k=(y,v)=>{y.preventDefault(),y.stopPropagation(),d.current!==null&&d.current!==v&&c(v)},w=()=>{c(null)},j=(y,v)=>{y.preventDefault(),y.stopPropagation();const b=d.current;if(b!==null&&b!==v){const N=[...r],T=o.map(L=>({...L,cells:[...L.cells]})),[S]=N.splice(b,1),C=b<v?v-1:v;N.splice(C,0,S),T.forEach(L=>{const[$]=L.cells.splice(b,1);L.cells.splice(C,0,$)}),t({columns:N,rows:T})}d.current=null,a(null),c(null)},h=()=>{d.current=null,a(null),c(null)},u=()=>{const y={cells:r.map(()=>"")};t({rows:[...o,y]})},x=y=>{if(o.length<=1)return;const v=[...o];v.splice(y,1),t({rows:v})};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),l.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:y=>t({label:y.target.value}),placeholder:"Inventory"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Columns"}),l.jsx("div",{className:"space-y-2",onDragOver:y=>y.preventDefault(),children:r.map((y,v)=>l.jsxs("div",{className:`flex items-center gap-2 ${s===v?"opacity-50":""} ${i===v&&s!==v?"border-t-2 border-theme-accent":""}`,draggable:!0,onDragStart:b=>f(b,v),onDragOver:b=>{b.preventDefault(),b.stopPropagation(),k(b,v)},onDragLeave:w,onDrop:b=>{b.preventDefault(),b.stopPropagation(),j(b,v)},onDragEnd:h,children:[l.jsx("div",{className:"cursor-grab active:cursor-grabbing text-theme-muted hover:text-theme-ink px-1 touch-none",title:"Drag to reorder",children:""}),l.jsx("input",{className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm",value:y,onChange:b=>m(v,b.target.value),placeholder:"Column name",draggable:!1,onDragOver:b=>b.stopPropagation()}),r.length>1&&l.jsx("button",{onClick:()=>p(v),className:"text-red-500 hover:text-red-700 px-2",children:""})]},v))}),l.jsx("button",{onClick:g,className:"mt-2 px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Column"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:["Rows (",o.length,")"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:u,className:"px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Row"}),o.length>1&&l.jsx("button",{onClick:()=>x(o.length-1),className:"px-3 py-1 border border-theme-border rounded-theme text-sm text-red-500 hover:bg-red-500 hover:text-white",children:"- Remove Row"})]}),l.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Row contents can be edited in play mode"})]})]})}function Fg({widget:e,updateData:t}){const{buttonText:n="Rest",healToFull:r=!1,healRandomDice:o=[],healFlatAmount:s=0,clearConditions:a=!1,resetSpellSlots:i=!1,passTime:c=!1,passTimeAmount:d=0,passTimeUnit:m="hours"}=e.data,g=(w,j,h)=>{const u=[...o];u[w]={...u[w],[j]:h},t({healRandomDice:u})},p=()=>{t({healRandomDice:[...o,{count:1,faces:8}]})},f=w=>{const j=o.filter((h,u)=>u!==w);t({healRandomDice:j})},k=w=>{t(w?{healToFull:!0,healRandomDice:[],healFlatAmount:0}:{healToFull:!1})};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Button Text"}),l.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n,onChange:w=>t({buttonText:w.target.value}),placeholder:"Rest"})]}),l.jsxs("div",{className:"border border-theme-border rounded-theme p-3",children:[l.jsx("h4",{className:"font-medium text-theme-ink mb-3",children:"Healing Options"}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-3",children:[l.jsx("input",{type:"checkbox",checked:r,onChange:w=>k(w.target.checked),className:"w-4 h-4 accent-theme-accent"}),l.jsx("span",{className:"text-sm text-theme-ink",children:"Heal to Full"})]}),!r&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Random Heal Dice"}),l.jsx("div",{className:"space-y-2",children:o.map((w,j)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"number",min:"1",value:w.count,onChange:h=>g(j,"count",h.target.value===""?"":parseInt(h.target.value)||""),onBlur:h=>g(j,"count",Math.max(1,parseInt(h.target.value)||1)),className:"w-16 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center"}),l.jsx("span",{className:"text-theme-ink",children:"d"}),l.jsx("input",{type:"number",min:"1",value:w.faces,onChange:h=>g(j,"faces",h.target.value===""?"":parseInt(h.target.value)||""),onBlur:h=>g(j,"faces",Math.max(1,parseInt(h.target.value)||1)),className:"w-16 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center"}),l.jsx("button",{onClick:()=>f(j),className:"text-red-500 hover:text-red-700 px-2",children:""})]},j))}),l.jsx("button",{onClick:p,className:"mt-2 px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Dice"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Flat Heal Amount"}),l.jsx("input",{type:"number",min:"0",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:s??0,onChange:w=>t({healFlatAmount:parseInt(w.target.value)||0})}),l.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Added to dice result if dice are configured"})]})]})]}),l.jsxs("div",{className:"border border-theme-border rounded-theme p-3",children:[l.jsx("h4",{className:"font-medium text-theme-ink mb-3",children:"Other Actions"}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-2",children:[l.jsx("input",{type:"checkbox",checked:a,onChange:w=>t({clearConditions:w.target.checked}),className:"w-4 h-4 accent-theme-accent"}),l.jsx("span",{className:"text-sm text-theme-ink",children:"Clear All Conditions"})]}),l.jsx("p",{className:"text-xs text-theme-muted ml-6 mb-3",children:"Turns off all active conditions in Condition widgets"}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i,onChange:w=>t({resetSpellSlots:w.target.checked}),className:"w-4 h-4 accent-theme-accent"}),l.jsx("span",{className:"text-sm text-theme-ink",children:"Reset Spell Slots"})]}),l.jsx("p",{className:"text-xs text-theme-muted ml-6 mb-3",children:"Restores all used spell slots in Spell Slot widgets"}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:c,onChange:w=>t({passTime:w.target.checked,passTimeAmount:0,passTimeUnit:"hours"}),className:"w-4 h-4 accent-theme-accent"}),l.jsx("span",{className:"text-sm text-theme-ink",children:"Pass Time"})]}),l.jsx("p",{className:"text-xs text-theme-muted ml-6 mb-2",children:"Advances time for all Time Tracker widgets"}),c&&l.jsxs("div",{className:"ml-6 mt-2",children:[l.jsx("label",{className:"block text-xs text-theme-muted mb-1",children:"Flat Time Amount (leave 0 to prompt when clicked)"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"number",min:"0",className:"w-20 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center",value:d??0,onChange:w=>t({passTimeAmount:parseInt(w.target.value)||0})}),l.jsxs("select",{className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm",value:m,onChange:w=>t({passTimeUnit:w.target.value}),children:[l.jsx("option",{value:"seconds",children:"Seconds"}),l.jsx("option",{value:"minutes",children:"Minutes"}),l.jsx("option",{value:"hours",children:"Hours"}),l.jsx("option",{value:"days",children:"Days"}),l.jsx("option",{value:"months",children:"Months"}),l.jsx("option",{value:"years",children:"Years"})]})]})]})]})]})}function Hg(e){return{NUMBER:"Number Tracker",LIST:"List",TEXT:"Text",CHECKBOX:"Checkbox",HEALTH_BAR:"Health Bar",DICE_ROLLER:"Dice Roller",DICE_TRAY:"Dice Tray",SPELL_SLOT:"Spell Slots",IMAGE:"Image",POOL:"Resource Pool",TOGGLE_GROUP:"Conditions",TABLE:"Table",TIME_TRACKER:"Time Tracker",FORM:"Form",REST_BUTTON:"Rest Button",PROGRESS_BAR:"Progress Bar"}[e]||"Widget"}function Bg({widget:e,onClose:t}){const n=F(f=>f.updateWidgetData),r=F(f=>f.updateWidgetSize),[o,s]=P.useState({...e.data}),[a,i]=P.useState(e.w||200),c=f=>{const k={...o,...f};s(k),n(e.id,f)},d=f=>{i(f),r(e.id,f,e.h||0)},m={...e,data:o,w:a},g=()=>{const f={widget:m,updateData:c,updateWidth:d};switch(e.type){case"NUMBER":return l.jsx(Cg,{...f});case"LIST":return l.jsx(Eg,{...f});case"TEXT":return l.jsx(Pg,{...f});case"CHECKBOX":return l.jsx(Ig,{...f});case"HEALTH_BAR":return l.jsx(Dg,{...f});case"DICE_ROLLER":return l.jsx(Rg,{...f});case"DICE_TRAY":return l.jsx(_g,{...f});case"SPELL_SLOT":return l.jsx(Lg,{...f});case"IMAGE":return l.jsx(Og,{...f});case"POOL":return l.jsx($g,{...f});case"TOGGLE_GROUP":return l.jsx(zg,{...f});case"TABLE":return l.jsx(Ag,{...f});case"TIME_TRACKER":return l.jsx(Wg,{...f});case"FORM":return l.jsx(Tg,{...f});case"REST_BUTTON":return l.jsx(Fg,{...f});case"PROGRESS_BAR":return l.jsx(Mg,{...f});default:return null}},p=()=>{const f={widget:m,mode:"play",width:200,height:200};switch(e.type){case"NUMBER":return l.jsx(Gf,{...f});case"LIST":return l.jsx(Yf,{...f});case"TEXT":return l.jsx(Xf,{...f});case"CHECKBOX":return l.jsx(Kf,{...f});case"HEALTH_BAR":return l.jsx(Qf,{...f});case"DICE_ROLLER":return l.jsx(Zf,{...f});case"DICE_TRAY":return l.jsx(Jf,{...f});case"SPELL_SLOT":return l.jsx(qf,{...f});case"IMAGE":return l.jsx(eh,{...f});case"POOL":return l.jsx(th,{...f});case"TOGGLE_GROUP":return l.jsx(nh,{...f});case"TABLE":return l.jsx(rh,{...f});case"TIME_TRACKER":return l.jsx(oh,{...f});case"FORM":return l.jsx(lh,{...f});case"REST_BUTTON":return l.jsx(sh,{...f});case"PROGRESS_BAR":return l.jsx(ah,{...f});default:return null}};return P.useEffect(()=>{const f=k=>{k.key==="Escape"&&t()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[t]),Sr.createPortal(l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-0 sm:p-4",onClick:f=>{f.target===f.currentTarget&&t()},onMouseDown:f=>f.stopPropagation(),onMouseUp:f=>f.stopPropagation(),onMouseMove:f=>f.stopPropagation(),onWheel:f=>f.stopPropagation(),onTouchStart:f=>f.stopPropagation(),onTouchMove:f=>f.stopPropagation(),onTouchEnd:f=>f.stopPropagation(),onDragOver:f=>f.preventDefault(),children:l.jsxs("div",{className:"bg-theme-paper border-[length:var(--border-width)] border-theme-border rounded-none sm:rounded-theme shadow-theme sm:max-w-2xl w-full h-full sm:h-auto sm:max-h-[90vh] overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-theme-border",children:[l.jsxs("h2",{className:"text-lg font-bold text-theme-ink font-heading",children:["Edit ",Hg(e.type)]}),l.jsx("button",{onClick:t,className:"w-8 h-8 flex items-center justify-center text-theme-muted hover:text-theme-ink hover:bg-theme-background rounded-theme transition-colors",children:""})]}),l.jsx("div",{className:"flex-1 overflow-auto p-4",children:l.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"text-sm font-medium text-theme-muted mb-3",children:"Settings"}),g()]}),l.jsxs("div",{className:"lg:w-72 flex-shrink-0",children:[l.jsx("h3",{className:"text-sm font-medium text-theme-muted mb-3",children:"Preview"}),l.jsx("div",{className:"bg-theme-paper border-[length:var(--border-width)] border-theme-border rounded-theme p-2 sm:p-4 shadow-theme",style:{width:"200px"},children:p()})]})]})}),l.jsx("div",{className:"px-4 py-3 border-t border-theme-border flex justify-end",children:l.jsx("button",{onClick:t,className:"px-4 py-2 bg-theme-accent text-theme-paper rounded-theme hover:opacity-90 font-medium",children:"Done"})})]})}),document.body)}const Bn=10,Ug={NUMBER:{width:140,height:60},LIST:{width:140,height:80},TEXT:{width:120,height:60},CHECKBOX:{width:140,height:60},HEALTH_BAR:{width:160,height:80},DICE_ROLLER:{width:160,height:120},DICE_TRAY:{width:180,height:180},SPELL_SLOT:{width:160,height:80},IMAGE:{width:100,height:100},POOL:{width:120,height:80},TOGGLE_GROUP:{width:140,height:60},TABLE:{width:180,height:80},TIME_TRACKER:{width:180,height:140},FORM:{width:160,height:60},REST_BUTTON:{width:120,height:80},PROGRESS_BAR:{width:160,height:80}};function Vg({widget:e,scale:t}){const n=F(O=>O.updateWidgetPosition),r=F(O=>O.updateWidgetSize),o=F(O=>O.moveWidgetGroup),s=F(O=>O.removeWidget),a=F(O=>O.detachWidgets),i=F(O=>O.mode),c=F(O=>O.setEditingWidgetId),d=F(O=>O.selectedWidgetId),m=F(O=>O.setSelectedWidgetId),g=F(O=>O.activeCharacterId),f=F(O=>O.characters).find(O=>O.id===g),k=f!=null&&f.theme?zn(f.theme):void 0,w=f!=null&&f.theme?fi(f.theme):void 0,j=(k==null?void 0:k.cardTexture)||(w==null?void 0:w.cardTexture)||"none",h=Mt(j),u=P.useRef(null),x=P.useRef(null),[y,v]=P.useState(!1),[b,N]=P.useState(!1),[T,S]=P.useState(null),C=P.useRef({x:0,y:0}),[L,$]=P.useState(!1),M=P.useRef({mouseX:0,mouseY:0,width:0,height:0}),U=d===e.id,V=Ug[e.type]||{width:120,height:60};P.useEffect(()=>{if(e.h&&e.h>0){S(e.h);return}if(u.current){const O=new ResizeObserver(ve=>{for(const Qe of ve){const Ze=Qe.target.scrollHeight,lt=Math.ceil(Ze/Bn)*Bn;S(lt)}});return O.observe(u.current),()=>O.disconnect()}},[e.data,e.h]);const Y=O=>{O.touches.length>=2||i==="edit"&&(U||(O.preventDefault(),O.stopPropagation(),m(e.id)))},X=O=>{i==="edit"&&!I&&(O.preventDefault(),O.stopPropagation(),m(e.id))},I=b||U,E=()=>{v(!0),c(e.id)},W=()=>{v(!1),c(null)},R=O=>Math.round(O/Bn)*Bn,Ae=(()=>{if(e.w)return e.w;if(e.type==="TABLE"){const ve=(e.data.columns||["Item","Qty","Weight"]).length,lt=Math.max(200,ve*80+40);return R(lt)}return 200})(),ke=P.useCallback(O=>{O.preventDefault(),O.stopPropagation(),e.groupId&&a(e.id,e.id);const ve="touches"in O?O.touches[0].clientX:O.clientX,Qe="touches"in O?O.touches[0].clientY:O.clientY,Ze=e.w||200,lt=e.h||120;M.current={mouseX:ve,mouseY:Qe,width:Ze,height:lt},$(!0)},[e.w,e.h,e.groupId,e.id,a]),St=P.useCallback(O=>{if(!L)return;const ve="touches"in O?O.touches[0].clientX:O.clientX,Qe="touches"in O?O.touches[0].clientY:O.clientY,Ze=(ve-M.current.mouseX)/t,lt=(Qe-M.current.mouseY)/t,Ht=R(Math.max(V.width,M.current.width+Ze)),Nn=R(Math.max(V.height,M.current.height+lt));r(e.id,Ht,Nn)},[L,t,V,e.id,r]),xe=P.useCallback(()=>{$(!1)},[]);P.useEffect(()=>{if(L)return window.addEventListener("mousemove",St),window.addEventListener("mouseup",xe),window.addEventListener("touchmove",St),window.addEventListener("touchend",xe),()=>{window.removeEventListener("mousemove",St),window.removeEventListener("mouseup",xe),window.removeEventListener("touchmove",St),window.removeEventListener("touchend",xe)}},[L,St,xe]);const Se=(O,ve)=>{C.current={x:ve.x,y:ve.y}},Ke=(O,ve)=>{if(e.groupId){const Qe=ve.x-C.current.x,Ze=ve.y-C.current.y;document.querySelectorAll(`[data-group-id="${e.groupId}"]`).forEach(Ht=>{const Nn=Ht.getAttribute("data-widget-id");if(Nn&&Nn!==e.id){const jr=F.getState().getWidgetsInGroup(e.groupId).find(Bl=>Bl.id===Nn);jr&&(Ht.style.transform=`translate(${jr.x+Qe}px, ${jr.y+Ze}px)`)}})}},At=(O,ve)=>{const Qe=R(ve.x),Ze=R(ve.y);if(e.groupId){const lt=Qe-e.x,Ht=Ze-e.y;(lt!==0||Ht!==0)&&o(e.id,lt,Ht)}else n(e.id,Qe,Ze)},Ft=e.h&&e.h>0?e.h:T,go=()=>{const O={widget:e,mode:"play",width:Ae,height:Ft||120};switch(e.type){case"NUMBER":return l.jsx(Gf,{...O});case"LIST":return l.jsx(Yf,{...O});case"TEXT":return l.jsx(Xf,{...O});case"CHECKBOX":return l.jsx(Kf,{...O});case"HEALTH_BAR":return l.jsx(Qf,{...O});case"DICE_ROLLER":return l.jsx(Zf,{...O});case"DICE_TRAY":return l.jsx(Jf,{...O});case"SPELL_SLOT":return l.jsx(qf,{...O});case"IMAGE":return l.jsx(eh,{...O});case"POOL":return l.jsx(th,{...O});case"TOGGLE_GROUP":return l.jsx(nh,{...O});case"TABLE":return l.jsx(rh,{...O});case"TIME_TRACKER":return l.jsx(oh,{...O});case"FORM":return l.jsx(lh,{...O});case"REST_BUTTON":return l.jsx(sh,{...O});case"PROGRESS_BAR":return l.jsx(ah,{...O});default:return null}};return l.jsxs(l.Fragment,{children:[l.jsx(yg,{nodeRef:u,position:{x:e.x,y:e.y},onStart:Se,onDrag:Ke,onStop:At,scale:t,grid:[Bn,Bn],handle:".drag-handle",disabled:i==="play",children:l.jsxs("div",{ref:u,"data-widget-id":e.id,"data-group-id":e.groupId||"",className:`react-draggable absolute bg-theme-paper border-[length:var(--border-width)] border-theme-border p-2 sm:p-4 cursor-default group rounded-theme ${e.groupId&&i==="edit"?"ring-2 ring-green-500 ring-opacity-50":""} ${L?"select-none":""}`,style:{width:`${Ae}px`,minWidth:`${V.width}px`,height:Ft?`${Ft}px`:"auto",minHeight:Ft?`${Ft}px`:T?`${T}px`:"auto",zIndex:I&&i==="edit"?100:void 0},onMouseEnter:()=>N(!0),onMouseLeave:()=>N(!1),onTouchStart:Y,onClick:X,children:[h&&l.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-theme z-0 overflow-hidden",style:{backgroundColor:"var(--color-paper)"},children:l.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${vn[j]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:"var(--card-texture-opacity)",mixBlendMode:"overlay"}})}),i==="edit"&&l.jsx("div",{className:"drag-handle absolute -top-2 left-8 right-8 h-8 sm:h-6 sm:top-0 sm:left-0 sm:right-0 bg-transparent cursor-move hover:opacity-70 active:opacity-50 flex justify-center items-center touch-none rounded-t-theme z-[60]",children:I&&l.jsx("div",{className:"sm:hidden flex gap-1",children:l.jsx("div",{className:"w-8 h-1 bg-theme-muted/50 rounded-full"})})}),i==="edit"&&I&&l.jsx("button",{className:"absolute -top-3 -left-3 w-8 h-8 sm:w-6 sm:h-6 bg-theme-accent text-theme-paper rounded-full flex items-center justify-center transition-opacity z-50 hover:bg-blue-600 text-sm",onClick:E,onMouseDown:O=>O.stopPropagation(),onTouchStart:O=>O.stopPropagation(),title:"Edit widget",children:""}),i==="edit"&&I&&l.jsx("button",{className:"absolute -top-3 -right-3 w-8 h-8 sm:w-6 sm:h-6 bg-theme-accent text-theme-paper rounded-full flex items-center justify-center transition-opacity z-50 hover:bg-red-600 text-lg sm:text-base",onClick:()=>s(e.id),onMouseDown:O=>O.stopPropagation(),onTouchStart:O=>O.stopPropagation(),children:""}),i==="edit"&&U&&l.jsx("div",{className:"absolute inset-0 z-40 bg-theme-accent/10 rounded-theme",onTouchStart:O=>O.stopPropagation()}),i==="edit"&&I&&l.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 cursor-se-resize z-50 flex items-center justify-center",onMouseDown:ke,onTouchStart:ke,title:"Drag to resize",children:l.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",className:"text-theme-muted hover:text-theme-ink transition-colors",children:l.jsx("path",{d:"M10 2L2 10M10 6L6 10M10 10L10 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),l.jsx("div",{ref:x,className:"h-full overflow-hidden relative z-10",children:go()})]})}),y&&l.jsx(Bg,{widget:e,onClose:W})]})}const $o=10,zo=20;function Gg({widgets:e,scale:t}){const n=F(h=>h.attachWidgets),r=F(h=>h.detachWidgets),o=F(h=>h.selectedWidgetId),[s,a]=P.useState(0),[i,c]=P.useState(!1),[d,m]=P.useState(null),g=o||d,p=e.map(h=>`${h.id}:${h.x}:${h.y}:${h.groupId||""}`).join("|");P.useEffect(()=>{const h=()=>{const x=document.querySelector(".react-draggable-dragging");c(!!x)},u=new MutationObserver(h);return u.observe(document.body,{subtree:!0,attributes:!0,attributeFilter:["class"]}),()=>u.disconnect()},[]),P.useEffect(()=>{const h=x=>{const y=x.target;if(y.closest("[data-attach-widget-ids]"))return;const b=y.closest("[data-widget-id]");m(b?b.getAttribute("data-widget-id"):null)},u=x=>{const y=x.target;if(y.closest("[data-attach-widget-ids]"))return;const b=y.closest("[data-widget-id]");m(b?b.getAttribute("data-widget-id"):null)};return document.addEventListener("mouseover",h),document.addEventListener("touchstart",u),()=>{document.removeEventListener("mouseover",h),document.removeEventListener("touchstart",u)}},[]),P.useEffect(()=>{const h=setTimeout(()=>{a(u=>u+1)},100);return()=>clearTimeout(h)},[p,t]);const f=P.useMemo(()=>{const h=[];return e.forEach(u=>{const x=document.querySelector(`[data-widget-id="${u.id}"]`);if(x){const y=x.getBoundingClientRect();h.push({id:u.id,groupId:u.groupId,attachedTo:u.attachedTo,left:u.x,right:u.x+y.width/t,top:u.y,bottom:u.y+y.height/t})}}),h},[e,t,s]),k=P.useMemo(()=>{var u,x;const h=[];for(let y=0;y<f.length;y++)for(let v=y+1;v<f.length;v++){const b=f[y],N=f[v],T=!!((u=b.attachedTo)!=null&&u.includes(N.id)||(x=N.attachedTo)!=null&&x.includes(b.id));if(Math.abs(b.right-N.left)<=$o){const S=Math.max(b.top,N.top),C=Math.min(b.bottom,N.bottom);C-S>=zo&&h.push({widget1Id:b.id,widget2Id:N.id,x:b.right,y:(S+C)/2,orientation:"vertical",isAttached:T})}if(Math.abs(b.left-N.right)<=$o){const S=Math.max(b.top,N.top),C=Math.min(b.bottom,N.bottom);C-S>=zo&&h.push({widget1Id:b.id,widget2Id:N.id,x:b.left,y:(S+C)/2,orientation:"vertical",isAttached:T})}if(Math.abs(b.bottom-N.top)<=$o){const S=Math.max(b.left,N.left),C=Math.min(b.right,N.right);C-S>=zo&&h.push({widget1Id:b.id,widget2Id:N.id,x:(S+C)/2,y:b.bottom,orientation:"horizontal",isAttached:T})}if(Math.abs(b.top-N.bottom)<=$o){const S=Math.max(b.left,N.left),C=Math.min(b.right,N.right);C-S>=zo&&h.push({widget1Id:b.id,widget2Id:N.id,x:(S+C)/2,y:b.top,orientation:"horizontal",isAttached:T})}}return h},[f]),w=h=>{if(h.isAttached){const u=g===h.widget1Id?h.widget1Id:g===h.widget2Id?h.widget2Id:h.widget1Id;r(u,h.widget2Id)}else{const u=f.find(N=>N.id===h.widget1Id),x=f.find(N=>N.id===h.widget2Id);if(!u||!x){n(h.widget1Id,h.widget2Id);return}let y,v;if(x.groupId&&!u.groupId)y=u.id,v=x.groupId;else if(u.groupId&&!x.groupId)y=x.id,v=u.groupId;else if(u.groupId&&x.groupId&&u.groupId!==x.groupId){n(h.widget1Id,h.widget2Id);return}else{n(h.widget1Id,h.widget2Id);return}const b=k.filter(N=>{if(N.isAttached)return!1;const T=f.find(C=>C.id===N.widget1Id),S=f.find(C=>C.id===N.widget2Id);return!T||!S?!1:N.widget1Id===y&&S.groupId===v||N.widget2Id===y&&T.groupId===v});for(const N of b)n(N.widget1Id,N.widget2Id)}};if(i)return null;const j=g?k.filter(h=>h.widget1Id===g||h.widget2Id===g):[];return l.jsx(l.Fragment,{children:j.map((h,u)=>l.jsx("button",{"data-attach-widget-ids":`${h.widget1Id},${h.widget2Id}`,className:`absolute w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all transform -translate-x-1/2 -translate-y-1/2 hover:scale-125 ${h.isAttached?"bg-green-500 hover:bg-red-500 text-white":"bg-blue-500 hover:bg-green-500 text-white"}`,style:{left:`${h.x}px`,top:`${h.y}px`,zIndex:150},onClick:()=>w(h),onMouseDown:x=>x.stopPropagation(),onTouchStart:x=>x.stopPropagation(),title:h.isAttached?"Click to detach widgets":"Click to attach widgets",children:h.isAttached?"":""},`${h.widget1Id}-${h.widget2Id}-${u}`))})}function Yg({widgets:e,scale:t}){const[n,r]=P.useState([]),[o,s]=P.useState(!1),a=e.map(i=>`${i.id}:${i.x}:${i.y}`).join("|");return P.useEffect(()=>{const i=()=>{const d=document.querySelector(".react-draggable-dragging");s(!!d)},c=new MutationObserver(i);return c.observe(document.body,{subtree:!0,attributes:!0,attributeFilter:["class"]}),()=>c.disconnect()},[]),P.useEffect(()=>{const i=setTimeout(()=>{const c=[];e.forEach(d=>{const m=document.querySelector(`[data-widget-id="${d.id}"]`);if(m){const g=m.getBoundingClientRect();c.push({id:d.id,x:d.x,y:d.y,width:g.width/t,height:g.height/t})}}),r(c)},50);return()=>clearTimeout(i)},[e,t,a]),o?null:l.jsx("div",{className:"pointer-events-none",children:n.map(i=>l.jsx("div",{className:"absolute shadow-theme rounded-theme",style:{left:`${i.x}px`,top:`${i.y}px`,width:`${i.width}px`,height:`${i.height}px`}},`shadow-${i.id}`))})}function Xg(e){const t=e.sheets.find(n=>n.id===e.activeSheetId);return(t==null?void 0:t.widgets)||[]}function Kg(){var yi,bi;const e=F(D=>D.activeCharacterId),t=F(D=>D.characters),n=F(D=>D.addWidget),r=F(D=>D.mode),o=F(D=>D.setMode),s=F(D=>D.selectCharacter),a=F(D=>D.updateCharacterName),i=F(D=>D.editingWidgetId),c=F(D=>D.updateWidgetPosition),d=F(D=>D.createSheet),m=F(D=>D.selectSheet),g=F(D=>D.deleteSheet),p=F(D=>D.renameSheet),f=t.find(D=>D.id===e),k=f?Xg(f):[],[w,j]=P.useState(()=>window.innerWidth<768),[h,u]=P.useState(!0),[x,y]=P.useState(!1),[v,b]=P.useState(""),[N,T]=P.useState(null),[S,C]=P.useState(""),[L,$]=P.useState(!1),[M,U]=P.useState(null),V=()=>{if(!f||k.length===0)return;const D=10,K=10,ye=document.querySelectorAll(".react-draggable[data-widget-id]"),ie=[];ye.forEach(B=>{const G=B.getAttribute("data-widget-id");if(G){const te=B.getBoundingClientRect();ie.push({id:G,w:Math.ceil(te.width/I/D)*D,h:Math.ceil(te.height/I/D)*D})}});const Fe=k.map(B=>{const G=ie.find(te=>te.id===B.id);return{id:B.id,groupId:B.groupId,x:B.x,y:B.y,w:G?G.w:B.w||200,h:G?G.h:B.h||120}}),Ee=new Map,st=[];for(const B of Fe)if(B.groupId){const G=Ee.get(B.groupId)||[];G.push(B),Ee.set(B.groupId,G)}else st.push(B);const H=[];for(const[B,G]of Ee){if(G.length===0)continue;const te=Math.min(...G.map(ee=>ee.x)),ce=Math.min(...G.map(ee=>ee.y)),re=Math.max(...G.map(ee=>ee.x+ee.w)),A=Math.max(...G.map(ee=>ee.y+ee.h));H.push({type:"group",id:B,widgets:G,boundingBox:{x:te,y:ce,w:re-te,h:A-ce},originalOffset:{x:te,y:ce}})}for(const B of st)H.push({type:"single",id:B.id,widgets:[B],boundingBox:{x:B.x,y:B.y,w:B.w,h:B.h},originalOffset:{x:B.x,y:B.y}});const J=H.reduce((B,G)=>B+(G.boundingBox.w+K)*(G.boundingBox.h+K),0),Z=Math.max(800,Math.ceil(Math.sqrt(J*1.5)/D)*D),be=[...H].sort((B,G)=>{const ce=Math.floor(B.boundingBox.y/50),re=Math.floor(G.boundingBox.y/50);return ce!==re?ce-re:B.boundingBox.x-G.boundingBox.x});let He=[{x:0,y:0,w:Z,h:1e5}];const Je=[],pt=(B,G)=>{let te=1/0,ce=0,re=0,A=!1;for(const ee of He)if(B<=ee.w&&G<=ee.h){const qe=ee.w-B,Pe=ee.h-G,uh=Math.min(qe,Pe),wi=ee.y*1e4+uh;wi<te&&(te=wi,ce=ee.x,re=ee.y,A=!0)}return A?{x:ce,y:re}:null},qt=(B,G,te,ce)=>{const re=[];for(const A of He){if(B>=A.x+A.w||B+te<=A.x||G>=A.y+A.h||G+ce<=A.y){re.push(A);continue}B>A.x&&re.push({x:A.x,y:A.y,w:B-A.x,h:A.h}),B+te<A.x+A.w&&re.push({x:B+te,y:A.y,w:A.x+A.w-(B+te),h:A.h}),G>A.y&&re.push({x:A.x,y:A.y,w:A.w,h:G-A.y}),G+ce<A.y+A.h&&re.push({x:A.x,y:G+ce,w:A.w,h:A.y+A.h-(G+ce)})}He=re.filter((A,ee)=>{for(let qe=0;qe<re.length;qe++){if(ee===qe)continue;const Pe=re[qe];if(A.x>=Pe.x&&A.y>=Pe.y&&A.x+A.w<=Pe.x+Pe.w&&A.y+A.h<=Pe.y+Pe.h)return!1}return!0})};for(const B of be){const G=B.boundingBox.w+K,te=B.boundingBox.h+K,ce=pt(G,te);if(ce){const re=Math.round(ce.x/D)*D,A=Math.round(ce.y/D)*D;Je.push({item:B,x:re,y:A}),qt(re,A,G,te)}else{const re=Je.reduce((A,ee)=>Math.max(A,ee.y+ee.item.boundingBox.h+K),0);Je.push({item:B,x:0,y:re}),qt(0,re,G,te)}}for(const B of Je){const{item:G,x:te,y:ce}=B,re=te-G.originalOffset.x,A=ce-G.originalOffset.y;for(const ee of G.widgets){const qe=Math.round((ee.x+re)/D)*D,Pe=Math.round((ee.y+A)/D)*D;c(ee.id,qe,Pe)}}},[Y,X]=P.useState({x:0,y:0}),[I,E]=P.useState(1),[W,R]=P.useState(!1),[le,Ae]=P.useState(!1),ke=P.useRef({x:0,y:0}),St=P.useRef(null),xe=P.useRef(null),Se=P.useRef(null),Ke=P.useRef(new Map),At=P.useRef(!1),Ft=P.useRef(!1),go=P.useRef(I),O=P.useRef(Y),ve=P.useRef(Ae);P.useEffect(()=>{go.current=I},[I]),P.useEffect(()=>{O.current=Y},[Y]),P.useEffect(()=>{ve.current=Ae},[Ae]);const Qe=()=>{if(!f||k.length===0){E(1),X({x:0,y:0});return}const D=document.querySelectorAll(".react-draggable[data-widget-id]"),K=[];if(D.forEach(A=>{const ee=A.getAttribute("data-widget-id"),qe=k.find(Pe=>Pe.id===ee);if(qe){const Pe=A.getBoundingClientRect();K.push({x:qe.x,y:qe.y,w:Pe.width/I,h:Pe.height/I})}}),K.length===0){E(1),X({x:0,y:0});return}const ye=Math.min(...K.map(A=>A.x)),ie=Math.min(...K.map(A=>A.y)),Fe=Math.max(...K.map(A=>A.x+A.w)),Ee=Math.max(...K.map(A=>A.y+A.h)),st=Fe-ye,H=Ee-ie,J=window.innerWidth,Z=window.innerHeight,be=60,He=J-be*2,Je=Z-be*2,pt=He/st,qt=Je/H,B=Math.min(Math.max(Math.min(pt,qt),.1),5),G=(ye+Fe)/2,te=(ie+Ee)/2,ce=J/2-G*B,re=Z/2-te*B;E(B),X({x:ce,y:re})};P.useEffect(()=>{if(e&&k.length>0){const D=setTimeout(()=>{Qe()},100);return()=>clearTimeout(D)}},[e]),P.useEffect(()=>{if(f){const D=f.theme||"default",K=zn(D);K?ma(K):yr(D)}return()=>{yr("default")}},[f==null?void 0:f.theme,f==null?void 0:f.id]);const Ze=P.useRef(r);P.useEffect(()=>{Ze.current=r},[r]),P.useEffect(()=>{const D=H=>{for(;H&&H!==document.body;){const J=window.getComputedStyle(H),Z=J.overflowY,be=J.overflowX;if((Z==="auto"||Z==="scroll"||be==="auto"||be==="scroll")&&(H.scrollHeight>H.clientHeight||H.scrollWidth>H.clientWidth))return!0;H=H.parentElement}return!1},K=H=>{for(;H&&H!==document.body;){if(H.classList.contains("react-draggable"))return!0;H=H.parentElement}return!1},ye=H=>{for(;H&&H!==document.body;){if(H.classList.contains("fixed")&&(H.classList.contains("left-0")||H.classList.contains("right-0")))return!0;H=H.parentElement}return!1};let ie=null;const Fe=H=>{H.touches.length===1&&(ie=H.target);for(let J=0;J<H.touches.length;J++){const Z=H.touches[J];Ke.current.set(Z.identifier,{x:Z.clientX,y:Z.clientY})}if(!(ie&&ye(ie))){if(H.touches.length===1&&(Ft.current=D(H.target)),Ke.current.size>=2){H.preventDefault(),H.stopPropagation(),H.stopImmediatePropagation(),ve.current(!0);const J=Array.from(Ke.current.values()),Z=J[0].x-J[1].x,be=J[0].y-J[1].y;xe.current=Math.sqrt(Z*Z+be*be),Se.current={x:(J[0].x+J[1].x)/2,y:(J[0].y+J[1].y)/2},At.current=!1}else if(Ke.current.size===1){const J=ie&&K(ie);if(!Ft.current&&(Ze.current==="play"?!0:!J)){const He=Ke.current.values().next().value;He&&(Se.current={x:He.x,y:He.y},At.current=!0)}}}},Ee=H=>{if(ie&&ye(ie))return;for(let Z=0;Z<H.touches.length;Z++){const be=H.touches[Z];Ke.current.set(be.identifier,{x:be.clientX,y:be.clientY})}const J=Ke.current.size;if(J>=2){const Z=Array.from(Ke.current.values()),be=Z[0].x-Z[1].x,He=Z[0].y-Z[1].y,Je=Math.sqrt(be*be+He*He),pt={x:(Z[0].x+Z[1].x)/2,y:(Z[0].y+Z[1].y)/2};if(xe.current===null||Se.current===null){xe.current=Je,Se.current=pt,At.current=!1,H.preventDefault(),H.stopPropagation(),H.stopImmediatePropagation();return}H.preventDefault(),H.stopPropagation(),H.stopImmediatePropagation();const qt=go.current,B=O.current,G=Je/xe.current,te=Math.min(Math.max(qt*G,.1),5),ce=(pt.x-B.x)/qt,re=(pt.y-B.y)/qt,A=pt.x-ce*te,ee=pt.y-re*te,qe=pt.x-Se.current.x,Pe=pt.y-Se.current.y;E(te),X({x:A+qe,y:ee+Pe}),xe.current=Je,Se.current=pt}else if(J===1&&At.current&&Se.current){const Z=Ke.current.values().next().value;if(Z){H.preventDefault();const be=Z.x-Se.current.x,He=Z.y-Se.current.y;X(Je=>({x:Je.x+be,y:Je.y+He})),Se.current={x:Z.x,y:Z.y}}}},st=H=>{for(let J=0;J<H.changedTouches.length;J++)Ke.current.delete(H.changedTouches[J].identifier);Ke.current.size===0?(xe.current=null,Se.current=null,At.current=!1,Ft.current=!1,ie=null,ve.current(!1)):Ke.current.size===1&&(xe.current=null,At.current=!1)};return document.addEventListener("touchstart",Fe,{passive:!1,capture:!0}),document.addEventListener("touchmove",Ee,{passive:!1,capture:!0}),document.addEventListener("touchend",st,{passive:!0,capture:!0}),document.addEventListener("touchcancel",st,{passive:!0,capture:!0}),()=>{document.removeEventListener("touchstart",Fe,{capture:!0}),document.removeEventListener("touchmove",Ee,{capture:!0}),document.removeEventListener("touchend",st,{capture:!0}),document.removeEventListener("touchcancel",st,{capture:!0})}},[]);const lt=D=>{i||D.target.closest(".react-draggable")||(r==="play"?D.button===0&&(D.preventDefault(),R(!0),ke.current={x:D.clientX,y:D.clientY}):(D.button===0||D.button===1)&&(D.preventDefault(),R(!0),ke.current={x:D.clientX,y:D.clientY}))},Ht=D=>{if(W){const K=D.clientX-ke.current.x,ye=D.clientY-ke.current.y;X(ie=>({x:ie.x+K,y:ie.y+ye})),ke.current={x:D.clientX,y:D.clientY}}},Nn=()=>{R(!1)},vi=D=>{if(i)return;const K=Math.exp(-D.deltaY*.001),ye=Math.min(Math.max(I*K,.1),5),ie=D.clientX,Fe=D.clientY,Ee=(ie-Y.x)/I,st=(Fe-Y.y)/I,H=ie-Ee*ye,J=Fe-st*ye;E(ye),X({x:H,y:J})},jr=D=>{D.preventDefault(),D.dataTransfer.dropEffect="copy"},Bl=D=>{D.preventDefault();const K=D.dataTransfer.getData("widgetType");if(K){const ye=(D.clientX-Y.x)/I,ie=(D.clientY-Y.y)/I,Fe=10,Ee=J=>Math.round(J/Fe)*Fe,st=Ee(ye),H=Ee(ie);n(K,st,H)}};if(P.useEffect(()=>{const D=()=>R(!1),K=ye=>{if(W){const ie=ye.clientX-ke.current.x,Fe=ye.clientY-ke.current.y;X(Ee=>({x:Ee.x+ie,y:Ee.y+Fe})),ke.current={x:ye.clientX,y:ye.clientY}}};return window.addEventListener("mouseup",D),window.addEventListener("mousemove",K),()=>{window.removeEventListener("mouseup",D),window.removeEventListener("mousemove",K)}},[W]),!f)return null;const ih=typeof window<"u"&&window.innerWidth<768,ch=r==="edit"&&!w&&!ih?"md:left-72":"";return l.jsxs("div",{ref:St,className:"w-full h-screen overflow-hidden relative bg-theme-background",children:[r==="edit"&&l.jsx(Ix,{collapsed:w,onToggle:()=>j(!w)}),r==="edit"&&l.jsx(Dx,{collapsed:h,onToggle:()=>u(!h)}),l.jsx("div",{className:`absolute inset-0 ${W||At.current?"cursor-grabbing":"cursor-default"} ${le?"pinch-active":""}`,onMouseDown:lt,onMouseMove:Ht,onMouseUp:Nn,onWheel:vi,onDragOver:jr,onDrop:Bl,children:l.jsxs("div",{className:"absolute top-0 left-0 w-full h-full origin-top-left",style:{transform:`translate(${Y.x}px, ${Y.y}px) scale(${I})`},children:[l.jsx("div",{className:"absolute -top-[50000px] -left-[50000px] w-[100000px] h-[100000px] pattern-grid opacity-20 pointer-events-none"}),l.jsx(Yg,{widgets:k,scale:I}),k.map(D=>l.jsx(Vg,{widget:D,scale:I},D.id)),r==="edit"&&l.jsx(Gg,{widgets:k,scale:I})]})}),l.jsxs("div",{className:"absolute top-2 right-2 sm:top-4 sm:right-4 flex flex-col gap-2 pointer-events-auto z-30",children:[l.jsx("div",{className:`bg-theme-paper border-[length:var(--border-width)] border-theme-border p-1.5 sm:p-2 shadow-theme rounded-theme ${r==="edit"&&!x?"cursor-pointer hover:opacity-90":""}`,children:x?l.jsx("input",{type:"text",value:v,onChange:D=>b(D.target.value),onBlur:()=>{v.trim()&&a(f.id,v.trim()),y(!1)},onKeyDown:D=>{D.key==="Enter"?(v.trim()&&a(f.id,v.trim()),y(!1)):D.key==="Escape"&&y(!1)},autoFocus:!0,className:"font-bold text-sm sm:text-xl bg-transparent border-b-[length:var(--border-width)] border-theme-border outline-none w-full text-theme-ink font-heading"}):l.jsx("h1",{className:"font-bold text-sm sm:text-xl text-theme-ink font-heading",onClick:()=>{r==="edit"&&(b(f.name),y(!0))},children:f.name})}),l.jsxs("div",{className:"relative w-full",children:[l.jsxs("button",{onClick:()=>$(!L),className:"w-full bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme px-3 py-1.5 flex items-center justify-between gap-2 hover:bg-theme-accent/10 transition-colors",children:[l.jsx("span",{className:"text-xs sm:text-sm font-body text-theme-ink",children:((yi=f.sheets.find(D=>D.id===f.activeSheetId))==null?void 0:yi.name)||"Sheet"}),l.jsx("span",{className:"text-theme-muted text-xs",children:""})]}),L&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>$(!1)}),l.jsxs("div",{className:"absolute top-full right-0 mt-1 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme overflow-hidden z-50 min-w-[150px]",children:[f.sheets.map(D=>l.jsx("div",{className:"group relative",children:N===D.id?l.jsx("input",{type:"text",value:S,onChange:K=>C(K.target.value),onBlur:()=>{S.trim()&&p(D.id,S.trim()),T(null)},onKeyDown:K=>{K.key==="Enter"?(S.trim()&&p(D.id,S.trim()),T(null)):K.key==="Escape"&&T(null)},autoFocus:!0,onClick:K=>K.stopPropagation(),className:"w-full px-3 py-2 text-xs sm:text-sm bg-transparent border-b border-theme-border outline-none text-theme-ink font-body"}):l.jsxs("button",{onClick:()=>{m(D.id),$(!1)},className:`w-full px-3 py-2 text-xs sm:text-sm text-left font-body transition-colors flex items-center justify-between ${D.id===f.activeSheetId?"bg-theme-accent text-theme-paper":"text-theme-ink hover:bg-theme-accent/20"}`,children:[l.jsx("span",{children:D.name}),r==="edit"&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{onClick:K=>{K.stopPropagation(),C(D.name),T(D.id)},className:`w-5 h-5 rounded-full text-xs flex items-center justify-center ${D.id===f.activeSheetId?"bg-theme-paper/30 text-theme-paper hover:bg-theme-paper/50":"bg-theme-accent/20 text-theme-ink hover:bg-theme-accent/40"}`,title:"Rename sheet",children:""}),f.sheets.length>1&&l.jsx("span",{onClick:K=>{K.stopPropagation(),U(D.id)},className:"w-5 h-5 bg-red-500 text-white rounded-full text-xs flex items-center justify-center hover:bg-red-600",title:"Delete sheet",children:""})]})]})},D.id)),r==="edit"&&l.jsx("button",{onClick:()=>{d(`Sheet ${f.sheets.length+1}`),$(!1)},className:"w-full px-3 py-2 text-xs sm:text-sm text-theme-muted hover:text-theme-ink hover:bg-theme-accent/20 text-left font-body border-t border-theme-border/50 transition-colors",children:"+ Add New Sheet"})]})]}),M&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>U(null)}),l.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme p-4 z-50 min-w-[250px]",children:[l.jsx("h3",{className:"font-heading text-theme-ink font-bold mb-2",children:"Delete Sheet?"}),l.jsxs("p",{className:"text-sm text-theme-muted font-body mb-4",children:['Are you sure you want to delete "',(bi=f.sheets.find(D=>D.id===M))==null?void 0:bi.name,'"? This will delete all widgets on this sheet.']}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx("button",{onClick:()=>U(null),className:"px-3 py-1.5 text-sm font-body text-theme-ink hover:bg-theme-accent/20 rounded-theme transition-colors",children:"Cancel"}),l.jsx("button",{onClick:()=>{g(M),U(null),$(!1)},className:"px-3 py-1.5 text-sm font-body bg-red-500 text-white hover:bg-red-600 rounded-theme transition-colors",children:"Delete"})]})]})]})]}),l.jsxs("div",{className:"flex gap-1 justify-end",children:[l.jsx("button",{onClick:()=>E(D=>Math.min(5,D*1.3)),className:"w-8 h-8 sm:w-10 sm:h-10 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-base sm:text-xl shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none flex items-center justify-center rounded-theme text-theme-ink",children:"+"}),l.jsx("button",{onClick:()=>E(D=>Math.max(.1,D/1.3)),className:"w-8 h-8 sm:w-10 sm:h-10 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-base sm:text-xl shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none flex items-center justify-center rounded-theme text-theme-ink",children:""}),l.jsx("button",{onClick:Qe,className:"px-2 h-8 sm:h-10 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none flex items-center justify-center rounded-theme text-theme-ink",children:"Fit"})]})]}),l.jsxs("div",{className:`absolute top-2 left-2 sm:top-4 sm:left-4 ${ch} pointer-events-auto transition-all duration-300 flex flex-col gap-1.5 sm:gap-2 z-30`,children:[l.jsxs("button",{onClick:()=>s(null),className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs sm:text-base shadow-theme hover:bg-red-500 hover:text-white hover:border-red-700 transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme text-theme-ink",children:[l.jsx("span",{className:"sm:hidden",children:""}),l.jsx("span",{className:"hidden sm:inline",children:" Exit to Menu"})]}),l.jsx("button",{onClick:()=>o(r==="play"?"edit":"play"),className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs sm:text-base shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme text-theme-ink",children:r==="play"?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"sm:hidden",children:""}),l.jsx("span",{className:"hidden sm:inline",children:" Edit Mode"})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"sm:hidden",children:""}),l.jsx("span",{className:"hidden sm:inline",children:" Play Mode"})]})}),r==="edit"&&l.jsx("button",{onClick:()=>j(!w),className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs sm:text-base shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme text-theme-ink",children:w?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"sm:hidden",children:""}),l.jsx("span",{className:"hidden sm:inline",children:" Show Toolbox"})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"sm:hidden",children:""}),l.jsx("span",{className:"hidden sm:inline",children:" Hide Toolbox"})]})}),r==="edit"&&l.jsx("button",{onClick:()=>u(!h),className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs sm:text-base shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme text-theme-ink",children:h?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"sm:hidden",children:""}),l.jsx("span",{className:"hidden sm:inline",children:" Change Theme"})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"sm:hidden",children:""}),l.jsx("span",{className:"hidden sm:inline",children:" Hide Themes"})]})}),r==="edit"&&l.jsxs("button",{onClick:V,className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs sm:text-base shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme text-theme-ink",children:[l.jsx("span",{className:"sm:hidden",children:""}),l.jsx("span",{className:"hidden sm:inline",children:" Auto Stack"})]})]})]})}function Qg(){const e=F(t=>t.activeCharacterId);return l.jsx("div",{className:"h-full bg-gray-100 text-ink font-mono overflow-hidden",children:e?l.jsx(Kg,{}):l.jsx(Ex,{})})}yr("default");ws.createRoot(document.getElementById("root")).render(l.jsx(kl.StrictMode,{children:l.jsx(Qg,{})}));
