(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function ma(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $u={exports:{}},vl={},Wu={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var so=Symbol.for("react.element"),eh=Symbol.for("react.portal"),th=Symbol.for("react.fragment"),nh=Symbol.for("react.strict_mode"),rh=Symbol.for("react.profiler"),oh=Symbol.for("react.provider"),lh=Symbol.for("react.context"),sh=Symbol.for("react.forward_ref"),ah=Symbol.for("react.suspense"),ih=Symbol.for("react.memo"),uh=Symbol.for("react.lazy"),vi=Symbol.iterator;function ch(e){return e===null||typeof e!="object"?null:(e=vi&&e[vi]||e["@@iterator"],typeof e=="function"?e:null)}var Fu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Au=Object.assign,Uu={};function gr(e,t,n){this.props=e,this.context=t,this.refs=Uu,this.updater=n||Fu}gr.prototype.isReactComponent={};gr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hu(){}Hu.prototype=gr.prototype;function ga(e,t,n){this.props=e,this.context=t,this.refs=Uu,this.updater=n||Fu}var xa=ga.prototype=new Hu;xa.constructor=ga;Au(xa,gr.prototype);xa.isPureReactComponent=!0;var yi=Array.isArray,Bu=Object.prototype.hasOwnProperty,va={current:null},Vu={key:!0,ref:!0,__self:!0,__source:!0};function Xu(e,t,n){var r,o={},l=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(l=""+t.key),t)Bu.call(t,r)&&!Vu.hasOwnProperty(r)&&(o[r]=t[r]);var i=arguments.length-2;if(i===1)o.children=n;else if(1<i){for(var u=Array(i),c=0;c<i;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)o[r]===void 0&&(o[r]=i[r]);return{$$typeof:so,type:e,key:l,ref:s,props:o,_owner:va.current}}function dh(e,t){return{$$typeof:so,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ya(e){return typeof e=="object"&&e!==null&&e.$$typeof===so}function fh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var bi=/\/+/g;function Hl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fh(""+e.key):t.toString(36)}function Oo(e,t,n,r,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case so:case eh:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Hl(s,0):r,yi(o)?(n="",e!=null&&(n=e.replace(bi,"$&/")+"/"),Oo(o,t,n,"",function(c){return c})):o!=null&&(ya(o)&&(o=dh(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(bi,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",yi(e))for(var i=0;i<e.length;i++){l=e[i];var u=r+Hl(l,i);s+=Oo(l,t,n,u,o)}else if(u=ch(e),typeof u=="function")for(e=u.call(e),i=0;!(l=e.next()).done;)l=l.value,u=r+Hl(l,i++),s+=Oo(l,t,n,u,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function mo(e,t,n){if(e==null)return e;var r=[],o=0;return Oo(e,r,"","",function(l){return t.call(n,l,o++)}),r}function hh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fe={current:null},zo={transition:null},ph={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:zo,ReactCurrentOwner:va};function Yu(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:mo,forEach:function(e,t,n){mo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return mo(e,function(){t++}),t},toArray:function(e){return mo(e,function(t){return t})||[]},only:function(e){if(!ya(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=gr;B.Fragment=th;B.Profiler=rh;B.PureComponent=ga;B.StrictMode=nh;B.Suspense=ah;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ph;B.act=Yu;B.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Au({},e.props),o=e.key,l=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,s=va.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(u in t)Bu.call(t,u)&&!Vu.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&i!==void 0?i[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){i=Array(u);for(var c=0;c<u;c++)i[c]=arguments[c+2];r.children=i}return{$$typeof:so,type:e.type,key:o,ref:l,props:r,_owner:s}};B.createContext=function(e){return e={$$typeof:lh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:oh,_context:e},e.Consumer=e};B.createElement=Xu;B.createFactory=function(e){var t=Xu.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:sh,render:e}};B.isValidElement=ya;B.lazy=function(e){return{$$typeof:uh,_payload:{_status:-1,_result:e},_init:hh}};B.memo=function(e,t){return{$$typeof:ih,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=zo.transition;zo.transition={};try{e()}finally{zo.transition=t}};B.unstable_act=Yu;B.useCallback=function(e,t){return Fe.current.useCallback(e,t)};B.useContext=function(e){return Fe.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Fe.current.useDeferredValue(e)};B.useEffect=function(e,t){return Fe.current.useEffect(e,t)};B.useId=function(){return Fe.current.useId()};B.useImperativeHandle=function(e,t,n){return Fe.current.useImperativeHandle(e,t,n)};B.useInsertionEffect=function(e,t){return Fe.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Fe.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Fe.current.useMemo(e,t)};B.useReducer=function(e,t,n){return Fe.current.useReducer(e,t,n)};B.useRef=function(e){return Fe.current.useRef(e)};B.useState=function(e){return Fe.current.useState(e)};B.useSyncExternalStore=function(e,t,n){return Fe.current.useSyncExternalStore(e,t,n)};B.useTransition=function(){return Fe.current.useTransition()};B.version="18.3.1";Wu.exports=B;var _=Wu.exports;const Gu=ma(_);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mh=_,gh=Symbol.for("react.element"),xh=Symbol.for("react.fragment"),vh=Object.prototype.hasOwnProperty,yh=mh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bh={key:!0,ref:!0,__self:!0,__source:!0};function Qu(e,t,n){var r,o={},l=null,s=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)vh.call(t,r)&&!bh.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:gh,type:e,key:l,ref:s,props:o,_owner:yh.current}}vl.Fragment=xh;vl.jsx=Qu;vl.jsxs=Qu;$u.exports=vl;var a=$u.exports,bs={},Ku={exports:{}},nt={},Zu={exports:{}},Ju={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,z){var E=I.length;I.push(z);e:for(;0<E;){var D=E-1>>>1,A=I[D];if(0<o(A,z))I[D]=z,I[E]=A,E=D;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var z=I[0],E=I.pop();if(E!==z){I[0]=E;e:for(var D=0,A=I.length,fe=A>>>1;D<fe;){var me=2*(D+1)-1,ft=I[me],Le=me+1,Ht=I[Le];if(0>o(ft,E))Le<A&&0>o(Ht,ft)?(I[D]=Ht,I[Le]=E,D=Le):(I[D]=ft,I[me]=E,D=me);else if(Le<A&&0>o(Ht,E))I[D]=Ht,I[Le]=E,D=Le;else break e}}return z}function o(I,z){var E=I.sortIndex-z.sortIndex;return E!==0?E:I.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var s=Date,i=s.now();e.unstable_now=function(){return s.now()-i}}var u=[],c=[],f=1,x=null,g=3,p=!1,S=!1,N=!1,T=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(I){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=I)r(c),z.sortIndex=z.expirationTime,t(u,z);else break;z=n(c)}}function b(I){if(N=!1,m(I),!S)if(n(u)!==null)S=!0,se(v);else{var z=n(c);z!==null&&ce(b,z.startTime-I)}}function v(I,z){S=!1,N&&(N=!1,h(C),C=-1),p=!0;var E=g;try{for(m(z),x=n(u);x!==null&&(!(x.expirationTime>z)||I&&!U());){var D=x.callback;if(typeof D=="function"){x.callback=null,g=x.priorityLevel;var A=D(x.expirationTime<=z);z=e.unstable_now(),typeof A=="function"?x.callback=A:x===n(u)&&r(u),m(z)}else r(u);x=n(u)}if(x!==null)var fe=!0;else{var me=n(c);me!==null&&ce(b,me.startTime-z),fe=!1}return fe}finally{x=null,g=E,p=!1}}var y=!1,k=null,C=-1,w=5,P=-1;function U(){return!(e.unstable_now()-P<w)}function ee(){if(k!==null){var I=e.unstable_now();P=I;var z=!0;try{z=k(!0,I)}finally{z?te():(y=!1,k=null)}}else y=!1}var te;if(typeof d=="function")te=function(){d(ee)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Ee=pe.port2;pe.port1.onmessage=ee,te=function(){Ee.postMessage(null)}}else te=function(){T(ee,0)};function se(I){k=I,y||(y=!0,te())}function ce(I,z){C=T(function(){I(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){S||p||(S=!0,se(v))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(I){switch(g){case 1:case 2:case 3:var z=3;break;default:z=g}var E=g;g=z;try{return I()}finally{g=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,z){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var E=g;g=I;try{return z()}finally{g=E}},e.unstable_scheduleCallback=function(I,z,E){var D=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?D+E:D):E=D,I){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=E+A,I={id:f++,callback:z,priorityLevel:I,startTime:E,expirationTime:A,sortIndex:-1},E>D?(I.sortIndex=E,t(c,I),n(u)===null&&I===n(c)&&(N?(h(C),C=-1):N=!0,ce(b,E-D))):(I.sortIndex=A,t(u,I),S||p||(S=!0,se(v))),I},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(I){var z=g;return function(){var E=g;g=z;try{return I.apply(this,arguments)}finally{g=E}}}})(Ju);Zu.exports=Ju;var wh=Zu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh=_,tt=wh;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qu=new Set,Hr={};function Mn(e,t){ar(e,t),ar(e+"Capture",t)}function ar(e,t){for(Hr[e]=t,e=0;e<t.length;e++)qu.add(t[e])}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ws=Object.prototype.hasOwnProperty,kh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wi={},Si={};function Nh(e){return ws.call(Si,e)?!0:ws.call(wi,e)?!1:kh.test(e)?Si[e]=!0:(wi[e]=!0,!1)}function jh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ch(e,t,n,r){if(t===null||typeof t>"u"||jh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ae(e,t,n,r,o,l,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=s}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ce[e]=new Ae(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ce[t]=new Ae(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ce[e]=new Ae(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ce[e]=new Ae(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ce[e]=new Ae(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ce[e]=new Ae(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ce[e]=new Ae(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ce[e]=new Ae(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ce[e]=new Ae(e,5,!1,e.toLowerCase(),null,!1,!1)});var ba=/[\-:]([a-z])/g;function wa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ba,wa);Ce[t]=new Ae(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ba,wa);Ce[t]=new Ae(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ba,wa);Ce[t]=new Ae(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ce[e]=new Ae(e,1,!1,e.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ce[e]=new Ae(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sa(e,t,n,r){var o=Ce.hasOwnProperty(t)?Ce[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ch(t,n,o,r)&&(n=null),r||o===null?Nh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ut=Sh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,go=Symbol.for("react.element"),Fn=Symbol.for("react.portal"),An=Symbol.for("react.fragment"),ka=Symbol.for("react.strict_mode"),Ss=Symbol.for("react.profiler"),ec=Symbol.for("react.provider"),tc=Symbol.for("react.context"),Na=Symbol.for("react.forward_ref"),ks=Symbol.for("react.suspense"),Ns=Symbol.for("react.suspense_list"),ja=Symbol.for("react.memo"),Gt=Symbol.for("react.lazy"),nc=Symbol.for("react.offscreen"),ki=Symbol.iterator;function br(e){return e===null||typeof e!="object"?null:(e=ki&&e[ki]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,Bl;function Ir(e){if(Bl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Bl=t&&t[1]||""}return`
`+Bl+e}var Vl=!1;function Xl(e,t){if(!e||Vl)return"";Vl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),l=r.stack.split(`
`),s=o.length-1,i=l.length-1;1<=s&&0<=i&&o[s]!==l[i];)i--;for(;1<=s&&0<=i;s--,i--)if(o[s]!==l[i]){if(s!==1||i!==1)do if(s--,i--,0>i||o[s]!==l[i]){var u=`
`+o[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=i);break}}}finally{Vl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ir(e):""}function Eh(e){switch(e.tag){case 5:return Ir(e.type);case 16:return Ir("Lazy");case 13:return Ir("Suspense");case 19:return Ir("SuspenseList");case 0:case 2:case 15:return e=Xl(e.type,!1),e;case 11:return e=Xl(e.type.render,!1),e;case 1:return e=Xl(e.type,!0),e;default:return""}}function js(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case An:return"Fragment";case Fn:return"Portal";case Ss:return"Profiler";case ka:return"StrictMode";case ks:return"Suspense";case Ns:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case tc:return(e.displayName||"Context")+".Consumer";case ec:return(e._context.displayName||"Context")+".Provider";case Na:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ja:return t=e.displayName||null,t!==null?t:js(e.type)||"Memo";case Gt:t=e._payload,e=e._init;try{return js(e(t))}catch{}}return null}function Th(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return js(t);case 8:return t===ka?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function dn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ph(e){var t=rc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,l.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xo(e){e._valueTracker||(e._valueTracker=Ph(e))}function oc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=rc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Go(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cs(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ni(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=dn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lc(e,t){t=t.checked,t!=null&&Sa(e,"checked",t,!1)}function Es(e,t){lc(e,t);var n=dn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ts(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ts(e,t.type,dn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ji(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ts(e,t,n){(t!=="number"||Go(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Mr=Array.isArray;function tr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ps(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ci(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(Mr(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:dn(n)}}function sc(e,t){var n=dn(t.value),r=dn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ei(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ac(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Is(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ac(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vo,ic=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vo=vo||document.createElement("div"),vo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Br(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Lr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ih=["Webkit","ms","Moz","O"];Object.keys(Lr).forEach(function(e){Ih.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Lr[t]=Lr[e]})});function uc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Lr.hasOwnProperty(e)&&Lr[e]?(""+t).trim():t+"px"}function cc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=uc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Mh=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ms(e,t){if(t){if(Mh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function _s(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ds=null;function Ca(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ls=null,nr=null,rr=null;function Ti(e){if(e=uo(e)){if(typeof Ls!="function")throw Error(M(280));var t=e.stateNode;t&&(t=kl(t),Ls(e.stateNode,e.type,t))}}function dc(e){nr?rr?rr.push(e):rr=[e]:nr=e}function fc(){if(nr){var e=nr,t=rr;if(rr=nr=null,Ti(e),t)for(e=0;e<t.length;e++)Ti(t[e])}}function hc(e,t){return e(t)}function pc(){}var Yl=!1;function mc(e,t,n){if(Yl)return e(t,n);Yl=!0;try{return hc(e,t,n)}finally{Yl=!1,(nr!==null||rr!==null)&&(pc(),fc())}}function Vr(e,t){var n=e.stateNode;if(n===null)return null;var r=kl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var Rs=!1;if($t)try{var wr={};Object.defineProperty(wr,"passive",{get:function(){Rs=!0}}),window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{Rs=!1}function _h(e,t,n,r,o,l,s,i,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var Rr=!1,Qo=null,Ko=!1,Os=null,Dh={onError:function(e){Rr=!0,Qo=e}};function Lh(e,t,n,r,o,l,s,i,u){Rr=!1,Qo=null,_h.apply(Dh,arguments)}function Rh(e,t,n,r,o,l,s,i,u){if(Lh.apply(this,arguments),Rr){if(Rr){var c=Qo;Rr=!1,Qo=null}else throw Error(M(198));Ko||(Ko=!0,Os=c)}}function _n(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function gc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pi(e){if(_n(e)!==e)throw Error(M(188))}function Oh(e){var t=e.alternate;if(!t){if(t=_n(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return Pi(o),e;if(l===r)return Pi(o),t;l=l.sibling}throw Error(M(188))}if(n.return!==r.return)n=o,r=l;else{for(var s=!1,i=o.child;i;){if(i===n){s=!0,n=o,r=l;break}if(i===r){s=!0,r=o,n=l;break}i=i.sibling}if(!s){for(i=l.child;i;){if(i===n){s=!0,n=l,r=o;break}if(i===r){s=!0,r=l,n=o;break}i=i.sibling}if(!s)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function xc(e){return e=Oh(e),e!==null?vc(e):null}function vc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vc(e);if(t!==null)return t;e=e.sibling}return null}var yc=tt.unstable_scheduleCallback,Ii=tt.unstable_cancelCallback,zh=tt.unstable_shouldYield,$h=tt.unstable_requestPaint,de=tt.unstable_now,Wh=tt.unstable_getCurrentPriorityLevel,Ea=tt.unstable_ImmediatePriority,bc=tt.unstable_UserBlockingPriority,Zo=tt.unstable_NormalPriority,Fh=tt.unstable_LowPriority,wc=tt.unstable_IdlePriority,yl=null,Tt=null;function Ah(e){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(yl,e,void 0,(e.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:Bh,Uh=Math.log,Hh=Math.LN2;function Bh(e){return e>>>=0,e===0?32:31-(Uh(e)/Hh|0)|0}var yo=64,bo=4194304;function _r(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,l=e.pingedLanes,s=n&268435455;if(s!==0){var i=s&~o;i!==0?r=_r(i):(l&=s,l!==0&&(r=_r(l)))}else s=n&~o,s!==0?r=_r(s):l!==0&&(r=_r(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-yt(t),o=1<<n,r|=e[n],t&=~o;return r}function Vh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var s=31-yt(l),i=1<<s,u=o[s];u===-1?(!(i&n)||i&r)&&(o[s]=Vh(i,t)):u<=t&&(e.expiredLanes|=i),l&=~i}}function zs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Sc(){var e=yo;return yo<<=1,!(yo&4194240)&&(yo=64),e}function Gl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ao(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yt(t),e[t]=n}function Yh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-yt(n),l=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~l}}function Ta(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-yt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Y=0;function kc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Nc,Pa,jc,Cc,Ec,$s=!1,wo=[],tn=null,nn=null,rn=null,Xr=new Map,Yr=new Map,Zt=[],Gh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mi(e,t){switch(e){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":nn=null;break;case"mouseover":case"mouseout":rn=null;break;case"pointerover":case"pointerout":Xr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yr.delete(t.pointerId)}}function Sr(e,t,n,r,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[o]},t!==null&&(t=uo(t),t!==null&&Pa(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Qh(e,t,n,r,o){switch(t){case"focusin":return tn=Sr(tn,e,t,n,r,o),!0;case"dragenter":return nn=Sr(nn,e,t,n,r,o),!0;case"mouseover":return rn=Sr(rn,e,t,n,r,o),!0;case"pointerover":var l=o.pointerId;return Xr.set(l,Sr(Xr.get(l)||null,e,t,n,r,o)),!0;case"gotpointercapture":return l=o.pointerId,Yr.set(l,Sr(Yr.get(l)||null,e,t,n,r,o)),!0}return!1}function Tc(e){var t=yn(e.target);if(t!==null){var n=_n(t);if(n!==null){if(t=n.tag,t===13){if(t=gc(n),t!==null){e.blockedOn=t,Ec(e.priority,function(){jc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $o(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ws(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ds=r,n.target.dispatchEvent(r),Ds=null}else return t=uo(n),t!==null&&Pa(t),e.blockedOn=n,!1;t.shift()}return!0}function _i(e,t,n){$o(e)&&n.delete(t)}function Kh(){$s=!1,tn!==null&&$o(tn)&&(tn=null),nn!==null&&$o(nn)&&(nn=null),rn!==null&&$o(rn)&&(rn=null),Xr.forEach(_i),Yr.forEach(_i)}function kr(e,t){e.blockedOn===t&&(e.blockedOn=null,$s||($s=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,Kh)))}function Gr(e){function t(o){return kr(o,e)}if(0<wo.length){kr(wo[0],e);for(var n=1;n<wo.length;n++){var r=wo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(tn!==null&&kr(tn,e),nn!==null&&kr(nn,e),rn!==null&&kr(rn,e),Xr.forEach(t),Yr.forEach(t),n=0;n<Zt.length;n++)r=Zt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Zt.length&&(n=Zt[0],n.blockedOn===null);)Tc(n),n.blockedOn===null&&Zt.shift()}var or=Ut.ReactCurrentBatchConfig,qo=!0;function Zh(e,t,n,r){var o=Y,l=or.transition;or.transition=null;try{Y=1,Ia(e,t,n,r)}finally{Y=o,or.transition=l}}function Jh(e,t,n,r){var o=Y,l=or.transition;or.transition=null;try{Y=4,Ia(e,t,n,r)}finally{Y=o,or.transition=l}}function Ia(e,t,n,r){if(qo){var o=Ws(e,t,n,r);if(o===null)os(e,t,r,el,n),Mi(e,r);else if(Qh(o,e,t,n,r))r.stopPropagation();else if(Mi(e,r),t&4&&-1<Gh.indexOf(e)){for(;o!==null;){var l=uo(o);if(l!==null&&Nc(l),l=Ws(e,t,n,r),l===null&&os(e,t,r,el,n),l===o)break;o=l}o!==null&&r.stopPropagation()}else os(e,t,r,null,n)}}var el=null;function Ws(e,t,n,r){if(el=null,e=Ca(r),e=yn(e),e!==null)if(t=_n(e),t===null)e=null;else if(n=t.tag,n===13){if(e=gc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return el=e,null}function Pc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wh()){case Ea:return 1;case bc:return 4;case Zo:case Fh:return 16;case wc:return 536870912;default:return 16}default:return 16}}var qt=null,Ma=null,Wo=null;function Ic(){if(Wo)return Wo;var e,t=Ma,n=t.length,r,o="value"in qt?qt.value:qt.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[l-r];r++);return Wo=o.slice(e,1<r?1-r:void 0)}function Fo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function So(){return!0}function Di(){return!1}function rt(e){function t(n,r,o,l,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=l,this.target=s,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(l):l[i]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?So:Di,this.isPropagationStopped=Di,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=So)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=So)},persist:function(){},isPersistent:So}),t}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_a=rt(xr),io=le({},xr,{view:0,detail:0}),qh=rt(io),Ql,Kl,Nr,bl=le({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Da,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nr&&(Nr&&e.type==="mousemove"?(Ql=e.screenX-Nr.screenX,Kl=e.screenY-Nr.screenY):Kl=Ql=0,Nr=e),Ql)},movementY:function(e){return"movementY"in e?e.movementY:Kl}}),Li=rt(bl),ep=le({},bl,{dataTransfer:0}),tp=rt(ep),np=le({},io,{relatedTarget:0}),Zl=rt(np),rp=le({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),op=rt(rp),lp=le({},xr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sp=rt(lp),ap=le({},xr,{data:0}),Ri=rt(ap),ip={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},up={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cp[e])?!!t[e]:!1}function Da(){return dp}var fp=le({},io,{key:function(e){if(e.key){var t=ip[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?up[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Da,charCode:function(e){return e.type==="keypress"?Fo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hp=rt(fp),pp=le({},bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=rt(pp),mp=le({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Da}),gp=rt(mp),xp=le({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),vp=rt(xp),yp=le({},bl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bp=rt(yp),wp=[9,13,27,32],La=$t&&"CompositionEvent"in window,Or=null;$t&&"documentMode"in document&&(Or=document.documentMode);var Sp=$t&&"TextEvent"in window&&!Or,Mc=$t&&(!La||Or&&8<Or&&11>=Or),zi=" ",$i=!1;function _c(e,t){switch(e){case"keyup":return wp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Un=!1;function kp(e,t){switch(e){case"compositionend":return Dc(t);case"keypress":return t.which!==32?null:($i=!0,zi);case"textInput":return e=t.data,e===zi&&$i?null:e;default:return null}}function Np(e,t){if(Un)return e==="compositionend"||!La&&_c(e,t)?(e=Ic(),Wo=Ma=qt=null,Un=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mc&&t.locale!=="ko"?null:t.data;default:return null}}var jp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jp[e.type]:t==="textarea"}function Lc(e,t,n,r){dc(r),t=tl(t,"onChange"),0<t.length&&(n=new _a("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zr=null,Qr=null;function Cp(e){Vc(e,0)}function wl(e){var t=Vn(e);if(oc(t))return e}function Ep(e,t){if(e==="change")return t}var Rc=!1;if($t){var Jl;if($t){var ql="oninput"in document;if(!ql){var Fi=document.createElement("div");Fi.setAttribute("oninput","return;"),ql=typeof Fi.oninput=="function"}Jl=ql}else Jl=!1;Rc=Jl&&(!document.documentMode||9<document.documentMode)}function Ai(){zr&&(zr.detachEvent("onpropertychange",Oc),Qr=zr=null)}function Oc(e){if(e.propertyName==="value"&&wl(Qr)){var t=[];Lc(t,Qr,e,Ca(e)),mc(Cp,t)}}function Tp(e,t,n){e==="focusin"?(Ai(),zr=t,Qr=n,zr.attachEvent("onpropertychange",Oc)):e==="focusout"&&Ai()}function Pp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wl(Qr)}function Ip(e,t){if(e==="click")return wl(t)}function Mp(e,t){if(e==="input"||e==="change")return wl(t)}function _p(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:_p;function Kr(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ws.call(t,o)||!St(e[o],t[o]))return!1}return!0}function Ui(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hi(e,t){var n=Ui(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ui(n)}}function zc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $c(){for(var e=window,t=Go();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Go(e.document)}return t}function Ra(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Dp(e){var t=$c(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&zc(n.ownerDocument.documentElement,n)){if(r!==null&&Ra(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(r.start,o);r=r.end===void 0?l:Math.min(r.end,o),!e.extend&&l>r&&(o=r,r=l,l=o),o=Hi(n,l);var s=Hi(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lp=$t&&"documentMode"in document&&11>=document.documentMode,Hn=null,Fs=null,$r=null,As=!1;function Bi(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;As||Hn==null||Hn!==Go(r)||(r=Hn,"selectionStart"in r&&Ra(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$r&&Kr($r,r)||($r=r,r=tl(Fs,"onSelect"),0<r.length&&(t=new _a("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Hn)))}function ko(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bn={animationend:ko("Animation","AnimationEnd"),animationiteration:ko("Animation","AnimationIteration"),animationstart:ko("Animation","AnimationStart"),transitionend:ko("Transition","TransitionEnd")},es={},Wc={};$t&&(Wc=document.createElement("div").style,"AnimationEvent"in window||(delete Bn.animationend.animation,delete Bn.animationiteration.animation,delete Bn.animationstart.animation),"TransitionEvent"in window||delete Bn.transitionend.transition);function Sl(e){if(es[e])return es[e];if(!Bn[e])return e;var t=Bn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Wc)return es[e]=t[n];return e}var Fc=Sl("animationend"),Ac=Sl("animationiteration"),Uc=Sl("animationstart"),Hc=Sl("transitionend"),Bc=new Map,Vi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hn(e,t){Bc.set(e,t),Mn(t,[e])}for(var ts=0;ts<Vi.length;ts++){var ns=Vi[ts],Rp=ns.toLowerCase(),Op=ns[0].toUpperCase()+ns.slice(1);hn(Rp,"on"+Op)}hn(Fc,"onAnimationEnd");hn(Ac,"onAnimationIteration");hn(Uc,"onAnimationStart");hn("dblclick","onDoubleClick");hn("focusin","onFocus");hn("focusout","onBlur");hn(Hc,"onTransitionEnd");ar("onMouseEnter",["mouseout","mouseover"]);ar("onMouseLeave",["mouseout","mouseover"]);ar("onPointerEnter",["pointerout","pointerover"]);ar("onPointerLeave",["pointerout","pointerover"]);Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Xi(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Rh(r,t,void 0,e),e.currentTarget=null}function Vc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],u=i.instance,c=i.currentTarget;if(i=i.listener,u!==l&&o.isPropagationStopped())break e;Xi(o,i,c),l=u}else for(s=0;s<r.length;s++){if(i=r[s],u=i.instance,c=i.currentTarget,i=i.listener,u!==l&&o.isPropagationStopped())break e;Xi(o,i,c),l=u}}}if(Ko)throw e=Os,Ko=!1,Os=null,e}function J(e,t){var n=t[Xs];n===void 0&&(n=t[Xs]=new Set);var r=e+"__bubble";n.has(r)||(Xc(t,e,2,!1),n.add(r))}function rs(e,t,n){var r=0;t&&(r|=4),Xc(n,e,r,t)}var No="_reactListening"+Math.random().toString(36).slice(2);function Zr(e){if(!e[No]){e[No]=!0,qu.forEach(function(n){n!=="selectionchange"&&(zp.has(n)||rs(n,!1,e),rs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[No]||(t[No]=!0,rs("selectionchange",!1,t))}}function Xc(e,t,n,r){switch(Pc(t)){case 1:var o=Zh;break;case 4:o=Jh;break;default:o=Ia}n=o.bind(null,t,n,e),o=void 0,!Rs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function os(e,t,n,r,o){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var i=r.stateNode.containerInfo;if(i===o||i.nodeType===8&&i.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===o||u.nodeType===8&&u.parentNode===o))return;s=s.return}for(;i!==null;){if(s=yn(i),s===null)return;if(u=s.tag,u===5||u===6){r=l=s;continue e}i=i.parentNode}}r=r.return}mc(function(){var c=l,f=Ca(n),x=[];e:{var g=Bc.get(e);if(g!==void 0){var p=_a,S=e;switch(e){case"keypress":if(Fo(n)===0)break e;case"keydown":case"keyup":p=hp;break;case"focusin":S="focus",p=Zl;break;case"focusout":S="blur",p=Zl;break;case"beforeblur":case"afterblur":p=Zl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Li;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=tp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=gp;break;case Fc:case Ac:case Uc:p=op;break;case Hc:p=vp;break;case"scroll":p=qh;break;case"wheel":p=bp;break;case"copy":case"cut":case"paste":p=sp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Oi}var N=(t&4)!==0,T=!N&&e==="scroll",h=N?g!==null?g+"Capture":null:g;N=[];for(var d=c,m;d!==null;){m=d;var b=m.stateNode;if(m.tag===5&&b!==null&&(m=b,h!==null&&(b=Vr(d,h),b!=null&&N.push(Jr(d,b,m)))),T)break;d=d.return}0<N.length&&(g=new p(g,S,null,n,f),x.push({event:g,listeners:N}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",g&&n!==Ds&&(S=n.relatedTarget||n.fromElement)&&(yn(S)||S[Wt]))break e;if((p||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,p?(S=n.relatedTarget||n.toElement,p=c,S=S?yn(S):null,S!==null&&(T=_n(S),S!==T||S.tag!==5&&S.tag!==6)&&(S=null)):(p=null,S=c),p!==S)){if(N=Li,b="onMouseLeave",h="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(N=Oi,b="onPointerLeave",h="onPointerEnter",d="pointer"),T=p==null?g:Vn(p),m=S==null?g:Vn(S),g=new N(b,d+"leave",p,n,f),g.target=T,g.relatedTarget=m,b=null,yn(f)===c&&(N=new N(h,d+"enter",S,n,f),N.target=m,N.relatedTarget=T,b=N),T=b,p&&S)t:{for(N=p,h=S,d=0,m=N;m;m=$n(m))d++;for(m=0,b=h;b;b=$n(b))m++;for(;0<d-m;)N=$n(N),d--;for(;0<m-d;)h=$n(h),m--;for(;d--;){if(N===h||h!==null&&N===h.alternate)break t;N=$n(N),h=$n(h)}N=null}else N=null;p!==null&&Yi(x,g,p,N,!1),S!==null&&T!==null&&Yi(x,T,S,N,!0)}}e:{if(g=c?Vn(c):window,p=g.nodeName&&g.nodeName.toLowerCase(),p==="select"||p==="input"&&g.type==="file")var v=Ep;else if(Wi(g))if(Rc)v=Mp;else{v=Pp;var y=Tp}else(p=g.nodeName)&&p.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(v=Ip);if(v&&(v=v(e,c))){Lc(x,v,n,f);break e}y&&y(e,g,c),e==="focusout"&&(y=g._wrapperState)&&y.controlled&&g.type==="number"&&Ts(g,"number",g.value)}switch(y=c?Vn(c):window,e){case"focusin":(Wi(y)||y.contentEditable==="true")&&(Hn=y,Fs=c,$r=null);break;case"focusout":$r=Fs=Hn=null;break;case"mousedown":As=!0;break;case"contextmenu":case"mouseup":case"dragend":As=!1,Bi(x,n,f);break;case"selectionchange":if(Lp)break;case"keydown":case"keyup":Bi(x,n,f)}var k;if(La)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Un?_c(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Mc&&n.locale!=="ko"&&(Un||C!=="onCompositionStart"?C==="onCompositionEnd"&&Un&&(k=Ic()):(qt=f,Ma="value"in qt?qt.value:qt.textContent,Un=!0)),y=tl(c,C),0<y.length&&(C=new Ri(C,e,null,n,f),x.push({event:C,listeners:y}),k?C.data=k:(k=Dc(n),k!==null&&(C.data=k)))),(k=Sp?kp(e,n):Np(e,n))&&(c=tl(c,"onBeforeInput"),0<c.length&&(f=new Ri("onBeforeInput","beforeinput",null,n,f),x.push({event:f,listeners:c}),f.data=k))}Vc(x,t)})}function Jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function tl(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=Vr(e,n),l!=null&&r.unshift(Jr(e,l,o)),l=Vr(e,t),l!=null&&r.push(Jr(e,l,o))),e=e.return}return r}function $n(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yi(e,t,n,r,o){for(var l=t._reactName,s=[];n!==null&&n!==r;){var i=n,u=i.alternate,c=i.stateNode;if(u!==null&&u===r)break;i.tag===5&&c!==null&&(i=c,o?(u=Vr(n,l),u!=null&&s.unshift(Jr(n,u,i))):o||(u=Vr(n,l),u!=null&&s.push(Jr(n,u,i)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var $p=/\r\n?/g,Wp=/\u0000|\uFFFD/g;function Gi(e){return(typeof e=="string"?e:""+e).replace($p,`
`).replace(Wp,"")}function jo(e,t,n){if(t=Gi(t),Gi(e)!==t&&n)throw Error(M(425))}function nl(){}var Us=null,Hs=null;function Bs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vs=typeof setTimeout=="function"?setTimeout:void 0,Fp=typeof clearTimeout=="function"?clearTimeout:void 0,Qi=typeof Promise=="function"?Promise:void 0,Ap=typeof queueMicrotask=="function"?queueMicrotask:typeof Qi<"u"?function(e){return Qi.resolve(null).then(e).catch(Up)}:Vs;function Up(e){setTimeout(function(){throw e})}function ls(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Gr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Gr(t)}function on(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ki(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var vr=Math.random().toString(36).slice(2),Et="__reactFiber$"+vr,qr="__reactProps$"+vr,Wt="__reactContainer$"+vr,Xs="__reactEvents$"+vr,Hp="__reactListeners$"+vr,Bp="__reactHandles$"+vr;function yn(e){var t=e[Et];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wt]||n[Et]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ki(e);e!==null;){if(n=e[Et])return n;e=Ki(e)}return t}e=n,n=e.parentNode}return null}function uo(e){return e=e[Et]||e[Wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function kl(e){return e[qr]||null}var Ys=[],Xn=-1;function pn(e){return{current:e}}function q(e){0>Xn||(e.current=Ys[Xn],Ys[Xn]=null,Xn--)}function K(e,t){Xn++,Ys[Xn]=e.current,e.current=t}var fn={},De=pn(fn),Be=pn(!1),Nn=fn;function ir(e,t){var n=e.type.contextTypes;if(!n)return fn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ve(e){return e=e.childContextTypes,e!=null}function rl(){q(Be),q(De)}function Zi(e,t,n){if(De.current!==fn)throw Error(M(168));K(De,t),K(Be,n)}function Yc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(M(108,Th(e)||"Unknown",o));return le({},n,r)}function ol(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fn,Nn=De.current,K(De,e),K(Be,Be.current),!0}function Ji(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=Yc(e,t,Nn),r.__reactInternalMemoizedMergedChildContext=e,q(Be),q(De),K(De,e)):q(Be),K(Be,n)}var Lt=null,Nl=!1,ss=!1;function Gc(e){Lt===null?Lt=[e]:Lt.push(e)}function Vp(e){Nl=!0,Gc(e)}function mn(){if(!ss&&Lt!==null){ss=!0;var e=0,t=Y;try{var n=Lt;for(Y=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Lt=null,Nl=!1}catch(o){throw Lt!==null&&(Lt=Lt.slice(e+1)),yc(Ea,mn),o}finally{Y=t,ss=!1}}return null}var Yn=[],Gn=0,ll=null,sl=0,st=[],at=0,jn=null,Rt=1,Ot="";function xn(e,t){Yn[Gn++]=sl,Yn[Gn++]=ll,ll=e,sl=t}function Qc(e,t,n){st[at++]=Rt,st[at++]=Ot,st[at++]=jn,jn=e;var r=Rt;e=Ot;var o=32-yt(r)-1;r&=~(1<<o),n+=1;var l=32-yt(t)+o;if(30<l){var s=o-o%5;l=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Rt=1<<32-yt(t)+o|n<<o|r,Ot=l+e}else Rt=1<<l|n<<o|r,Ot=e}function Oa(e){e.return!==null&&(xn(e,1),Qc(e,1,0))}function za(e){for(;e===ll;)ll=Yn[--Gn],Yn[Gn]=null,sl=Yn[--Gn],Yn[Gn]=null;for(;e===jn;)jn=st[--at],st[at]=null,Ot=st[--at],st[at]=null,Rt=st[--at],st[at]=null}var qe=null,Je=null,ne=!1,vt=null;function Kc(e,t){var n=it(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function qi(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qe=e,Je=on(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qe=e,Je=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=jn!==null?{id:Rt,overflow:Ot}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=it(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qe=e,Je=null,!0):!1;default:return!1}}function Gs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qs(e){if(ne){var t=Je;if(t){var n=t;if(!qi(e,t)){if(Gs(e))throw Error(M(418));t=on(n.nextSibling);var r=qe;t&&qi(e,t)?Kc(r,n):(e.flags=e.flags&-4097|2,ne=!1,qe=e)}}else{if(Gs(e))throw Error(M(418));e.flags=e.flags&-4097|2,ne=!1,qe=e}}}function eu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qe=e}function Co(e){if(e!==qe)return!1;if(!ne)return eu(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bs(e.type,e.memoizedProps)),t&&(t=Je)){if(Gs(e))throw Zc(),Error(M(418));for(;t;)Kc(e,t),t=on(t.nextSibling)}if(eu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Je=on(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Je=null}}else Je=qe?on(e.stateNode.nextSibling):null;return!0}function Zc(){for(var e=Je;e;)e=on(e.nextSibling)}function ur(){Je=qe=null,ne=!1}function $a(e){vt===null?vt=[e]:vt.push(e)}var Xp=Ut.ReactCurrentBatchConfig;function jr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var o=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(s){var i=o.refs;s===null?delete i[l]:i[l]=s},t._stringRef=l,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function Eo(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tu(e){var t=e._init;return t(e._payload)}function Jc(e){function t(h,d){if(e){var m=h.deletions;m===null?(h.deletions=[d],h.flags|=16):m.push(d)}}function n(h,d){if(!e)return null;for(;d!==null;)t(h,d),d=d.sibling;return null}function r(h,d){for(h=new Map;d!==null;)d.key!==null?h.set(d.key,d):h.set(d.index,d),d=d.sibling;return h}function o(h,d){return h=un(h,d),h.index=0,h.sibling=null,h}function l(h,d,m){return h.index=m,e?(m=h.alternate,m!==null?(m=m.index,m<d?(h.flags|=2,d):m):(h.flags|=2,d)):(h.flags|=1048576,d)}function s(h){return e&&h.alternate===null&&(h.flags|=2),h}function i(h,d,m,b){return d===null||d.tag!==6?(d=hs(m,h.mode,b),d.return=h,d):(d=o(d,m),d.return=h,d)}function u(h,d,m,b){var v=m.type;return v===An?f(h,d,m.props.children,b,m.key):d!==null&&(d.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Gt&&tu(v)===d.type)?(b=o(d,m.props),b.ref=jr(h,d,m),b.return=h,b):(b=Yo(m.type,m.key,m.props,null,h.mode,b),b.ref=jr(h,d,m),b.return=h,b)}function c(h,d,m,b){return d===null||d.tag!==4||d.stateNode.containerInfo!==m.containerInfo||d.stateNode.implementation!==m.implementation?(d=ps(m,h.mode,b),d.return=h,d):(d=o(d,m.children||[]),d.return=h,d)}function f(h,d,m,b,v){return d===null||d.tag!==7?(d=kn(m,h.mode,b,v),d.return=h,d):(d=o(d,m),d.return=h,d)}function x(h,d,m){if(typeof d=="string"&&d!==""||typeof d=="number")return d=hs(""+d,h.mode,m),d.return=h,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case go:return m=Yo(d.type,d.key,d.props,null,h.mode,m),m.ref=jr(h,null,d),m.return=h,m;case Fn:return d=ps(d,h.mode,m),d.return=h,d;case Gt:var b=d._init;return x(h,b(d._payload),m)}if(Mr(d)||br(d))return d=kn(d,h.mode,m,null),d.return=h,d;Eo(h,d)}return null}function g(h,d,m,b){var v=d!==null?d.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return v!==null?null:i(h,d,""+m,b);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case go:return m.key===v?u(h,d,m,b):null;case Fn:return m.key===v?c(h,d,m,b):null;case Gt:return v=m._init,g(h,d,v(m._payload),b)}if(Mr(m)||br(m))return v!==null?null:f(h,d,m,b,null);Eo(h,m)}return null}function p(h,d,m,b,v){if(typeof b=="string"&&b!==""||typeof b=="number")return h=h.get(m)||null,i(d,h,""+b,v);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case go:return h=h.get(b.key===null?m:b.key)||null,u(d,h,b,v);case Fn:return h=h.get(b.key===null?m:b.key)||null,c(d,h,b,v);case Gt:var y=b._init;return p(h,d,m,y(b._payload),v)}if(Mr(b)||br(b))return h=h.get(m)||null,f(d,h,b,v,null);Eo(d,b)}return null}function S(h,d,m,b){for(var v=null,y=null,k=d,C=d=0,w=null;k!==null&&C<m.length;C++){k.index>C?(w=k,k=null):w=k.sibling;var P=g(h,k,m[C],b);if(P===null){k===null&&(k=w);break}e&&k&&P.alternate===null&&t(h,k),d=l(P,d,C),y===null?v=P:y.sibling=P,y=P,k=w}if(C===m.length)return n(h,k),ne&&xn(h,C),v;if(k===null){for(;C<m.length;C++)k=x(h,m[C],b),k!==null&&(d=l(k,d,C),y===null?v=k:y.sibling=k,y=k);return ne&&xn(h,C),v}for(k=r(h,k);C<m.length;C++)w=p(k,h,C,m[C],b),w!==null&&(e&&w.alternate!==null&&k.delete(w.key===null?C:w.key),d=l(w,d,C),y===null?v=w:y.sibling=w,y=w);return e&&k.forEach(function(U){return t(h,U)}),ne&&xn(h,C),v}function N(h,d,m,b){var v=br(m);if(typeof v!="function")throw Error(M(150));if(m=v.call(m),m==null)throw Error(M(151));for(var y=v=null,k=d,C=d=0,w=null,P=m.next();k!==null&&!P.done;C++,P=m.next()){k.index>C?(w=k,k=null):w=k.sibling;var U=g(h,k,P.value,b);if(U===null){k===null&&(k=w);break}e&&k&&U.alternate===null&&t(h,k),d=l(U,d,C),y===null?v=U:y.sibling=U,y=U,k=w}if(P.done)return n(h,k),ne&&xn(h,C),v;if(k===null){for(;!P.done;C++,P=m.next())P=x(h,P.value,b),P!==null&&(d=l(P,d,C),y===null?v=P:y.sibling=P,y=P);return ne&&xn(h,C),v}for(k=r(h,k);!P.done;C++,P=m.next())P=p(k,h,C,P.value,b),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?C:P.key),d=l(P,d,C),y===null?v=P:y.sibling=P,y=P);return e&&k.forEach(function(ee){return t(h,ee)}),ne&&xn(h,C),v}function T(h,d,m,b){if(typeof m=="object"&&m!==null&&m.type===An&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case go:e:{for(var v=m.key,y=d;y!==null;){if(y.key===v){if(v=m.type,v===An){if(y.tag===7){n(h,y.sibling),d=o(y,m.props.children),d.return=h,h=d;break e}}else if(y.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Gt&&tu(v)===y.type){n(h,y.sibling),d=o(y,m.props),d.ref=jr(h,y,m),d.return=h,h=d;break e}n(h,y);break}else t(h,y);y=y.sibling}m.type===An?(d=kn(m.props.children,h.mode,b,m.key),d.return=h,h=d):(b=Yo(m.type,m.key,m.props,null,h.mode,b),b.ref=jr(h,d,m),b.return=h,h=b)}return s(h);case Fn:e:{for(y=m.key;d!==null;){if(d.key===y)if(d.tag===4&&d.stateNode.containerInfo===m.containerInfo&&d.stateNode.implementation===m.implementation){n(h,d.sibling),d=o(d,m.children||[]),d.return=h,h=d;break e}else{n(h,d);break}else t(h,d);d=d.sibling}d=ps(m,h.mode,b),d.return=h,h=d}return s(h);case Gt:return y=m._init,T(h,d,y(m._payload),b)}if(Mr(m))return S(h,d,m,b);if(br(m))return N(h,d,m,b);Eo(h,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,d!==null&&d.tag===6?(n(h,d.sibling),d=o(d,m),d.return=h,h=d):(n(h,d),d=hs(m,h.mode,b),d.return=h,h=d),s(h)):n(h,d)}return T}var cr=Jc(!0),qc=Jc(!1),al=pn(null),il=null,Qn=null,Wa=null;function Fa(){Wa=Qn=il=null}function Aa(e){var t=al.current;q(al),e._currentValue=t}function Ks(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function lr(e,t){il=e,Wa=Qn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(He=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(Wa!==e)if(e={context:e,memoizedValue:t,next:null},Qn===null){if(il===null)throw Error(M(308));Qn=e,il.dependencies={lanes:0,firstContext:e}}else Qn=Qn.next=e;return t}var bn=null;function Ua(e){bn===null?bn=[e]:bn.push(e)}function ed(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Ua(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ft(e,r)}function Ft(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Qt=!1;function Ha(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function td(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ln(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,V&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ft(e,n)}return o=r.interleaved,o===null?(t.next=t,Ua(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ft(e,n)}function Ao(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ta(e,n)}}function nu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=s:l=l.next=s,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ul(e,t,n,r){var o=e.updateQueue;Qt=!1;var l=o.firstBaseUpdate,s=o.lastBaseUpdate,i=o.shared.pending;if(i!==null){o.shared.pending=null;var u=i,c=u.next;u.next=null,s===null?l=c:s.next=c,s=u;var f=e.alternate;f!==null&&(f=f.updateQueue,i=f.lastBaseUpdate,i!==s&&(i===null?f.firstBaseUpdate=c:i.next=c,f.lastBaseUpdate=u))}if(l!==null){var x=o.baseState;s=0,f=c=u=null,i=l;do{var g=i.lane,p=i.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var S=e,N=i;switch(g=t,p=n,N.tag){case 1:if(S=N.payload,typeof S=="function"){x=S.call(p,x,g);break e}x=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=N.payload,g=typeof S=="function"?S.call(p,x,g):S,g==null)break e;x=le({},x,g);break e;case 2:Qt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,g=o.effects,g===null?o.effects=[i]:g.push(i))}else p={eventTime:p,lane:g,tag:i.tag,payload:i.payload,callback:i.callback,next:null},f===null?(c=f=p,u=x):f=f.next=p,s|=g;if(i=i.next,i===null){if(i=o.shared.pending,i===null)break;g=i,i=g.next,g.next=null,o.lastBaseUpdate=g,o.shared.pending=null}}while(!0);if(f===null&&(u=x),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=f,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);En|=s,e.lanes=s,e.memoizedState=x}}function ru(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(M(191,o));o.call(r)}}}var co={},Pt=pn(co),eo=pn(co),to=pn(co);function wn(e){if(e===co)throw Error(M(174));return e}function Ba(e,t){switch(K(to,t),K(eo,e),K(Pt,co),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Is(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Is(t,e)}q(Pt),K(Pt,t)}function dr(){q(Pt),q(eo),q(to)}function nd(e){wn(to.current);var t=wn(Pt.current),n=Is(t,e.type);t!==n&&(K(eo,e),K(Pt,n))}function Va(e){eo.current===e&&(q(Pt),q(eo))}var re=pn(0);function cl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var as=[];function Xa(){for(var e=0;e<as.length;e++)as[e]._workInProgressVersionPrimary=null;as.length=0}var Uo=Ut.ReactCurrentDispatcher,is=Ut.ReactCurrentBatchConfig,Cn=0,oe=null,ve=null,we=null,dl=!1,Wr=!1,no=0,Yp=0;function Pe(){throw Error(M(321))}function Ya(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!St(e[n],t[n]))return!1;return!0}function Ga(e,t,n,r,o,l){if(Cn=l,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Uo.current=e===null||e.memoizedState===null?Zp:Jp,e=n(r,o),Wr){l=0;do{if(Wr=!1,no=0,25<=l)throw Error(M(301));l+=1,we=ve=null,t.updateQueue=null,Uo.current=qp,e=n(r,o)}while(Wr)}if(Uo.current=fl,t=ve!==null&&ve.next!==null,Cn=0,we=ve=oe=null,dl=!1,t)throw Error(M(300));return e}function Qa(){var e=no!==0;return no=0,e}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?oe.memoizedState=we=e:we=we.next=e,we}function dt(){if(ve===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=we===null?oe.memoizedState:we.next;if(t!==null)we=t,ve=e;else{if(e===null)throw Error(M(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},we===null?oe.memoizedState=we=e:we=we.next=e}return we}function ro(e,t){return typeof t=="function"?t(e):t}function us(e){var t=dt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=ve,o=r.baseQueue,l=n.pending;if(l!==null){if(o!==null){var s=o.next;o.next=l.next,l.next=s}r.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,r=r.baseState;var i=s=null,u=null,c=l;do{var f=c.lane;if((Cn&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var x={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(i=u=x,s=r):u=u.next=x,oe.lanes|=f,En|=f}c=c.next}while(c!==null&&c!==l);u===null?s=r:u.next=i,St(r,t.memoizedState)||(He=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do l=o.lane,oe.lanes|=l,En|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function cs(e){var t=dt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do l=e(l,s.action),s=s.next;while(s!==o);St(l,t.memoizedState)||(He=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function rd(){}function od(e,t){var n=oe,r=dt(),o=t(),l=!St(r.memoizedState,o);if(l&&(r.memoizedState=o,He=!0),r=r.queue,Ka(ad.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||we!==null&&we.memoizedState.tag&1){if(n.flags|=2048,oo(9,sd.bind(null,n,r,o,t),void 0,null),Se===null)throw Error(M(349));Cn&30||ld(n,t,o)}return o}function ld(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function sd(e,t,n,r){t.value=n,t.getSnapshot=r,id(t)&&ud(e)}function ad(e,t,n){return n(function(){id(t)&&ud(e)})}function id(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!St(e,n)}catch{return!0}}function ud(e){var t=Ft(e,1);t!==null&&bt(t,e,1,-1)}function ou(e){var t=Ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:e},t.queue=e,e=e.dispatch=Kp.bind(null,oe,e),[t.memoizedState,e]}function oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function cd(){return dt().memoizedState}function Ho(e,t,n,r){var o=Ct();oe.flags|=e,o.memoizedState=oo(1|t,n,void 0,r===void 0?null:r)}function jl(e,t,n,r){var o=dt();r=r===void 0?null:r;var l=void 0;if(ve!==null){var s=ve.memoizedState;if(l=s.destroy,r!==null&&Ya(r,s.deps)){o.memoizedState=oo(t,n,l,r);return}}oe.flags|=e,o.memoizedState=oo(1|t,n,l,r)}function lu(e,t){return Ho(8390656,8,e,t)}function Ka(e,t){return jl(2048,8,e,t)}function dd(e,t){return jl(4,2,e,t)}function fd(e,t){return jl(4,4,e,t)}function hd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pd(e,t,n){return n=n!=null?n.concat([e]):null,jl(4,4,hd.bind(null,t,e),n)}function Za(){}function md(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ya(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function gd(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ya(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xd(e,t,n){return Cn&21?(St(n,t)||(n=Sc(),oe.lanes|=n,En|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,He=!0),e.memoizedState=n)}function Gp(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var r=is.transition;is.transition={};try{e(!1),t()}finally{Y=n,is.transition=r}}function vd(){return dt().memoizedState}function Qp(e,t,n){var r=an(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yd(e))bd(t,n);else if(n=ed(e,t,n,r),n!==null){var o=We();bt(n,e,r,o),wd(n,t,r)}}function Kp(e,t,n){var r=an(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yd(e))bd(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var s=t.lastRenderedState,i=l(s,n);if(o.hasEagerState=!0,o.eagerState=i,St(i,s)){var u=t.interleaved;u===null?(o.next=o,Ua(t)):(o.next=u.next,u.next=o),t.interleaved=o;return}}catch{}finally{}n=ed(e,t,o,r),n!==null&&(o=We(),bt(n,e,r,o),wd(n,t,r))}}function yd(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function bd(e,t){Wr=dl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function wd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ta(e,n)}}var fl={readContext:ct,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},Zp={readContext:ct,useCallback:function(e,t){return Ct().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:lu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ho(4194308,4,hd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ho(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ho(4,2,e,t)},useMemo:function(e,t){var n=Ct();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ct();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Qp.bind(null,oe,e),[r.memoizedState,e]},useRef:function(e){var t=Ct();return e={current:e},t.memoizedState=e},useState:ou,useDebugValue:Za,useDeferredValue:function(e){return Ct().memoizedState=e},useTransition:function(){var e=ou(!1),t=e[0];return e=Gp.bind(null,e[1]),Ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oe,o=Ct();if(ne){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),Se===null)throw Error(M(349));Cn&30||ld(r,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,lu(ad.bind(null,r,l,e),[e]),r.flags|=2048,oo(9,sd.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Ct(),t=Se.identifierPrefix;if(ne){var n=Ot,r=Rt;n=(r&~(1<<32-yt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=no++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Yp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jp={readContext:ct,useCallback:md,useContext:ct,useEffect:Ka,useImperativeHandle:pd,useInsertionEffect:dd,useLayoutEffect:fd,useMemo:gd,useReducer:us,useRef:cd,useState:function(){return us(ro)},useDebugValue:Za,useDeferredValue:function(e){var t=dt();return xd(t,ve.memoizedState,e)},useTransition:function(){var e=us(ro)[0],t=dt().memoizedState;return[e,t]},useMutableSource:rd,useSyncExternalStore:od,useId:vd,unstable_isNewReconciler:!1},qp={readContext:ct,useCallback:md,useContext:ct,useEffect:Ka,useImperativeHandle:pd,useInsertionEffect:dd,useLayoutEffect:fd,useMemo:gd,useReducer:cs,useRef:cd,useState:function(){return cs(ro)},useDebugValue:Za,useDeferredValue:function(e){var t=dt();return ve===null?t.memoizedState=e:xd(t,ve.memoizedState,e)},useTransition:function(){var e=cs(ro)[0],t=dt().memoizedState;return[e,t]},useMutableSource:rd,useSyncExternalStore:od,useId:vd,unstable_isNewReconciler:!1};function gt(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Zs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Cl={isMounted:function(e){return(e=e._reactInternals)?_n(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=We(),o=an(e),l=zt(r,o);l.payload=t,n!=null&&(l.callback=n),t=ln(e,l,o),t!==null&&(bt(t,e,o,r),Ao(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=We(),o=an(e),l=zt(r,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=ln(e,l,o),t!==null&&(bt(t,e,o,r),Ao(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=We(),r=an(e),o=zt(n,r);o.tag=2,t!=null&&(o.callback=t),t=ln(e,o,r),t!==null&&(bt(t,e,r,n),Ao(t,e,r))}};function su(e,t,n,r,o,l,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,s):t.prototype&&t.prototype.isPureReactComponent?!Kr(n,r)||!Kr(o,l):!0}function Sd(e,t,n){var r=!1,o=fn,l=t.contextType;return typeof l=="object"&&l!==null?l=ct(l):(o=Ve(t)?Nn:De.current,r=t.contextTypes,l=(r=r!=null)?ir(e,o):fn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function au(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Cl.enqueueReplaceState(t,t.state,null)}function Js(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ha(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=ct(l):(l=Ve(t)?Nn:De.current,o.context=ir(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Zs(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Cl.enqueueReplaceState(o,o.state,null),ul(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function fr(e,t){try{var n="",r=t;do n+=Eh(r),r=r.return;while(r);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function qs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var em=typeof WeakMap=="function"?WeakMap:Map;function kd(e,t,n){n=zt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){pl||(pl=!0,ua=r),qs(e,t)},n}function Nd(e,t,n){n=zt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){qs(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){qs(e,t),typeof r!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function iu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new em;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=pm.bind(null,e,t,n),t.then(e,e))}function uu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cu(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zt(-1,1),t.tag=2,ln(n,t,1))),n.lanes|=1),e)}var tm=Ut.ReactCurrentOwner,He=!1;function $e(e,t,n,r){t.child=e===null?qc(t,null,n,r):cr(t,e.child,n,r)}function du(e,t,n,r,o){n=n.render;var l=t.ref;return lr(t,o),r=Ga(e,t,n,r,l,o),n=Qa(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,At(e,t,o)):(ne&&n&&Oa(t),t.flags|=1,$e(e,t,r,o),t.child)}function fu(e,t,n,r,o){if(e===null){var l=n.type;return typeof l=="function"&&!li(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,jd(e,t,l,r,o)):(e=Yo(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var s=l.memoizedProps;if(n=n.compare,n=n!==null?n:Kr,n(s,r)&&e.ref===t.ref)return At(e,t,o)}return t.flags|=1,e=un(l,r),e.ref=t.ref,e.return=t,t.child=e}function jd(e,t,n,r,o){if(e!==null){var l=e.memoizedProps;if(Kr(l,r)&&e.ref===t.ref)if(He=!1,t.pendingProps=r=l,(e.lanes&o)!==0)e.flags&131072&&(He=!0);else return t.lanes=e.lanes,At(e,t,o)}return ea(e,t,n,r,o)}function Cd(e,t,n){var r=t.pendingProps,o=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(Zn,Ze),Ze|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,K(Zn,Ze),Ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,K(Zn,Ze),Ze|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,K(Zn,Ze),Ze|=r;return $e(e,t,o,n),t.child}function Ed(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ea(e,t,n,r,o){var l=Ve(n)?Nn:De.current;return l=ir(t,l),lr(t,o),n=Ga(e,t,n,r,l,o),r=Qa(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,At(e,t,o)):(ne&&r&&Oa(t),t.flags|=1,$e(e,t,n,o),t.child)}function hu(e,t,n,r,o){if(Ve(n)){var l=!0;ol(t)}else l=!1;if(lr(t,o),t.stateNode===null)Bo(e,t),Sd(t,n,r),Js(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,i=t.memoizedProps;s.props=i;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=ct(c):(c=Ve(n)?Nn:De.current,c=ir(t,c));var f=n.getDerivedStateFromProps,x=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";x||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==r||u!==c)&&au(t,s,r,c),Qt=!1;var g=t.memoizedState;s.state=g,ul(t,r,s,o),u=t.memoizedState,i!==r||g!==u||Be.current||Qt?(typeof f=="function"&&(Zs(t,n,f,r),u=t.memoizedState),(i=Qt||su(t,n,i,r,g,u,c))?(x||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=c,r=i):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,td(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:gt(t.type,i),s.props=c,x=t.pendingProps,g=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=ct(u):(u=Ve(n)?Nn:De.current,u=ir(t,u));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==x||g!==u)&&au(t,s,r,u),Qt=!1,g=t.memoizedState,s.state=g,ul(t,r,s,o);var S=t.memoizedState;i!==x||g!==S||Be.current||Qt?(typeof p=="function"&&(Zs(t,n,p,r),S=t.memoizedState),(c=Qt||su(t,n,c,r,g,S,u)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,S,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,S,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),s.props=r,s.state=S,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return ta(e,t,n,r,l,o)}function ta(e,t,n,r,o,l){Ed(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&Ji(t,n,!1),At(e,t,l);r=t.stateNode,tm.current=t;var i=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=cr(t,e.child,null,l),t.child=cr(t,null,i,l)):$e(e,t,i,l),t.memoizedState=r.state,o&&Ji(t,n,!0),t.child}function Td(e){var t=e.stateNode;t.pendingContext?Zi(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zi(e,t.context,!1),Ba(e,t.containerInfo)}function pu(e,t,n,r,o){return ur(),$a(o),t.flags|=256,$e(e,t,n,r),t.child}var na={dehydrated:null,treeContext:null,retryLane:0};function ra(e){return{baseLanes:e,cachePool:null,transitions:null}}function Pd(e,t,n){var r=t.pendingProps,o=re.current,l=!1,s=(t.flags&128)!==0,i;if((i=s)||(i=e!==null&&e.memoizedState===null?!1:(o&2)!==0),i?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),K(re,o&1),e===null)return Qs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,l?(r=t.mode,l=t.child,s={mode:"hidden",children:s},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=s):l=Pl(s,r,0,null),e=kn(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=ra(n),t.memoizedState=na,e):Ja(t,s));if(o=e.memoizedState,o!==null&&(i=o.dehydrated,i!==null))return nm(e,t,s,r,i,o,n);if(l){l=r.fallback,s=t.mode,o=e.child,i=o.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=un(o,u),r.subtreeFlags=o.subtreeFlags&14680064),i!==null?l=un(i,l):(l=kn(l,s,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,s=e.child.memoizedState,s=s===null?ra(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},l.memoizedState=s,l.childLanes=e.childLanes&~n,t.memoizedState=na,r}return l=e.child,e=l.sibling,r=un(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ja(e,t){return t=Pl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function To(e,t,n,r){return r!==null&&$a(r),cr(t,e.child,null,n),e=Ja(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nm(e,t,n,r,o,l,s){if(n)return t.flags&256?(t.flags&=-257,r=ds(Error(M(422))),To(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,o=t.mode,r=Pl({mode:"visible",children:r.children},o,0,null),l=kn(l,o,s,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&cr(t,e.child,null,s),t.child.memoizedState=ra(s),t.memoizedState=na,l);if(!(t.mode&1))return To(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var i=r.dgst;return r=i,l=Error(M(419)),r=ds(l,r,void 0),To(e,t,s,r)}if(i=(s&e.childLanes)!==0,He||i){if(r=Se,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,Ft(e,o),bt(r,e,o,-1))}return oi(),r=ds(Error(M(421))),To(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=mm.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,Je=on(o.nextSibling),qe=t,ne=!0,vt=null,e!==null&&(st[at++]=Rt,st[at++]=Ot,st[at++]=jn,Rt=e.id,Ot=e.overflow,jn=t),t=Ja(t,r.children),t.flags|=4096,t)}function mu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ks(e.return,t,n)}function fs(e,t,n,r,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o)}function Id(e,t,n){var r=t.pendingProps,o=r.revealOrder,l=r.tail;if($e(e,t,r.children,n),r=re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mu(e,n,t);else if(e.tag===19)mu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(K(re,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&cl(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),fs(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&cl(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}fs(t,!0,n,null,l);break;case"together":fs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function At(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),En|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=un(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=un(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rm(e,t,n){switch(t.tag){case 3:Td(t),ur();break;case 5:nd(t);break;case 1:Ve(t.type)&&ol(t);break;case 4:Ba(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;K(al,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(K(re,re.current&1),t.flags|=128,null):n&t.child.childLanes?Pd(e,t,n):(K(re,re.current&1),e=At(e,t,n),e!==null?e.sibling:null);K(re,re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Id(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),K(re,re.current),r)break;return null;case 22:case 23:return t.lanes=0,Cd(e,t,n)}return At(e,t,n)}var Md,oa,_d,Dd;Md=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};oa=function(){};_d=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,wn(Pt.current);var l=null;switch(n){case"input":o=Cs(e,o),r=Cs(e,r),l=[];break;case"select":o=le({},o,{value:void 0}),r=le({},r,{value:void 0}),l=[];break;case"textarea":o=Ps(e,o),r=Ps(e,r),l=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=nl)}Ms(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var i=o[c];for(s in i)i.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Hr.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in r){var u=r[c];if(i=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&u!==i&&(u!=null||i!=null))if(c==="style")if(i){for(s in i)!i.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&i[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(l||(l=[]),l.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,i=i?i.__html:void 0,u!=null&&i!==u&&(l=l||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(l=l||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Hr.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&J("scroll",e),l||i===u||(l=[])):(l=l||[]).push(c,u))}n&&(l=l||[]).push("style",n);var c=l;(t.updateQueue=c)&&(t.flags|=4)}};Dd=function(e,t,n,r){n!==r&&(t.flags|=4)};function Cr(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function om(e,t,n){var r=t.pendingProps;switch(za(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Ve(t.type)&&rl(),Ie(t),null;case 3:return r=t.stateNode,dr(),q(Be),q(De),Xa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Co(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vt!==null&&(fa(vt),vt=null))),oa(e,t),Ie(t),null;case 5:Va(t);var o=wn(to.current);if(n=t.type,e!==null&&t.stateNode!=null)_d(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return Ie(t),null}if(e=wn(Pt.current),Co(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Et]=t,r[qr]=l,e=(t.mode&1)!==0,n){case"dialog":J("cancel",r),J("close",r);break;case"iframe":case"object":case"embed":J("load",r);break;case"video":case"audio":for(o=0;o<Dr.length;o++)J(Dr[o],r);break;case"source":J("error",r);break;case"img":case"image":case"link":J("error",r),J("load",r);break;case"details":J("toggle",r);break;case"input":Ni(r,l),J("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},J("invalid",r);break;case"textarea":Ci(r,l),J("invalid",r)}Ms(n,l),o=null;for(var s in l)if(l.hasOwnProperty(s)){var i=l[s];s==="children"?typeof i=="string"?r.textContent!==i&&(l.suppressHydrationWarning!==!0&&jo(r.textContent,i,e),o=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(l.suppressHydrationWarning!==!0&&jo(r.textContent,i,e),o=["children",""+i]):Hr.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&J("scroll",r)}switch(n){case"input":xo(r),ji(r,l,!0);break;case"textarea":xo(r),Ei(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=nl)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ac(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Et]=t,e[qr]=r,Md(e,t,!1,!1),t.stateNode=e;e:{switch(s=_s(n,r),n){case"dialog":J("cancel",e),J("close",e),o=r;break;case"iframe":case"object":case"embed":J("load",e),o=r;break;case"video":case"audio":for(o=0;o<Dr.length;o++)J(Dr[o],e);o=r;break;case"source":J("error",e),o=r;break;case"img":case"image":case"link":J("error",e),J("load",e),o=r;break;case"details":J("toggle",e),o=r;break;case"input":Ni(e,r),o=Cs(e,r),J("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=le({},r,{value:void 0}),J("invalid",e);break;case"textarea":Ci(e,r),o=Ps(e,r),J("invalid",e);break;default:o=r}Ms(n,o),i=o;for(l in i)if(i.hasOwnProperty(l)){var u=i[l];l==="style"?cc(e,u):l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&ic(e,u)):l==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Br(e,u):typeof u=="number"&&Br(e,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Hr.hasOwnProperty(l)?u!=null&&l==="onScroll"&&J("scroll",e):u!=null&&Sa(e,l,u,s))}switch(n){case"input":xo(e),ji(e,r,!1);break;case"textarea":xo(e),Ei(e);break;case"option":r.value!=null&&e.setAttribute("value",""+dn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?tr(e,!!r.multiple,l,!1):r.defaultValue!=null&&tr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=nl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ie(t),null;case 6:if(e&&t.stateNode!=null)Dd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=wn(to.current),wn(Pt.current),Co(t)){if(r=t.stateNode,n=t.memoizedProps,r[Et]=t,(l=r.nodeValue!==n)&&(e=qe,e!==null))switch(e.tag){case 3:jo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&jo(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Et]=t,t.stateNode=r}return Ie(t),null;case 13:if(q(re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&Je!==null&&t.mode&1&&!(t.flags&128))Zc(),ur(),t.flags|=98560,l=!1;else if(l=Co(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(M(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(M(317));l[Et]=t}else ur(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ie(t),l=!1}else vt!==null&&(fa(vt),vt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?ye===0&&(ye=3):oi())),t.updateQueue!==null&&(t.flags|=4),Ie(t),null);case 4:return dr(),oa(e,t),e===null&&Zr(t.stateNode.containerInfo),Ie(t),null;case 10:return Aa(t.type._context),Ie(t),null;case 17:return Ve(t.type)&&rl(),Ie(t),null;case 19:if(q(re),l=t.memoizedState,l===null)return Ie(t),null;if(r=(t.flags&128)!==0,s=l.rendering,s===null)if(r)Cr(l,!1);else{if(ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=cl(e),s!==null){for(t.flags|=128,Cr(l,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,s=l.alternate,s===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,l.type=s.type,e=s.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return K(re,re.current&1|2),t.child}e=e.sibling}l.tail!==null&&de()>hr&&(t.flags|=128,r=!0,Cr(l,!1),t.lanes=4194304)}else{if(!r)if(e=cl(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Cr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!ne)return Ie(t),null}else 2*de()-l.renderingStartTime>hr&&n!==1073741824&&(t.flags|=128,r=!0,Cr(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(n=l.last,n!==null?n.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=de(),t.sibling=null,n=re.current,K(re,r?n&1|2:n&1),t):(Ie(t),null);case 22:case 23:return ri(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ze&1073741824&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function lm(e,t){switch(za(t),t.tag){case 1:return Ve(t.type)&&rl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dr(),q(Be),q(De),Xa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Va(t),null;case 13:if(q(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(re),null;case 4:return dr(),null;case 10:return Aa(t.type._context),null;case 22:case 23:return ri(),null;case 24:return null;default:return null}}var Po=!1,_e=!1,sm=typeof WeakSet=="function"?WeakSet:Set,R=null;function Kn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ie(e,t,r)}else n.current=null}function la(e,t,n){try{n()}catch(r){ie(e,t,r)}}var gu=!1;function am(e,t){if(Us=qo,e=$c(),Ra(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var s=0,i=-1,u=-1,c=0,f=0,x=e,g=null;t:for(;;){for(var p;x!==n||o!==0&&x.nodeType!==3||(i=s+o),x!==l||r!==0&&x.nodeType!==3||(u=s+r),x.nodeType===3&&(s+=x.nodeValue.length),(p=x.firstChild)!==null;)g=x,x=p;for(;;){if(x===e)break t;if(g===n&&++c===o&&(i=s),g===l&&++f===r&&(u=s),(p=x.nextSibling)!==null)break;x=g,g=x.parentNode}x=p}n=i===-1||u===-1?null:{start:i,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hs={focusedElem:e,selectionRange:n},qo=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var N=S.memoizedProps,T=S.memoizedState,h=t.stateNode,d=h.getSnapshotBeforeUpdate(t.elementType===t.type?N:gt(t.type,N),T);h.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(b){ie(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return S=gu,gu=!1,S}function Fr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&la(t,n,l)}o=o.next}while(o!==r)}}function El(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ld(e){var t=e.alternate;t!==null&&(e.alternate=null,Ld(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Et],delete t[qr],delete t[Xs],delete t[Hp],delete t[Bp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rd(e){return e.tag===5||e.tag===3||e.tag===4}function xu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function aa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=nl));else if(r!==4&&(e=e.child,e!==null))for(aa(e,t,n),e=e.sibling;e!==null;)aa(e,t,n),e=e.sibling}function ia(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ia(e,t,n),e=e.sibling;e!==null;)ia(e,t,n),e=e.sibling}var Ne=null,xt=!1;function Vt(e,t,n){for(n=n.child;n!==null;)Od(e,t,n),n=n.sibling}function Od(e,t,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(yl,n)}catch{}switch(n.tag){case 5:_e||Kn(n,t);case 6:var r=Ne,o=xt;Ne=null,Vt(e,t,n),Ne=r,xt=o,Ne!==null&&(xt?(e=Ne,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ne.removeChild(n.stateNode));break;case 18:Ne!==null&&(xt?(e=Ne,n=n.stateNode,e.nodeType===8?ls(e.parentNode,n):e.nodeType===1&&ls(e,n),Gr(e)):ls(Ne,n.stateNode));break;case 4:r=Ne,o=xt,Ne=n.stateNode.containerInfo,xt=!0,Vt(e,t,n),Ne=r,xt=o;break;case 0:case 11:case 14:case 15:if(!_e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var l=o,s=l.destroy;l=l.tag,s!==void 0&&(l&2||l&4)&&la(n,t,s),o=o.next}while(o!==r)}Vt(e,t,n);break;case 1:if(!_e&&(Kn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){ie(n,t,i)}Vt(e,t,n);break;case 21:Vt(e,t,n);break;case 22:n.mode&1?(_e=(r=_e)||n.memoizedState!==null,Vt(e,t,n),_e=r):Vt(e,t,n);break;default:Vt(e,t,n)}}function vu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new sm),t.forEach(function(r){var o=gm.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function ht(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var l=e,s=t,i=s;e:for(;i!==null;){switch(i.tag){case 5:Ne=i.stateNode,xt=!1;break e;case 3:Ne=i.stateNode.containerInfo,xt=!0;break e;case 4:Ne=i.stateNode.containerInfo,xt=!0;break e}i=i.return}if(Ne===null)throw Error(M(160));Od(l,s,o),Ne=null,xt=!1;var u=o.alternate;u!==null&&(u.return=null),o.return=null}catch(c){ie(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zd(t,e),t=t.sibling}function zd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ht(t,e),jt(e),r&4){try{Fr(3,e,e.return),El(3,e)}catch(N){ie(e,e.return,N)}try{Fr(5,e,e.return)}catch(N){ie(e,e.return,N)}}break;case 1:ht(t,e),jt(e),r&512&&n!==null&&Kn(n,n.return);break;case 5:if(ht(t,e),jt(e),r&512&&n!==null&&Kn(n,n.return),e.flags&32){var o=e.stateNode;try{Br(o,"")}catch(N){ie(e,e.return,N)}}if(r&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,s=n!==null?n.memoizedProps:l,i=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{i==="input"&&l.type==="radio"&&l.name!=null&&lc(o,l),_s(i,s);var c=_s(i,l);for(s=0;s<u.length;s+=2){var f=u[s],x=u[s+1];f==="style"?cc(o,x):f==="dangerouslySetInnerHTML"?ic(o,x):f==="children"?Br(o,x):Sa(o,f,x,c)}switch(i){case"input":Es(o,l);break;case"textarea":sc(o,l);break;case"select":var g=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var p=l.value;p!=null?tr(o,!!l.multiple,p,!1):g!==!!l.multiple&&(l.defaultValue!=null?tr(o,!!l.multiple,l.defaultValue,!0):tr(o,!!l.multiple,l.multiple?[]:"",!1))}o[qr]=l}catch(N){ie(e,e.return,N)}}break;case 6:if(ht(t,e),jt(e),r&4){if(e.stateNode===null)throw Error(M(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(N){ie(e,e.return,N)}}break;case 3:if(ht(t,e),jt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gr(t.containerInfo)}catch(N){ie(e,e.return,N)}break;case 4:ht(t,e),jt(e);break;case 13:ht(t,e),jt(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(ti=de())),r&4&&vu(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(_e=(c=_e)||f,ht(t,e),_e=c):ht(t,e),jt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(R=e,f=e.child;f!==null;){for(x=R=f;R!==null;){switch(g=R,p=g.child,g.tag){case 0:case 11:case 14:case 15:Fr(4,g,g.return);break;case 1:Kn(g,g.return);var S=g.stateNode;if(typeof S.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(N){ie(r,n,N)}}break;case 5:Kn(g,g.return);break;case 22:if(g.memoizedState!==null){bu(x);continue}}p!==null?(p.return=g,R=p):bu(x)}f=f.sibling}e:for(f=null,x=e;;){if(x.tag===5){if(f===null){f=x;try{o=x.stateNode,c?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(i=x.stateNode,u=x.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,i.style.display=uc("display",s))}catch(N){ie(e,e.return,N)}}}else if(x.tag===6){if(f===null)try{x.stateNode.nodeValue=c?"":x.memoizedProps}catch(N){ie(e,e.return,N)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;f===x&&(f=null),x=x.return}f===x&&(f=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:ht(t,e),jt(e),r&4&&vu(e);break;case 21:break;default:ht(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Rd(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Br(o,""),r.flags&=-33);var l=xu(e);ia(e,l,o);break;case 3:case 4:var s=r.stateNode.containerInfo,i=xu(e);aa(e,i,s);break;default:throw Error(M(161))}}catch(u){ie(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function im(e,t,n){R=e,$d(e)}function $d(e,t,n){for(var r=(e.mode&1)!==0;R!==null;){var o=R,l=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Po;if(!s){var i=o.alternate,u=i!==null&&i.memoizedState!==null||_e;i=Po;var c=_e;if(Po=s,(_e=u)&&!c)for(R=o;R!==null;)s=R,u=s.child,s.tag===22&&s.memoizedState!==null?wu(o):u!==null?(u.return=s,R=u):wu(o);for(;l!==null;)R=l,$d(l),l=l.sibling;R=o,Po=i,_e=c}yu(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,R=l):yu(e)}}function yu(e){for(;R!==null;){var t=R;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_e||El(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_e)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:gt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&ru(t,l,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ru(t,s,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var x=f.dehydrated;x!==null&&Gr(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}_e||t.flags&512&&sa(t)}catch(g){ie(t,t.return,g)}}if(t===e){R=null;break}if(n=t.sibling,n!==null){n.return=t.return,R=n;break}R=t.return}}function bu(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var n=t.sibling;if(n!==null){n.return=t.return,R=n;break}R=t.return}}function wu(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{El(4,t)}catch(u){ie(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(u){ie(t,o,u)}}var l=t.return;try{sa(t)}catch(u){ie(t,l,u)}break;case 5:var s=t.return;try{sa(t)}catch(u){ie(t,s,u)}}}catch(u){ie(t,t.return,u)}if(t===e){R=null;break}var i=t.sibling;if(i!==null){i.return=t.return,R=i;break}R=t.return}}var um=Math.ceil,hl=Ut.ReactCurrentDispatcher,qa=Ut.ReactCurrentOwner,ut=Ut.ReactCurrentBatchConfig,V=0,Se=null,he=null,je=0,Ze=0,Zn=pn(0),ye=0,lo=null,En=0,Tl=0,ei=0,Ar=null,Ue=null,ti=0,hr=1/0,Dt=null,pl=!1,ua=null,sn=null,Io=!1,en=null,ml=0,Ur=0,ca=null,Vo=-1,Xo=0;function We(){return V&6?de():Vo!==-1?Vo:Vo=de()}function an(e){return e.mode&1?V&2&&je!==0?je&-je:Xp.transition!==null?(Xo===0&&(Xo=Sc()),Xo):(e=Y,e!==0||(e=window.event,e=e===void 0?16:Pc(e.type)),e):1}function bt(e,t,n,r){if(50<Ur)throw Ur=0,ca=null,Error(M(185));ao(e,n,r),(!(V&2)||e!==Se)&&(e===Se&&(!(V&2)&&(Tl|=n),ye===4&&Jt(e,je)),Xe(e,r),n===1&&V===0&&!(t.mode&1)&&(hr=de()+500,Nl&&mn()))}function Xe(e,t){var n=e.callbackNode;Xh(e,t);var r=Jo(e,e===Se?je:0);if(r===0)n!==null&&Ii(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ii(n),t===1)e.tag===0?Vp(Su.bind(null,e)):Gc(Su.bind(null,e)),Ap(function(){!(V&6)&&mn()}),n=null;else{switch(kc(r)){case 1:n=Ea;break;case 4:n=bc;break;case 16:n=Zo;break;case 536870912:n=wc;break;default:n=Zo}n=Xd(n,Wd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Wd(e,t){if(Vo=-1,Xo=0,V&6)throw Error(M(327));var n=e.callbackNode;if(sr()&&e.callbackNode!==n)return null;var r=Jo(e,e===Se?je:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=gl(e,r);else{t=r;var o=V;V|=2;var l=Ad();(Se!==e||je!==t)&&(Dt=null,hr=de()+500,Sn(e,t));do try{fm();break}catch(i){Fd(e,i)}while(!0);Fa(),hl.current=l,V=o,he!==null?t=0:(Se=null,je=0,t=ye)}if(t!==0){if(t===2&&(o=zs(e),o!==0&&(r=o,t=da(e,o))),t===1)throw n=lo,Sn(e,0),Jt(e,r),Xe(e,de()),n;if(t===6)Jt(e,r);else{if(o=e.current.alternate,!(r&30)&&!cm(o)&&(t=gl(e,r),t===2&&(l=zs(e),l!==0&&(r=l,t=da(e,l))),t===1))throw n=lo,Sn(e,0),Jt(e,r),Xe(e,de()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:vn(e,Ue,Dt);break;case 3:if(Jt(e,r),(r&130023424)===r&&(t=ti+500-de(),10<t)){if(Jo(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){We(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Vs(vn.bind(null,e,Ue,Dt),t);break}vn(e,Ue,Dt);break;case 4:if(Jt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-yt(r);l=1<<s,s=t[s],s>o&&(o=s),r&=~l}if(r=o,r=de()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*um(r/1960))-r,10<r){e.timeoutHandle=Vs(vn.bind(null,e,Ue,Dt),r);break}vn(e,Ue,Dt);break;case 5:vn(e,Ue,Dt);break;default:throw Error(M(329))}}}return Xe(e,de()),e.callbackNode===n?Wd.bind(null,e):null}function da(e,t){var n=Ar;return e.current.memoizedState.isDehydrated&&(Sn(e,t).flags|=256),e=gl(e,t),e!==2&&(t=Ue,Ue=n,t!==null&&fa(t)),e}function fa(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function cm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],l=o.getSnapshot;o=o.value;try{if(!St(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jt(e,t){for(t&=~ei,t&=~Tl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yt(t),r=1<<n;e[n]=-1,t&=~r}}function Su(e){if(V&6)throw Error(M(327));sr();var t=Jo(e,0);if(!(t&1))return Xe(e,de()),null;var n=gl(e,t);if(e.tag!==0&&n===2){var r=zs(e);r!==0&&(t=r,n=da(e,r))}if(n===1)throw n=lo,Sn(e,0),Jt(e,t),Xe(e,de()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vn(e,Ue,Dt),Xe(e,de()),null}function ni(e,t){var n=V;V|=1;try{return e(t)}finally{V=n,V===0&&(hr=de()+500,Nl&&mn())}}function Tn(e){en!==null&&en.tag===0&&!(V&6)&&sr();var t=V;V|=1;var n=ut.transition,r=Y;try{if(ut.transition=null,Y=1,e)return e()}finally{Y=r,ut.transition=n,V=t,!(V&6)&&mn()}}function ri(){Ze=Zn.current,q(Zn)}function Sn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Fp(n)),he!==null)for(n=he.return;n!==null;){var r=n;switch(za(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rl();break;case 3:dr(),q(Be),q(De),Xa();break;case 5:Va(r);break;case 4:dr();break;case 13:q(re);break;case 19:q(re);break;case 10:Aa(r.type._context);break;case 22:case 23:ri()}n=n.return}if(Se=e,he=e=un(e.current,null),je=Ze=t,ye=0,lo=null,ei=Tl=En=0,Ue=Ar=null,bn!==null){for(t=0;t<bn.length;t++)if(n=bn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,l=n.pending;if(l!==null){var s=l.next;l.next=o,r.next=s}n.pending=r}bn=null}return e}function Fd(e,t){do{var n=he;try{if(Fa(),Uo.current=fl,dl){for(var r=oe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}dl=!1}if(Cn=0,we=ve=oe=null,Wr=!1,no=0,qa.current=null,n===null||n.return===null){ye=1,lo=t,he=null;break}e:{var l=e,s=n.return,i=n,u=t;if(t=je,i.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=i,x=f.tag;if(!(f.mode&1)&&(x===0||x===11||x===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=uu(s);if(p!==null){p.flags&=-257,cu(p,s,i,l,t),p.mode&1&&iu(l,c,t),t=p,u=c;var S=t.updateQueue;if(S===null){var N=new Set;N.add(u),t.updateQueue=N}else S.add(u);break e}else{if(!(t&1)){iu(l,c,t),oi();break e}u=Error(M(426))}}else if(ne&&i.mode&1){var T=uu(s);if(T!==null){!(T.flags&65536)&&(T.flags|=256),cu(T,s,i,l,t),$a(fr(u,i));break e}}l=u=fr(u,i),ye!==4&&(ye=2),Ar===null?Ar=[l]:Ar.push(l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var h=kd(l,u,t);nu(l,h);break e;case 1:i=u;var d=l.type,m=l.stateNode;if(!(l.flags&128)&&(typeof d.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(sn===null||!sn.has(m)))){l.flags|=65536,t&=-t,l.lanes|=t;var b=Nd(l,i,t);nu(l,b);break e}}l=l.return}while(l!==null)}Hd(n)}catch(v){t=v,he===n&&n!==null&&(he=n=n.return);continue}break}while(!0)}function Ad(){var e=hl.current;return hl.current=fl,e===null?fl:e}function oi(){(ye===0||ye===3||ye===2)&&(ye=4),Se===null||!(En&268435455)&&!(Tl&268435455)||Jt(Se,je)}function gl(e,t){var n=V;V|=2;var r=Ad();(Se!==e||je!==t)&&(Dt=null,Sn(e,t));do try{dm();break}catch(o){Fd(e,o)}while(!0);if(Fa(),V=n,hl.current=r,he!==null)throw Error(M(261));return Se=null,je=0,ye}function dm(){for(;he!==null;)Ud(he)}function fm(){for(;he!==null&&!zh();)Ud(he)}function Ud(e){var t=Vd(e.alternate,e,Ze);e.memoizedProps=e.pendingProps,t===null?Hd(e):he=t,qa.current=null}function Hd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=lm(n,t),n!==null){n.flags&=32767,he=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ye=6,he=null;return}}else if(n=om(n,t,Ze),n!==null){he=n;return}if(t=t.sibling,t!==null){he=t;return}he=t=e}while(t!==null);ye===0&&(ye=5)}function vn(e,t,n){var r=Y,o=ut.transition;try{ut.transition=null,Y=1,hm(e,t,n,r)}finally{ut.transition=o,Y=r}return null}function hm(e,t,n,r){do sr();while(en!==null);if(V&6)throw Error(M(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Yh(e,l),e===Se&&(he=Se=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Io||(Io=!0,Xd(Zo,function(){return sr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=ut.transition,ut.transition=null;var s=Y;Y=1;var i=V;V|=4,qa.current=null,am(e,n),zd(n,e),Dp(Hs),qo=!!Us,Hs=Us=null,e.current=n,im(n),$h(),V=i,Y=s,ut.transition=l}else e.current=n;if(Io&&(Io=!1,en=e,ml=o),l=e.pendingLanes,l===0&&(sn=null),Ah(n.stateNode),Xe(e,de()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(pl)throw pl=!1,e=ua,ua=null,e;return ml&1&&e.tag!==0&&sr(),l=e.pendingLanes,l&1?e===ca?Ur++:(Ur=0,ca=e):Ur=0,mn(),null}function sr(){if(en!==null){var e=kc(ml),t=ut.transition,n=Y;try{if(ut.transition=null,Y=16>e?16:e,en===null)var r=!1;else{if(e=en,en=null,ml=0,V&6)throw Error(M(331));var o=V;for(V|=4,R=e.current;R!==null;){var l=R,s=l.child;if(R.flags&16){var i=l.deletions;if(i!==null){for(var u=0;u<i.length;u++){var c=i[u];for(R=c;R!==null;){var f=R;switch(f.tag){case 0:case 11:case 15:Fr(8,f,l)}var x=f.child;if(x!==null)x.return=f,R=x;else for(;R!==null;){f=R;var g=f.sibling,p=f.return;if(Ld(f),f===c){R=null;break}if(g!==null){g.return=p,R=g;break}R=p}}}var S=l.alternate;if(S!==null){var N=S.child;if(N!==null){S.child=null;do{var T=N.sibling;N.sibling=null,N=T}while(N!==null)}}R=l}}if(l.subtreeFlags&2064&&s!==null)s.return=l,R=s;else e:for(;R!==null;){if(l=R,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Fr(9,l,l.return)}var h=l.sibling;if(h!==null){h.return=l.return,R=h;break e}R=l.return}}var d=e.current;for(R=d;R!==null;){s=R;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,R=m;else e:for(s=d;R!==null;){if(i=R,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:El(9,i)}}catch(v){ie(i,i.return,v)}if(i===s){R=null;break e}var b=i.sibling;if(b!==null){b.return=i.return,R=b;break e}R=i.return}}if(V=o,mn(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(yl,e)}catch{}r=!0}return r}finally{Y=n,ut.transition=t}}return!1}function ku(e,t,n){t=fr(n,t),t=kd(e,t,1),e=ln(e,t,1),t=We(),e!==null&&(ao(e,1,t),Xe(e,t))}function ie(e,t,n){if(e.tag===3)ku(e,e,n);else for(;t!==null;){if(t.tag===3){ku(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sn===null||!sn.has(r))){e=fr(n,e),e=Nd(t,e,1),t=ln(t,e,1),e=We(),t!==null&&(ao(t,1,e),Xe(t,e));break}}t=t.return}}function pm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=We(),e.pingedLanes|=e.suspendedLanes&n,Se===e&&(je&n)===n&&(ye===4||ye===3&&(je&130023424)===je&&500>de()-ti?Sn(e,0):ei|=n),Xe(e,t)}function Bd(e,t){t===0&&(e.mode&1?(t=bo,bo<<=1,!(bo&130023424)&&(bo=4194304)):t=1);var n=We();e=Ft(e,t),e!==null&&(ao(e,t,n),Xe(e,n))}function mm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Bd(e,n)}function gm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),Bd(e,n)}var Vd;Vd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Be.current)He=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return He=!1,rm(e,t,n);He=!!(e.flags&131072)}else He=!1,ne&&t.flags&1048576&&Qc(t,sl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bo(e,t),e=t.pendingProps;var o=ir(t,De.current);lr(t,n),o=Ga(null,t,r,e,o,n);var l=Qa();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(r)?(l=!0,ol(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ha(t),o.updater=Cl,t.stateNode=o,o._reactInternals=t,Js(t,r,e,n),t=ta(null,t,r,!0,l,n)):(t.tag=0,ne&&l&&Oa(t),$e(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bo(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=vm(r),e=gt(r,e),o){case 0:t=ea(null,t,r,e,n);break e;case 1:t=hu(null,t,r,e,n);break e;case 11:t=du(null,t,r,e,n);break e;case 14:t=fu(null,t,r,gt(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gt(r,o),ea(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gt(r,o),hu(e,t,r,o,n);case 3:e:{if(Td(t),e===null)throw Error(M(387));r=t.pendingProps,l=t.memoizedState,o=l.element,td(e,t),ul(t,r,null,n);var s=t.memoizedState;if(r=s.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=fr(Error(M(423)),t),t=pu(e,t,r,n,o);break e}else if(r!==o){o=fr(Error(M(424)),t),t=pu(e,t,r,n,o);break e}else for(Je=on(t.stateNode.containerInfo.firstChild),qe=t,ne=!0,vt=null,n=qc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ur(),r===o){t=At(e,t,n);break e}$e(e,t,r,n)}t=t.child}return t;case 5:return nd(t),e===null&&Qs(t),r=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,s=o.children,Bs(r,o)?s=null:l!==null&&Bs(r,l)&&(t.flags|=32),Ed(e,t),$e(e,t,s,n),t.child;case 6:return e===null&&Qs(t),null;case 13:return Pd(e,t,n);case 4:return Ba(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=cr(t,null,r,n):$e(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gt(r,o),du(e,t,r,o,n);case 7:return $e(e,t,t.pendingProps,n),t.child;case 8:return $e(e,t,t.pendingProps.children,n),t.child;case 12:return $e(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,l=t.memoizedProps,s=o.value,K(al,r._currentValue),r._currentValue=s,l!==null)if(St(l.value,s)){if(l.children===o.children&&!Be.current){t=At(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var i=l.dependencies;if(i!==null){s=l.child;for(var u=i.firstContext;u!==null;){if(u.context===r){if(l.tag===1){u=zt(-1,n&-n),u.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Ks(l.return,n,t),i.lanes|=n;break}u=u.next}}else if(l.tag===10)s=l.type===t.type?null:l.child;else if(l.tag===18){if(s=l.return,s===null)throw Error(M(341));s.lanes|=n,i=s.alternate,i!==null&&(i.lanes|=n),Ks(s,n,t),s=l.sibling}else s=l.child;if(s!==null)s.return=l;else for(s=l;s!==null;){if(s===t){s=null;break}if(l=s.sibling,l!==null){l.return=s.return,s=l;break}s=s.return}l=s}$e(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,lr(t,n),o=ct(o),r=r(o),t.flags|=1,$e(e,t,r,n),t.child;case 14:return r=t.type,o=gt(r,t.pendingProps),o=gt(r.type,o),fu(e,t,r,o,n);case 15:return jd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gt(r,o),Bo(e,t),t.tag=1,Ve(r)?(e=!0,ol(t)):e=!1,lr(t,n),Sd(t,r,o),Js(t,r,o,n),ta(null,t,r,!0,e,n);case 19:return Id(e,t,n);case 22:return Cd(e,t,n)}throw Error(M(156,t.tag))};function Xd(e,t){return yc(e,t)}function xm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(e,t,n,r){return new xm(e,t,n,r)}function li(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vm(e){if(typeof e=="function")return li(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Na)return 11;if(e===ja)return 14}return 2}function un(e,t){var n=e.alternate;return n===null?(n=it(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yo(e,t,n,r,o,l){var s=2;if(r=e,typeof e=="function")li(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case An:return kn(n.children,o,l,t);case ka:s=8,o|=8;break;case Ss:return e=it(12,n,t,o|2),e.elementType=Ss,e.lanes=l,e;case ks:return e=it(13,n,t,o),e.elementType=ks,e.lanes=l,e;case Ns:return e=it(19,n,t,o),e.elementType=Ns,e.lanes=l,e;case nc:return Pl(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ec:s=10;break e;case tc:s=9;break e;case Na:s=11;break e;case ja:s=14;break e;case Gt:s=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=it(s,n,t,o),t.elementType=e,t.type=r,t.lanes=l,t}function kn(e,t,n,r){return e=it(7,e,r,t),e.lanes=n,e}function Pl(e,t,n,r){return e=it(22,e,r,t),e.elementType=nc,e.lanes=n,e.stateNode={isHidden:!1},e}function hs(e,t,n){return e=it(6,e,null,t),e.lanes=n,e}function ps(e,t,n){return t=it(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ym(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gl(0),this.expirationTimes=Gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function si(e,t,n,r,o,l,s,i,u){return e=new ym(e,t,n,i,u),t===1?(t=1,l===!0&&(t|=8)):t=0,l=it(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ha(l),e}function bm(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Yd(e){if(!e)return fn;e=e._reactInternals;e:{if(_n(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(Ve(n))return Yc(e,n,t)}return t}function Gd(e,t,n,r,o,l,s,i,u){return e=si(n,r,!0,e,o,l,s,i,u),e.context=Yd(null),n=e.current,r=We(),o=an(n),l=zt(r,o),l.callback=t??null,ln(n,l,o),e.current.lanes=o,ao(e,o,r),Xe(e,r),e}function Il(e,t,n,r){var o=t.current,l=We(),s=an(o);return n=Yd(n),t.context===null?t.context=n:t.pendingContext=n,t=zt(l,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ln(o,t,s),e!==null&&(bt(e,o,s,l),Ao(e,o,s)),s}function xl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ai(e,t){Nu(e,t),(e=e.alternate)&&Nu(e,t)}function wm(){return null}var Qd=typeof reportError=="function"?reportError:function(e){console.error(e)};function ii(e){this._internalRoot=e}Ml.prototype.render=ii.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));Il(e,t,null,null)};Ml.prototype.unmount=ii.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tn(function(){Il(null,e,null,null)}),t[Wt]=null}};function Ml(e){this._internalRoot=e}Ml.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zt.length&&t!==0&&t<Zt[n].priority;n++);Zt.splice(n,0,e),n===0&&Tc(e)}};function ui(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ju(){}function Sm(e,t,n,r,o){if(o){if(typeof r=="function"){var l=r;r=function(){var c=xl(s);l.call(c)}}var s=Gd(t,r,e,0,null,!1,!1,"",ju);return e._reactRootContainer=s,e[Wt]=s.current,Zr(e.nodeType===8?e.parentNode:e),Tn(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var i=r;r=function(){var c=xl(u);i.call(c)}}var u=si(e,0,!1,null,null,!1,!1,"",ju);return e._reactRootContainer=u,e[Wt]=u.current,Zr(e.nodeType===8?e.parentNode:e),Tn(function(){Il(t,u,n,r)}),u}function Dl(e,t,n,r,o){var l=n._reactRootContainer;if(l){var s=l;if(typeof o=="function"){var i=o;o=function(){var u=xl(s);i.call(u)}}Il(t,s,e,o)}else s=Sm(n,t,e,o,r);return xl(s)}Nc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_r(t.pendingLanes);n!==0&&(Ta(t,n|1),Xe(t,de()),!(V&6)&&(hr=de()+500,mn()))}break;case 13:Tn(function(){var r=Ft(e,1);if(r!==null){var o=We();bt(r,e,1,o)}}),ai(e,1)}};Pa=function(e){if(e.tag===13){var t=Ft(e,134217728);if(t!==null){var n=We();bt(t,e,134217728,n)}ai(e,134217728)}};jc=function(e){if(e.tag===13){var t=an(e),n=Ft(e,t);if(n!==null){var r=We();bt(n,e,t,r)}ai(e,t)}};Cc=function(){return Y};Ec=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};Ls=function(e,t,n){switch(t){case"input":if(Es(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=kl(r);if(!o)throw Error(M(90));oc(r),Es(r,o)}}}break;case"textarea":sc(e,n);break;case"select":t=n.value,t!=null&&tr(e,!!n.multiple,t,!1)}};hc=ni;pc=Tn;var km={usingClientEntryPoint:!1,Events:[uo,Vn,kl,dc,fc,ni]},Er={findFiberByHostInstance:yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nm={bundleType:Er.bundleType,version:Er.version,rendererPackageName:Er.rendererPackageName,rendererConfig:Er.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ut.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xc(e),e===null?null:e.stateNode},findFiberByHostInstance:Er.findFiberByHostInstance||wm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mo.isDisabled&&Mo.supportsFiber)try{yl=Mo.inject(Nm),Tt=Mo}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=km;nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ui(t))throw Error(M(200));return bm(e,t,null,n)};nt.createRoot=function(e,t){if(!ui(e))throw Error(M(299));var n=!1,r="",o=Qd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=si(e,1,!1,null,null,n,!1,r,o),e[Wt]=t.current,Zr(e.nodeType===8?e.parentNode:e),new ii(t)};nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=xc(t),e=e===null?null:e.stateNode,e};nt.flushSync=function(e){return Tn(e)};nt.hydrate=function(e,t,n){if(!_l(t))throw Error(M(200));return Dl(null,e,t,!0,n)};nt.hydrateRoot=function(e,t,n){if(!ui(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,o=!1,l="",s=Qd;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Gd(t,null,e,1,n??null,o,!1,l,s),e[Wt]=t.current,Zr(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Ml(t)};nt.render=function(e,t,n){if(!_l(t))throw Error(M(200));return Dl(null,e,t,!1,n)};nt.unmountComponentAtNode=function(e){if(!_l(e))throw Error(M(40));return e._reactRootContainer?(Tn(function(){Dl(null,null,e,!1,function(){e._reactRootContainer=null,e[Wt]=null})}),!0):!1};nt.unstable_batchedUpdates=ni;nt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!_l(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return Dl(e,t,n,!1,r)};nt.version="18.3.1-next-f1338f8080-20240426";function Kd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kd)}catch(e){console.error(e)}}Kd(),Ku.exports=nt;var fo=Ku.exports,Cu=fo;bs.createRoot=Cu.createRoot,bs.hydrateRoot=Cu.hydrateRoot;const jm={},Eu=e=>{let t;const n=new Set,r=(f,x)=>{const g=typeof f=="function"?f(t):f;if(!Object.is(g,t)){const p=t;t=x??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(S=>S(t,p))}},o=()=>t,u={setState:r,getState:o,getInitialState:()=>c,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(jm?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,o,u);return u},Cm=e=>e?Eu(e):Eu;var Zd={exports:{}},Jd={},qd={exports:{}},ef={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pr=_;function Em(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tm=typeof Object.is=="function"?Object.is:Em,Pm=pr.useState,Im=pr.useEffect,Mm=pr.useLayoutEffect,_m=pr.useDebugValue;function Dm(e,t){var n=t(),r=Pm({inst:{value:n,getSnapshot:t}}),o=r[0].inst,l=r[1];return Mm(function(){o.value=n,o.getSnapshot=t,ms(o)&&l({inst:o})},[e,n,t]),Im(function(){return ms(o)&&l({inst:o}),e(function(){ms(o)&&l({inst:o})})},[e]),_m(n),n}function ms(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tm(e,n)}catch{return!0}}function Lm(e,t){return t()}var Rm=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Lm:Dm;ef.useSyncExternalStore=pr.useSyncExternalStore!==void 0?pr.useSyncExternalStore:Rm;qd.exports=ef;var Om=qd.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ll=_,zm=Om;function $m(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wm=typeof Object.is=="function"?Object.is:$m,Fm=zm.useSyncExternalStore,Am=Ll.useRef,Um=Ll.useEffect,Hm=Ll.useMemo,Bm=Ll.useDebugValue;Jd.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var l=Am(null);if(l.current===null){var s={hasValue:!1,value:null};l.current=s}else s=l.current;l=Hm(function(){function u(p){if(!c){if(c=!0,f=p,p=r(p),o!==void 0&&s.hasValue){var S=s.value;if(o(S,p))return x=S}return x=p}if(S=x,Wm(f,p))return S;var N=r(p);return o!==void 0&&o(S,N)?(f=p,S):(f=p,x=N)}var c=!1,f,x,g=n===void 0?null:n;return[function(){return u(t())},g===null?void 0:function(){return u(g())}]},[t,n,r,o]);var i=Fm(e,l[0],l[1]);return Um(function(){s.hasValue=!0,s.value=i},[i]),Bm(i),i};Zd.exports=Jd;var Vm=Zd.exports;const Xm=ma(Vm),tf={},{useDebugValue:Ym}=Gu,{useSyncExternalStoreWithSelector:Gm}=Xm;let Tu=!1;const Qm=e=>e;function Km(e,t=Qm,n){(tf?"production":void 0)!=="production"&&n&&!Tu&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Tu=!0);const r=Gm(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Ym(r),r}const Pu=e=>{(tf?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Cm(e):e,n=(r,o)=>Km(t,r,o);return Object.assign(n,t),n},ci=e=>e?Pu(e):Pu;let _o;const Zm=new Uint8Array(16);function Jm(){if(!_o&&(_o=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!_o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _o(Zm)}const ke=[];for(let e=0;e<256;++e)ke.push((e+256).toString(16).slice(1));function qm(e,t=0){return ke[e[t+0]]+ke[e[t+1]]+ke[e[t+2]]+ke[e[t+3]]+"-"+ke[e[t+4]]+ke[e[t+5]]+"-"+ke[e[t+6]]+ke[e[t+7]]+"-"+ke[e[t+8]]+ke[e[t+9]]+"-"+ke[e[t+10]]+ke[e[t+11]]+ke[e[t+12]]+ke[e[t+13]]+ke[e[t+14]]+ke[e[t+15]]}const eg=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Iu={randomUUID:eg};function Kt(e,t,n){if(Iu.randomUUID&&!e)return Iu.randomUUID();e=e||{};const r=e.random||(e.rng||Jm)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,qm(r)}function Tr(e){const t=e.sheets.find(n=>n.id===e.activeSheetId);return(t==null?void 0:t.widgets)||[]}function pt(e,t){return{...e,sheets:e.sheets.map(n=>n.id===e.activeSheetId?{...n,widgets:t(n.widgets)}:n)}}function tg(e){if(e.sheets&&e.sheets.length>0)return e;const t={id:Kt(),name:"Main",widgets:e.widgets||[]};return{id:e.id,name:e.name,theme:e.theme,sheets:[t],activeSheetId:t.id}}const W=ci(e=>{const t=(()=>{try{const l=localStorage.getItem("ucs:store");if(!l)return null;const s=JSON.parse(l);return{characters:s.characters.map(tg),activeCharacterId:s.activeCharacterId}}catch(l){return console.error("Failed to load persisted store",l),null}})(),n=(t==null?void 0:t.characters)??[],r=(t==null?void 0:t.activeCharacterId)??null;return{characters:n,activeCharacterId:r,mode:"play",editingWidgetId:null,selectedWidgetId:null,createCharacter:l=>e(s=>{const i={id:Kt(),name:"Main",widgets:[]},u={id:Kt(),name:l,sheets:[i],activeSheetId:i.id};return{characters:[...s.characters,u],activeCharacterId:u.id}}),selectCharacter:l=>e({activeCharacterId:l}),deleteCharacter:l=>e(s=>({characters:s.characters.filter(i=>i.id!==l),activeCharacterId:s.activeCharacterId===l?null:s.activeCharacterId})),updateCharacterName:(l,s)=>e(i=>({characters:i.characters.map(u=>u.id===l?{...u,name:s}:u)})),updateCharacterTheme:(l,s)=>e(i=>({characters:i.characters.map(u=>u.id===l?{...u,theme:s}:u)})),setMode:l=>e({mode:l,selectedWidgetId:null}),setEditingWidgetId:l=>e({editingWidgetId:l}),setSelectedWidgetId:l=>e({selectedWidgetId:l}),createSheet:l=>e(s=>{if(!s.activeCharacterId)return s;const i={id:Kt(),name:l,widgets:[]};return{characters:s.characters.map(u=>u.id===s.activeCharacterId?{...u,sheets:[...u.sheets,i],activeSheetId:i.id}:u)}}),selectSheet:l=>e(s=>s.activeCharacterId?{characters:s.characters.map(i=>i.id===s.activeCharacterId?{...i,activeSheetId:l}:i)}:s),deleteSheet:l=>e(s=>s.activeCharacterId?{characters:s.characters.map(i=>{if(i.id!==s.activeCharacterId||i.sheets.length<=1)return i;const u=i.sheets.filter(f=>f.id!==l),c=i.activeSheetId===l?u[0].id:i.activeSheetId;return{...i,sheets:u,activeSheetId:c}})}:s),renameSheet:(l,s)=>e(i=>i.activeCharacterId?{characters:i.characters.map(u=>u.id!==i.activeCharacterId?u:{...u,sheets:u.sheets.map(c=>c.id===l?{...c,name:s}:c)})}:i),addWidget:(l,s,i)=>e(u=>{if(!u.activeCharacterId)return u;const c=u.characters.find(d=>d.id===u.activeCharacterId);if(!c)return u;const f=Tr(c);let x=s,g=i;const p=10,S=200,N=120,T=20;if(f.length===0)x=Math.round(400/p)*p,g=Math.round(300/p)*p;else{const d=Math.min(...f.map(y=>y.x)),m=Math.max(...f.map(y=>y.x+(y.w||S))),b=Math.min(...f.map(y=>y.y)),v=Math.max(...f.map(y=>y.y+(y.h||N)));x=Math.round((m+T)/p)*p,g=Math.round(b/p)*p,x>1500&&(x=Math.round(d/p)*p,g=Math.round((v+T)/p)*p)}const h={id:Kt(),type:l,x,y:g,w:S,h:N,data:{label:"New Widget",value:0,items:[],text:""}};return{characters:u.characters.map(d=>d.id===u.activeCharacterId?pt(d,m=>[...m,h]):d)}}),updateWidgetPosition:(l,s,i)=>e(u=>({characters:u.characters.map(c=>c.id===u.activeCharacterId?pt(c,f=>f.map(x=>x.id===l?{...x,x:s,y:i}:x)):c)})),updateWidgetSize:(l,s,i)=>e(u=>({characters:u.characters.map(c=>c.id===u.activeCharacterId?pt(c,f=>f.map(x=>x.id===l?{...x,w:s,h:i}:x)):c)})),updateWidgetData:(l,s)=>e(i=>({characters:i.characters.map(u=>u.id===i.activeCharacterId?pt(u,c=>c.map(f=>f.id===l?{...f,data:{...f.data,...s}}:f)):u)})),removeWidget:l=>e(s=>({characters:s.characters.map(i=>i.id===s.activeCharacterId?pt(i,u=>u.filter(c=>c.id!==l)):i)})),attachWidgets:(l,s)=>e(i=>i.activeCharacterId?{characters:i.characters.map(u=>{var p;if(u.id!==i.activeCharacterId)return u;const c=Tr(u),f=c.find(S=>S.id===l),x=c.find(S=>S.id===s);if(!f||!x||(p=f.attachedTo)!=null&&p.includes(s))return u;let g;if(f.groupId&&x.groupId&&f.groupId!==x.groupId){g=f.groupId;const S=x.groupId;return pt(u,N=>N.map(T=>T.groupId===S?{...T,groupId:g}:T.id===l?{...T,attachedTo:[...T.attachedTo||[],s]}:T.id===s?{...T,attachedTo:[...T.attachedTo||[],l]}:T))}else f.groupId?g=f.groupId:x.groupId?g=x.groupId:g=Kt();return pt(u,S=>S.map(N=>N.id===l?{...N,groupId:g,attachedTo:[...N.attachedTo||[],s]}:N.id===s?{...N,groupId:g,attachedTo:[...N.attachedTo||[],l]}:N))})}:i),detachWidgets:(l,s)=>e(i=>i.activeCharacterId?{characters:i.characters.map(u=>{var b;if(u.id!==i.activeCharacterId)return u;const c=Tr(u),f=c.find(v=>v.id===l);if(!f||!f.groupId)return u;const x=f.groupId,g=f.attachedTo||[];let p=c.map(v=>v.id===l?{...v,groupId:void 0,attachedTo:void 0}:g.includes(v.id)?{...v,attachedTo:(v.attachedTo||[]).filter(y=>y!==l)}:v);const S=p.filter(v=>v.groupId===x).map(v=>v.id);if(S.length===0)return pt(u,()=>p);const N=new Map;for(const v of S){const y=p.find(k=>k.id===v);N.set(v,((b=y==null?void 0:y.attachedTo)==null?void 0:b.filter(k=>S.includes(k)))||[])}const T=new Set,h=[];for(const v of S){if(T.has(v))continue;const y=[],k=[v];for(;k.length>0;){const C=k.shift();if(T.has(C))continue;T.add(C),y.push(C);const w=N.get(C)||[];for(const P of w)T.has(P)||k.push(P)}h.push(y)}const d=h.map((v,y)=>{if(!(v.length<=1))return y===0&&h.filter(k=>k.length>1).length<=1?x:Kt()}),m=new Map;return h.forEach((v,y)=>{for(const k of v)m.set(k,d[y])}),p=p.map(v=>{if(m.has(v.id)){const y=m.get(v.id);return y?{...v,groupId:y}:{...v,groupId:void 0,attachedTo:void 0}}return v}),pt(u,()=>p)})}:i),getWidgetsInGroup:l=>{const s=W.getState(),i=s.characters.find(c=>c.id===s.activeCharacterId);return i?Tr(i).filter(c=>c.groupId===l):[]},moveWidgetGroup:(l,s,i)=>e(u=>{if(!u.activeCharacterId)return u;const c=u.characters.find(p=>p.id===u.activeCharacterId);if(!c)return u;const x=Tr(c).find(p=>p.id===l);if(!x||!x.groupId)return{characters:u.characters.map(p=>p.id===u.activeCharacterId?pt(p,S=>S.map(N=>N.id===l?{...N,x:N.x+s,y:N.y+i}:N)):p)};const g=x.groupId;return{characters:u.characters.map(p=>p.id===u.activeCharacterId?pt(p,S=>S.map(N=>N.groupId===g?{...N,x:N.x+s,y:N.y+i}:N)):p)}})}});{let e=null;W.subscribe(()=>{e&&window.clearTimeout(e),e=window.setTimeout(()=>{try{const t=W.getState(),n={characters:t.characters,activeCharacterId:t.activeCharacterId};localStorage.setItem("ucs:store",JSON.stringify(n))}catch(t){console.error("Failed to persist store",t)}},150)})}const nf="/UniversalCharacterSheet/assets/paper-BEAu-nxw.jpg",rf="/UniversalCharacterSheet/assets/paper_2-CH9Rkn63.jpg",of="/UniversalCharacterSheet/assets/paper_3-kMWVO9hc.jpg",lf="/UniversalCharacterSheet/assets/wood-CRUr5oIk.jpg",sf="/UniversalCharacterSheet/assets/arcs-D3YvlcmY.jpg",af="/UniversalCharacterSheet/assets/circuit_board-DqNmZm31.jpg",uf="/UniversalCharacterSheet/assets/cloth-DQ1UH5v9.jpg",cf="/UniversalCharacterSheet/assets/fire-_GFizR-C.jpg",df="/UniversalCharacterSheet/assets/fog-DRMbxaR3.jpg",ff="/UniversalCharacterSheet/assets/gears-DmesK-TK.jpg",hf="/UniversalCharacterSheet/assets/glyphs-JJHDyMLG.jpg",pf="/UniversalCharacterSheet/assets/leaf-9JTNOToz.jpg",mf="/UniversalCharacterSheet/assets/leather-gh3fCG9P.jpg",gf="/UniversalCharacterSheet/assets/metal-IUU3jIEo.jpg",xf="/UniversalCharacterSheet/assets/smoke-j_Zmmo3C.jpg",vf="/UniversalCharacterSheet/assets/snow-DoqVdj98.jpg",yf="/UniversalCharacterSheet/assets/soil-DOAx3uxo.jpg",bf="/UniversalCharacterSheet/assets/solar-BaBFVAiA.jpg",wf="/UniversalCharacterSheet/assets/stars-DnEgGp3s.jpg",Sf="/UniversalCharacterSheet/assets/stone-tbZqLald.jpg",kf="/UniversalCharacterSheet/assets/tech-BxDJg7Fw.jpg",Nf="/UniversalCharacterSheet/assets/water-CwLTClza.jpg",jf="/UniversalCharacterSheet/assets/waves-C9RfNNeY.jpg",Jn={none:"none",paper:`url(${nf})`,crumpledPaper:`url(${rf})`,graphPaper:`url(${of})`,wood:`url(${lf})`,arcs:`url(${sf})`,circuitBoard:`url(${af})`,cloth:`url(${uf})`,fire:`url(${cf})`,fog:`url(${df})`,gears:`url(${ff})`,glyphs:`url(${hf})`,leaf:`url(${pf})`,leather:`url(${mf})`,metal:`url(${gf})`,smoke:`url(${xf})`,snow:`url(${vf})`,soil:`url(${yf})`,solar:`url(${bf})`,stars:`url(${wf})`,stone:`url(${Sf})`,tech:`url(${kf})`,water:`url(${Nf})`,waves:`url(${jf})`},cn={paper:nf,crumpledPaper:rf,graphPaper:of,wood:lf,arcs:sf,circuitBoard:af,cloth:uf,fire:cf,fog:df,gears:ff,glyphs:hf,leaf:pf,leather:mf,metal:gf,smoke:xf,snow:vf,soil:yf,solar:bf,stars:wf,stone:Sf,tech:kf,water:Nf,waves:jf};function wt(e){return e in cn}function di(e){return Pn.find(t=>t.id===e)}const ng=[{value:"none",label:"None"},{value:"paper",label:"Paper"},{value:"crumpledPaper",label:"Crumpled Paper"},{value:"graphPaper",label:"Graph Paper"},{value:"wood",label:"Wood"},{value:"leather",label:"Leather"},{value:"cloth",label:"Cloth"},{value:"stone",label:"Stone"},{value:"metal",label:"Metal"},{value:"soil",label:"Soil"},{value:"leaf",label:"Leaf"},{value:"water",label:"Water"},{value:"waves",label:"Waves"},{value:"snow",label:"Snow"},{value:"fog",label:"Fog"},{value:"fire",label:"Fire"},{value:"smoke",label:"Smoke"},{value:"stars",label:"Stars"},{value:"solar",label:"Solar"},{value:"tech",label:"Technology"},{value:"circuitBoard",label:"Circuit Board"},{value:"gears",label:"Gears"},{value:"arcs",label:"Arcs"},{value:"glyphs",label:"Glyphs"}],rg=[{value:"hard",label:"Hard Offset"},{value:"soft",label:"Soft Drop"},{value:"glow",label:"Glow"},{value:"inset",label:"Inset"},{value:"layered",label:"Layered"},{value:"none",label:"None"}],og=[{value:"solid",label:"Solid"},{value:"dashed",label:"Dashed"},{value:"dotted",label:"Dotted"},{value:"double",label:"Double"}];function fi(e,t,n=.15){return e==="none"||!e||wt(e)?"none":Jn[e]||Jn.none}function hi(e,t="transparent"){switch(e){case"hard":return"4px 4px 0 0 var(--color-shadow)";case"soft":return"0 4px 12px var(--color-shadow)";case"glow":return`0 0 12px ${t}, 0 0 24px var(--color-shadow)`;case"inset":return"inset 0 2px 8px var(--color-shadow)";case"layered":return"2px 2px 0 var(--color-border), 4px 4px 8px var(--color-shadow)";case"none":return"none";default:return"4px 4px 0 0 var(--color-shadow)"}}const Pn=[{id:"default",name:"Classic",icon:"",description:"Clean black & white with hard shadows",colors:{background:"#e5e7eb",paper:"#ffffff",ink:"#000000",accent:"#000000",accentHover:"#374151",border:"#000000",shadow:"#000000",muted:"#6b7280",glow:"transparent"},fonts:{heading:'"Courier New", Courier, monospace',body:'"Courier New", Courier, monospace'},borderRadius:"0px",borderWidth:"2px",shadowStyle:"4px 4px 0 0 var(--color-shadow)",cardTexture:Jn.none,borderStyle:"solid"},{id:"pen-and-paper",name:"Pen & Paper",icon:"",description:"Handwritten style with lined paper feel",colors:{background:"#d7d7d7",paper:"#d7d7d7",ink:"#2c3e50",accent:"#8b4513",accentHover:"#a0522d",border:"#8b7355",shadow:"#8b7355",muted:"#7f8c8d",glow:"transparent"},fonts:{heading:'"Comic Sans MS", "Segoe Print", cursive',body:'"Segoe Print", "Comic Sans MS", cursive'},borderRadius:"2px",borderWidth:"1px",shadowStyle:"2px 2px 0 0 var(--color-shadow)",cardTexture:"graphPaper",textureOpacity:1,borderStyle:"solid"},{id:"medieval",name:"Medieval",icon:"",description:"Aged parchment with ornate styling",colors:{background:"#3d2914",paper:"#d4c4a8",ink:"#2c1810",accent:"#8b0000",accentHover:"#a52a2a",border:"#5c4033",shadow:"#2c1810",muted:"#6b5344",glow:"transparent"},fonts:{heading:'"Times New Roman", "Palatino Linotype", serif',body:'"Palatino Linotype", "Book Antiqua", serif'},borderRadius:"0px",borderWidth:"3px",shadowStyle:"3px 3px 6px 0 var(--color-shadow)",cardTexture:"paper",textureOpacity:1,borderStyle:"double"},{id:"scifi",name:"Sci-Fi",icon:"",description:"Futuristic holographic interface",colors:{background:"#0a0a1a",paper:"#141428",ink:"#00ffff",accent:"#00ff88",accentHover:"#00cc6a",border:"#00ffff",shadow:"#00ffff40",muted:"#4a9eff",glow:"#008cffff"},fonts:{heading:'"Orbitron", "Segoe UI", sans-serif',body:'"Roboto Mono", "Consolas", monospace'},borderRadius:"4px",borderWidth:"1px",shadowStyle:"0 0 8px var(--color-glow), 0 0 16px var(--color-shadow)",cardTexture:"circuitBoard",textureOpacity:.4,borderStyle:"solid"},{id:"classic-dark",name:"Classic Dark",icon:"",description:"Traditional dark theme with warm accents",colors:{background:"#1a1a1a",paper:"#2d2d2d",ink:"#e0e0e0",accent:"#d4a574",accentHover:"#c49464",border:"#404040",shadow:"#00000080",muted:"#888888",glow:"transparent"},fonts:{heading:'"Georgia", "Times New Roman", serif',body:'"Georgia", "Times New Roman", serif'},borderRadius:"4px",borderWidth:"1px",shadowStyle:"0 4px 12px var(--color-shadow)",cardTexture:Jn.none,borderStyle:"solid"},{id:"modern-dark",name:"Modern Dark",icon:"",description:"Sleek contemporary dark interface",colors:{background:"#0f172a",paper:"#1e293b",ink:"#f1f5f9",accent:"#3b82f6",accentHover:"#2563eb",border:"#334155",shadow:"#00000060",muted:"#94a3b8",glow:"#3b82f6"},fonts:{heading:'"Inter", "Segoe UI", sans-serif',body:'"Inter", "Segoe UI", sans-serif'},borderRadius:"8px",borderWidth:"1px",shadowStyle:"0 4px 20px var(--color-shadow)",cardTexture:Jn.darkGrain,borderStyle:"solid"},{id:"high-magic",name:"High Magic",icon:"",description:"Arcane glyphs and mystical energy",colors:{background:"#1a0a2e",paper:"#2d1b4e",ink:"#e8d5ff",accent:"#bf7fff",accentHover:"#9966cc",border:"#bf7fff",shadow:"#bf7fff40",muted:"#9b8ab8",glow:"#bf7fff"},fonts:{heading:'"Cinzel", "Times New Roman", serif',body:'"Crimson Text", "Georgia", serif'},borderRadius:"8px",borderWidth:"2px",shadowStyle:"0 0 12px var(--color-glow), 0 0 24px var(--color-shadow)",cardTexture:"arcs",textureOpacity:.15,borderStyle:"solid"},{id:"necrotic",name:"Necrotic",icon:"",description:"Dark and sinister undead aesthetic",colors:{background:"#0d0d0d",paper:"#1a1a1a",ink:"#c8c8c8",accent:"#4a0",accentHover:"#5b0",border:"#333333",shadow:"#00000080",muted:"#666666",glow:"#4a0"},fonts:{heading:'"Nosifer", "Impact", sans-serif',body:'"Courier New", monospace'},borderRadius:"0px",borderWidth:"1px",shadowStyle:"0 0 10px var(--color-shadow), inset 0 0 30px rgba(74, 170, 0, 0.05)",cardTexture:"smoke",textureOpacity:.6,borderStyle:"solid"},{id:"modern",name:"Modern",icon:"",description:"Sleek contemporary design",colors:{background:"#f8fafc",paper:"#ffffff",ink:"#1e293b",accent:"#3b82f6",accentHover:"#2563eb",border:"#e2e8f0",shadow:"#64748b20",muted:"#64748b",glow:"transparent"},fonts:{heading:'"Inter", "Segoe UI", sans-serif',body:'"Inter", "Segoe UI", sans-serif'},borderRadius:"8px",borderWidth:"1px",shadowStyle:"0 4px 16px var(--color-shadow)",cardTexture:Jn.none,borderStyle:"solid"},{id:"steampunk",name:"Steampunk",icon:"",description:"Victorian brass and gears",colors:{background:"#2a1f1a",paper:"#3d2b1f",ink:"#d4a574",accent:"#cd7f32",accentHover:"#b8860b",border:"#cd7f32",shadow:"#00000060",muted:"#8b7355",glow:"#cd7f32"},fonts:{heading:'"Spectral SC", "Georgia", serif',body:'"Cutive Mono", "Courier New", monospace'},borderRadius:"2px",borderWidth:"2px",shadowStyle:"2px 2px 0 var(--color-border), 4px 4px 8px var(--color-shadow)",cardTexture:"gears",textureOpacity:.25,borderStyle:"solid"},{id:"cyberpunk",name:"Cyberpunk",icon:"",description:"Neon lights in a dark future",colors:{background:"#0f0f23",paper:"#24243fff",ink:"#eeff00",accent:"#ff00ff",accentHover:"#cc00cc",border:"#ff00ff",shadow:"#ff00ff40",muted:"#00ffff",glow:"#ff00ff"},fonts:{heading:'"Audiowide", "Impact", sans-serif',body:'"Share Tech Mono", "Consolas", monospace'},borderRadius:"0px",borderWidth:"2px",shadowStyle:"0 0 10px var(--color-glow), 0 0 20px var(--color-shadow), 4px 4px 0 var(--color-border)",cardTexture:"tech",textureOpacity:.4,borderStyle:"solid"},{id:"nature",name:"Nature",icon:"",description:"Organic earthy woodland feel",colors:{background:"#2d4a3e",paper:"#f4f1e0cc",ink:"#2d3b2d",accent:"#4a7c59",accentHover:"#3d6b4f",border:"#5a7247",shadow:"#2d3b2d40",muted:"#6b7c5a",glow:"transparent"},fonts:{heading:'"Amatic SC", "Trebuchet MS", sans-serif',body:'"Nunito", "Verdana", sans-serif'},borderRadius:"12px",borderWidth:"2px",shadowStyle:"0 4px 12px var(--color-shadow)",cardTexture:"leaf",textureOpacity:.6,borderStyle:"solid"}];ci(e=>({currentTheme:(()=>{try{const n=localStorage.getItem("ucs:theme");return n?JSON.parse(n):"default"}catch{return"default"}})(),setTheme:n=>{e({currentTheme:n}),localStorage.setItem("ucs:theme",JSON.stringify(n)),mr(n)}}));function mr(e){const t=Pn.find(o=>o.id===e)||Pn[0],n=document.documentElement;n.style.setProperty("--color-background",t.colors.background),n.style.setProperty("--color-paper",t.colors.paper),n.style.setProperty("--color-ink",t.colors.ink),n.style.setProperty("--color-accent",t.colors.accent),n.style.setProperty("--color-accent-hover",t.colors.accentHover),n.style.setProperty("--color-border",t.colors.border),n.style.setProperty("--color-shadow",t.colors.shadow),n.style.setProperty("--color-muted",t.colors.muted),n.style.setProperty("--color-glow",t.colors.glow),n.style.setProperty("--font-heading",t.fonts.heading),n.style.setProperty("--font-body",t.fonts.body),n.style.setProperty("--border-radius",t.borderRadius),n.style.setProperty("--border-width",t.borderWidth),n.style.setProperty("--shadow-style",t.shadowStyle),n.style.setProperty("--card-texture",t.cardTexture);const r=wt(t.cardTexture)?t.cardTexture:"none";n.style.setProperty("--card-texture-key",r),n.style.setProperty("--card-texture-color","#ffffff"),n.style.setProperty("--card-texture-opacity",String(t.textureOpacity??.15)),n.style.setProperty("--border-style",t.borderStyle)}function ha(e){const t=document.documentElement;t.style.setProperty("--color-background",e.colors.background),t.style.setProperty("--color-paper",e.colors.paper),t.style.setProperty("--color-ink",e.colors.ink),t.style.setProperty("--color-accent",e.colors.accent),t.style.setProperty("--color-accent-hover",e.colors.accentHover),t.style.setProperty("--color-border",e.colors.border),t.style.setProperty("--color-shadow",e.colors.shadow),t.style.setProperty("--color-muted",e.colors.muted),t.style.setProperty("--color-glow",e.colors.glow||"transparent"),t.style.setProperty("--font-heading",e.fonts.heading),t.style.setProperty("--font-body",e.fonts.body),t.style.setProperty("--border-radius",e.borderRadius),t.style.setProperty("--border-width",e.borderWidth);const n=hi(e.shadowStyle||"hard",e.colors.glow||"transparent");t.style.setProperty("--shadow-style",n);const r=e.cardTexture||"none";t.style.setProperty("--card-texture-key",r);const o=fi(r,e.textureColor,e.textureOpacity??.15);t.style.setProperty("--card-texture",o),t.style.setProperty("--card-texture-color",e.textureColor||"#ffffff"),t.style.setProperty("--card-texture-opacity",String(e.textureOpacity??.15)),t.style.setProperty("--border-style",e.borderStyle||"solid")}const Mu=[{value:'"Courier New", Courier, monospace',label:"Courier New"},{value:'"Times New Roman", "Palatino Linotype", serif',label:"Times New Roman"},{value:'"Arial", "Helvetica Neue", sans-serif',label:"Arial"},{value:'"Georgia", "Palatino", serif',label:"Georgia"},{value:'"Comic Sans MS", "Segoe Print", cursive',label:"Comic Sans"},{value:'"Segoe Print", "Comic Sans MS", cursive',label:"Segoe Print"},{value:'"Trebuchet MS", "Lucida Sans", sans-serif',label:"Trebuchet MS"},{value:'"Verdana", "Geneva", sans-serif',label:"Verdana"},{value:'"Impact", "Charcoal", sans-serif',label:"Impact"},{value:'"Lucida Console", "Monaco", monospace',label:"Lucida Console"}],lg=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Cf="ucs:custom-themes";function sg(){try{const e=localStorage.getItem(Cf);return e?JSON.parse(e):[]}catch{return[]}}function gs(e){localStorage.setItem(Cf,JSON.stringify(e))}const qn=ci((e,t)=>({customThemes:sg(),addCustomTheme:n=>{const r=[...t().customThemes,n];gs(r),e({customThemes:r})},updateCustomTheme:(n,r)=>{const o=t().customThemes.map(l=>l.id===n?r:l);gs(o),e({customThemes:o})},deleteCustomTheme:n=>{const r=t().customThemes.filter(o=>o.id!==n);gs(r),e({customThemes:r})}}));function In(e){return qn.getState().customThemes.find(t=>t.id===e)}function ag(){return{name:"My Custom Theme",icon:"",description:"A personalized theme",colors:{background:"#e5e7eb",paper:"#ffffff",ink:"#000000",accent:"#3b82f6",accentHover:"#2563eb",border:"#374151",shadow:"#1f2937",muted:"#6b7280",glow:"transparent"},fonts:{heading:'"Arial", "Helvetica Neue", sans-serif',body:'"Arial", "Helvetica Neue", sans-serif'},borderRadius:"4px",borderWidth:"2px",shadowStyle:"hard",cardTexture:"none",textureColor:"#ffffff",textureOpacity:.15,borderStyle:"solid"}}function ig(e){const t=e?In(e):void 0;if(t){const r=hi(t.shadowStyle||"hard",t.colors.glow||"transparent"),o=t.cardTexture||"none",l=wt(o)?"none":fi(o,t.textureColor,t.textureOpacity);return{"--card-background":t.colors.paper,"--card-ink":t.colors.ink,"--card-border":t.colors.border,"--card-shadow":t.colors.shadow,"--card-muted":t.colors.muted,"--card-accent":t.colors.accent,"--card-glow":t.colors.glow||"transparent","--card-radius":t.borderRadius,"--card-border-width":t.borderWidth,"--card-border-style":t.borderStyle||"solid","--card-shadow-style":r,"--card-texture":l,"--card-texture-key":o,"--card-texture-color":t.textureColor||"#ffffff","--card-texture-opacity":String(t.textureOpacity??.15),fontFamily:t.fonts.body}}const n=Pn.find(r=>r.id===(e||"default"))||Pn[0];return{"--card-background":n.colors.paper,"--card-ink":n.colors.ink,"--card-border":n.colors.border,"--card-shadow":n.colors.shadow,"--card-muted":n.colors.muted,"--card-accent":n.colors.accent,"--card-glow":n.colors.glow,"--card-radius":n.borderRadius,"--card-border-width":n.borderWidth,"--card-border-style":n.borderStyle,"--card-shadow-style":n.shadowStyle,"--card-texture":n.cardTexture,"--card-texture-key":"none","--card-texture-color":"#ffffff","--card-texture-opacity":"0.15",fontFamily:n.fonts.body}}function ug(){var c;qn(f=>f.customThemes);const e=W(f=>f.characters),t=W(f=>f.createCharacter),n=W(f=>f.selectCharacter),r=W(f=>f.deleteCharacter),[o,l]=_.useState(""),[s,i]=_.useState(null),u=f=>{f.preventDefault(),o.trim()&&(t(o),l(""))};return a.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-8 h-full overflow-auto",children:[a.jsx("h1",{className:"text-2xl sm:text-4xl font-bold mb-4 sm:mb-8 border-b-[length:var(--border-width)] border-theme-border pb-2 sm:pb-4 uppercase tracking-wider text-theme-ink font-heading",children:"Character Select"}),a.jsxs("form",{onSubmit:u,className:"mb-6 sm:mb-12 flex flex-col sm:flex-row gap-2 sm:gap-4",children:[a.jsx("input",{type:"text",value:o,onChange:f=>l(f.target.value),placeholder:"New Character Name",className:"flex-1 p-3 sm:p-4 text-base border-[length:var(--border-width)] border-theme-border shadow-theme focus:outline-none focus:translate-x-[2px] focus:translate-y-[2px] focus:shadow-none transition-all bg-theme-paper text-theme-ink rounded-theme font-body"}),a.jsx("button",{type:"submit",className:"bg-theme-accent text-theme-paper px-6 sm:px-8 py-3 sm:py-4 font-bold hover:bg-theme-accent-hover transition-colors shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme font-heading",children:"CREATE"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 pb-4",children:[e.map(f=>{const x=ig(f.theme),g=f.theme?In(f.theme):void 0,p=(g==null?void 0:g.cardTexture)||"none",S=wt(p);return a.jsxs("div",{style:x,className:"p-4 sm:p-6 active:translate-x-[2px] active:translate-y-[2px] sm:hover:-translate-y-1 transition-transform cursor-pointer relative group",onClick:()=>n(f.id),children:[a.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",style:{backgroundColor:"var(--card-background)",backgroundImage:S?"none":"var(--card-texture)",borderRadius:"var(--card-radius)",border:"var(--card-border-width) var(--card-border-style) var(--card-border)",boxShadow:"var(--card-shadow-style)"},children:S&&a.jsx("div",{style:{position:"absolute",inset:0,backgroundColor:"var(--card-background)"},children:a.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:`url(${cn[p]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:"var(--card-texture-opacity)",mixBlendMode:"overlay"}})})}),a.jsxs("div",{className:"relative",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-2 pr-12",style:{color:"var(--card-ink)"},children:f.name}),a.jsxs("p",{className:"text-sm sm:text-base mb-2 sm:mb-4",style:{color:"var(--card-muted)"},children:[f.sheets.reduce((N,T)=>N+T.widgets.length,0)," Widgets  ",f.sheets.length," Sheet",f.sheets.length!==1?"s":""]}),a.jsx("button",{onClick:N=>{N.stopPropagation(),i(f.id)},className:"absolute top-0 right-0 w-10 h-10 sm:w-auto sm:h-auto sm:opacity-0 sm:group-hover:opacity-100 text-red-500 font-bold hover:text-red-700 flex items-center justify-center",children:"DEL"})]})]},f.id)}),e.length===0&&a.jsx("div",{className:"col-span-full text-center py-8 sm:py-12 text-theme-muted border-[length:var(--border-width)] border-dashed border-theme-border/50 text-sm sm:text-base rounded-theme font-body",children:"No characters found. Create one to begin."})]}),s&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>i(null)}),a.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme p-4 z-50 min-w-[250px]",children:[a.jsx("h3",{className:"font-heading text-theme-ink font-bold mb-2",children:"Delete Character?"}),a.jsxs("p",{className:"text-sm text-theme-muted font-body mb-4",children:['Are you sure you want to delete "',(c=e.find(f=>f.id===s))==null?void 0:c.name,'"? This will delete all sheets and widgets.']}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx("button",{onClick:()=>i(null),className:"px-3 py-1.5 text-sm font-body text-theme-ink hover:bg-theme-accent/20 rounded-theme transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>{r(s),i(null)},className:"px-3 py-1.5 text-sm font-body bg-red-500 text-white hover:bg-red-600 rounded-theme transition-colors",children:"Delete"})]})]})]})]})}const cg=[{type:"NUMBER",label:"Number Tracker"},{type:"LIST",label:"List"},{type:"TEXT",label:"Text Area"},{type:"CHECKBOX",label:"Checkbox"},{type:"HEALTH_BAR",label:"Health Bar"},{type:"DICE_ROLLER",label:"Dice Roller"},{type:"SPELL_SLOT",label:"Spell Slots"},{type:"IMAGE",label:"Image"},{type:"POOL",label:"Resource Pool"},{type:"TOGGLE_GROUP",label:"Conditions"},{type:"TABLE",label:"Table"},{type:"TIME_TRACKER",label:"Time Tracker"}];function dg({collapsed:e,onToggle:t}){const n=W(g=>g.addWidget),r=W(g=>g.activeCharacterId),l=W(g=>g.characters).find(g=>g.id===r),s=l!=null&&l.theme?In(l.theme):void 0,i=l!=null&&l.theme?di(l.theme):void 0,u=(s==null?void 0:s.cardTexture)||(i==null?void 0:i.cardTexture)||"none",c=wt(u),f=g=>{n(g,100,100)},x=(g,p)=>{g.dataTransfer.setData("widgetType",p),g.dataTransfer.effectAllowed="copy"};return a.jsxs(a.Fragment,{children:[!e&&a.jsx("div",{className:"fixed inset-0 bg-black/30 z-40 md:hidden",onClick:t}),a.jsxs("div",{className:`fixed left-0 top-0 bottom-0 w-[80vw] max-w-[280px] md:w-64 bg-theme-paper border-r-[length:var(--border-width)] border-theme-border z-50 flex flex-col p-3 sm:p-4 shadow-theme overflow-hidden transition-transform duration-300 ease-in-out safe-area-bottom ${e?"-translate-x-full":"translate-x-0"}`,children:[c&&a.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",style:{backgroundColor:"var(--color-paper)"},children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${cn[u]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:"var(--card-texture-opacity)",mixBlendMode:"overlay"}})}),a.jsxs("div",{className:"relative z-10 flex flex-col h-full overflow-y-auto",children:[a.jsx("button",{onClick:t,className:"hidden md:flex absolute -right-10 top-20 w-10 h-10 bg-theme-paper border-[length:var(--border-width)] border-theme-border border-l-0 font-bold shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all items-center justify-center text-theme-ink",title:e?"Show Toolbox":"Hide Toolbox",children:e?"":""}),a.jsx("button",{onClick:t,className:"md:hidden absolute top-3 right-3 w-8 h-8 bg-theme-accent text-theme-paper font-bold flex items-center justify-center rounded-theme",children:""}),a.jsx("div",{className:"mb-4 sm:mb-8",children:a.jsx("h2",{className:"text-xl sm:text-2xl font-bold uppercase tracking-wider border-b-[length:var(--border-width)] border-theme-border pb-2 text-theme-ink font-heading",children:"Toolbox"})}),a.jsx("div",{className:"flex flex-col gap-2 sm:gap-3",children:cg.map(({type:g,label:p})=>a.jsx("div",{draggable:!0,onDragStart:S=>x(S,g),onClick:()=>f(g),className:"p-2 sm:p-3 border-[length:var(--border-width)] border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-all text-left font-bold shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none cursor-pointer flex items-center gap-2 bg-theme-paper text-theme-ink rounded-theme",children:a.jsxs("span",{className:"text-xs sm:text-sm font-body",children:["+ ",p]})},g))}),a.jsxs("div",{className:"mt-auto pt-4 text-[10px] sm:text-xs text-theme-muted border-t border-theme-border/50 font-body",children:[a.jsx("p",{className:"hidden sm:block",children:"Drag widgets to arrange."}),a.jsx("p",{className:"sm:hidden",children:"Tap to add widgets."}),a.jsx("p",{children:"Pan with finger/mouse."}),a.jsx("p",{children:"Pinch/scroll to zoom."}),a.jsx("p",{className:"mt-2 text-theme-ink font-bold",children:"Edit Mode Active"})]})]})]})]})}function fg({theme:e,onSave:t,onCancel:n,onDelete:r}){const o=!!e,l=ag(),[s,i]=_.useState((e==null?void 0:e.name)||l.name),[u,c]=_.useState((e==null?void 0:e.icon)||l.icon),[f,x]=_.useState((e==null?void 0:e.description)||l.description),[g,p]=_.useState((e==null?void 0:e.colors)||l.colors),[S,N]=_.useState((e==null?void 0:e.fonts.heading)||l.fonts.heading),[T,h]=_.useState((e==null?void 0:e.fonts.body)||l.fonts.body),[d,m]=_.useState((e==null?void 0:e.borderRadius)||l.borderRadius),[b,v]=_.useState((e==null?void 0:e.borderWidth)||l.borderWidth),[y,k]=_.useState((e==null?void 0:e.shadowStyle)||l.shadowStyle),[C,w]=_.useState((e==null?void 0:e.cardTexture)||l.cardTexture),P="#ffffff",[U,ee]=_.useState((e==null?void 0:e.textureOpacity)??l.textureOpacity),[te,pe]=_.useState((e==null?void 0:e.borderStyle)||l.borderStyle),[Ee,se]=_.useState(!1),ce=(E,D)=>{p(A=>({...A,[E]:D}))},I=()=>{const E={id:(e==null?void 0:e.id)||`custom-${Kt()}`,name:s,icon:u,description:f,colors:g,fonts:{heading:S,body:T},borderRadius:d,borderWidth:b,shadowStyle:y,cardTexture:C,textureColor:"#ffffff",textureOpacity:U,borderStyle:te};t(E)},z=[{key:"background",label:"Background"},{key:"paper",label:"Paper/Card"},{key:"ink",label:"Text/Ink"},{key:"accent",label:"Accent"},{key:"accentHover",label:"Accent Hover"},{key:"border",label:"Border"},{key:"shadow",label:"Shadow"},{key:"muted",label:"Muted Text"},{key:"glow",label:"Glow"}];return a.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:E=>E.stopPropagation(),children:[a.jsx("div",{className:"p-4 border-b-[length:var(--border-width)] border-theme-border sticky top-0 bg-theme-paper z-10",children:a.jsx("h2",{className:"text-xl font-bold text-theme-ink font-heading",children:o?" Edit Custom Theme":" Create Custom Theme"})}),a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("section",{children:[a.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Basic Info"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Theme Name"}),a.jsx("input",{type:"text",value:s,onChange:E=>i(E.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",placeholder:"My Custom Theme"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Icon"}),a.jsxs("button",{onClick:()=>se(!Ee),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body text-left flex items-center gap-2",children:[a.jsx("span",{className:"text-xl",children:u}),a.jsx("span",{className:"text-xs text-theme-muted",children:"Click to change"})]}),Ee&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 p-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme z-20 grid grid-cols-10 gap-1 max-h-40 overflow-y-auto",children:lg.map(E=>a.jsx("button",{onClick:()=>{c(E),se(!1)},className:`p-1 text-lg hover:bg-theme-accent hover:text-theme-paper rounded ${u===E?"bg-theme-accent text-theme-paper":""}`,children:E},E))})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Description"}),a.jsx("input",{type:"text",value:f,onChange:E=>x(E.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",placeholder:"A personalized theme"})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Colors"}),a.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-3",children:z.map(({key:E,label:D})=>a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body text-center",children:D}),a.jsx("input",{type:"color",value:g[E],onChange:A=>ce(E,A.target.value),className:"w-12 h-12 border-[length:var(--border-width)] border-theme-border rounded-theme cursor-pointer"})]},E))})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Fonts"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Heading Font"}),a.jsx("select",{value:S,onChange:E=>N(E.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:Mu.map(E=>a.jsx("option",{value:E.value,style:{fontFamily:E.value},children:E.label},E.value))}),a.jsx("p",{className:"text-xs text-theme-muted mt-1",style:{fontFamily:S},children:"Preview: The quick brown fox"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Body Font"}),a.jsx("select",{value:T,onChange:E=>h(E.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:Mu.map(E=>a.jsx("option",{value:E.value,style:{fontFamily:E.value},children:E.label},E.value))}),a.jsx("p",{className:"text-xs text-theme-muted mt-1",style:{fontFamily:T},children:"Preview: The quick brown fox"})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Style"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Border Radius"}),a.jsxs("select",{value:d,onChange:E=>m(E.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:[a.jsx("option",{value:"0px",children:"Sharp (0px)"}),a.jsx("option",{value:"2px",children:"Subtle (2px)"}),a.jsx("option",{value:"4px",children:"Small (4px)"}),a.jsx("option",{value:"8px",children:"Medium (8px)"}),a.jsx("option",{value:"12px",children:"Large (12px)"}),a.jsx("option",{value:"16px",children:"Extra Large (16px)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Border Width"}),a.jsxs("select",{value:b,onChange:E=>v(E.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:[a.jsx("option",{value:"1px",children:"Thin (1px)"}),a.jsx("option",{value:"2px",children:"Medium (2px)"}),a.jsx("option",{value:"3px",children:"Thick (3px)"}),a.jsx("option",{value:"4px",children:"Extra Thick (4px)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Border Style"}),a.jsx("select",{value:te,onChange:E=>pe(E.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:og.map(E=>a.jsx("option",{value:E.value,children:E.label},E.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Shadow Style"}),a.jsx("select",{value:y,onChange:E=>k(E.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:rg.map(E=>a.jsx("option",{value:E.value,children:E.label},E.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Card Texture"}),a.jsx("select",{value:C,onChange:E=>w(E.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:ng.map(E=>a.jsx("option",{value:E.value,children:E.label},E.value))})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsxs("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:["Texture Opacity: ",Math.round(U*100),"%"]}),a.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:U,onChange:E=>ee(parseFloat(E.target.value)),className:"w-full h-2 bg-theme-border rounded-theme appearance-none cursor-pointer",disabled:C==="none"})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Preview"}),a.jsx("div",{className:"p-4",style:{backgroundColor:g.background,borderRadius:d},children:a.jsxs("div",{className:"p-4 relative overflow-hidden",style:{backgroundColor:g.paper,backgroundImage:wt(C)?"none":fi(C,P,U),border:`${b} ${te} ${g.border}`,borderRadius:d,boxShadow:hi(y,g.glow).replace(/var\(--color-shadow\)/g,g.shadow).replace(/var\(--color-border\)/g,g.border).replace(/var\(--color-glow\)/g,g.glow)},children:[wt(C)&&a.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundColor:g.paper,borderRadius:d},children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${cn[C]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:U,mixBlendMode:"overlay",borderRadius:d}})}),a.jsxs("h4",{className:"text-lg font-bold mb-2 relative",style:{color:g.ink,fontFamily:S},children:[u," ",s]}),a.jsx("p",{className:"text-sm mb-3 relative",style:{color:g.muted,fontFamily:T},children:f}),a.jsx("button",{className:"px-4 py-2 font-bold transition-colors relative",style:{backgroundColor:g.accent,color:g.paper,borderRadius:d,fontFamily:S},children:"Sample Button"})]})})]})]}),a.jsxs("div",{className:"p-4 border-t-[length:var(--border-width)] border-theme-border sticky bottom-0 bg-theme-paper flex flex-wrap gap-2 justify-between",children:[a.jsx("div",{children:o&&r&&a.jsx("button",{onClick:()=>{confirm("Are you sure you want to delete this custom theme?")&&r()},className:"px-4 py-2 bg-red-500 text-white font-bold rounded-theme hover:bg-red-600 transition-colors font-heading",children:" Delete"})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:n,className:"px-4 py-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink font-bold rounded-theme hover:bg-theme-accent hover:text-theme-paper transition-colors font-heading",children:"Cancel"}),a.jsx("button",{onClick:I,className:"px-4 py-2 bg-theme-accent text-theme-paper font-bold rounded-theme hover:bg-theme-accent-hover transition-colors font-heading",children:o?" Save Changes":" Create Theme"})]})]})]})})}function hg({collapsed:e,onToggle:t}){const n=W(w=>w.activeCharacterId),r=W(w=>w.characters),o=W(w=>w.updateCharacterTheme),l=r.find(w=>w.id===n),s=(l==null?void 0:l.theme)||"default",i=l!=null&&l.theme?In(l.theme):void 0,u=l!=null&&l.theme?di(l.theme):void 0,c=(i==null?void 0:i.cardTexture)||(u==null?void 0:u.cardTexture)||"none",f=wt(c),x=qn(w=>w.customThemes),g=qn(w=>w.addCustomTheme),p=qn(w=>w.updateCustomTheme),S=qn(w=>w.deleteCustomTheme),[N,T]=_.useState(!1),[h,d]=_.useState(void 0),m=w=>{if(n){o(n,w);const P=In(w);P?ha(P):mr(w)}},b=()=>{d(void 0),T(!0)},v=(w,P)=>{P.stopPropagation(),d(w),T(!0)},y=w=>{h?(p(w.id,w),s===w.id&&ha(w)):g(w),T(!1),d(void 0)},k=()=>{h&&(s===h.id&&n&&(o(n,"default"),mr("default")),S(h.id)),T(!1),d(void 0)},C=()=>{const w=Pn.find(U=>U.id===s);if(w)return w.name;const P=x.find(U=>U.id===s);return P?P.name:"Unknown"};return a.jsxs(a.Fragment,{children:[N&&a.jsx(fg,{theme:h,onSave:y,onCancel:()=>{T(!1),d(void 0)},onDelete:h?k:void 0}),!e&&a.jsx("div",{className:"fixed inset-0 bg-black/30 z-40 md:hidden",onClick:t}),a.jsxs("div",{className:`fixed right-0 top-0 bottom-0 w-[80vw] max-w-[280px] md:w-64 bg-theme-paper border-l-[length:var(--border-width)] border-theme-border z-50 flex flex-col p-3 sm:p-4 shadow-theme overflow-hidden transition-transform duration-300 ease-in-out safe-area-bottom ${e?"translate-x-full":"translate-x-0"}`,children:[f&&a.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",style:{backgroundColor:"var(--color-paper)"},children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${cn[c]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:"var(--card-texture-opacity)",mixBlendMode:"overlay"}})}),a.jsxs("div",{className:"relative z-10 flex flex-col h-full overflow-y-auto",children:[a.jsx("button",{onClick:t,className:"hidden md:flex absolute -left-10 top-20 w-10 h-10 bg-theme-paper border-[length:var(--border-width)] border-theme-border border-r-0 font-bold shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all items-center justify-center text-theme-ink",title:e?"Show Themes":"Hide Themes",children:e?"":""}),a.jsx("button",{onClick:t,className:"md:hidden absolute top-3 right-3 w-8 h-8 bg-theme-accent text-theme-paper font-bold flex items-center justify-center rounded-theme",children:""}),a.jsx("div",{className:"mb-4 sm:mb-6",children:a.jsx("h2",{className:"text-xl sm:text-2xl font-bold uppercase tracking-wider border-b-[length:var(--border-width)] border-theme-border pb-2 text-theme-ink font-heading",children:" Themes"})}),a.jsx("div",{className:"flex flex-col gap-2 sm:gap-3",children:Pn.map(w=>{const P=wt(w.cardTexture)?w.cardTexture:null,U=s===w.id;return a.jsxs("button",{onClick:()=>m(w.id),style:{backgroundColor:U?w.colors.accent:w.colors.paper,color:U?w.colors.paper:w.colors.ink,borderColor:w.colors.border,borderRadius:w.borderRadius,borderWidth:w.borderWidth,fontFamily:w.fonts.body,boxShadow:`3px 3px 0 ${w.colors.shadow}`,position:"relative",overflow:"hidden"},className:"p-2 sm:p-3 border-solid transition-all text-left font-bold active:translate-x-[2px] active:translate-y-[2px] active:shadow-none",children:[P&&!U&&a.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundColor:w.colors.paper,borderRadius:w.borderRadius},children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${cn[P]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:w.textureOpacity??.15,mixBlendMode:"overlay",borderRadius:w.borderRadius}})}),a.jsxs("div",{className:"relative flex items-center gap-2",children:[a.jsx("span",{className:"text-base sm:text-lg",children:w.icon}),a.jsx("span",{className:"text-xs sm:text-sm",style:{fontFamily:w.fonts.heading},children:w.name})]}),a.jsx("p",{className:"relative text-[10px] sm:text-xs mt-1 opacity-70",children:w.description}),a.jsxs("div",{className:"relative flex gap-1 mt-2",children:[a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:w.colors.paper},title:"Paper"}),a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:w.colors.ink},title:"Ink"}),a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:w.colors.accent},title:"Accent"}),a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:w.colors.background},title:"Background"})]})]},w.id)})}),a.jsxs("div",{className:"mt-6 pt-4 border-t border-theme-border/50",children:[a.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:" Custom Themes"}),a.jsxs("button",{onClick:b,className:"w-full p-2 sm:p-3 border-[length:var(--border-width)] border-dashed border-theme-border transition-all text-left font-bold rounded-theme bg-theme-paper text-theme-ink hover:bg-theme-accent hover:text-theme-paper hover:border-solid mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-base sm:text-lg",children:""}),a.jsx("span",{className:"text-xs sm:text-sm font-heading",children:"Create Custom Theme"})]}),a.jsx("p",{className:"text-[10px] sm:text-xs mt-1 opacity-70 font-body",children:"Design your own unique theme"})]}),a.jsx("div",{className:"flex flex-col gap-2 sm:gap-3 mt-3",children:x.map(w=>{const P=wt(w.cardTexture||"")?w.cardTexture:null,U=s===w.id;return a.jsxs("div",{style:{backgroundColor:U?w.colors.accent:w.colors.paper,color:U?w.colors.paper:w.colors.ink,borderColor:w.colors.border,borderRadius:w.borderRadius,borderWidth:w.borderWidth,fontFamily:w.fonts.body,boxShadow:`3px 3px 0 ${w.colors.shadow}`,position:"relative",overflow:"hidden"},className:"p-2 sm:p-3 border-solid transition-all text-left font-bold",children:[P&&!U&&a.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundColor:w.colors.paper,borderRadius:w.borderRadius},children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${cn[P]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:w.textureOpacity??.15,mixBlendMode:"overlay",borderRadius:w.borderRadius}})}),a.jsxs("button",{onClick:()=>m(w.id),className:"relative w-full text-left",children:[a.jsxs("div",{className:"flex items-center gap-2 pr-8",children:[a.jsx("span",{className:"text-base sm:text-lg",children:w.icon}),a.jsx("span",{className:"text-xs sm:text-sm",style:{fontFamily:w.fonts.heading},children:w.name})]}),a.jsx("p",{className:"text-[10px] sm:text-xs mt-1 opacity-70",children:w.description}),a.jsxs("div",{className:"flex gap-1 mt-2",children:[a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:w.colors.paper},title:"Paper"}),a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:w.colors.ink},title:"Ink"}),a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:w.colors.accent},title:"Accent"}),a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:w.colors.background},title:"Background"})]})]}),a.jsx("button",{onClick:ee=>v(w,ee),style:{backgroundColor:U?`${w.colors.paper}33`:`${w.colors.accent}1a`,color:U?w.colors.paper:w.colors.accent},className:"absolute top-2 right-2 w-6 h-6 flex items-center justify-center rounded text-xs hover:scale-110 transition-transform z-10",title:"Edit theme",children:""})]},w.id)})}),x.length===0&&a.jsx("p",{className:"text-[10px] sm:text-xs text-theme-muted mt-2 font-body",children:"No custom themes yet. Create one above!"})]}),a.jsxs("div",{className:"mt-auto pt-4 text-[10px] sm:text-xs text-theme-muted border-t border-theme-border/50 font-body",children:[a.jsx("p",{children:"Select a theme to change the appearance of your character sheet."}),a.jsxs("p",{className:"mt-2 text-theme-ink font-bold",children:["Current: ",C()]})]})]})]})]})}var Rl={exports:{}},Ef={},Tf={exports:{}},pg="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mg=pg,gg=mg;function Pf(){}function If(){}If.resetWarningCache=Pf;var xg=function(){function e(r,o,l,s,i,u){if(u!==gg){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:If,resetWarningCache:Pf};return n.PropTypes=n,n};Tf.exports=xg();var Mf=Tf.exports,pa={exports:{}};function _f(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=_f(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function _u(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=_f(e))&&(r&&(r+=" "),r+=t);return r}pa.exports=_u,pa.exports.clsx=_u;var vg=pa.exports,ue={},It={};Object.defineProperty(It,"__esModule",{value:!0});It.dontSetMe=kg;It.findInArray=yg;It.int=Sg;It.isFunction=bg;It.isNum=wg;function yg(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function bg(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function wg(e){return typeof e=="number"&&!isNaN(e)}function Sg(e){return parseInt(e,10)}function kg(e,t,n){if(e[t])return new Error(`Invalid prop ${t} passed to ${n} - do not set this, set it on the child.`)}var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.browserPrefixToKey=Lf;Dn.browserPrefixToStyle=Ng;Dn.default=void 0;Dn.getPrefix=Df;const xs=["Moz","Webkit","O","ms"];function Df(){var n,r;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const t=(r=(n=window.document)==null?void 0:n.documentElement)==null?void 0:r.style;if(!t||e in t)return"";for(let o=0;o<xs.length;o++)if(Lf(e,xs[o])in t)return xs[o];return""}function Lf(e,t){return t?`${t}${jg(e)}`:e}function Ng(e,t){return t?`-${t.toLowerCase()}-${e}`:e}function jg(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}Dn.default=Df();Object.defineProperty(ue,"__esModule",{value:!0});ue.addClassName=zf;ue.addEvent=Eg;ue.addUserSelectStyles=$g;ue.createCSSTransform=Lg;ue.createSVGTransform=Rg;ue.getTouch=Og;ue.getTouchIdentifier=zg;ue.getTranslation=pi;ue.innerHeight=Mg;ue.innerWidth=_g;ue.matchesSelector=Of;ue.matchesSelectorAndParentsTo=Cg;ue.offsetXYFromParent=Dg;ue.outerHeight=Pg;ue.outerWidth=Ig;ue.removeClassName=$f;ue.removeEvent=Tg;ue.scheduleRemoveUserSelectStyles=Wg;var et=It,Du=Rf(Dn);function Rf(e,t){if(typeof WeakMap=="function")var n=new WeakMap,r=new WeakMap;return(Rf=function(o,l){if(!l&&o&&o.__esModule)return o;var s,i,u={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return u;if(s=l?r:n){if(s.has(o))return s.get(o);s.set(o,u)}for(const c in o)c!=="default"&&{}.hasOwnProperty.call(o,c)&&((i=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,c))&&(i.get||i.set)?s(u,c,i):u[c]=o[c]);return u})(e,t)}let Do="";function Of(e,t){return Do||(Do=(0,et.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,et.isFunction)(e[n])})),(0,et.isFunction)(e[Do])?e[Do](t):!1}function Cg(e,t,n){let r=e;do{if(Of(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function Eg(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function Tg(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function Pg(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,et.int)(n.borderTopWidth),t+=(0,et.int)(n.borderBottomWidth),t}function Ig(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,et.int)(n.borderLeftWidth),t+=(0,et.int)(n.borderRightWidth),t}function Mg(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,et.int)(n.paddingTop),t-=(0,et.int)(n.paddingBottom),t}function _g(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,et.int)(n.paddingLeft),t-=(0,et.int)(n.paddingRight),t}function Dg(e,t,n){const o=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),l=(e.clientX+t.scrollLeft-o.left)/n,s=(e.clientY+t.scrollTop-o.top)/n;return{x:l,y:s}}function Lg(e,t){const n=pi(e,t,"px");return{[(0,Du.browserPrefixToKey)("transform",Du.default)]:n}}function Rg(e,t){return pi(e,t,"")}function pi(e,t,n){let{x:r,y:o}=e,l=`translate(${r}${n},${o}${n})`;if(t){const s=`${typeof t.x=="string"?t.x:t.x+n}`,i=`${typeof t.y=="string"?t.y:t.y+n}`;l=`translate(${s}, ${i})`+l}return l}function Og(e,t){return e.targetTouches&&(0,et.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,et.findInArray)(e.changedTouches,n=>t===n.identifier)}function zg(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function $g(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&zf(e.body,"react-draggable-transparent-selection")}function Wg(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{Lu(e)}):Lu(e)}function Lu(e){if(e)try{if(e.body&&$f(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function zf(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function $f(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.canDragX=Ug;Mt.canDragY=Hg;Mt.createCoreData=Vg;Mt.createDraggableData=Xg;Mt.getBoundPosition=Fg;Mt.getControlPosition=Bg;Mt.snapToGrid=Ag;var Ke=It,er=ue;function Fg(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:r}=e.props;r=typeof r=="string"?r:Yg(r);const o=mi(e);if(typeof r=="string"){const{ownerDocument:l}=o,s=l.defaultView;let i;if(r==="parent"?i=o.parentNode:i=o.getRootNode().querySelector(r),!(i instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const u=i,c=s.getComputedStyle(o),f=s.getComputedStyle(u);r={left:-o.offsetLeft+(0,Ke.int)(f.paddingLeft)+(0,Ke.int)(c.marginLeft),top:-o.offsetTop+(0,Ke.int)(f.paddingTop)+(0,Ke.int)(c.marginTop),right:(0,er.innerWidth)(u)-(0,er.outerWidth)(o)-o.offsetLeft+(0,Ke.int)(f.paddingRight)-(0,Ke.int)(c.marginRight),bottom:(0,er.innerHeight)(u)-(0,er.outerHeight)(o)-o.offsetTop+(0,Ke.int)(f.paddingBottom)-(0,Ke.int)(c.marginBottom)}}return(0,Ke.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,Ke.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Ke.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,Ke.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function Ag(e,t,n){const r=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[r,o]}function Ug(e){return e.props.axis==="both"||e.props.axis==="x"}function Hg(e){return e.props.axis==="both"||e.props.axis==="y"}function Bg(e,t,n){const r=typeof t=="number"?(0,er.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;const o=mi(n),l=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,er.offsetXYFromParent)(r||e,l,n.props.scale)}function Vg(e,t,n){const r=!(0,Ke.isNum)(e.lastX),o=mi(e);return r?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function Xg(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function Yg(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function mi(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var Ol={},zl={};Object.defineProperty(zl,"__esModule",{value:!0});zl.default=Gg;function Gg(){}Object.defineProperty(Ol,"__esModule",{value:!0});Ol.default=void 0;var vs=Wf(_),Oe=gi(Mf),Qg=gi(fo),Me=ue,Xt=Mt,ys=It,Pr=gi(zl);function gi(e){return e&&e.__esModule?e:{default:e}}function Wf(e,t){if(typeof WeakMap=="function")var n=new WeakMap,r=new WeakMap;return(Wf=function(o,l){if(!l&&o&&o.__esModule)return o;var s,i,u={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return u;if(s=l?r:n){if(s.has(o))return s.get(o);s.set(o,u)}for(const c in o)c!=="default"&&{}.hasOwnProperty.call(o,c)&&((i=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,c))&&(i.get||i.set)?s(u,c,i):u[c]=o[c]);return u})(e,t)}function ze(e,t,n){return(t=Kg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kg(e){var t=Zg(e,"string");return typeof t=="symbol"?t:t+""}function Zg(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const mt={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Yt=mt.mouse,$l=class extends vs.Component{constructor(){super(...arguments),ze(this,"dragging",!1),ze(this,"lastX",NaN),ze(this,"lastY",NaN),ze(this,"touchIdentifier",null),ze(this,"mounted",!1),ze(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(t.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Me.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,Me.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&!this.props.allowMobileScroll&&t.preventDefault();const o=(0,Me.getTouchIdentifier)(t);this.touchIdentifier=o;const l=(0,Xt.getControlPosition)(t,o,this);if(l==null)return;const{x:s,y:i}=l,u=(0,Xt.createCoreData)(this,s,i);(0,Pr.default)("DraggableCore: handleDragStart: %j",u),(0,Pr.default)("calling",this.props.onStart),!(this.props.onStart(t,u)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Me.addUserSelectStyles)(r),this.dragging=!0,this.lastX=s,this.lastY=i,(0,Me.addEvent)(r,Yt.move,this.handleDrag),(0,Me.addEvent)(r,Yt.stop,this.handleDragStop))}),ze(this,"handleDrag",t=>{const n=(0,Xt.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let i=r-this.lastX,u=o-this.lastY;if([i,u]=(0,Xt.snapToGrid)(this.props.grid,i,u),!i&&!u)return;r=this.lastX+i,o=this.lastY+u}const l=(0,Xt.createCoreData)(this,r,o);if((0,Pr.default)("DraggableCore: handleDrag: %j",l),this.props.onDrag(t,l)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const u=document.createEvent("MouseEvents");u.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(u)}return}this.lastX=r,this.lastY=o}),ze(this,"handleDragStop",t=>{if(!this.dragging)return;const n=(0,Xt.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let u=r-this.lastX||0,c=o-this.lastY||0;[u,c]=(0,Xt.snapToGrid)(this.props.grid,u,c),r=this.lastX+u,o=this.lastY+c}const l=(0,Xt.createCoreData)(this,r,o);if(this.props.onStop(t,l)===!1||this.mounted===!1)return!1;const i=this.findDOMNode();i&&this.props.enableUserSelectHack&&(0,Me.scheduleRemoveUserSelectStyles)(i.ownerDocument),(0,Pr.default)("DraggableCore: handleDragStop: %j",l),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,i&&((0,Pr.default)("DraggableCore: Removing handlers"),(0,Me.removeEvent)(i.ownerDocument,Yt.move,this.handleDrag),(0,Me.removeEvent)(i.ownerDocument,Yt.stop,this.handleDragStop))}),ze(this,"onMouseDown",t=>(Yt=mt.mouse,this.handleDragStart(t))),ze(this,"onMouseUp",t=>(Yt=mt.mouse,this.handleDragStop(t))),ze(this,"onTouchStart",t=>(Yt=mt.touch,this.handleDragStart(t))),ze(this,"onTouchEnd",t=>(Yt=mt.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,Me.addEvent)(t,mt.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:n}=t;(0,Me.removeEvent)(n,mt.mouse.move,this.handleDrag),(0,Me.removeEvent)(n,mt.touch.move,this.handleDrag),(0,Me.removeEvent)(n,mt.mouse.stop,this.handleDragStop),(0,Me.removeEvent)(n,mt.touch.stop,this.handleDragStop),(0,Me.removeEvent)(t,mt.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Me.scheduleRemoveUserSelectStyles)(n)}}findDOMNode(){var t,n,r;return(t=this.props)!=null&&t.nodeRef?(r=(n=this.props)==null?void 0:n.nodeRef)==null?void 0:r.current:Qg.default.findDOMNode(this)}render(){return vs.cloneElement(vs.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Ol.default=$l;ze($l,"displayName","DraggableCore");ze($l,"propTypes",{allowAnyClick:Oe.default.bool,allowMobileScroll:Oe.default.bool,children:Oe.default.node.isRequired,disabled:Oe.default.bool,enableUserSelectHack:Oe.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Oe.default.arrayOf(Oe.default.number),handle:Oe.default.string,cancel:Oe.default.string,nodeRef:Oe.default.object,onStart:Oe.default.func,onDrag:Oe.default.func,onStop:Oe.default.func,onMouseDown:Oe.default.func,scale:Oe.default.number,className:ys.dontSetMe,style:ys.dontSetMe,transform:ys.dontSetMe});ze($l,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),e.default=void 0;var t=x(_),n=f(Mf),r=f(fo),o=vg,l=ue,s=Mt,i=It,u=f(Ol),c=f(zl);function f(h){return h&&h.__esModule?h:{default:h}}function x(h,d){if(typeof WeakMap=="function")var m=new WeakMap,b=new WeakMap;return(x=function(v,y){if(!y&&v&&v.__esModule)return v;var k,C,w={__proto__:null,default:v};if(v===null||typeof v!="object"&&typeof v!="function")return w;if(k=y?b:m){if(k.has(v))return k.get(v);k.set(v,w)}for(const P in v)P!=="default"&&{}.hasOwnProperty.call(v,P)&&((C=(k=Object.defineProperty)&&Object.getOwnPropertyDescriptor(v,P))&&(C.get||C.set)?k(w,P,C):w[P]=v[P]);return w})(h,d)}function g(){return g=Object.assign?Object.assign.bind():function(h){for(var d=1;d<arguments.length;d++){var m=arguments[d];for(var b in m)({}).hasOwnProperty.call(m,b)&&(h[b]=m[b])}return h},g.apply(null,arguments)}function p(h,d,m){return(d=S(d))in h?Object.defineProperty(h,d,{value:m,enumerable:!0,configurable:!0,writable:!0}):h[d]=m,h}function S(h){var d=N(h,"string");return typeof d=="symbol"?d:d+""}function N(h,d){if(typeof h!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var b=m.call(h,d);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(h)}class T extends t.Component{static getDerivedStateFromProps(d,m){let{position:b}=d,{prevPropsPosition:v}=m;return b&&(!v||b.x!==v.x||b.y!==v.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:b,prevPropsPosition:v}),{x:b.x,y:b.y,prevPropsPosition:{...b}}):null}constructor(d){super(d),p(this,"onDragStart",(m,b)=>{if((0,c.default)("Draggable: onDragStart: %j",b),this.props.onStart(m,(0,s.createDraggableData)(this,b))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),p(this,"onDrag",(m,b)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",b);const v=(0,s.createDraggableData)(this,b),y={x:v.x,y:v.y,slackX:0,slackY:0};if(this.props.bounds){const{x:C,y:w}=y;y.x+=this.state.slackX,y.y+=this.state.slackY;const[P,U]=(0,s.getBoundPosition)(this,y.x,y.y);y.x=P,y.y=U,y.slackX=this.state.slackX+(C-y.x),y.slackY=this.state.slackY+(w-y.y),v.x=y.x,v.y=y.y,v.deltaX=y.x-this.state.x,v.deltaY=y.y-this.state.y}if(this.props.onDrag(m,v)===!1)return!1;this.setState(y)}),p(this,"onDragStop",(m,b)=>{if(!this.state.dragging||this.props.onStop(m,(0,s.createDraggableData)(this,b))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",b);const y={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:C,y:w}=this.props.position;y.x=C,y.y=w}this.setState(y)}),this.state={dragging:!1,dragged:!1,x:d.position?d.position.x:d.defaultPosition.x,y:d.position?d.position.y:d.defaultPosition.y,prevPropsPosition:{...d.position},slackX:0,slackY:0,isElementSVG:!1},d.position&&!(d.onDrag||d.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var d,m;return((m=(d=this.props)==null?void 0:d.nodeRef)==null?void 0:m.current)??r.default.findDOMNode(this)}render(){const{axis:d,bounds:m,children:b,defaultPosition:v,defaultClassName:y,defaultClassNameDragging:k,defaultClassNameDragged:C,position:w,positionOffset:P,scale:U,...ee}=this.props;let te={},pe=null;const se=!!!w||this.state.dragging,ce=w||v,I={x:(0,s.canDragX)(this)&&se?this.state.x:ce.x,y:(0,s.canDragY)(this)&&se?this.state.y:ce.y};this.state.isElementSVG?pe=(0,l.createSVGTransform)(I,P):te=(0,l.createCSSTransform)(I,P);const z=(0,o.clsx)(b.props.className||"",y,{[k]:this.state.dragging,[C]:this.state.dragged});return t.createElement(u.default,g({},ee,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(b),{className:z,style:{...b.props.style,...te},transform:pe}))}}e.default=T,p(T,"displayName","Draggable"),p(T,"propTypes",{...u.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:i.dontSetMe,style:i.dontSetMe,transform:i.dontSetMe}),p(T,"defaultProps",{...u.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Ef);const{default:Ff,DraggableCore:Jg}=Ef;Rl.exports=Ff;Rl.exports.default=Ff;Rl.exports.DraggableCore=Jg;var qg=Rl.exports;const ex=ma(qg);function Af({widget:e,width:t,height:n}){const r=W(m=>m.updateWidgetData),{label:o,numberItems:l=[]}=e.data,s=t<180,i=t>=300,u=s?"text-xs":i?"text-base":"text-sm",c=s?"text-xs":i?"text-base":"text-sm",f=s?"w-5 h-5 text-xs":i?"w-8 h-8 text-base":"w-6 h-6 text-sm",x=s?"text-sm w-8":i?"text-xl w-14":"text-base w-10",g=s?"gap-1":"gap-2",p=s?16:i?24:20,S=s?4:8,N=s?8:16,T=Math.max(30,n-p-S-N*2),h=(m,b)=>{const v=[...l];v[m]={...v[m],value:v[m].value+b},r(e.id,{numberItems:v})},d=s?"w-[62px]":i?"w-[94px]":"w-[74px]";return a.jsxs("div",{className:`flex flex-col ${g} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${u} text-theme-ink font-heading flex-shrink-0`,children:o||"Trackers"}),a.jsxs("div",{className:`flex flex-col ${s?"gap-0.5":"gap-1"} overflow-y-auto overflow-x-hidden flex-1 pr-4`,style:{maxHeight:`${T}px`},onWheel:m=>m.stopPropagation(),children:[l.map((m,b)=>a.jsxs("div",{className:`flex items-center ${g}`,children:[a.jsx("span",{className:`flex-1 ${c} text-theme-ink font-body truncate`,children:m.name}),a.jsxs("div",{className:`flex items-center justify-center gap-0.5 flex-shrink-0 ${d}`,children:[a.jsx("button",{onClick:()=>h(b,-1),onMouseDown:v=>v.stopPropagation(),className:`${f} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors flex items-center justify-center text-theme-ink rounded-theme flex-shrink-0`,children:"-"}),a.jsx("span",{className:`${x} text-center font-bold text-theme-ink flex-shrink-0`,children:m.value}),a.jsx("button",{onClick:()=>h(b,1),onMouseDown:v=>v.stopPropagation(),className:`${f} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors flex items-center justify-center text-theme-ink rounded-theme flex-shrink-0`,children:"+"})]})]},b)),l.length===0&&a.jsx("div",{className:`${c} text-theme-muted italic`,children:"No items yet"})]})]})}function Uf({widget:e,width:t,height:n}){const r=W(m=>m.updateWidgetData),{label:o,items:l=[],itemCount:s=5}=e.data,i=t<160,u=t>=300,c=i?"text-xs":u?"text-base":"text-sm",f=i?"text-xs py-0.5":u?"text-base py-1":"text-sm py-0.5",x=i?"gap-1":"gap-2",g=i?16:u?24:20,p=i?4:8,S=i?8:16,N=Math.max(40,n-g-p-S*2),T=Array.from({length:s},(m,b)=>l[b]||""),h=(m,b)=>{const v=[...T];v[m]=b,r(e.id,{items:v})},d=m=>{const b=[...T];b[m]="",r(e.id,{items:b})};return a.jsxs("div",{className:`flex flex-col ${x} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${c} text-theme-ink font-heading flex-shrink-0`,children:o||"List"}),a.jsx("div",{className:"space-y-1 overflow-y-auto flex-1",style:{maxHeight:`${N}px`},onWheel:m=>m.stopPropagation(),children:T.map((m,b)=>a.jsxs("div",{className:"flex items-center gap-1 group",children:[a.jsx("span",{className:"text-theme-ink",children:""}),a.jsx("input",{className:`flex-1 border-b border-theme-border/50 focus:border-theme-border focus:outline-none ${f} min-w-0 bg-transparent text-theme-ink font-body`,value:m,onChange:v=>h(b,v.target.value),placeholder:"...",onMouseDown:v=>v.stopPropagation()}),a.jsx("button",{onClick:()=>d(b),className:"opacity-0 group-hover:opacity-100 text-theme-muted hover:text-theme-ink px-1 flex-shrink-0",onMouseDown:v=>v.stopPropagation(),children:""})]},b))})]})}function Hf({widget:e,width:t,height:n}){const r=W(T=>T.updateWidgetData),{label:o,text:l=""}=e.data,s=t<160,i=t>=300,u=s?"text-xs":i?"text-base":"text-sm",c=s?"text-xs p-1":i?"text-base p-3":"text-sm p-2",f=s?"gap-1":"gap-2",x=s?16:i?24:20,g=s?4:8,p=s?8:16,S=Math.max(32,n-x-g-p*2),N=T=>{r(e.id,{text:T.target.value})};return a.jsxs("div",{className:`flex flex-col ${f} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${u} text-theme-ink font-heading flex-shrink-0`,children:o||"Notes"}),a.jsx("textarea",{className:`w-full flex-1 ${c} border border-theme-border/50 focus:border-theme-border focus:outline-none resize-none bg-transparent text-theme-ink font-body rounded-theme`,style:{height:`${S}px`},value:l,onChange:N,placeholder:"Enter text here...",onMouseDown:T=>T.stopPropagation()})]})}function Bf({widget:e,width:t,height:n}){const r=W(d=>d.updateWidgetData),{label:o,checkboxItems:l=[]}=e.data,s=t<160,i=t>=300,u=s?"text-xs":i?"text-base":"text-sm",c=s?"text-xs":i?"text-base":"text-sm",f=s?"w-4 h-4":i?"w-6 h-6":"w-5 h-5",x=s?"text-xs":i?"text-base":"text-sm",g=s?"gap-1":"gap-2",p=s?16:i?24:20,S=s?4:8,N=s?8:16,T=Math.max(30,n-p-S-N*2),h=d=>{const m=[...l];m[d]={...m[d],checked:!m[d].checked},r(e.id,{checkboxItems:m})};return a.jsxs("div",{className:`flex flex-col ${g} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${u} text-theme-ink font-heading flex-shrink-0`,children:o||"Checklist"}),a.jsxs("div",{className:`flex flex-col ${s?"gap-0.5":"gap-1"} overflow-y-auto flex-1`,style:{maxHeight:`${T}px`},onWheel:d=>d.stopPropagation(),children:[l.map((d,m)=>a.jsxs("div",{className:`flex items-center ${g}`,children:[a.jsx("button",{onClick:()=>h(m),onMouseDown:b=>b.stopPropagation(),className:`${f} border-[length:var(--border-width)] border-theme-border flex items-center justify-center transition-colors flex-shrink-0 rounded-theme ${d.checked?"bg-theme-accent text-theme-paper":"bg-theme-paper hover:opacity-80"}`,children:d.checked&&a.jsx("span",{className:x,children:""})}),a.jsx("span",{className:`flex-1 ${c} font-body text-theme-ink ${d.checked?"line-through text-theme-muted":""}`,children:d.name})]},m)),l.length===0&&a.jsx("div",{className:`${c} text-theme-muted italic`,children:"No items yet"})]})]})}function Ru({title:e,onConfirm:t,onCancel:n,buttonLabel:r,isDamage:o}){const[l,s]=_.useState(1),i=()=>{const u=typeof l=="string"?parseInt(l)||1:l;t(Math.max(1,u))};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:n}),a.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme p-4 z-50 min-w-[200px]",children:[a.jsx("h3",{className:"font-heading text-theme-ink font-bold mb-3",children:e}),a.jsx("input",{type:"number",min:"1",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent mb-3 text-center font-bold text-lg",value:l,onChange:u=>s(u.target.value===""?"":parseInt(u.target.value)||""),onBlur:u=>s(Math.max(1,parseInt(u.target.value)||1)),autoFocus:!0,onKeyDown:u=>{u.key==="Enter"&&i(),u.key==="Escape"&&n()}}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:n,className:"flex-1 px-3 py-1.5 text-sm font-body text-theme-ink hover:bg-theme-accent/20 rounded-theme transition-colors border border-theme-border",children:"Cancel"}),a.jsx("button",{onClick:i,className:"flex-1 px-3 py-1.5 text-sm font-body rounded-theme transition-colors bg-theme-accent text-theme-paper hover:opacity-80",children:r})]})]})]})}function Vf({widget:e,width:t,height:n}){const r=W(k=>k.updateWidgetData),{label:o,currentValue:l=10,maxValue:s=10}=e.data,[i,u]=_.useState(!1),[c,f]=_.useState(!1),x=Math.max(0,Math.min(100,l/s*100)),g=t<180,p=t>=350,S=n<100,N=g?"text-xs":p?"text-base":"text-sm",T=g||S?"text-xs":p?"text-lg":"text-sm",h=g||S?"px-1.5 py-0.5 text-[10px]":p?"px-3 py-1.5 text-sm":"px-2 py-1 text-xs",d=g||S?"gap-1":"gap-2",m=g||S?"h-4":p?"h-8":"h-6",b=k=>{const C=Math.max(0,l-k);r(e.id,{currentValue:C}),u(!1)},v=k=>{const C=Math.min(s,l+k);r(e.id,{currentValue:C}),f(!1)},y=()=>{r(e.id,{currentValue:s})};return a.jsxs("div",{className:`flex flex-col ${d} w-full h-full justify-between`,children:[a.jsx("div",{className:`font-bold ${N} text-theme-ink font-heading flex-shrink-0`,children:o||"Health"}),a.jsx("div",{className:"flex-1 flex flex-col justify-center",children:a.jsxs("div",{className:`relative ${m} bg-theme-accent rounded-theme overflow-hidden border border-theme-border`,children:[a.jsx("div",{className:"absolute inset-y-0 left-0 bg-theme-accent transition-all duration-300 ease-out",style:{width:`${x}%`}}),a.jsx("div",{className:"absolute inset-y-0 right-0 bg-theme-paper/70",style:{width:`${100-x}%`}}),a.jsxs("div",{className:`absolute inset-0 flex items-center justify-center font-bold ${T} text-theme-paper`,children:[l," / ",s]})]})}),a.jsxs("div",{className:"flex items-center justify-between gap-1 flex-shrink-0",children:[a.jsx("button",{onClick:()=>u(!0),onMouseDown:k=>k.stopPropagation(),className:`${h} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme font-bold`,children:"Damage"}),a.jsx("button",{onClick:()=>f(!0),onMouseDown:k=>k.stopPropagation(),className:`${h} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme font-bold`,children:"Heal"}),a.jsx("button",{onClick:y,onMouseDown:k=>k.stopPropagation(),className:`${h} bg-theme-accent text-theme-paper hover:opacity-80 transition-colors rounded-theme font-bold`,children:"Full"})]}),i&&a.jsx(Ru,{title:"Take Damage",onConfirm:b,onCancel:()=>u(!1),buttonLabel:"Damage",isDamage:!0}),c&&a.jsx(Ru,{title:"Heal",onConfirm:v,onCancel:()=>f(!1),buttonLabel:"Heal",isDamage:!1})]})}function Xf({widget:e,width:t,height:n}){const{label:r,diceGroups:o=[{count:1,faces:20}],modifier:l=0}=e.data,[s,i]=_.useState(null),[u,c]=_.useState(!1),f=t<180,x=t>=350,g=n<150,p=f?"text-xs":x?"text-base":"text-sm",S=f||g?"py-1 px-2 text-xs":x?"py-3 px-6 text-lg":"py-2 px-4 text-sm",N=f||g?"text-xl":x?"text-5xl":"text-3xl",T=f||g?"text-[10px]":x?"text-sm":"text-xs",h=f||g?"gap-1":"gap-2",d=()=>{c(!0),setTimeout(()=>{const v=[];let y=0;for(const k of o){const C=[];for(let w=0;w<k.count;w++){const P=Math.floor(Math.random()*k.faces)+1;C.push(P),y+=P}v.push({faces:k.faces,rolls:C})}i({groups:v,modifier:l,total:y+l}),c(!1)},300)},b=(()=>{let y=o.map(k=>`${k.count}d${k.faces}`).join(" + ");return l!==0&&(y+=l>=0?` + ${l}`:` - ${Math.abs(l)}`),y})();return a.jsxs("div",{className:`flex flex-col ${h} w-full h-full`,children:[a.jsx("div",{className:`font-bold text-center ${p} text-theme-ink font-heading flex-shrink-0`,children:r||"Dice Roller"}),a.jsxs("button",{onClick:d,onMouseDown:v=>v.stopPropagation(),className:`${S} border-[length:var(--border-width)] border-theme-border font-bold transition-all rounded-theme flex-shrink-0 ${u?"bg-theme-muted animate-pulse text-theme-paper":"bg-theme-paper text-theme-ink hover:bg-theme-accent hover:text-theme-paper"}`,disabled:u,children:[" Roll ",b]}),a.jsx("div",{className:`text-center border-t border-theme-border/50 ${f||g?"pt-1":"pt-2"} flex-1 flex flex-col justify-center`,children:s&&!u?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`${N} font-bold text-theme-ink font-heading`,children:s.total}),a.jsxs("div",{className:`${T} text-theme-muted font-body`,children:[s.groups.map((v,y)=>a.jsxs("span",{children:[y>0&&" + ",a.jsxs("span",{title:`d${v.faces}`,children:["[",v.rolls.join(", "),"]"]})]},y)),s.modifier!==0&&a.jsxs("span",{children:[" ",s.modifier>=0?"+":"",s.modifier]})]}),s.groups.length===1&&s.groups[0].rolls.length===1&&s.groups[0].faces===20&&a.jsxs(a.Fragment,{children:[s.groups[0].rolls[0]===20&&a.jsx("div",{className:`text-green-600 font-bold ${T}`,children:"NAT 20!"}),s.groups[0].rolls[0]===1&&a.jsx("div",{className:`text-red-600 font-bold ${T}`,children:"NAT 1!"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`${N} font-bold text-theme-muted font-heading`,children:""}),a.jsx("div",{className:`${T} text-theme-muted font-body`,children:""})]})})]})}function Yf({widget:e,width:t,height:n}){const r=W(y=>y.updateWidgetData),{label:o,spellLevels:l=[{level:1,max:4,used:0}]}=e.data,s=t<180,i=t>=350,u=n<120,c=s?"text-xs":i?"text-base":"text-sm",f=s||u?"w-6 text-[10px]":i?"w-12 text-sm":"w-8 text-xs",x=s||u?"w-4 h-4":i?"w-7 h-7":"w-5 h-5",g=s||u?"text-[10px] px-1 py-0.5":i?"text-sm px-3 py-1.5":"text-xs px-2 py-1",p=s||u?"gap-1":"gap-2",S=s?16:i?24:20,N=s||u?28:i?40:32,T=s||u?4:8,h=s?8:16,d=Math.max(30,n-S-N-T*3-h*2),m=(y,k)=>{const C=[...l],w=C[y];k<w.used?C[y]={...w,used:k}:C[y]={...w,used:k+1},r(e.id,{spellLevels:C})},b=()=>{const y=l.map(k=>({...k,used:0}));r(e.id,{spellLevels:y})},v=y=>{const k=["th","st","nd","rd"],C=y%100;return y+(k[(C-20)%10]||k[C]||k[0])};return a.jsxs("div",{className:`flex flex-col ${p} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${c} text-theme-ink font-heading flex-shrink-0`,children:o||"Spell Slots"}),a.jsxs("div",{className:`flex flex-col ${p} overflow-y-auto flex-1`,style:{maxHeight:`${d}px`},onWheel:y=>y.stopPropagation(),children:[l.map((y,k)=>a.jsxs("div",{className:`flex items-center ${p}`,children:[a.jsx("span",{className:`${f} font-bold text-center text-theme-ink`,children:v(y.level)}),a.jsx("div",{className:"flex gap-1 flex-1 flex-wrap",children:Array.from({length:y.max}).map((C,w)=>a.jsx("button",{onClick:()=>m(k,w),onMouseDown:P=>P.stopPropagation(),className:`${x} rounded-full border-[length:var(--border-width)] border-theme-border transition-all ${w<y.used?"bg-theme-accent":"bg-theme-paper hover:opacity-80"}`,title:w<y.used?"Click to restore":"Click to use"},w))})]},k)),l.length===0&&a.jsx("div",{className:`${f} text-theme-muted italic`,children:"No spell levels configured"})]}),a.jsx("div",{className:`flex items-center justify-end ${p} border-t border-theme-border/50 pt-2 flex-shrink-0`,children:a.jsx("button",{onClick:b,onMouseDown:y=>y.stopPropagation(),className:`${g} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme`,children:"Reset All"})})]})}function Gf({widget:e,width:t,height:n}){const{label:r,imageUrl:o=""}=e.data,l=t<160,s=t>=300,i=l?"text-xs":s?"text-base":"text-sm",u=l?"text-2xl":s?"text-6xl":"text-4xl",c=l?"text-[10px]":s?"text-base":"text-sm",f=l?"gap-1":"gap-2",x=l?16:s?24:20,g=l?4:8,p=l?8:16,S=Math.max(40,n-x-g-p*2);return a.jsxs("div",{className:`flex flex-col ${f} w-full h-full`,children:[a.jsx("div",{className:`font-bold text-center ${i} text-theme-ink font-heading flex-shrink-0`,children:r||"Portrait"}),a.jsx("div",{className:"border-[length:var(--border-width)] border-theme-border bg-theme-background flex items-center justify-center overflow-hidden rounded-theme flex-1",style:{height:`${S}px`},children:o?a.jsx("img",{src:o,alt:r||"Character",className:"w-full h-full object-cover",onError:N=>{N.target.style.display="none"}}):a.jsxs("div",{className:`text-theme-muted text-center ${l?"p-1":"p-2"}`,children:[a.jsx("div",{className:`${u} mb-1`,children:""}),a.jsx("span",{className:`${c} font-body`,children:"No image"})]})})]})}function Qf({widget:e,width:t,height:n}){const r=W(d=>d.updateWidgetData),{label:o,maxPool:l=5,currentPool:s=5,poolStyle:i="dots"}=e.data,u=t<160,c=t>=300,f=n<100,x=u?"text-xs":c?"text-base":"text-sm",g=u||f?"w-5 h-5 text-sm":c?"w-8 h-8 text-xl":"w-6 h-6 text-base",p=u||f?"text-[10px]":c?"text-sm":"text-xs",S=u||f?"gap-1":"gap-2",N=d=>{d<s?r(e.id,{currentPool:d}):r(e.id,{currentPool:d+1})},T=d=>{switch(i){case"hearts":return d?"":"";case"boxes":return d?"":"";case"dots":default:return d?"":""}},h=d=>{const m=`${g} flex items-center justify-center transition-all cursor-pointer hover:scale-125`;return i==="hearts"?m:`${m} ${d?"text-theme-ink":"text-theme-muted"}`};return a.jsxs("div",{className:`flex flex-col ${S} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${x} text-theme-ink font-heading flex-shrink-0`,children:o||"Resource Pool"}),a.jsx("div",{className:`flex flex-wrap ${u||f?"gap-0.5":"gap-1"} flex-1 content-start overflow-y-auto`,onWheel:d=>d.stopPropagation(),children:Array.from({length:l}).map((d,m)=>a.jsx("button",{onClick:()=>N(m),onMouseDown:b=>b.stopPropagation(),className:h(m<s),title:m<s?"Click to use":"Click to restore",children:T(m<s)},m))}),a.jsxs("div",{className:`${p} text-center text-theme-muted font-body flex-shrink-0`,children:[s," / ",l]})]})}function Kf({widget:e,width:t,height:n}){const r=W(p=>p.updateWidgetData),{label:o,toggleItems:l=[]}=e.data,s=t<180,i=t>=350,u=n<100,c=s?"text-xs":i?"text-base":"text-sm",f=s||u?"px-1.5 py-0.5 text-[10px]":i?"px-3 py-1.5 text-sm":"px-2 py-1 text-xs",x=s||u?"gap-1":"gap-2",g=p=>{const S=[...l];S[p]={...S[p],active:!S[p].active},r(e.id,{toggleItems:S})};return a.jsxs("div",{className:`flex flex-col ${x} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${c} text-theme-ink font-heading flex-shrink-0`,children:o||"Conditions"}),a.jsxs("div",{className:`flex flex-wrap ${x} overflow-y-auto flex-1 content-start`,onWheel:p=>p.stopPropagation(),children:[l.map((p,S)=>a.jsx("button",{onClick:()=>g(S),onMouseDown:N=>N.stopPropagation(),className:`${f} border border-theme-border transition-all rounded-theme font-body ${p.active?"bg-theme-accent text-theme-paper":"bg-theme-paper text-theme-ink hover:opacity-80"}`,children:p.name},S)),l.length===0&&a.jsx("div",{className:`${f} text-theme-muted italic`,children:"No conditions configured"})]})]})}function Zf({widget:e,width:t,height:n}){const r=W(v=>v.updateWidgetData),{label:o,columns:l=["Item","Qty","Weight"],rows:s=[]}=e.data,[i,u]=_.useState(null),c=t<200,f=t>=400,x=n<120,g=c?"text-xs":f?"text-base":"text-sm",p=c||x?"text-[10px] p-0.5":f?"text-base p-2":"text-sm p-1",S=c||x?"gap-1":"gap-2",N=c?16:f?24:20,T=c||x?4:8,h=c?8:16,d=Math.max(40,n-N-T-h*2),m=(v,y,k)=>{const C=[...s];C[v]={...C[v],cells:[...C[v].cells]},C[v].cells[y]=k,r(e.id,{rows:C})},b=v=>{const y=[...s];y[v]={cells:l.map(()=>"")},r(e.id,{rows:y})};return a.jsxs("div",{className:`flex flex-col ${S} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${g} text-theme-ink font-heading flex-shrink-0`,children:o||"Table"}),a.jsx("div",{className:"overflow-auto flex-1",style:{maxHeight:`${d}px`},onWheel:v=>v.stopPropagation(),children:a.jsxs("table",{className:`w-full border-collapse ${p}`,children:[a.jsx("thead",{className:"sticky top-0",children:a.jsxs("tr",{children:[l.map((v,y)=>a.jsx("th",{className:`border border-theme-border bg-theme-background ${p} text-theme-ink font-heading`,children:v},y)),a.jsx("th",{className:c||x?"w-4":"w-6"})]})}),a.jsx("tbody",{children:s.map((v,y)=>a.jsxs("tr",{className:"group",children:[v.cells.map((k,C)=>a.jsx("td",{className:`border border-theme-border ${p} text-theme-ink`,children:(i==null?void 0:i.row)===y&&(i==null?void 0:i.col)===C?a.jsx("input",{autoFocus:!0,value:k,onChange:w=>m(y,C,w.target.value),onBlur:()=>u(null),onKeyDown:w=>w.key==="Enter"&&u(null),className:`w-full bg-transparent focus:outline-none ${c||x?"text-[10px]":f?"text-base":"text-sm"} text-theme-ink font-body`,onMouseDown:w=>w.stopPropagation()}):a.jsx("div",{onClick:()=>u({row:y,col:C}),onMouseDown:w=>w.stopPropagation(),className:`${c||x?"min-h-[1em]":"min-h-[1.5em]"} cursor-text hover:opacity-70 font-body`,children:k||a.jsx("span",{className:"text-theme-muted",children:"-"})})},C)),a.jsx("td",{className:`${c||x?"w-4":"w-6"} p-0`,children:a.jsx("button",{onClick:()=>b(y),onMouseDown:k=>k.stopPropagation(),className:"w-full h-full text-theme-muted hover:text-theme-ink opacity-0 group-hover:opacity-100",children:""})})]},y))})]})})]})}function Ou({title:e,onClose:t,children:n}){return fo.createPortal(a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999]",onClick:t,onMouseDown:r=>r.stopPropagation(),children:a.jsxs("div",{className:"bg-theme-paper border border-theme-border rounded-theme shadow-xl p-4 min-w-[280px] max-w-[400px]",onClick:r=>r.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"font-bold text-theme-ink font-heading",children:e}),a.jsx("button",{onClick:t,className:"text-theme-muted hover:text-theme-ink text-xl leading-none",children:""})]}),n]})}),document.body)}function tx(e){if(e<=0)return"Expired";const t=Math.floor(e/(365*24*60*60)),n=Math.floor(e%(365*24*60*60)/(30*24*60*60)),r=Math.floor(e%(30*24*60*60)/(24*60*60)),o=Math.floor(e%(24*60*60)/(60*60)),l=Math.floor(e%(60*60)/60),s=e%60,i=[];return t>0&&i.push(`${t}y`),n>0&&i.push(`${n}mo`),r>0&&i.push(`${r}d`),o>0&&i.push(`${o}h`),l>0&&i.push(`${l}m`),(s>0||i.length===0)&&i.push(`${s}s`),i.slice(0,3).join(" ")}function zu(e,t){switch(t){case"seconds":return e;case"minutes":return e*60;case"hours":return e*60*60;case"days":return e*24*60*60;case"months":return e*30*24*60*60;case"years":return e*365*24*60*60;default:return e}}function Jf({widget:e,width:t,height:n}){const r=W(D=>D.updateWidgetData),{label:o,timedEffects:l=[]}=e.data,[s,i]=_.useState(!1),[u,c]=_.useState(!1),[f,x]=_.useState(""),[g,p]=_.useState(1),[S,N]=_.useState("minutes"),[T,h]=_.useState(1),[d,m]=_.useState("minutes"),b=t<200,v=t>=350,y=n<180,k=b?"text-xs":v?"text-base":"text-sm",C=b||y?"text-xs":v?"text-sm":"text-xs",w=b||y?"text-xs px-2 py-1":v?"text-sm px-3 py-1.5":"text-xs px-2 py-1",P=b||y?"gap-1":"gap-2",U=()=>{if(f.trim()){const D=zu(g,S),A={name:f.trim(),remainingSeconds:D};r(e.id,{timedEffects:[...l,A]}),x(""),p(1),i(!1)}},ee=()=>{x(""),p(1),i(!1)},te=D=>{const A=[...l];A.splice(D,1),r(e.id,{timedEffects:A})},pe=()=>{const D=zu(T,d),A=l.map(fe=>({...fe,remainingSeconds:Math.max(0,fe.remainingSeconds-D)}));r(e.id,{timedEffects:A}),c(!1)},Ee=()=>{h(1),c(!1)},se=b?16:v?24:20,ce=b||y?32:v?44:36,I=b||y?4:8,z=b?8:16,E=Math.max(60,n-se-ce-I*3-z*2);return a.jsxs("div",{className:`flex flex-col ${P} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${k} text-theme-ink font-heading flex-shrink-0`,children:o||"Time Tracker"}),a.jsxs("div",{className:`space-y-1 overflow-y-auto flex-1 ${C}`,style:{maxHeight:`${E}px`},onWheel:D=>D.stopPropagation(),children:[l.map((D,A)=>a.jsxs("div",{className:`flex justify-between items-center group p-1.5 rounded-theme border ${D.remainingSeconds<=0?"bg-theme-accent/20 border-theme-accent animate-pulse":"border-theme-border/30 hover:border-theme-border"}`,children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("span",{className:`font-medium ${D.remainingSeconds<=0?"text-theme-accent":"text-theme-ink"}`,children:D.name}),a.jsx("div",{className:`${D.remainingSeconds<=0?"text-theme-accent font-bold":"text-theme-muted"}`,children:tx(D.remainingSeconds)})]}),a.jsx("button",{onClick:()=>te(A),className:"opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 px-1 flex-shrink-0",onMouseDown:fe=>fe.stopPropagation(),children:""})]},A)),l.length===0&&!s&&a.jsx("div",{className:"text-theme-muted italic text-center py-2",children:"No active effects"})]}),a.jsxs("div",{className:`flex ${P} border-t border-theme-border/50 pt-2 flex-shrink-0`,children:[a.jsx("button",{onClick:()=>i(!0),className:`${w} flex-1 border border-theme-border text-theme-ink rounded-theme hover:bg-theme-accent hover:text-theme-paper transition-colors font-bold`,onMouseDown:D=>D.stopPropagation(),children:"+ Add Effect"}),l.length>0&&a.jsx("button",{onClick:()=>c(!0),className:`${w} flex-1 border border-theme-border text-theme-ink rounded-theme hover:bg-theme-accent hover:text-theme-paper transition-colors font-bold`,onMouseDown:D=>D.stopPropagation(),children:" Pass Time"})]}),s&&a.jsx(Ou,{title:"Add Effect",onClose:ee,children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{className:"w-full border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme",value:f,onChange:D=>x(D.target.value),placeholder:"Effect name...",autoFocus:!0,onKeyDown:D=>{D.key==="Enter"&&U(),D.key==="Escape"&&ee()}}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",min:"1",className:"w-20 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme text-center",value:g,onChange:D=>p(D.target.value===""?"":parseInt(D.target.value)||1),onBlur:D=>p(Math.max(1,parseInt(D.target.value)||1))}),a.jsxs("select",{className:"flex-1 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme",value:S,onChange:D=>N(D.target.value),children:[a.jsx("option",{value:"seconds",children:"Seconds"}),a.jsx("option",{value:"minutes",children:"Minutes"}),a.jsx("option",{value:"hours",children:"Hours"}),a.jsx("option",{value:"days",children:"Days"}),a.jsx("option",{value:"months",children:"Months"}),a.jsx("option",{value:"years",children:"Years"})]})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx("button",{onClick:U,className:"flex-1 py-2 px-4 bg-theme-accent text-theme-paper rounded-theme hover:opacity-90 transition-colors font-bold",children:"Add Effect"}),a.jsx("button",{onClick:ee,className:"flex-1 py-2 px-4 border border-theme-border text-theme-muted rounded-theme hover:bg-theme-border hover:text-theme-ink transition-colors",children:"Cancel"})]})]})}),u&&a.jsx(Ou,{title:"Pass Time",onClose:Ee,children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-theme-muted text-sm",children:"How much time passes for all effects?"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",min:"1",className:"w-20 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme text-center",value:T,onChange:D=>h(D.target.value===""?"":parseInt(D.target.value)||1),onBlur:D=>h(Math.max(1,parseInt(D.target.value)||1)),autoFocus:!0,onKeyDown:D=>{D.key==="Enter"&&pe(),D.key==="Escape"&&Ee()}}),a.jsxs("select",{className:"flex-1 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme",value:d,onChange:D=>m(D.target.value),children:[a.jsx("option",{value:"seconds",children:"Seconds"}),a.jsx("option",{value:"minutes",children:"Minutes"}),a.jsx("option",{value:"hours",children:"Hours"}),a.jsx("option",{value:"days",children:"Days"}),a.jsx("option",{value:"months",children:"Months"}),a.jsx("option",{value:"years",children:"Years"})]})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx("button",{onClick:pe,className:"flex-1 py-2 px-4 bg-theme-accent text-theme-paper rounded-theme hover:opacity-90 transition-colors font-bold",children:"Confirm"}),a.jsx("button",{onClick:Ee,className:"flex-1 py-2 px-4 border border-theme-border text-theme-muted rounded-theme hover:bg-theme-border hover:text-theme-ink transition-colors",children:"Cancel"})]})]})})]})}function nx({widget:e,updateData:t}){const{label:n,numberItems:r=[]}=e.data,[o,l]=_.useState(""),s=f=>{f.preventDefault(),o.trim()&&(t({numberItems:[...r,{name:o.trim(),value:0}]}),l(""))},i=f=>{const x=[...r];x.splice(f,1),t({numberItems:x})},u=(f,x)=>{const g=[...r];g[f]={...g[f],name:x},t({numberItems:g})},c=(f,x)=>{const g=[...r];g[f]={...g[f],value:x},t({numberItems:g})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:f=>t({label:f.target.value}),placeholder:"Trackers"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Items"}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:r.map((f,x)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm",value:f.name,onChange:g=>u(x,g.target.value),placeholder:"Name"}),a.jsx("input",{type:"number",className:"w-20 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center",value:f.value,onChange:g=>c(x,parseInt(g.target.value)||0)}),a.jsx("button",{onClick:()=>i(x),className:"text-red-500 hover:text-red-700 px-2",children:""})]},x))}),a.jsxs("form",{onSubmit:s,className:"flex gap-2 mt-2",children:[a.jsx("input",{type:"text",value:o,onChange:f=>l(f.target.value),placeholder:"Add new item...",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm"}),a.jsx("button",{type:"submit",className:"px-3 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90",children:"Add"})]})]})]})}function rx({widget:e,updateData:t}){const{label:n,itemCount:r=5}=e.data;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:o=>t({label:o.target.value}),placeholder:"List Title"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Number of Item Slots"}),a.jsx("input",{type:"number",min:"1",max:"50",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:r,onChange:o=>t({itemCount:o.target.value===""?"":parseInt(o.target.value)||""}),onBlur:o=>t({itemCount:Math.max(1,Math.min(50,parseInt(o.target.value)||1))})}),a.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Items can be filled in during play mode"})]})]})}function ox({widget:e,updateData:t}){const{label:n}=e.data;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:r=>t({label:r.target.value}),placeholder:"Title"})]}),a.jsx("p",{className:"text-xs text-theme-muted",children:"Use the resize handle on the widget in edit mode to adjust the size."})]})}function lx({widget:e,updateData:t}){const{label:n,checkboxItems:r=[]}=e.data,[o,l]=_.useState(""),s=u=>{u.preventDefault(),o.trim()&&(t({checkboxItems:[...r,{name:o.trim(),checked:!1}]}),l(""))},i=u=>{const c=[...r];c.splice(u,1),t({checkboxItems:c})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:u=>t({label:u.target.value}),placeholder:"Checklist Title"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Checkbox Items"}),a.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:r.map((u,c)=>a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{className:"flex-1 text-theme-ink",children:u.name}),a.jsx("button",{onClick:()=>i(c),className:"text-red-500 hover:text-red-700 px-2",children:""})]},c))}),a.jsxs("form",{onSubmit:s,className:"flex gap-2 mt-2",children:[a.jsx("input",{type:"text",value:o,onChange:u=>l(u.target.value),placeholder:"Add new item...",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm"}),a.jsx("button",{type:"submit",className:"px-3 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90",children:"Add"})]})]})]})}function sx({widget:e,updateData:t}){const{label:n,maxValue:r=10}=e.data;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:o=>t({label:o.target.value}),placeholder:"Health"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Maximum Value"}),a.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:r,onChange:o=>{t({maxValue:o.target.value===""?"":parseInt(o.target.value)||""})},onBlur:o=>{const l=parseInt(o.target.value)||1;t({maxValue:Math.max(1,l)})},min:1})]})]})}function ax({widget:e,updateData:t}){const{label:n,diceGroups:r=[{count:1,faces:20}],modifier:o=0}=e.data,l=(u,c,f)=>{const x=[...r];x[u]={...x[u],[c]:f},t({diceGroups:x})},s=()=>{t({diceGroups:[...r,{count:1,faces:6}]})},i=u=>{if(r.length>1){const c=r.filter((f,x)=>x!==u);t({diceGroups:c})}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:u=>t({label:u.target.value}),placeholder:"Roll Name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Dice Groups"}),a.jsx("div",{className:"space-y-2",children:r.map((u,c)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",min:"1",value:u.count,onChange:f=>l(c,"count",f.target.value===""?"":parseInt(f.target.value)||""),onBlur:f=>l(c,"count",Math.max(1,parseInt(f.target.value)||1)),className:"w-16 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center"}),a.jsx("span",{className:"text-theme-ink",children:"d"}),a.jsx("input",{type:"number",min:"1",value:u.faces,onChange:f=>l(c,"faces",f.target.value===""?"":parseInt(f.target.value)||""),onBlur:f=>l(c,"faces",Math.max(1,parseInt(f.target.value)||1)),className:"w-16 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center"}),r.length>1&&a.jsx("button",{onClick:()=>i(c),className:"text-red-500 hover:text-red-700 px-2",children:""})]},c))}),a.jsx("button",{onClick:s,className:"mt-2 px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Dice"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Modifier"}),a.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:o,onChange:u=>t({modifier:parseInt(u.target.value)||0})})]})]})}function ix({widget:e,updateData:t}){const{label:n,spellLevels:r=[{level:1,max:4,used:0}]}=e.data,o=()=>{const u=r.map(f=>f.level),c=Math.min(9,Math.max(...u,0)+1);c<=9&&!u.includes(c)&&t({spellLevels:[...r,{level:c,max:2,used:0}]})},l=u=>{const c=[...r];c.splice(u,1),t({spellLevels:c})},s=(u,c)=>{const f=[...r];if(typeof c=="string")f[u]={...f[u],max:c};else{const x=Math.max(1,Math.min(10,c));f[u]={...f[u],max:x,used:Math.min(f[u].used,x)}}t({spellLevels:f})},i=(u,c)=>{const f=[...r];typeof c=="string"?f[u]={...f[u],level:c}:f[u]={...f[u],level:Math.max(1,Math.min(9,c))},t({spellLevels:f})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:u=>t({label:u.target.value}),placeholder:"Spell Slots"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Spell Levels"}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:r.map((u,c)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-theme-ink text-sm",children:"Level"}),a.jsx("input",{type:"number",value:u.level,onChange:f=>i(c,f.target.value===""?"":parseInt(f.target.value)||""),onBlur:f=>i(c,Math.max(1,Math.min(9,parseInt(f.target.value)||1))),className:"w-12 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center",min:1,max:9}),a.jsx("span",{className:"text-theme-ink text-sm",children:"Max Slots"}),a.jsx("input",{type:"number",value:u.max,onChange:f=>s(c,f.target.value===""?"":parseInt(f.target.value)||""),onBlur:f=>s(c,Math.max(1,Math.min(10,parseInt(f.target.value)||1))),className:"w-12 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center",min:1,max:10}),a.jsx("button",{onClick:()=>l(c),className:"text-red-500 hover:text-red-700 px-2",children:""})]},c))}),r.length<9&&a.jsx("button",{onClick:o,className:"mt-2 px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Level"})]})]})}function ux({widget:e,updateData:t}){const{label:n,imageUrl:r=""}=e.data,o=s=>{var u;const i=(u=s.target.files)==null?void 0:u[0];if(i){const c=new FileReader;c.onload=f=>{var g;const x=(g=f.target)==null?void 0:g.result;t({imageUrl:x})},c.readAsDataURL(i)}},l=()=>{t({imageUrl:""})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:s=>t({label:s.target.value}),placeholder:"Portrait"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Image"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("label",{className:"flex-1 px-3 py-2 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90 cursor-pointer text-center",children:["Upload Image",a.jsx("input",{type:"file",accept:"image/*",onChange:o,className:"hidden"})]}),r&&a.jsx("button",{onClick:l,className:"px-3 py-2 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-red-500 hover:text-white hover:border-red-500",children:"Clear"})]}),r&&a.jsx("div",{className:"mt-2 border border-theme-border rounded-theme overflow-hidden",children:a.jsx("img",{src:r,alt:"Preview",className:"w-full h-32 object-cover"})})]})]})}function cx({widget:e,updateData:t}){const{label:n,maxPool:r=5,poolStyle:o="dots"}=e.data;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:l=>t({label:l.target.value}),placeholder:"Resource Pool"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Maximum Pool"}),a.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:r,onChange:l=>{t({maxPool:l.target.value===""?"":parseInt(l.target.value)||""})},onBlur:l=>{const s=Math.max(1,Math.min(1e3,parseInt(l.target.value)||1));t({maxPool:s})},min:1,max:1e3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Style"}),a.jsxs("select",{value:o,onChange:l=>t({poolStyle:l.target.value}),className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",children:[a.jsx("option",{value:"dots",children:"Dots"}),a.jsx("option",{value:"boxes",children:"Boxes"}),a.jsx("option",{value:"hearts",children:"Hearts"})]})]})]})}function dx({widget:e,updateData:t}){const{label:n,toggleItems:r=[]}=e.data,[o,l]=_.useState(""),s=["Blinded","Charmed","Frightened","Poisoned","Stunned","Prone","Invisible","Paralyzed","Unconscious","Exhausted","Afraid","Angry","Confused","Wounded","Dazed"],i=g=>{g.trim()&&!r.some(p=>p.name.toLowerCase()===g.trim().toLowerCase())&&t({toggleItems:[...r,{name:g.trim(),active:!1}]}),l("")},u=g=>{g.preventDefault(),i(o)},c=g=>{const p=[...r];p.splice(g,1),t({toggleItems:p})},f=r.map(g=>g.name.toLowerCase()),x=s.filter(g=>!f.includes(g.toLowerCase()));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:g=>t({label:g.target.value}),placeholder:"Conditions"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Conditions"}),a.jsx("div",{className:"flex flex-wrap gap-1 max-h-32 overflow-y-auto",children:r.map((g,p)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-theme-background rounded-theme text-sm",children:[a.jsx("span",{className:"text-theme-ink",children:g.name}),a.jsx("button",{onClick:()=>c(p),className:"text-red-500 hover:text-red-700",children:""})]},p))}),a.jsxs("form",{onSubmit:u,className:"flex gap-2 mt-2",children:[a.jsx("input",{type:"text",value:o,onChange:g=>l(g.target.value),placeholder:"Add condition...",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm"}),a.jsx("button",{type:"submit",className:"px-3 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90",children:"Add"})]}),x.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx("span",{className:"text-xs text-theme-muted",children:"Quick add:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:x.slice(0,8).map(g=>a.jsx("button",{onClick:()=>i(g),className:"px-2 py-0.5 text-xs border border-theme-border rounded-theme text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:g},g))})]})]})]})}function fx({widget:e,updateData:t}){const{label:n}=e.data;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:r=>t({label:r.target.value}),placeholder:"Time Tracker"})]}),a.jsxs("div",{className:"text-sm text-theme-muted",children:[a.jsx("p",{children:"Use this widget to track timed effects in your game."}),a.jsxs("ul",{className:"list-disc ml-4 mt-2 space-y-1",children:[a.jsx("li",{children:"Add effects with their remaining duration"}),a.jsx("li",{children:'Use the "Pass Time" controls to advance all timers at once'}),a.jsx("li",{children:"Expired effects will be highlighted"})]})]})]})}function hx({widget:e,updateData:t}){const{label:n,columns:r=["Item","Qty","Weight"],rows:o=[]}=e.data,l=(f,x)=>{const g=[...r];g[f]=x,t({columns:g})},s=()=>{t({columns:[...r,"New"]})},i=f=>{if(r.length<=1)return;const x=[...r];x.splice(f,1),t({columns:x})},u=()=>{const f={cells:r.map(()=>"")};t({rows:[...o,f]})},c=f=>{if(o.length<=1)return;const x=[...o];x.splice(f,1),t({rows:x})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:f=>t({label:f.target.value}),placeholder:"Inventory"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Columns"}),a.jsx("div",{className:"space-y-2",children:r.map((f,x)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm",value:f,onChange:g=>l(x,g.target.value),placeholder:"Column name"}),r.length>1&&a.jsx("button",{onClick:()=>i(x),className:"text-red-500 hover:text-red-700 px-2",children:""})]},x))}),a.jsx("button",{onClick:s,className:"mt-2 px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Column"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:["Rows (",o.length,")"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:u,className:"px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Row"}),o.length>1&&a.jsx("button",{onClick:()=>c(o.length-1),className:"px-3 py-1 border border-theme-border rounded-theme text-sm text-red-500 hover:bg-red-500 hover:text-white",children:"- Remove Row"})]}),a.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Row contents can be edited in play mode"})]})]})}function px(e){return{NUMBER:"Number Tracker",LIST:"List",TEXT:"Text",CHECKBOX:"Checkbox",HEALTH_BAR:"Health Bar",DICE_ROLLER:"Dice Roller",SPELL_SLOT:"Spell Slots",IMAGE:"Image",POOL:"Resource Pool",TOGGLE_GROUP:"Conditions",TABLE:"Table",TIME_TRACKER:"Time Tracker"}[e]||"Widget"}function mx({widget:e,onClose:t}){const n=W(p=>p.updateWidgetData),r=W(p=>p.updateWidgetSize),[o,l]=_.useState({...e.data}),[s,i]=_.useState(e.w||200),u=p=>{const S={...o,...p};l(S),n(e.id,p)},c=p=>{i(p),r(e.id,p,e.h||0)},f={...e,data:o,w:s},x=()=>{const p={widget:f,updateData:u,updateWidth:c};switch(e.type){case"NUMBER":return a.jsx(nx,{...p});case"LIST":return a.jsx(rx,{...p});case"TEXT":return a.jsx(ox,{...p});case"CHECKBOX":return a.jsx(lx,{...p});case"HEALTH_BAR":return a.jsx(sx,{...p});case"DICE_ROLLER":return a.jsx(ax,{...p});case"SPELL_SLOT":return a.jsx(ix,{...p});case"IMAGE":return a.jsx(ux,{...p});case"POOL":return a.jsx(cx,{...p});case"TOGGLE_GROUP":return a.jsx(dx,{...p});case"TABLE":return a.jsx(hx,{...p});case"TIME_TRACKER":return a.jsx(fx,{...p});default:return null}},g=()=>{const p={widget:f,mode:"play",width:200,height:200};switch(e.type){case"NUMBER":return a.jsx(Af,{...p});case"LIST":return a.jsx(Uf,{...p});case"TEXT":return a.jsx(Hf,{...p});case"CHECKBOX":return a.jsx(Bf,{...p});case"HEALTH_BAR":return a.jsx(Vf,{...p});case"DICE_ROLLER":return a.jsx(Xf,{...p});case"SPELL_SLOT":return a.jsx(Yf,{...p});case"IMAGE":return a.jsx(Gf,{...p});case"POOL":return a.jsx(Qf,{...p});case"TOGGLE_GROUP":return a.jsx(Kf,{...p});case"TABLE":return a.jsx(Zf,{...p});case"TIME_TRACKER":return a.jsx(Jf,{...p});default:return null}};return _.useEffect(()=>{const p=S=>{S.key==="Escape"&&t()};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[t]),fo.createPortal(a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-0 sm:p-4",onClick:p=>{p.target===p.currentTarget&&t()},onMouseDown:p=>p.stopPropagation(),onMouseUp:p=>p.stopPropagation(),onMouseMove:p=>p.stopPropagation(),onWheel:p=>p.stopPropagation(),onTouchStart:p=>p.stopPropagation(),onTouchMove:p=>p.stopPropagation(),onTouchEnd:p=>p.stopPropagation(),children:a.jsxs("div",{className:"bg-theme-paper border-[length:var(--border-width)] border-theme-border rounded-none sm:rounded-theme shadow-theme sm:max-w-2xl w-full h-full sm:h-auto sm:max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-theme-border",children:[a.jsxs("h2",{className:"text-lg font-bold text-theme-ink font-heading",children:["Edit ",px(e.type)]}),a.jsx("button",{onClick:t,className:"w-8 h-8 flex items-center justify-center text-theme-muted hover:text-theme-ink hover:bg-theme-background rounded-theme transition-colors",children:""})]}),a.jsx("div",{className:"flex-1 overflow-auto p-4",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-sm font-medium text-theme-muted mb-3",children:"Settings"}),x()]}),a.jsxs("div",{className:"lg:w-72 flex-shrink-0",children:[a.jsx("h3",{className:"text-sm font-medium text-theme-muted mb-3",children:"Preview"}),a.jsx("div",{className:"bg-theme-paper border-[length:var(--border-width)] border-theme-border rounded-theme p-2 sm:p-4 shadow-theme",style:{width:"200px"},children:g()})]})]})}),a.jsx("div",{className:"px-4 py-3 border-t border-theme-border flex justify-end",children:a.jsx("button",{onClick:t,className:"px-4 py-2 bg-theme-accent text-theme-paper rounded-theme hover:opacity-90 font-medium",children:"Done"})})]})}),document.body)}const Wn=10,gx={NUMBER:{width:140,height:60},LIST:{width:140,height:80},TEXT:{width:120,height:60},CHECKBOX:{width:140,height:60},HEALTH_BAR:{width:160,height:80},DICE_ROLLER:{width:160,height:120},SPELL_SLOT:{width:160,height:80},IMAGE:{width:100,height:100},POOL:{width:120,height:80},TOGGLE_GROUP:{width:140,height:60},TABLE:{width:180,height:80},TIME_TRACKER:{width:180,height:140}};function xx({widget:e,scale:t}){const n=W(L=>L.updateWidgetPosition),r=W(L=>L.updateWidgetSize),o=W(L=>L.moveWidgetGroup),l=W(L=>L.removeWidget),s=W(L=>L.detachWidgets),i=W(L=>L.mode),u=W(L=>L.setEditingWidgetId),c=W(L=>L.selectedWidgetId),f=W(L=>L.setSelectedWidgetId),x=W(L=>L.activeCharacterId),p=W(L=>L.characters).find(L=>L.id===x),S=p!=null&&p.theme?In(p.theme):void 0,N=p!=null&&p.theme?di(p.theme):void 0,T=(S==null?void 0:S.cardTexture)||(N==null?void 0:N.cardTexture)||"none",h=wt(T),d=_.useRef(null),m=_.useRef(null),[b,v]=_.useState(!1),[y,k]=_.useState(!1),[C,w]=_.useState(null),P=_.useRef({x:0,y:0}),[U,ee]=_.useState(!1),te=_.useRef({mouseX:0,mouseY:0,width:0,height:0}),pe=c===e.id,Ee=gx[e.type]||{width:120,height:60};_.useEffect(()=>{if(e.h&&e.h>0){w(e.h);return}if(d.current){const L=new ResizeObserver(be=>{for(const Ye of be){const Ge=Ye.target.scrollHeight,Qe=Math.ceil(Ge/Wn)*Wn;w(Qe)}});return L.observe(d.current),()=>L.disconnect()}},[e.data,e.h]);const se=L=>{i==="edit"&&(pe||(L.preventDefault(),L.stopPropagation(),f(e.id)))},ce=L=>{i==="edit"&&!I&&(L.preventDefault(),L.stopPropagation(),f(e.id))},I=y||pe,z=()=>{v(!0),u(e.id)},E=()=>{v(!1),u(null)},D=L=>Math.round(L/Wn)*Wn,fe=(()=>{if(e.w)return e.w;if(e.type==="TABLE"){const be=(e.data.columns||["Item","Qty","Weight"]).length,Qe=Math.max(200,be*80+40);return D(Qe)}return 200})(),me=_.useCallback(L=>{L.preventDefault(),L.stopPropagation(),e.groupId&&s(e.id,e.id);const be="touches"in L?L.touches[0].clientX:L.clientX,Ye="touches"in L?L.touches[0].clientY:L.clientY,Ge=e.w||200,Qe=e.h||120;te.current={mouseX:be,mouseY:Ye,width:Ge,height:Qe},ee(!0)},[e.w,e.h,e.groupId,e.id,s]),ft=_.useCallback(L=>{if(!U)return;const be="touches"in L?L.touches[0].clientX:L.clientX,Ye="touches"in L?L.touches[0].clientY:L.clientY,Ge=(be-te.current.mouseX)/t,Qe=(Ye-te.current.mouseY)/t,_t=D(Math.max(Ee.width,te.current.width+Ge)),gn=D(Math.max(Ee.height,te.current.height+Qe));r(e.id,_t,gn)},[U,t,Ee,e.id,r]),Le=_.useCallback(()=>{ee(!1)},[]);_.useEffect(()=>{if(U)return window.addEventListener("mousemove",ft),window.addEventListener("mouseup",Le),window.addEventListener("touchmove",ft),window.addEventListener("touchend",Le),()=>{window.removeEventListener("mousemove",ft),window.removeEventListener("mouseup",Le),window.removeEventListener("touchmove",ft),window.removeEventListener("touchend",Le)}},[U,ft,Le]);const Ht=(L,be)=>{P.current={x:be.x,y:be.y}},Wl=(L,be)=>{if(e.groupId){const Ye=be.x-P.current.x,Ge=be.y-P.current.y;document.querySelectorAll(`[data-group-id="${e.groupId}"]`).forEach(_t=>{const gn=_t.getAttribute("data-widget-id");if(gn&&gn!==e.id){const Ln=W.getState().getWidgetsInGroup(e.groupId).find(j=>j.id===gn);Ln&&(_t.style.transform=`translate(${Ln.x+Ye}px, ${Ln.y+Ge}px)`)}})}},ho=(L,be)=>{const Ye=D(be.x),Ge=D(be.y);if(e.groupId){const Qe=Ye-e.x,_t=Ge-e.y;(Qe!==0||_t!==0)&&o(e.id,Qe,_t)}else n(e.id,Ye,Ge)},Bt=e.h&&e.h>0?e.h:C,Fl=()=>{const L={widget:e,mode:"play",width:fe,height:Bt||120};switch(e.type){case"NUMBER":return a.jsx(Af,{...L});case"LIST":return a.jsx(Uf,{...L});case"TEXT":return a.jsx(Hf,{...L});case"CHECKBOX":return a.jsx(Bf,{...L});case"HEALTH_BAR":return a.jsx(Vf,{...L});case"DICE_ROLLER":return a.jsx(Xf,{...L});case"SPELL_SLOT":return a.jsx(Yf,{...L});case"IMAGE":return a.jsx(Gf,{...L});case"POOL":return a.jsx(Qf,{...L});case"TOGGLE_GROUP":return a.jsx(Kf,{...L});case"TABLE":return a.jsx(Zf,{...L});case"TIME_TRACKER":return a.jsx(Jf,{...L});default:return null}};return a.jsxs(a.Fragment,{children:[a.jsx(ex,{nodeRef:d,position:{x:e.x,y:e.y},onStart:Ht,onDrag:Wl,onStop:ho,scale:t,grid:[Wn,Wn],handle:".drag-handle",disabled:i==="play",children:a.jsxs("div",{ref:d,"data-widget-id":e.id,"data-group-id":e.groupId||"",className:`react-draggable absolute bg-theme-paper border-[length:var(--border-width)] border-theme-border p-2 sm:p-4 cursor-default group touch-manipulation rounded-theme ${e.groupId&&i==="edit"?"ring-2 ring-green-500 ring-opacity-50":""} ${U?"select-none":""}`,style:{width:`${fe}px`,minWidth:`${Ee.width}px`,height:Bt?`${Bt}px`:"auto",minHeight:Bt?`${Bt}px`:C?`${C}px`:"auto",zIndex:I&&i==="edit"?100:void 0},onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),onTouchStart:se,onClick:ce,children:[h&&a.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-theme z-0 overflow-hidden",style:{backgroundColor:"var(--color-paper)"},children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${cn[T]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:"var(--card-texture-opacity)",mixBlendMode:"overlay"}})}),i==="edit"&&a.jsx("div",{className:"drag-handle absolute top-0 left-0 right-0 h-6 sm:h-4 bg-transparent cursor-move hover:opacity-70 active:opacity-50 flex justify-end pr-1 touch-none rounded-t-theme z-10",children:a.jsx("div",{className:"w-full h-full"})}),i==="edit"&&I&&a.jsx("button",{className:"absolute -top-3 -left-3 w-8 h-8 sm:w-6 sm:h-6 bg-theme-accent text-theme-paper rounded-full flex items-center justify-center transition-opacity z-50 hover:bg-blue-600 text-sm",onClick:z,onMouseDown:L=>L.stopPropagation(),onTouchStart:L=>L.stopPropagation(),title:"Edit widget",children:""}),i==="edit"&&I&&a.jsx("button",{className:"absolute -top-3 -right-3 w-8 h-8 sm:w-6 sm:h-6 bg-theme-accent text-theme-paper rounded-full flex items-center justify-center transition-opacity z-50 hover:bg-red-600 text-lg sm:text-base",onClick:()=>l(e.id),onMouseDown:L=>L.stopPropagation(),onTouchStart:L=>L.stopPropagation(),children:""}),i==="edit"&&pe&&a.jsx("div",{className:"absolute inset-0 z-40 bg-theme-accent/10 rounded-theme",onTouchStart:L=>L.stopPropagation()}),i==="edit"&&I&&a.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 cursor-se-resize z-50 flex items-center justify-center",onMouseDown:me,onTouchStart:me,title:"Drag to resize",children:a.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",className:"text-theme-muted hover:text-theme-ink transition-colors",children:a.jsx("path",{d:"M10 2L2 10M10 6L6 10M10 10L10 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),a.jsx("div",{ref:m,className:"h-full overflow-hidden relative z-10",children:Fl()})]})}),b&&a.jsx(mx,{widget:e,onClose:E})]})}const Lo=10,Ro=20;function vx({widgets:e,scale:t}){const n=W(h=>h.attachWidgets),r=W(h=>h.detachWidgets),o=W(h=>h.selectedWidgetId),[l,s]=_.useState(0),[i,u]=_.useState(!1),[c,f]=_.useState(null),x=o||c,g=e.map(h=>`${h.id}:${h.x}:${h.y}:${h.groupId||""}`).join("|");_.useEffect(()=>{const h=()=>{const m=document.querySelector(".react-draggable-dragging");u(!!m)},d=new MutationObserver(h);return d.observe(document.body,{subtree:!0,attributes:!0,attributeFilter:["class"]}),()=>d.disconnect()},[]),_.useEffect(()=>{const h=m=>{const b=m.target;if(b.closest("[data-attach-widget-ids]"))return;const y=b.closest("[data-widget-id]");f(y?y.getAttribute("data-widget-id"):null)},d=m=>{const b=m.target;if(b.closest("[data-attach-widget-ids]"))return;const y=b.closest("[data-widget-id]");f(y?y.getAttribute("data-widget-id"):null)};return document.addEventListener("mouseover",h),document.addEventListener("touchstart",d),()=>{document.removeEventListener("mouseover",h),document.removeEventListener("touchstart",d)}},[]),_.useEffect(()=>{const h=setTimeout(()=>{s(d=>d+1)},100);return()=>clearTimeout(h)},[g,t]);const p=_.useMemo(()=>{const h=[];return e.forEach(d=>{const m=document.querySelector(`[data-widget-id="${d.id}"]`);if(m){const b=m.getBoundingClientRect();h.push({id:d.id,groupId:d.groupId,attachedTo:d.attachedTo,left:d.x,right:d.x+b.width/t,top:d.y,bottom:d.y+b.height/t})}}),h},[e,t,l]),S=_.useMemo(()=>{var d,m;const h=[];for(let b=0;b<p.length;b++)for(let v=b+1;v<p.length;v++){const y=p[b],k=p[v],C=!!((d=y.attachedTo)!=null&&d.includes(k.id)||(m=k.attachedTo)!=null&&m.includes(y.id));if(Math.abs(y.right-k.left)<=Lo){const w=Math.max(y.top,k.top),P=Math.min(y.bottom,k.bottom);P-w>=Ro&&h.push({widget1Id:y.id,widget2Id:k.id,x:y.right,y:(w+P)/2,orientation:"vertical",isAttached:C})}if(Math.abs(y.left-k.right)<=Lo){const w=Math.max(y.top,k.top),P=Math.min(y.bottom,k.bottom);P-w>=Ro&&h.push({widget1Id:y.id,widget2Id:k.id,x:y.left,y:(w+P)/2,orientation:"vertical",isAttached:C})}if(Math.abs(y.bottom-k.top)<=Lo){const w=Math.max(y.left,k.left),P=Math.min(y.right,k.right);P-w>=Ro&&h.push({widget1Id:y.id,widget2Id:k.id,x:(w+P)/2,y:y.bottom,orientation:"horizontal",isAttached:C})}if(Math.abs(y.top-k.bottom)<=Lo){const w=Math.max(y.left,k.left),P=Math.min(y.right,k.right);P-w>=Ro&&h.push({widget1Id:y.id,widget2Id:k.id,x:(w+P)/2,y:y.top,orientation:"horizontal",isAttached:C})}}return h},[p]),N=h=>{if(h.isAttached){const d=x===h.widget1Id?h.widget1Id:x===h.widget2Id?h.widget2Id:h.widget1Id;r(d,h.widget2Id)}else{const d=p.find(k=>k.id===h.widget1Id),m=p.find(k=>k.id===h.widget2Id);if(!d||!m){n(h.widget1Id,h.widget2Id);return}let b,v;if(m.groupId&&!d.groupId)b=d.id,v=m.groupId;else if(d.groupId&&!m.groupId)b=m.id,v=d.groupId;else if(d.groupId&&m.groupId&&d.groupId!==m.groupId){n(h.widget1Id,h.widget2Id);return}else{n(h.widget1Id,h.widget2Id);return}const y=S.filter(k=>{if(k.isAttached)return!1;const C=p.find(P=>P.id===k.widget1Id),w=p.find(P=>P.id===k.widget2Id);return!C||!w?!1:k.widget1Id===b&&w.groupId===v||k.widget2Id===b&&C.groupId===v});for(const k of y)n(k.widget1Id,k.widget2Id)}};if(i)return null;const T=x?S.filter(h=>h.widget1Id===x||h.widget2Id===x):[];return a.jsx(a.Fragment,{children:T.map((h,d)=>a.jsx("button",{"data-attach-widget-ids":`${h.widget1Id},${h.widget2Id}`,className:`absolute w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all transform -translate-x-1/2 -translate-y-1/2 hover:scale-125 ${h.isAttached?"bg-green-500 hover:bg-red-500 text-white":"bg-blue-500 hover:bg-green-500 text-white"}`,style:{left:`${h.x}px`,top:`${h.y}px`,zIndex:150},onClick:()=>N(h),onMouseDown:m=>m.stopPropagation(),onTouchStart:m=>m.stopPropagation(),title:h.isAttached?"Click to detach widgets":"Click to attach widgets",children:h.isAttached?"":""},`${h.widget1Id}-${h.widget2Id}-${d}`))})}function yx({widgets:e,scale:t}){const[n,r]=_.useState([]),[o,l]=_.useState(!1),s=e.map(i=>`${i.id}:${i.x}:${i.y}`).join("|");return _.useEffect(()=>{const i=()=>{const c=document.querySelector(".react-draggable-dragging");l(!!c)},u=new MutationObserver(i);return u.observe(document.body,{subtree:!0,attributes:!0,attributeFilter:["class"]}),()=>u.disconnect()},[]),_.useEffect(()=>{const i=setTimeout(()=>{const u=[];e.forEach(c=>{const f=document.querySelector(`[data-widget-id="${c.id}"]`);if(f){const x=f.getBoundingClientRect();u.push({id:c.id,x:c.x,y:c.y,width:x.width/t,height:x.height/t})}}),r(u)},50);return()=>clearTimeout(i)},[e,t,s]),o?null:a.jsx("div",{className:"pointer-events-none",children:n.map(i=>a.jsx("div",{className:"absolute shadow-theme rounded-theme",style:{left:`${i.x}px`,top:`${i.y}px`,width:`${i.width}px`,height:`${i.height}px`}},`shadow-${i.id}`))})}function bx(e){const t=e.sheets.find(n=>n.id===e.activeSheetId);return(t==null?void 0:t.widgets)||[]}function wx(){var Al,Ln;const e=W(j=>j.activeCharacterId),t=W(j=>j.characters),n=W(j=>j.addWidget),r=W(j=>j.mode),o=W(j=>j.setMode),l=W(j=>j.selectCharacter),s=W(j=>j.updateCharacterName),i=W(j=>j.editingWidgetId),u=W(j=>j.updateWidgetPosition),c=W(j=>j.createSheet),f=W(j=>j.selectSheet),x=W(j=>j.deleteSheet),g=W(j=>j.renameSheet),p=t.find(j=>j.id===e),S=p?bx(p):[],[N,T]=_.useState(()=>window.innerWidth<768),[h,d]=_.useState(!0),[m,b]=_.useState(!1),[v,y]=_.useState(""),[k,C]=_.useState(null),[w,P]=_.useState(""),[U,ee]=_.useState(!1),[te,pe]=_.useState(null),Ee=()=>{if(!p||S.length===0)return;const j=10,F=10,X=document.querySelectorAll(".react-draggable[data-widget-id]"),ge=[];X.forEach($=>{const H=$.getAttribute("data-widget-id");if(H){const Z=$.getBoundingClientRect();ge.push({id:H,w:Math.ceil(Z.width/I/j)*j,h:Math.ceil(Z.height/I/j)*j})}});const xe=S.map($=>{const H=ge.find(Z=>Z.id===$.id);return{id:$.id,groupId:$.groupId,x:$.x,y:$.y,w:H?H.w:$.w||200,h:H?H.h:$.h||120}}),Te=new Map,kt=[];for(const $ of xe)if($.groupId){const H=Te.get($.groupId)||[];H.push($),Te.set($.groupId,H)}else kt.push($);const ot=[];for(const[$,H]of Te){if(H.length===0)continue;const Z=Math.min(...H.map(G=>G.x)),ae=Math.min(...H.map(G=>G.y)),Q=Math.max(...H.map(G=>G.x+G.w)),O=Math.max(...H.map(G=>G.y+G.h));ot.push({type:"group",id:$,widgets:H,boundingBox:{x:Z,y:ae,w:Q-Z,h:O-ae},originalOffset:{x:Z,y:ae}})}for(const $ of kt)ot.push({type:"single",id:$.id,widgets:[$],boundingBox:{x:$.x,y:$.y,w:$.w,h:$.h},originalOffset:{x:$.x,y:$.y}});const Nt=ot.reduce(($,H)=>$+(H.boundingBox.w+F)*(H.boundingBox.h+F),0),Rn=Math.max(800,Math.ceil(Math.sqrt(Nt*1.5)/j)*j),On=[...ot].sort(($,H)=>{const ae=Math.floor($.boundingBox.y/50),Q=Math.floor(H.boundingBox.y/50);return ae!==Q?ae-Q:$.boundingBox.x-H.boundingBox.x});let yr=[{x:0,y:0,w:Rn,h:1e5}];const zn=[],Ul=($,H)=>{let Z=1/0,ae=0,Q=0,O=!1;for(const G of yr)if($<=G.w&&H<=G.h){const lt=G.w-$,Re=G.h-H,qf=Math.min(lt,Re),xi=G.y*1e4+qf;xi<Z&&(Z=xi,ae=G.x,Q=G.y,O=!0)}return O?{x:ae,y:Q}:null},po=($,H,Z,ae)=>{const Q=[];for(const O of yr){if($>=O.x+O.w||$+Z<=O.x||H>=O.y+O.h||H+ae<=O.y){Q.push(O);continue}$>O.x&&Q.push({x:O.x,y:O.y,w:$-O.x,h:O.h}),$+Z<O.x+O.w&&Q.push({x:$+Z,y:O.y,w:O.x+O.w-($+Z),h:O.h}),H>O.y&&Q.push({x:O.x,y:O.y,w:O.w,h:H-O.y}),H+ae<O.y+O.h&&Q.push({x:O.x,y:H+ae,w:O.w,h:O.y+O.h-(H+ae)})}yr=Q.filter((O,G)=>{for(let lt=0;lt<Q.length;lt++){if(G===lt)continue;const Re=Q[lt];if(O.x>=Re.x&&O.y>=Re.y&&O.x+O.w<=Re.x+Re.w&&O.y+O.h<=Re.y+Re.h)return!1}return!0})};for(const $ of On){const H=$.boundingBox.w+F,Z=$.boundingBox.h+F,ae=Ul(H,Z);if(ae){const Q=Math.round(ae.x/j)*j,O=Math.round(ae.y/j)*j;zn.push({item:$,x:Q,y:O}),po(Q,O,H,Z)}else{const Q=zn.reduce((O,G)=>Math.max(O,G.y+G.item.boundingBox.h+F),0);zn.push({item:$,x:0,y:Q}),po(0,Q,H,Z)}}for(const $ of zn){const{item:H,x:Z,y:ae}=$,Q=Z-H.originalOffset.x,O=ae-H.originalOffset.y;for(const G of H.widgets){const lt=Math.round((G.x+Q)/j)*j,Re=Math.round((G.y+O)/j)*j;u(G.id,lt,Re)}}},[se,ce]=_.useState({x:0,y:0}),[I,z]=_.useState(1),[E,D]=_.useState(!1),A=_.useRef({x:0,y:0}),fe=_.useRef(null),me=_.useRef(null),ft=()=>{if(!p||S.length===0){z(1),ce({x:0,y:0});return}const j=document.querySelectorAll(".react-draggable[data-widget-id]"),F=[];if(j.forEach(O=>{const G=O.getAttribute("data-widget-id"),lt=S.find(Re=>Re.id===G);if(lt){const Re=O.getBoundingClientRect();F.push({x:lt.x,y:lt.y,w:Re.width/I,h:Re.height/I})}}),F.length===0){z(1),ce({x:0,y:0});return}const X=Math.min(...F.map(O=>O.x)),ge=Math.min(...F.map(O=>O.y)),xe=Math.max(...F.map(O=>O.x+O.w)),Te=Math.max(...F.map(O=>O.y+O.h)),kt=xe-X,ot=Te-ge,Nt=window.innerWidth,Rn=window.innerHeight,On=60,yr=Nt-On*2,zn=Rn-On*2,Ul=yr/kt,po=zn/ot,$=Math.min(Math.max(Math.min(Ul,po),.1),5),H=(X+xe)/2,Z=(ge+Te)/2,ae=Nt/2-H*$,Q=Rn/2-Z*$;z($),ce({x:ae,y:Q})};_.useEffect(()=>{if(p){const j=p.theme||"default",F=In(j);F?ha(F):mr(j)}return()=>{mr("default")}},[p==null?void 0:p.theme,p==null?void 0:p.id]);const Le=j=>{i||j.target.closest(".react-draggable")||(r==="play"?j.button===0&&(j.preventDefault(),D(!0),A.current={x:j.clientX,y:j.clientY}):(j.button===0||j.button===1)&&(j.preventDefault(),D(!0),A.current={x:j.clientX,y:j.clientY}))},Ht=j=>{if(E){const F=j.clientX-A.current.x,X=j.clientY-A.current.y;ce(ge=>({x:ge.x+F,y:ge.y+X})),A.current={x:j.clientX,y:j.clientY}}},Wl=()=>{D(!1)},ho=j=>{const F=j[0].clientX-j[1].clientX,X=j[0].clientY-j[1].clientY;return Math.sqrt(F*F+X*X)},Bt=j=>({x:(j[0].clientX+j[1].clientX)/2,y:(j[0].clientY+j[1].clientY)/2}),Fl=j=>{if(!i&&!j.target.closest(".react-draggable"))if(j.touches.length===1){const F=j.touches[0];D(!0),A.current={x:F.clientX,y:F.clientY},fe.current=null,me.current=null}else j.touches.length===2&&(j.preventDefault(),D(!1),fe.current=ho(j.touches),me.current=Bt(j.touches))},L=j=>{if(j.touches.length===1&&E){const F=j.touches[0],X=F.clientX-A.current.x,ge=F.clientY-A.current.y;ce(xe=>({x:xe.x+X,y:xe.y+ge})),A.current={x:F.clientX,y:F.clientY}}else if(j.touches.length===2&&fe.current!==null&&me.current!==null){j.preventDefault();const F=ho(j.touches),X=Bt(j.touches),ge=F/fe.current,xe=Math.min(Math.max(I*ge,.1),5),Te=(X.x-se.x)/I,kt=(X.y-se.y)/I,ot=X.x-Te*xe,Nt=X.y-kt*xe,Rn=X.x-me.current.x,On=X.y-me.current.y;z(xe),ce({x:ot+Rn,y:Nt+On}),fe.current=F,me.current=X}},be=j=>{if(j.touches.length===0)D(!1),fe.current=null,me.current=null;else if(j.touches.length===1){const F=j.touches[0];D(!0),A.current={x:F.clientX,y:F.clientY},fe.current=null,me.current=null}},Ye=j=>{if(i)return;const F=Math.exp(-j.deltaY*.001),X=Math.min(Math.max(I*F,.1),5),ge=j.clientX,xe=j.clientY,Te=(ge-se.x)/I,kt=(xe-se.y)/I,ot=ge-Te*X,Nt=xe-kt*X;z(X),ce({x:ot,y:Nt})},Ge=j=>{j.preventDefault(),j.dataTransfer.dropEffect="copy"},Qe=j=>{j.preventDefault();const F=j.dataTransfer.getData("widgetType");if(F){const X=(j.clientX-se.x)/I,ge=(j.clientY-se.y)/I,xe=10,Te=Nt=>Math.round(Nt/xe)*xe,kt=Te(X),ot=Te(ge);n(F,kt,ot)}};if(_.useEffect(()=>{const j=()=>D(!1),F=X=>{if(E){const ge=X.clientX-A.current.x,xe=X.clientY-A.current.y;ce(Te=>({x:Te.x+ge,y:Te.y+xe})),A.current={x:X.clientX,y:X.clientY}}};return window.addEventListener("mouseup",j),window.addEventListener("mousemove",F),()=>{window.removeEventListener("mouseup",j),window.removeEventListener("mousemove",F)}},[E]),!p)return null;const _t=typeof window<"u"&&window.innerWidth<768,gn=r==="edit"&&!N&&!_t?"md:left-72":"";return a.jsxs("div",{className:"w-full h-screen overflow-hidden relative bg-theme-background touch-none",children:[r==="edit"&&a.jsx(dg,{collapsed:N,onToggle:()=>T(!N)}),r==="edit"&&a.jsx(hg,{collapsed:h,onToggle:()=>d(!h)}),a.jsx("div",{className:`absolute inset-0 ${E?"cursor-grabbing":"cursor-default"}`,onMouseDown:Le,onMouseMove:Ht,onMouseUp:Wl,onTouchStart:Fl,onTouchMove:L,onTouchEnd:be,onWheel:Ye,onDragOver:Ge,onDrop:Qe,children:a.jsxs("div",{className:"absolute top-0 left-0 w-full h-full origin-top-left",style:{transform:`translate(${se.x}px, ${se.y}px) scale(${I})`},children:[a.jsx("div",{className:"absolute -top-[50000px] -left-[50000px] w-[100000px] h-[100000px] pattern-grid opacity-20 pointer-events-none"}),a.jsx(yx,{widgets:S,scale:I}),S.map(j=>a.jsx(xx,{widget:j,scale:I},j.id)),r==="edit"&&a.jsx(vx,{widgets:S,scale:I})]})}),a.jsxs("div",{className:"absolute top-2 right-2 sm:top-4 sm:right-4 flex flex-col gap-2 pointer-events-auto z-30",children:[a.jsx("div",{className:`bg-theme-paper border-[length:var(--border-width)] border-theme-border p-1.5 sm:p-2 shadow-theme rounded-theme ${r==="edit"&&!m?"cursor-pointer hover:opacity-90":""}`,children:m?a.jsx("input",{type:"text",value:v,onChange:j=>y(j.target.value),onBlur:()=>{v.trim()&&s(p.id,v.trim()),b(!1)},onKeyDown:j=>{j.key==="Enter"?(v.trim()&&s(p.id,v.trim()),b(!1)):j.key==="Escape"&&b(!1)},autoFocus:!0,className:"font-bold text-sm sm:text-xl bg-transparent border-b-[length:var(--border-width)] border-theme-border outline-none w-full text-theme-ink font-heading"}):a.jsx("h1",{className:"font-bold text-sm sm:text-xl text-theme-ink font-heading",onClick:()=>{r==="edit"&&(y(p.name),b(!0))},children:p.name})}),a.jsxs("div",{className:"relative w-full",children:[a.jsxs("button",{onClick:()=>ee(!U),className:"w-full bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme px-3 py-1.5 flex items-center justify-between gap-2 hover:bg-theme-accent/10 transition-colors",children:[a.jsx("span",{className:"text-xs sm:text-sm font-body text-theme-ink",children:((Al=p.sheets.find(j=>j.id===p.activeSheetId))==null?void 0:Al.name)||"Sheet"}),a.jsx("span",{className:"text-theme-muted text-xs",children:""})]}),U&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>ee(!1)}),a.jsxs("div",{className:"absolute top-full right-0 mt-1 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme overflow-hidden z-50 min-w-[150px]",children:[p.sheets.map(j=>a.jsx("div",{className:"group relative",children:k===j.id?a.jsx("input",{type:"text",value:w,onChange:F=>P(F.target.value),onBlur:()=>{w.trim()&&g(j.id,w.trim()),C(null)},onKeyDown:F=>{F.key==="Enter"?(w.trim()&&g(j.id,w.trim()),C(null)):F.key==="Escape"&&C(null)},autoFocus:!0,onClick:F=>F.stopPropagation(),className:"w-full px-3 py-2 text-xs sm:text-sm bg-transparent border-b border-theme-border outline-none text-theme-ink font-body"}):a.jsxs("button",{onClick:()=>{f(j.id),ee(!1)},className:`w-full px-3 py-2 text-xs sm:text-sm text-left font-body transition-colors flex items-center justify-between ${j.id===p.activeSheetId?"bg-theme-accent text-theme-paper":"text-theme-ink hover:bg-theme-accent/20"}`,children:[a.jsx("span",{children:j.name}),r==="edit"&&a.jsxs("span",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("span",{onClick:F=>{F.stopPropagation(),P(j.name),C(j.id)},className:`w-5 h-5 rounded-full text-xs flex items-center justify-center ${j.id===p.activeSheetId?"bg-theme-paper/30 text-theme-paper hover:bg-theme-paper/50":"bg-theme-accent/20 text-theme-ink hover:bg-theme-accent/40"}`,title:"Rename sheet",children:""}),p.sheets.length>1&&a.jsx("span",{onClick:F=>{F.stopPropagation(),pe(j.id)},className:"w-5 h-5 bg-red-500 text-white rounded-full text-xs flex items-center justify-center hover:bg-red-600",title:"Delete sheet",children:""})]})]})},j.id)),r==="edit"&&a.jsx("button",{onClick:()=>{c(`Sheet ${p.sheets.length+1}`),ee(!1)},className:"w-full px-3 py-2 text-xs sm:text-sm text-theme-muted hover:text-theme-ink hover:bg-theme-accent/20 text-left font-body border-t border-theme-border/50 transition-colors",children:"+ Add New Sheet"})]})]}),te&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>pe(null)}),a.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme p-4 z-50 min-w-[250px]",children:[a.jsx("h3",{className:"font-heading text-theme-ink font-bold mb-2",children:"Delete Sheet?"}),a.jsxs("p",{className:"text-sm text-theme-muted font-body mb-4",children:['Are you sure you want to delete "',(Ln=p.sheets.find(j=>j.id===te))==null?void 0:Ln.name,'"? This will delete all widgets on this sheet.']}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx("button",{onClick:()=>pe(null),className:"px-3 py-1.5 text-sm font-body text-theme-ink hover:bg-theme-accent/20 rounded-theme transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>{x(te),pe(null),ee(!1)},className:"px-3 py-1.5 text-sm font-body bg-red-500 text-white hover:bg-red-600 rounded-theme transition-colors",children:"Delete"})]})]})]})]}),a.jsxs("div",{className:"flex gap-1 justify-end",children:[a.jsx("button",{onClick:()=>z(j=>Math.min(5,j*1.3)),className:"w-8 h-8 sm:w-10 sm:h-10 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-base sm:text-xl shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none flex items-center justify-center rounded-theme text-theme-ink",children:"+"}),a.jsx("button",{onClick:()=>z(j=>Math.max(.1,j/1.3)),className:"w-8 h-8 sm:w-10 sm:h-10 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-base sm:text-xl shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none flex items-center justify-center rounded-theme text-theme-ink",children:""}),a.jsx("button",{onClick:ft,className:"px-2 h-8 sm:h-10 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none flex items-center justify-center rounded-theme text-theme-ink",children:"Fit"})]})]}),a.jsxs("div",{className:`absolute top-2 left-2 sm:top-4 sm:left-4 ${gn} pointer-events-auto transition-all duration-300 flex flex-col gap-1.5 sm:gap-2 z-30`,children:[a.jsxs("button",{onClick:()=>l(null),className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs sm:text-base shadow-theme hover:bg-red-500 hover:text-white hover:border-red-700 transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme text-theme-ink",children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:" Exit to Menu"})]}),a.jsx("button",{onClick:()=>o(r==="play"?"edit":"play"),className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs sm:text-base shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme text-theme-ink",children:r==="play"?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:" Edit Mode"})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:" Play Mode"})]})}),r==="edit"&&a.jsx("button",{onClick:()=>T(!N),className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs sm:text-base shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme text-theme-ink",children:N?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:" Show Toolbox"})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:" Hide Toolbox"})]})}),r==="edit"&&a.jsx("button",{onClick:()=>d(!h),className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs sm:text-base shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme text-theme-ink",children:h?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:" Change Theme"})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:" Hide Themes"})]})}),r==="edit"&&a.jsxs("button",{onClick:Ee,className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs sm:text-base shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme text-theme-ink",children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:" Auto Stack"})]})]})]})}function Sx(){const e=W(t=>t.activeCharacterId);return a.jsx("div",{className:"h-full bg-gray-100 text-ink font-mono overflow-hidden",children:e?a.jsx(wx,{}):a.jsx(ug,{})})}mr("default");bs.createRoot(document.getElementById("root")).render(a.jsx(Gu.StrictMode,{children:a.jsx(Sx,{})}));
