(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Qs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xu={exports:{}},tl={},vu={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Br=Symbol.for("react.element"),df=Symbol.for("react.portal"),ff=Symbol.for("react.fragment"),pf=Symbol.for("react.strict_mode"),hf=Symbol.for("react.profiler"),mf=Symbol.for("react.provider"),gf=Symbol.for("react.context"),xf=Symbol.for("react.forward_ref"),vf=Symbol.for("react.suspense"),yf=Symbol.for("react.memo"),wf=Symbol.for("react.lazy"),Ja=Symbol.iterator;function bf(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var yu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wu=Object.assign,bu={};function er(e,t,n){this.props=e,this.context=t,this.refs=bu,this.updater=n||yu}er.prototype.isReactComponent={};er.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};er.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ku(){}ku.prototype=er.prototype;function Ks(e,t,n){this.props=e,this.context=t,this.refs=bu,this.updater=n||yu}var Zs=Ks.prototype=new ku;Zs.constructor=Ks;wu(Zs,er.prototype);Zs.isPureReactComponent=!0;var qa=Array.isArray,Su=Object.prototype.hasOwnProperty,Js={current:null},Nu={key:!0,ref:!0,__self:!0,__source:!0};function ju(e,t,n){var r,o={},l=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(l=""+t.key),t)Su.call(t,r)&&!Nu.hasOwnProperty(r)&&(o[r]=t[r]);var i=arguments.length-2;if(i===1)o.children=n;else if(1<i){for(var u=Array(i),c=0;c<i;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)o[r]===void 0&&(o[r]=i[r]);return{$$typeof:Br,type:e,key:l,ref:s,props:o,_owner:Js.current}}function kf(e,t){return{$$typeof:Br,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qs(e){return typeof e=="object"&&e!==null&&e.$$typeof===Br}function Sf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ei=/\/+/g;function Sl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Sf(""+e.key):t.toString(36)}function yo(e,t,n,r,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Br:case df:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Sl(s,0):r,qa(o)?(n="",e!=null&&(n=e.replace(ei,"$&/")+"/"),yo(o,t,n,"",function(c){return c})):o!=null&&(qs(o)&&(o=kf(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(ei,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",qa(e))for(var i=0;i<e.length;i++){l=e[i];var u=r+Sl(l,i);s+=yo(l,t,n,u,o)}else if(u=bf(e),typeof u=="function")for(e=u.call(e),i=0;!(l=e.next()).done;)l=l.value,u=r+Sl(l,i++),s+=yo(l,t,n,u,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Zr(e,t,n){if(e==null)return e;var r=[],o=0;return yo(e,r,"","",function(l){return t.call(n,l,o++)}),r}function Nf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oe={current:null},wo={transition:null},jf={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:wo,ReactCurrentOwner:Js};function Cu(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Zr,forEach:function(e,t,n){Zr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zr(e,function(){t++}),t},toArray:function(e){return Zr(e,function(t){return t})||[]},only:function(e){if(!qs(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=er;B.Fragment=ff;B.Profiler=hf;B.PureComponent=Ks;B.StrictMode=pf;B.Suspense=vf;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jf;B.act=Cu;B.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=wu({},e.props),o=e.key,l=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,s=Js.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(u in t)Su.call(t,u)&&!Nu.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&i!==void 0?i[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){i=Array(u);for(var c=0;c<u;c++)i[c]=arguments[c+2];r.children=i}return{$$typeof:Br,type:e.type,key:o,ref:l,props:r,_owner:s}};B.createContext=function(e){return e={$$typeof:gf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mf,_context:e},e.Consumer=e};B.createElement=ju;B.createFactory=function(e){var t=ju.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:xf,render:e}};B.isValidElement=qs;B.lazy=function(e){return{$$typeof:wf,_payload:{_status:-1,_result:e},_init:Nf}};B.memo=function(e,t){return{$$typeof:yf,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=wo.transition;wo.transition={};try{e()}finally{wo.transition=t}};B.unstable_act=Cu;B.useCallback=function(e,t){return Oe.current.useCallback(e,t)};B.useContext=function(e){return Oe.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Oe.current.useDeferredValue(e)};B.useEffect=function(e,t){return Oe.current.useEffect(e,t)};B.useId=function(){return Oe.current.useId()};B.useImperativeHandle=function(e,t,n){return Oe.current.useImperativeHandle(e,t,n)};B.useInsertionEffect=function(e,t){return Oe.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Oe.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Oe.current.useMemo(e,t)};B.useReducer=function(e,t,n){return Oe.current.useReducer(e,t,n)};B.useRef=function(e){return Oe.current.useRef(e)};B.useState=function(e){return Oe.current.useState(e)};B.useSyncExternalStore=function(e,t,n){return Oe.current.useSyncExternalStore(e,t,n)};B.useTransition=function(){return Oe.current.useTransition()};B.version="18.3.1";vu.exports=B;var M=vu.exports;const Eu=Qs(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cf=M,Ef=Symbol.for("react.element"),Tf=Symbol.for("react.fragment"),Pf=Object.prototype.hasOwnProperty,_f=Cf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,If={key:!0,ref:!0,__self:!0,__source:!0};function Tu(e,t,n){var r,o={},l=null,s=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Pf.call(t,r)&&!If.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Ef,type:e,key:l,ref:s,props:o,_owner:_f.current}}tl.Fragment=Tf;tl.jsx=Tu;tl.jsxs=Tu;xu.exports=tl;var a=xu.exports,es={},Pu={exports:{}},et={},_u={exports:{}},Iu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,W){var A=_.length;_.push(W);e:for(;0<A;){var R=A-1>>>1,V=_[R];if(0<o(V,W))_[R]=W,_[A]=V,A=R;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var W=_[0],A=_.pop();if(A!==W){_[0]=A;e:for(var R=0,V=_.length,Ye=V>>>1;R<Ye;){var I=2*(R+1)-1,ae=_[I],S=I+1,z=_[S];if(0>o(ae,A))S<V&&0>o(z,ae)?(_[R]=z,_[S]=A,R=S):(_[R]=ae,_[I]=A,R=I);else if(S<V&&0>o(z,A))_[R]=z,_[S]=A,R=S;else break e}}return W}function o(_,W){var A=_.sortIndex-W.sortIndex;return A!==0?A:_.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var s=Date,i=s.now();e.unstable_now=function(){return s.now()-i}}var u=[],c=[],f=1,v=null,m=3,x=!1,b=!1,N=!1,P=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(_){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=_)r(c),W.sortIndex=W.expirationTime,t(u,W);else break;W=n(c)}}function y(_){if(N=!1,g(_),!b)if(n(u)!==null)b=!0,Ne(p);else{var W=n(c);W!==null&&D(y,W.startTime-_)}}function p(_,W){b=!1,N&&(N=!1,h(j),j=-1),x=!0;var A=m;try{for(g(W),v=n(u);v!==null&&(!(v.expirationTime>W)||_&&!Y());){var R=v.callback;if(typeof R=="function"){v.callback=null,m=v.priorityLevel;var V=R(v.expirationTime<=W);W=e.unstable_now(),typeof V=="function"?v.callback=V:v===n(u)&&r(u),g(W)}else r(u);v=n(u)}if(v!==null)var Ye=!0;else{var I=n(c);I!==null&&D(y,I.startTime-W),Ye=!1}return Ye}finally{v=null,m=A,x=!1}}var w=!1,k=null,j=-1,C=5,T=-1;function Y(){return!(e.unstable_now()-T<C)}function ge(){if(k!==null){var _=e.unstable_now();T=_;var W=!0;try{W=k(!0,_)}finally{W?de():(w=!1,k=null)}}else w=!1}var de;if(typeof d=="function")de=function(){d(ge)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,Xe=We.port2;We.port1.onmessage=ge,de=function(){Xe.postMessage(null)}}else de=function(){P(ge,0)};function Ne(_){k=_,w||(w=!0,de())}function D(_,W){j=P(function(){_(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){b||x||(b=!0,Ne(p))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(_){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var A=m;m=W;try{return _()}finally{m=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,W){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var A=m;m=_;try{return W()}finally{m=A}},e.unstable_scheduleCallback=function(_,W,A){var R=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?R+A:R):A=R,_){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=A+V,_={id:f++,callback:W,priorityLevel:_,startTime:A,expirationTime:V,sortIndex:-1},A>R?(_.sortIndex=A,t(c,_),n(u)===null&&_===n(c)&&(N?(h(j),j=-1):N=!0,D(y,A-R))):(_.sortIndex=V,t(u,_),b||x||(b=!0,Ne(p))),_},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(_){var W=m;return function(){var A=m;m=W;try{return _.apply(this,arguments)}finally{m=A}}}})(Iu);_u.exports=Iu;var Mf=_u.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Df=M,qe=Mf;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mu=new Set,Er={};function gn(e,t){Bn(e,t),Bn(e+"Capture",t)}function Bn(e,t){for(Er[e]=t,e=0;e<t.length;e++)Mu.add(t[e])}var _t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ts=Object.prototype.hasOwnProperty,Lf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ti={},ni={};function Rf(e){return ts.call(ni,e)?!0:ts.call(ti,e)?!1:Lf.test(e)?ni[e]=!0:(ti[e]=!0,!1)}function Of(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zf(e,t,n,r){if(t===null||typeof t>"u"||Of(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ze(e,t,n,r,o,l,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=s}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Se[e]=new ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Se[t]=new ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Se[e]=new ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Se[e]=new ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Se[e]=new ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Se[e]=new ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Se[e]=new ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Se[e]=new ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Se[e]=new ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var ea=/[\-:]([a-z])/g;function ta(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ea,ta);Se[t]=new ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ea,ta);Se[t]=new ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ea,ta);Se[t]=new ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Se[e]=new ze(e,1,!1,e.toLowerCase(),null,!1,!1)});Se.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Se[e]=new ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function na(e,t,n,r){var o=Se.hasOwnProperty(t)?Se[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zf(t,n,o,r)&&(n=null),r||o===null?Rf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Lt=Df.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jr=Symbol.for("react.element"),Nn=Symbol.for("react.portal"),jn=Symbol.for("react.fragment"),ra=Symbol.for("react.strict_mode"),ns=Symbol.for("react.profiler"),Du=Symbol.for("react.provider"),Lu=Symbol.for("react.context"),oa=Symbol.for("react.forward_ref"),rs=Symbol.for("react.suspense"),os=Symbol.for("react.suspense_list"),la=Symbol.for("react.memo"),Wt=Symbol.for("react.lazy"),Ru=Symbol.for("react.offscreen"),ri=Symbol.iterator;function or(e){return e===null||typeof e!="object"?null:(e=ri&&e[ri]||e["@@iterator"],typeof e=="function"?e:null)}var se=Object.assign,Nl;function pr(e){if(Nl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Nl=t&&t[1]||""}return`
`+Nl+e}var jl=!1;function Cl(e,t){if(!e||jl)return"";jl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),l=r.stack.split(`
`),s=o.length-1,i=l.length-1;1<=s&&0<=i&&o[s]!==l[i];)i--;for(;1<=s&&0<=i;s--,i--)if(o[s]!==l[i]){if(s!==1||i!==1)do if(s--,i--,0>i||o[s]!==l[i]){var u=`
`+o[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=i);break}}}finally{jl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?pr(e):""}function Wf(e){switch(e.tag){case 5:return pr(e.type);case 16:return pr("Lazy");case 13:return pr("Suspense");case 19:return pr("SuspenseList");case 0:case 2:case 15:return e=Cl(e.type,!1),e;case 11:return e=Cl(e.type.render,!1),e;case 1:return e=Cl(e.type,!0),e;default:return""}}function ls(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jn:return"Fragment";case Nn:return"Portal";case ns:return"Profiler";case ra:return"StrictMode";case rs:return"Suspense";case os:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Lu:return(e.displayName||"Context")+".Consumer";case Du:return(e._context.displayName||"Context")+".Provider";case oa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case la:return t=e.displayName||null,t!==null?t:ls(e.type)||"Memo";case Wt:t=e._payload,e=e._init;try{return ls(e(t))}catch{}}return null}function $f(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ls(t);case 8:return t===ra?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ou(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ff(e){var t=Ou(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,l.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qr(e){e._valueTracker||(e._valueTracker=Ff(e))}function zu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ou(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Io(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ss(e,t){var n=t.checked;return se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function oi(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Jt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wu(e,t){t=t.checked,t!=null&&na(e,"checked",t,!1)}function as(e,t){Wu(e,t);var n=Jt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?is(e,t.type,n):t.hasOwnProperty("defaultValue")&&is(e,t.type,Jt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function li(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function is(e,t,n){(t!=="number"||Io(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var hr=Array.isArray;function Wn(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Jt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function us(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function si(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(E(92));if(hr(n)){if(1<n.length)throw Error(E(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Jt(n)}}function $u(e,t){var n=Jt(t.value),r=Jt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ai(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cs(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var eo,Au=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(eo=eo||document.createElement("div"),eo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=eo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Tr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Af=["Webkit","ms","Moz","O"];Object.keys(vr).forEach(function(e){Af.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vr[t]=vr[e]})});function Hu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vr.hasOwnProperty(e)&&vr[e]?(""+t).trim():t+"px"}function Uu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Hu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Hf=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ds(e,t){if(t){if(Hf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function fs(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ps=null;function sa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hs=null,$n=null,Fn=null;function ii(e){if(e=Yr(e)){if(typeof hs!="function")throw Error(E(280));var t=e.stateNode;t&&(t=sl(t),hs(e.stateNode,e.type,t))}}function Bu(e){$n?Fn?Fn.push(e):Fn=[e]:$n=e}function Vu(){if($n){var e=$n,t=Fn;if(Fn=$n=null,ii(e),t)for(e=0;e<t.length;e++)ii(t[e])}}function Xu(e,t){return e(t)}function Yu(){}var El=!1;function Gu(e,t,n){if(El)return e(t,n);El=!0;try{return Xu(e,t,n)}finally{El=!1,($n!==null||Fn!==null)&&(Yu(),Vu())}}function Pr(e,t){var n=e.stateNode;if(n===null)return null;var r=sl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(E(231,t,typeof n));return n}var ms=!1;if(_t)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){ms=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{ms=!1}function Uf(e,t,n,r,o,l,s,i,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var yr=!1,Mo=null,Do=!1,gs=null,Bf={onError:function(e){yr=!0,Mo=e}};function Vf(e,t,n,r,o,l,s,i,u){yr=!1,Mo=null,Uf.apply(Bf,arguments)}function Xf(e,t,n,r,o,l,s,i,u){if(Vf.apply(this,arguments),yr){if(yr){var c=Mo;yr=!1,Mo=null}else throw Error(E(198));Do||(Do=!0,gs=c)}}function xn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Qu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ui(e){if(xn(e)!==e)throw Error(E(188))}function Yf(e){var t=e.alternate;if(!t){if(t=xn(e),t===null)throw Error(E(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return ui(o),e;if(l===r)return ui(o),t;l=l.sibling}throw Error(E(188))}if(n.return!==r.return)n=o,r=l;else{for(var s=!1,i=o.child;i;){if(i===n){s=!0,n=o,r=l;break}if(i===r){s=!0,r=o,n=l;break}i=i.sibling}if(!s){for(i=l.child;i;){if(i===n){s=!0,n=l,r=o;break}if(i===r){s=!0,r=l,n=o;break}i=i.sibling}if(!s)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?e:t}function Ku(e){return e=Yf(e),e!==null?Zu(e):null}function Zu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zu(e);if(t!==null)return t;e=e.sibling}return null}var Ju=qe.unstable_scheduleCallback,ci=qe.unstable_cancelCallback,Gf=qe.unstable_shouldYield,Qf=qe.unstable_requestPaint,fe=qe.unstable_now,Kf=qe.unstable_getCurrentPriorityLevel,aa=qe.unstable_ImmediatePriority,qu=qe.unstable_UserBlockingPriority,Lo=qe.unstable_NormalPriority,Zf=qe.unstable_LowPriority,ec=qe.unstable_IdlePriority,nl=null,bt=null;function Jf(e){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(nl,e,void 0,(e.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:tp,qf=Math.log,ep=Math.LN2;function tp(e){return e>>>=0,e===0?32:31-(qf(e)/ep|0)|0}var to=64,no=4194304;function mr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ro(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,l=e.pingedLanes,s=n&268435455;if(s!==0){var i=s&~o;i!==0?r=mr(i):(l&=s,l!==0&&(r=mr(l)))}else s=n&~o,s!==0?r=mr(s):l!==0&&(r=mr(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ht(t),o=1<<n,r|=e[n],t&=~o;return r}function np(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var s=31-ht(l),i=1<<s,u=o[s];u===-1?(!(i&n)||i&r)&&(o[s]=np(i,t)):u<=t&&(e.expiredLanes|=i),l&=~i}}function xs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tc(){var e=to;return to<<=1,!(to&4194240)&&(to=64),e}function Tl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ht(t),e[t]=n}function op(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-ht(n),l=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~l}}function ia(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ht(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var G=0;function nc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rc,ua,oc,lc,sc,vs=!1,ro=[],Bt=null,Vt=null,Xt=null,_r=new Map,Ir=new Map,Ft=[],lp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function di(e,t){switch(e){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Vt=null;break;case"mouseover":case"mouseout":Xt=null;break;case"pointerover":case"pointerout":_r.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ir.delete(t.pointerId)}}function sr(e,t,n,r,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[o]},t!==null&&(t=Yr(t),t!==null&&ua(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function sp(e,t,n,r,o){switch(t){case"focusin":return Bt=sr(Bt,e,t,n,r,o),!0;case"dragenter":return Vt=sr(Vt,e,t,n,r,o),!0;case"mouseover":return Xt=sr(Xt,e,t,n,r,o),!0;case"pointerover":var l=o.pointerId;return _r.set(l,sr(_r.get(l)||null,e,t,n,r,o)),!0;case"gotpointercapture":return l=o.pointerId,Ir.set(l,sr(Ir.get(l)||null,e,t,n,r,o)),!0}return!1}function ac(e){var t=ln(e.target);if(t!==null){var n=xn(t);if(n!==null){if(t=n.tag,t===13){if(t=Qu(n),t!==null){e.blockedOn=t,sc(e.priority,function(){oc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ys(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ps=r,n.target.dispatchEvent(r),ps=null}else return t=Yr(n),t!==null&&ua(t),e.blockedOn=n,!1;t.shift()}return!0}function fi(e,t,n){bo(e)&&n.delete(t)}function ap(){vs=!1,Bt!==null&&bo(Bt)&&(Bt=null),Vt!==null&&bo(Vt)&&(Vt=null),Xt!==null&&bo(Xt)&&(Xt=null),_r.forEach(fi),Ir.forEach(fi)}function ar(e,t){e.blockedOn===t&&(e.blockedOn=null,vs||(vs=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,ap)))}function Mr(e){function t(o){return ar(o,e)}if(0<ro.length){ar(ro[0],e);for(var n=1;n<ro.length;n++){var r=ro[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Bt!==null&&ar(Bt,e),Vt!==null&&ar(Vt,e),Xt!==null&&ar(Xt,e),_r.forEach(t),Ir.forEach(t),n=0;n<Ft.length;n++)r=Ft[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ft.length&&(n=Ft[0],n.blockedOn===null);)ac(n),n.blockedOn===null&&Ft.shift()}var An=Lt.ReactCurrentBatchConfig,Oo=!0;function ip(e,t,n,r){var o=G,l=An.transition;An.transition=null;try{G=1,ca(e,t,n,r)}finally{G=o,An.transition=l}}function up(e,t,n,r){var o=G,l=An.transition;An.transition=null;try{G=4,ca(e,t,n,r)}finally{G=o,An.transition=l}}function ca(e,t,n,r){if(Oo){var o=ys(e,t,n,r);if(o===null)Wl(e,t,r,zo,n),di(e,r);else if(sp(o,e,t,n,r))r.stopPropagation();else if(di(e,r),t&4&&-1<lp.indexOf(e)){for(;o!==null;){var l=Yr(o);if(l!==null&&rc(l),l=ys(e,t,n,r),l===null&&Wl(e,t,r,zo,n),l===o)break;o=l}o!==null&&r.stopPropagation()}else Wl(e,t,r,null,n)}}var zo=null;function ys(e,t,n,r){if(zo=null,e=sa(r),e=ln(e),e!==null)if(t=xn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Qu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zo=e,null}function ic(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kf()){case aa:return 1;case qu:return 4;case Lo:case Zf:return 16;case ec:return 536870912;default:return 16}default:return 16}}var Ht=null,da=null,ko=null;function uc(){if(ko)return ko;var e,t=da,n=t.length,r,o="value"in Ht?Ht.value:Ht.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[l-r];r++);return ko=o.slice(e,1<r?1-r:void 0)}function So(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oo(){return!0}function pi(){return!1}function tt(e){function t(n,r,o,l,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=l,this.target=s,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(l):l[i]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?oo:pi,this.isPropagationStopped=pi,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oo)},persist:function(){},isPersistent:oo}),t}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fa=tt(tr),Xr=se({},tr,{view:0,detail:0}),cp=tt(Xr),Pl,_l,ir,rl=se({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ir&&(ir&&e.type==="mousemove"?(Pl=e.screenX-ir.screenX,_l=e.screenY-ir.screenY):_l=Pl=0,ir=e),Pl)},movementY:function(e){return"movementY"in e?e.movementY:_l}}),hi=tt(rl),dp=se({},rl,{dataTransfer:0}),fp=tt(dp),pp=se({},Xr,{relatedTarget:0}),Il=tt(pp),hp=se({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),mp=tt(hp),gp=se({},tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xp=tt(gp),vp=se({},tr,{data:0}),mi=tt(vp),yp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bp[e])?!!t[e]:!1}function pa(){return kp}var Sp=se({},Xr,{key:function(e){if(e.key){var t=yp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=So(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pa,charCode:function(e){return e.type==="keypress"?So(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?So(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Np=tt(Sp),jp=se({},rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gi=tt(jp),Cp=se({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pa}),Ep=tt(Cp),Tp=se({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pp=tt(Tp),_p=se({},rl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ip=tt(_p),Mp=[9,13,27,32],ha=_t&&"CompositionEvent"in window,wr=null;_t&&"documentMode"in document&&(wr=document.documentMode);var Dp=_t&&"TextEvent"in window&&!wr,cc=_t&&(!ha||wr&&8<wr&&11>=wr),xi=" ",vi=!1;function dc(e,t){switch(e){case"keyup":return Mp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cn=!1;function Lp(e,t){switch(e){case"compositionend":return fc(t);case"keypress":return t.which!==32?null:(vi=!0,xi);case"textInput":return e=t.data,e===xi&&vi?null:e;default:return null}}function Rp(e,t){if(Cn)return e==="compositionend"||!ha&&dc(e,t)?(e=uc(),ko=da=Ht=null,Cn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cc&&t.locale!=="ko"?null:t.data;default:return null}}var Op={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Op[e.type]:t==="textarea"}function pc(e,t,n,r){Bu(r),t=Wo(t,"onChange"),0<t.length&&(n=new fa("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var br=null,Dr=null;function zp(e){Nc(e,0)}function ol(e){var t=Pn(e);if(zu(t))return e}function Wp(e,t){if(e==="change")return t}var hc=!1;if(_t){var Ml;if(_t){var Dl="oninput"in document;if(!Dl){var wi=document.createElement("div");wi.setAttribute("oninput","return;"),Dl=typeof wi.oninput=="function"}Ml=Dl}else Ml=!1;hc=Ml&&(!document.documentMode||9<document.documentMode)}function bi(){br&&(br.detachEvent("onpropertychange",mc),Dr=br=null)}function mc(e){if(e.propertyName==="value"&&ol(Dr)){var t=[];pc(t,Dr,e,sa(e)),Gu(zp,t)}}function $p(e,t,n){e==="focusin"?(bi(),br=t,Dr=n,br.attachEvent("onpropertychange",mc)):e==="focusout"&&bi()}function Fp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ol(Dr)}function Ap(e,t){if(e==="click")return ol(t)}function Hp(e,t){if(e==="input"||e==="change")return ol(t)}function Up(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gt=typeof Object.is=="function"?Object.is:Up;function Lr(e,t){if(gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ts.call(t,o)||!gt(e[o],t[o]))return!1}return!0}function ki(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Si(e,t){var n=ki(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ki(n)}}function gc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xc(){for(var e=window,t=Io();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Io(e.document)}return t}function ma(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Bp(e){var t=xc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&gc(n.ownerDocument.documentElement,n)){if(r!==null&&ma(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(r.start,o);r=r.end===void 0?l:Math.min(r.end,o),!e.extend&&l>r&&(o=r,r=l,l=o),o=Si(n,l);var s=Si(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vp=_t&&"documentMode"in document&&11>=document.documentMode,En=null,ws=null,kr=null,bs=!1;function Ni(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bs||En==null||En!==Io(r)||(r=En,"selectionStart"in r&&ma(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kr&&Lr(kr,r)||(kr=r,r=Wo(ws,"onSelect"),0<r.length&&(t=new fa("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=En)))}function lo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tn={animationend:lo("Animation","AnimationEnd"),animationiteration:lo("Animation","AnimationIteration"),animationstart:lo("Animation","AnimationStart"),transitionend:lo("Transition","TransitionEnd")},Ll={},vc={};_t&&(vc=document.createElement("div").style,"AnimationEvent"in window||(delete Tn.animationend.animation,delete Tn.animationiteration.animation,delete Tn.animationstart.animation),"TransitionEvent"in window||delete Tn.transitionend.transition);function ll(e){if(Ll[e])return Ll[e];if(!Tn[e])return e;var t=Tn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vc)return Ll[e]=t[n];return e}var yc=ll("animationend"),wc=ll("animationiteration"),bc=ll("animationstart"),kc=ll("transitionend"),Sc=new Map,ji="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function en(e,t){Sc.set(e,t),gn(t,[e])}for(var Rl=0;Rl<ji.length;Rl++){var Ol=ji[Rl],Xp=Ol.toLowerCase(),Yp=Ol[0].toUpperCase()+Ol.slice(1);en(Xp,"on"+Yp)}en(yc,"onAnimationEnd");en(wc,"onAnimationIteration");en(bc,"onAnimationStart");en("dblclick","onDoubleClick");en("focusin","onFocus");en("focusout","onBlur");en(kc,"onTransitionEnd");Bn("onMouseEnter",["mouseout","mouseover"]);Bn("onMouseLeave",["mouseout","mouseover"]);Bn("onPointerEnter",["pointerout","pointerover"]);Bn("onPointerLeave",["pointerout","pointerover"]);gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gp=new Set("cancel close invalid load scroll toggle".split(" ").concat(gr));function Ci(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Xf(r,t,void 0,e),e.currentTarget=null}function Nc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],u=i.instance,c=i.currentTarget;if(i=i.listener,u!==l&&o.isPropagationStopped())break e;Ci(o,i,c),l=u}else for(s=0;s<r.length;s++){if(i=r[s],u=i.instance,c=i.currentTarget,i=i.listener,u!==l&&o.isPropagationStopped())break e;Ci(o,i,c),l=u}}}if(Do)throw e=gs,Do=!1,gs=null,e}function te(e,t){var n=t[Cs];n===void 0&&(n=t[Cs]=new Set);var r=e+"__bubble";n.has(r)||(jc(t,e,2,!1),n.add(r))}function zl(e,t,n){var r=0;t&&(r|=4),jc(n,e,r,t)}var so="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){if(!e[so]){e[so]=!0,Mu.forEach(function(n){n!=="selectionchange"&&(Gp.has(n)||zl(n,!1,e),zl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[so]||(t[so]=!0,zl("selectionchange",!1,t))}}function jc(e,t,n,r){switch(ic(t)){case 1:var o=ip;break;case 4:o=up;break;default:o=ca}n=o.bind(null,t,n,e),o=void 0,!ms||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Wl(e,t,n,r,o){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var i=r.stateNode.containerInfo;if(i===o||i.nodeType===8&&i.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===o||u.nodeType===8&&u.parentNode===o))return;s=s.return}for(;i!==null;){if(s=ln(i),s===null)return;if(u=s.tag,u===5||u===6){r=l=s;continue e}i=i.parentNode}}r=r.return}Gu(function(){var c=l,f=sa(n),v=[];e:{var m=Sc.get(e);if(m!==void 0){var x=fa,b=e;switch(e){case"keypress":if(So(n)===0)break e;case"keydown":case"keyup":x=Np;break;case"focusin":b="focus",x=Il;break;case"focusout":b="blur",x=Il;break;case"beforeblur":case"afterblur":x=Il;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=hi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=fp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Ep;break;case yc:case wc:case bc:x=mp;break;case kc:x=Pp;break;case"scroll":x=cp;break;case"wheel":x=Ip;break;case"copy":case"cut":case"paste":x=xp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=gi}var N=(t&4)!==0,P=!N&&e==="scroll",h=N?m!==null?m+"Capture":null:m;N=[];for(var d=c,g;d!==null;){g=d;var y=g.stateNode;if(g.tag===5&&y!==null&&(g=y,h!==null&&(y=Pr(d,h),y!=null&&N.push(Or(d,y,g)))),P)break;d=d.return}0<N.length&&(m=new x(m,b,null,n,f),v.push({event:m,listeners:N}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",m&&n!==ps&&(b=n.relatedTarget||n.fromElement)&&(ln(b)||b[It]))break e;if((x||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,x?(b=n.relatedTarget||n.toElement,x=c,b=b?ln(b):null,b!==null&&(P=xn(b),b!==P||b.tag!==5&&b.tag!==6)&&(b=null)):(x=null,b=c),x!==b)){if(N=hi,y="onMouseLeave",h="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(N=gi,y="onPointerLeave",h="onPointerEnter",d="pointer"),P=x==null?m:Pn(x),g=b==null?m:Pn(b),m=new N(y,d+"leave",x,n,f),m.target=P,m.relatedTarget=g,y=null,ln(f)===c&&(N=new N(h,d+"enter",b,n,f),N.target=g,N.relatedTarget=P,y=N),P=y,x&&b)t:{for(N=x,h=b,d=0,g=N;g;g=kn(g))d++;for(g=0,y=h;y;y=kn(y))g++;for(;0<d-g;)N=kn(N),d--;for(;0<g-d;)h=kn(h),g--;for(;d--;){if(N===h||h!==null&&N===h.alternate)break t;N=kn(N),h=kn(h)}N=null}else N=null;x!==null&&Ei(v,m,x,N,!1),b!==null&&P!==null&&Ei(v,P,b,N,!0)}}e:{if(m=c?Pn(c):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var p=Wp;else if(yi(m))if(hc)p=Hp;else{p=Fp;var w=$p}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(p=Ap);if(p&&(p=p(e,c))){pc(v,p,n,f);break e}w&&w(e,m,c),e==="focusout"&&(w=m._wrapperState)&&w.controlled&&m.type==="number"&&is(m,"number",m.value)}switch(w=c?Pn(c):window,e){case"focusin":(yi(w)||w.contentEditable==="true")&&(En=w,ws=c,kr=null);break;case"focusout":kr=ws=En=null;break;case"mousedown":bs=!0;break;case"contextmenu":case"mouseup":case"dragend":bs=!1,Ni(v,n,f);break;case"selectionchange":if(Vp)break;case"keydown":case"keyup":Ni(v,n,f)}var k;if(ha)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Cn?dc(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(cc&&n.locale!=="ko"&&(Cn||j!=="onCompositionStart"?j==="onCompositionEnd"&&Cn&&(k=uc()):(Ht=f,da="value"in Ht?Ht.value:Ht.textContent,Cn=!0)),w=Wo(c,j),0<w.length&&(j=new mi(j,e,null,n,f),v.push({event:j,listeners:w}),k?j.data=k:(k=fc(n),k!==null&&(j.data=k)))),(k=Dp?Lp(e,n):Rp(e,n))&&(c=Wo(c,"onBeforeInput"),0<c.length&&(f=new mi("onBeforeInput","beforeinput",null,n,f),v.push({event:f,listeners:c}),f.data=k))}Nc(v,t)})}function Or(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wo(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=Pr(e,n),l!=null&&r.unshift(Or(e,l,o)),l=Pr(e,t),l!=null&&r.push(Or(e,l,o))),e=e.return}return r}function kn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ei(e,t,n,r,o){for(var l=t._reactName,s=[];n!==null&&n!==r;){var i=n,u=i.alternate,c=i.stateNode;if(u!==null&&u===r)break;i.tag===5&&c!==null&&(i=c,o?(u=Pr(n,l),u!=null&&s.unshift(Or(n,u,i))):o||(u=Pr(n,l),u!=null&&s.push(Or(n,u,i)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Qp=/\r\n?/g,Kp=/\u0000|\uFFFD/g;function Ti(e){return(typeof e=="string"?e:""+e).replace(Qp,`
`).replace(Kp,"")}function ao(e,t,n){if(t=Ti(t),Ti(e)!==t&&n)throw Error(E(425))}function $o(){}var ks=null,Ss=null;function Ns(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var js=typeof setTimeout=="function"?setTimeout:void 0,Zp=typeof clearTimeout=="function"?clearTimeout:void 0,Pi=typeof Promise=="function"?Promise:void 0,Jp=typeof queueMicrotask=="function"?queueMicrotask:typeof Pi<"u"?function(e){return Pi.resolve(null).then(e).catch(qp)}:js;function qp(e){setTimeout(function(){throw e})}function $l(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Mr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Mr(t)}function Yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _i(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var nr=Math.random().toString(36).slice(2),wt="__reactFiber$"+nr,zr="__reactProps$"+nr,It="__reactContainer$"+nr,Cs="__reactEvents$"+nr,eh="__reactListeners$"+nr,th="__reactHandles$"+nr;function ln(e){var t=e[wt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[It]||n[wt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_i(e);e!==null;){if(n=e[wt])return n;e=_i(e)}return t}e=n,n=e.parentNode}return null}function Yr(e){return e=e[wt]||e[It],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function sl(e){return e[zr]||null}var Es=[],_n=-1;function tn(e){return{current:e}}function ne(e){0>_n||(e.current=Es[_n],Es[_n]=null,_n--)}function J(e,t){_n++,Es[_n]=e.current,e.current=t}var qt={},Pe=tn(qt),Ue=tn(!1),dn=qt;function Vn(e,t){var n=e.type.contextTypes;if(!n)return qt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Be(e){return e=e.childContextTypes,e!=null}function Fo(){ne(Ue),ne(Pe)}function Ii(e,t,n){if(Pe.current!==qt)throw Error(E(168));J(Pe,t),J(Ue,n)}function Cc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(E(108,$f(e)||"Unknown",o));return se({},n,r)}function Ao(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qt,dn=Pe.current,J(Pe,e),J(Ue,Ue.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(E(169));n?(e=Cc(e,t,dn),r.__reactInternalMemoizedMergedChildContext=e,ne(Ue),ne(Pe),J(Pe,e)):ne(Ue),J(Ue,n)}var Ct=null,al=!1,Fl=!1;function Ec(e){Ct===null?Ct=[e]:Ct.push(e)}function nh(e){al=!0,Ec(e)}function nn(){if(!Fl&&Ct!==null){Fl=!0;var e=0,t=G;try{var n=Ct;for(G=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ct=null,al=!1}catch(o){throw Ct!==null&&(Ct=Ct.slice(e+1)),Ju(aa,nn),o}finally{G=t,Fl=!1}}return null}var In=[],Mn=0,Ho=null,Uo=0,rt=[],ot=0,fn=null,Et=1,Tt="";function rn(e,t){In[Mn++]=Uo,In[Mn++]=Ho,Ho=e,Uo=t}function Tc(e,t,n){rt[ot++]=Et,rt[ot++]=Tt,rt[ot++]=fn,fn=e;var r=Et;e=Tt;var o=32-ht(r)-1;r&=~(1<<o),n+=1;var l=32-ht(t)+o;if(30<l){var s=o-o%5;l=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Et=1<<32-ht(t)+o|n<<o|r,Tt=l+e}else Et=1<<l|n<<o|r,Tt=e}function ga(e){e.return!==null&&(rn(e,1),Tc(e,1,0))}function xa(e){for(;e===Ho;)Ho=In[--Mn],In[Mn]=null,Uo=In[--Mn],In[Mn]=null;for(;e===fn;)fn=rt[--ot],rt[ot]=null,Tt=rt[--ot],rt[ot]=null,Et=rt[--ot],rt[ot]=null}var Ze=null,Ke=null,re=!1,pt=null;function Pc(e,t){var n=lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Di(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ze=e,Ke=Yt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ze=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fn!==null?{id:Et,overflow:Tt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ze=e,Ke=null,!0):!1;default:return!1}}function Ts(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ps(e){if(re){var t=Ke;if(t){var n=t;if(!Di(e,t)){if(Ts(e))throw Error(E(418));t=Yt(n.nextSibling);var r=Ze;t&&Di(e,t)?Pc(r,n):(e.flags=e.flags&-4097|2,re=!1,Ze=e)}}else{if(Ts(e))throw Error(E(418));e.flags=e.flags&-4097|2,re=!1,Ze=e}}}function Li(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ze=e}function io(e){if(e!==Ze)return!1;if(!re)return Li(e),re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ns(e.type,e.memoizedProps)),t&&(t=Ke)){if(Ts(e))throw _c(),Error(E(418));for(;t;)Pc(e,t),t=Yt(t.nextSibling)}if(Li(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ke=Yt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=Ze?Yt(e.stateNode.nextSibling):null;return!0}function _c(){for(var e=Ke;e;)e=Yt(e.nextSibling)}function Xn(){Ke=Ze=null,re=!1}function va(e){pt===null?pt=[e]:pt.push(e)}var rh=Lt.ReactCurrentBatchConfig;function ur(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,e));var o=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(s){var i=o.refs;s===null?delete i[l]:i[l]=s},t._stringRef=l,t)}if(typeof e!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,e))}return e}function uo(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ri(e){var t=e._init;return t(e._payload)}function Ic(e){function t(h,d){if(e){var g=h.deletions;g===null?(h.deletions=[d],h.flags|=16):g.push(d)}}function n(h,d){if(!e)return null;for(;d!==null;)t(h,d),d=d.sibling;return null}function r(h,d){for(h=new Map;d!==null;)d.key!==null?h.set(d.key,d):h.set(d.index,d),d=d.sibling;return h}function o(h,d){return h=Zt(h,d),h.index=0,h.sibling=null,h}function l(h,d,g){return h.index=g,e?(g=h.alternate,g!==null?(g=g.index,g<d?(h.flags|=2,d):g):(h.flags|=2,d)):(h.flags|=1048576,d)}function s(h){return e&&h.alternate===null&&(h.flags|=2),h}function i(h,d,g,y){return d===null||d.tag!==6?(d=Yl(g,h.mode,y),d.return=h,d):(d=o(d,g),d.return=h,d)}function u(h,d,g,y){var p=g.type;return p===jn?f(h,d,g.props.children,y,g.key):d!==null&&(d.elementType===p||typeof p=="object"&&p!==null&&p.$$typeof===Wt&&Ri(p)===d.type)?(y=o(d,g.props),y.ref=ur(h,d,g),y.return=h,y):(y=_o(g.type,g.key,g.props,null,h.mode,y),y.ref=ur(h,d,g),y.return=h,y)}function c(h,d,g,y){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=Gl(g,h.mode,y),d.return=h,d):(d=o(d,g.children||[]),d.return=h,d)}function f(h,d,g,y,p){return d===null||d.tag!==7?(d=cn(g,h.mode,y,p),d.return=h,d):(d=o(d,g),d.return=h,d)}function v(h,d,g){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Yl(""+d,h.mode,g),d.return=h,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Jr:return g=_o(d.type,d.key,d.props,null,h.mode,g),g.ref=ur(h,null,d),g.return=h,g;case Nn:return d=Gl(d,h.mode,g),d.return=h,d;case Wt:var y=d._init;return v(h,y(d._payload),g)}if(hr(d)||or(d))return d=cn(d,h.mode,g,null),d.return=h,d;uo(h,d)}return null}function m(h,d,g,y){var p=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return p!==null?null:i(h,d,""+g,y);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Jr:return g.key===p?u(h,d,g,y):null;case Nn:return g.key===p?c(h,d,g,y):null;case Wt:return p=g._init,m(h,d,p(g._payload),y)}if(hr(g)||or(g))return p!==null?null:f(h,d,g,y,null);uo(h,g)}return null}function x(h,d,g,y,p){if(typeof y=="string"&&y!==""||typeof y=="number")return h=h.get(g)||null,i(d,h,""+y,p);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Jr:return h=h.get(y.key===null?g:y.key)||null,u(d,h,y,p);case Nn:return h=h.get(y.key===null?g:y.key)||null,c(d,h,y,p);case Wt:var w=y._init;return x(h,d,g,w(y._payload),p)}if(hr(y)||or(y))return h=h.get(g)||null,f(d,h,y,p,null);uo(d,y)}return null}function b(h,d,g,y){for(var p=null,w=null,k=d,j=d=0,C=null;k!==null&&j<g.length;j++){k.index>j?(C=k,k=null):C=k.sibling;var T=m(h,k,g[j],y);if(T===null){k===null&&(k=C);break}e&&k&&T.alternate===null&&t(h,k),d=l(T,d,j),w===null?p=T:w.sibling=T,w=T,k=C}if(j===g.length)return n(h,k),re&&rn(h,j),p;if(k===null){for(;j<g.length;j++)k=v(h,g[j],y),k!==null&&(d=l(k,d,j),w===null?p=k:w.sibling=k,w=k);return re&&rn(h,j),p}for(k=r(h,k);j<g.length;j++)C=x(k,h,j,g[j],y),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?j:C.key),d=l(C,d,j),w===null?p=C:w.sibling=C,w=C);return e&&k.forEach(function(Y){return t(h,Y)}),re&&rn(h,j),p}function N(h,d,g,y){var p=or(g);if(typeof p!="function")throw Error(E(150));if(g=p.call(g),g==null)throw Error(E(151));for(var w=p=null,k=d,j=d=0,C=null,T=g.next();k!==null&&!T.done;j++,T=g.next()){k.index>j?(C=k,k=null):C=k.sibling;var Y=m(h,k,T.value,y);if(Y===null){k===null&&(k=C);break}e&&k&&Y.alternate===null&&t(h,k),d=l(Y,d,j),w===null?p=Y:w.sibling=Y,w=Y,k=C}if(T.done)return n(h,k),re&&rn(h,j),p;if(k===null){for(;!T.done;j++,T=g.next())T=v(h,T.value,y),T!==null&&(d=l(T,d,j),w===null?p=T:w.sibling=T,w=T);return re&&rn(h,j),p}for(k=r(h,k);!T.done;j++,T=g.next())T=x(k,h,j,T.value,y),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?j:T.key),d=l(T,d,j),w===null?p=T:w.sibling=T,w=T);return e&&k.forEach(function(ge){return t(h,ge)}),re&&rn(h,j),p}function P(h,d,g,y){if(typeof g=="object"&&g!==null&&g.type===jn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Jr:e:{for(var p=g.key,w=d;w!==null;){if(w.key===p){if(p=g.type,p===jn){if(w.tag===7){n(h,w.sibling),d=o(w,g.props.children),d.return=h,h=d;break e}}else if(w.elementType===p||typeof p=="object"&&p!==null&&p.$$typeof===Wt&&Ri(p)===w.type){n(h,w.sibling),d=o(w,g.props),d.ref=ur(h,w,g),d.return=h,h=d;break e}n(h,w);break}else t(h,w);w=w.sibling}g.type===jn?(d=cn(g.props.children,h.mode,y,g.key),d.return=h,h=d):(y=_o(g.type,g.key,g.props,null,h.mode,y),y.ref=ur(h,d,g),y.return=h,h=y)}return s(h);case Nn:e:{for(w=g.key;d!==null;){if(d.key===w)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){n(h,d.sibling),d=o(d,g.children||[]),d.return=h,h=d;break e}else{n(h,d);break}else t(h,d);d=d.sibling}d=Gl(g,h.mode,y),d.return=h,h=d}return s(h);case Wt:return w=g._init,P(h,d,w(g._payload),y)}if(hr(g))return b(h,d,g,y);if(or(g))return N(h,d,g,y);uo(h,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,d!==null&&d.tag===6?(n(h,d.sibling),d=o(d,g),d.return=h,h=d):(n(h,d),d=Yl(g,h.mode,y),d.return=h,h=d),s(h)):n(h,d)}return P}var Yn=Ic(!0),Mc=Ic(!1),Bo=tn(null),Vo=null,Dn=null,ya=null;function wa(){ya=Dn=Vo=null}function ba(e){var t=Bo.current;ne(Bo),e._currentValue=t}function _s(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Hn(e,t){Vo=e,ya=Dn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(He=!0),e.firstContext=null)}function at(e){var t=e._currentValue;if(ya!==e)if(e={context:e,memoizedValue:t,next:null},Dn===null){if(Vo===null)throw Error(E(308));Dn=e,Vo.dependencies={lanes:0,firstContext:e}}else Dn=Dn.next=e;return t}var sn=null;function ka(e){sn===null?sn=[e]:sn.push(e)}function Dc(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,ka(t)):(n.next=o.next,o.next=n),t.interleaved=n,Mt(e,r)}function Mt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $t=!1;function Sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Mt(e,n)}return o=r.interleaved,o===null?(t.next=t,ka(r)):(t.next=o.next,o.next=t),r.interleaved=t,Mt(e,n)}function No(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ia(e,n)}}function Oi(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=s:l=l.next=s,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xo(e,t,n,r){var o=e.updateQueue;$t=!1;var l=o.firstBaseUpdate,s=o.lastBaseUpdate,i=o.shared.pending;if(i!==null){o.shared.pending=null;var u=i,c=u.next;u.next=null,s===null?l=c:s.next=c,s=u;var f=e.alternate;f!==null&&(f=f.updateQueue,i=f.lastBaseUpdate,i!==s&&(i===null?f.firstBaseUpdate=c:i.next=c,f.lastBaseUpdate=u))}if(l!==null){var v=o.baseState;s=0,f=c=u=null,i=l;do{var m=i.lane,x=i.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:x,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var b=e,N=i;switch(m=t,x=n,N.tag){case 1:if(b=N.payload,typeof b=="function"){v=b.call(x,v,m);break e}v=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=N.payload,m=typeof b=="function"?b.call(x,v,m):b,m==null)break e;v=se({},v,m);break e;case 2:$t=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,m=o.effects,m===null?o.effects=[i]:m.push(i))}else x={eventTime:x,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},f===null?(c=f=x,u=v):f=f.next=x,s|=m;if(i=i.next,i===null){if(i=o.shared.pending,i===null)break;m=i,i=m.next,m.next=null,o.lastBaseUpdate=m,o.shared.pending=null}}while(!0);if(f===null&&(u=v),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=f,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);hn|=s,e.lanes=s,e.memoizedState=v}}function zi(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(E(191,o));o.call(r)}}}var Gr={},kt=tn(Gr),Wr=tn(Gr),$r=tn(Gr);function an(e){if(e===Gr)throw Error(E(174));return e}function Na(e,t){switch(J($r,t),J(Wr,e),J(kt,Gr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cs(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cs(t,e)}ne(kt),J(kt,t)}function Gn(){ne(kt),ne(Wr),ne($r)}function Rc(e){an($r.current);var t=an(kt.current),n=cs(t,e.type);t!==n&&(J(Wr,e),J(kt,n))}function ja(e){Wr.current===e&&(ne(kt),ne(Wr))}var oe=tn(0);function Yo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Al=[];function Ca(){for(var e=0;e<Al.length;e++)Al[e]._workInProgressVersionPrimary=null;Al.length=0}var jo=Lt.ReactCurrentDispatcher,Hl=Lt.ReactCurrentBatchConfig,pn=0,le=null,he=null,xe=null,Go=!1,Sr=!1,Fr=0,oh=0;function je(){throw Error(E(321))}function Ea(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gt(e[n],t[n]))return!1;return!0}function Ta(e,t,n,r,o,l){if(pn=l,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jo.current=e===null||e.memoizedState===null?ih:uh,e=n(r,o),Sr){l=0;do{if(Sr=!1,Fr=0,25<=l)throw Error(E(301));l+=1,xe=he=null,t.updateQueue=null,jo.current=ch,e=n(r,o)}while(Sr)}if(jo.current=Qo,t=he!==null&&he.next!==null,pn=0,xe=he=le=null,Go=!1,t)throw Error(E(300));return e}function Pa(){var e=Fr!==0;return Fr=0,e}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?le.memoizedState=xe=e:xe=xe.next=e,xe}function it(){if(he===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=he.next;var t=xe===null?le.memoizedState:xe.next;if(t!==null)xe=t,he=e;else{if(e===null)throw Error(E(310));he=e,e={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},xe===null?le.memoizedState=xe=e:xe=xe.next=e}return xe}function Ar(e,t){return typeof t=="function"?t(e):t}function Ul(e){var t=it(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=he,o=r.baseQueue,l=n.pending;if(l!==null){if(o!==null){var s=o.next;o.next=l.next,l.next=s}r.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,r=r.baseState;var i=s=null,u=null,c=l;do{var f=c.lane;if((pn&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var v={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(i=u=v,s=r):u=u.next=v,le.lanes|=f,hn|=f}c=c.next}while(c!==null&&c!==l);u===null?s=r:u.next=i,gt(r,t.memoizedState)||(He=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do l=o.lane,le.lanes|=l,hn|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Bl(e){var t=it(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do l=e(l,s.action),s=s.next;while(s!==o);gt(l,t.memoizedState)||(He=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Oc(){}function zc(e,t){var n=le,r=it(),o=t(),l=!gt(r.memoizedState,o);if(l&&(r.memoizedState=o,He=!0),r=r.queue,_a(Fc.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||xe!==null&&xe.memoizedState.tag&1){if(n.flags|=2048,Hr(9,$c.bind(null,n,r,o,t),void 0,null),ve===null)throw Error(E(349));pn&30||Wc(n,t,o)}return o}function Wc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $c(e,t,n,r){t.value=n,t.getSnapshot=r,Ac(t)&&Hc(e)}function Fc(e,t,n){return n(function(){Ac(t)&&Hc(e)})}function Ac(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gt(e,n)}catch{return!0}}function Hc(e){var t=Mt(e,1);t!==null&&mt(t,e,1,-1)}function Wi(e){var t=yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:e},t.queue=e,e=e.dispatch=ah.bind(null,le,e),[t.memoizedState,e]}function Hr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Uc(){return it().memoizedState}function Co(e,t,n,r){var o=yt();le.flags|=e,o.memoizedState=Hr(1|t,n,void 0,r===void 0?null:r)}function il(e,t,n,r){var o=it();r=r===void 0?null:r;var l=void 0;if(he!==null){var s=he.memoizedState;if(l=s.destroy,r!==null&&Ea(r,s.deps)){o.memoizedState=Hr(t,n,l,r);return}}le.flags|=e,o.memoizedState=Hr(1|t,n,l,r)}function $i(e,t){return Co(8390656,8,e,t)}function _a(e,t){return il(2048,8,e,t)}function Bc(e,t){return il(4,2,e,t)}function Vc(e,t){return il(4,4,e,t)}function Xc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yc(e,t,n){return n=n!=null?n.concat([e]):null,il(4,4,Xc.bind(null,t,e),n)}function Ia(){}function Gc(e,t){var n=it();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qc(e,t){var n=it();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Kc(e,t,n){return pn&21?(gt(n,t)||(n=tc(),le.lanes|=n,hn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,He=!0),e.memoizedState=n)}function lh(e,t){var n=G;G=n!==0&&4>n?n:4,e(!0);var r=Hl.transition;Hl.transition={};try{e(!1),t()}finally{G=n,Hl.transition=r}}function Zc(){return it().memoizedState}function sh(e,t,n){var r=Kt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jc(e))qc(t,n);else if(n=Dc(e,t,n,r),n!==null){var o=Re();mt(n,e,r,o),ed(n,t,r)}}function ah(e,t,n){var r=Kt(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jc(e))qc(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var s=t.lastRenderedState,i=l(s,n);if(o.hasEagerState=!0,o.eagerState=i,gt(i,s)){var u=t.interleaved;u===null?(o.next=o,ka(t)):(o.next=u.next,u.next=o),t.interleaved=o;return}}catch{}finally{}n=Dc(e,t,o,r),n!==null&&(o=Re(),mt(n,e,r,o),ed(n,t,r))}}function Jc(e){var t=e.alternate;return e===le||t!==null&&t===le}function qc(e,t){Sr=Go=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ed(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ia(e,n)}}var Qo={readContext:at,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},ih={readContext:at,useCallback:function(e,t){return yt().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:$i,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Co(4194308,4,Xc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Co(4194308,4,e,t)},useInsertionEffect:function(e,t){return Co(4,2,e,t)},useMemo:function(e,t){var n=yt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sh.bind(null,le,e),[r.memoizedState,e]},useRef:function(e){var t=yt();return e={current:e},t.memoizedState=e},useState:Wi,useDebugValue:Ia,useDeferredValue:function(e){return yt().memoizedState=e},useTransition:function(){var e=Wi(!1),t=e[0];return e=lh.bind(null,e[1]),yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=le,o=yt();if(re){if(n===void 0)throw Error(E(407));n=n()}else{if(n=t(),ve===null)throw Error(E(349));pn&30||Wc(r,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,$i(Fc.bind(null,r,l,e),[e]),r.flags|=2048,Hr(9,$c.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=yt(),t=ve.identifierPrefix;if(re){var n=Tt,r=Et;n=(r&~(1<<32-ht(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Fr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=oh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uh={readContext:at,useCallback:Gc,useContext:at,useEffect:_a,useImperativeHandle:Yc,useInsertionEffect:Bc,useLayoutEffect:Vc,useMemo:Qc,useReducer:Ul,useRef:Uc,useState:function(){return Ul(Ar)},useDebugValue:Ia,useDeferredValue:function(e){var t=it();return Kc(t,he.memoizedState,e)},useTransition:function(){var e=Ul(Ar)[0],t=it().memoizedState;return[e,t]},useMutableSource:Oc,useSyncExternalStore:zc,useId:Zc,unstable_isNewReconciler:!1},ch={readContext:at,useCallback:Gc,useContext:at,useEffect:_a,useImperativeHandle:Yc,useInsertionEffect:Bc,useLayoutEffect:Vc,useMemo:Qc,useReducer:Bl,useRef:Uc,useState:function(){return Bl(Ar)},useDebugValue:Ia,useDeferredValue:function(e){var t=it();return he===null?t.memoizedState=e:Kc(t,he.memoizedState,e)},useTransition:function(){var e=Bl(Ar)[0],t=it().memoizedState;return[e,t]},useMutableSource:Oc,useSyncExternalStore:zc,useId:Zc,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=se({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Is(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:se({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ul={isMounted:function(e){return(e=e._reactInternals)?xn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Re(),o=Kt(e),l=Pt(r,o);l.payload=t,n!=null&&(l.callback=n),t=Gt(e,l,o),t!==null&&(mt(t,e,o,r),No(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Re(),o=Kt(e),l=Pt(r,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Gt(e,l,o),t!==null&&(mt(t,e,o,r),No(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Re(),r=Kt(e),o=Pt(n,r);o.tag=2,t!=null&&(o.callback=t),t=Gt(e,o,r),t!==null&&(mt(t,e,r,n),No(t,e,r))}};function Fi(e,t,n,r,o,l,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,s):t.prototype&&t.prototype.isPureReactComponent?!Lr(n,r)||!Lr(o,l):!0}function td(e,t,n){var r=!1,o=qt,l=t.contextType;return typeof l=="object"&&l!==null?l=at(l):(o=Be(t)?dn:Pe.current,r=t.contextTypes,l=(r=r!=null)?Vn(e,o):qt),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ul,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function Ai(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ul.enqueueReplaceState(t,t.state,null)}function Ms(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Sa(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=at(l):(l=Be(t)?dn:Pe.current,o.context=Vn(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Is(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&ul.enqueueReplaceState(o,o.state,null),Xo(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Qn(e,t){try{var n="",r=t;do n+=Wf(r),r=r.return;while(r);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function Vl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ds(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var dh=typeof WeakMap=="function"?WeakMap:Map;function nd(e,t,n){n=Pt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zo||(Zo=!0,Us=r),Ds(e,t)},n}function rd(e,t,n){n=Pt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Ds(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Ds(e,t),typeof r!="function"&&(Qt===null?Qt=new Set([this]):Qt.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Hi(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new dh;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=jh.bind(null,e,t,n),t.then(e,e))}function Ui(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bi(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pt(-1,1),t.tag=2,Gt(n,t,1))),n.lanes|=1),e)}var fh=Lt.ReactCurrentOwner,He=!1;function Le(e,t,n,r){t.child=e===null?Mc(t,null,n,r):Yn(t,e.child,n,r)}function Vi(e,t,n,r,o){n=n.render;var l=t.ref;return Hn(t,o),r=Ta(e,t,n,r,l,o),n=Pa(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Dt(e,t,o)):(re&&n&&ga(t),t.flags|=1,Le(e,t,r,o),t.child)}function Xi(e,t,n,r,o){if(e===null){var l=n.type;return typeof l=="function"&&!$a(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,od(e,t,l,r,o)):(e=_o(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var s=l.memoizedProps;if(n=n.compare,n=n!==null?n:Lr,n(s,r)&&e.ref===t.ref)return Dt(e,t,o)}return t.flags|=1,e=Zt(l,r),e.ref=t.ref,e.return=t,t.child=e}function od(e,t,n,r,o){if(e!==null){var l=e.memoizedProps;if(Lr(l,r)&&e.ref===t.ref)if(He=!1,t.pendingProps=r=l,(e.lanes&o)!==0)e.flags&131072&&(He=!0);else return t.lanes=e.lanes,Dt(e,t,o)}return Ls(e,t,n,r,o)}function ld(e,t,n){var r=t.pendingProps,o=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(Rn,Qe),Qe|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,J(Rn,Qe),Qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,J(Rn,Qe),Qe|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,J(Rn,Qe),Qe|=r;return Le(e,t,o,n),t.child}function sd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ls(e,t,n,r,o){var l=Be(n)?dn:Pe.current;return l=Vn(t,l),Hn(t,o),n=Ta(e,t,n,r,l,o),r=Pa(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Dt(e,t,o)):(re&&r&&ga(t),t.flags|=1,Le(e,t,n,o),t.child)}function Yi(e,t,n,r,o){if(Be(n)){var l=!0;Ao(t)}else l=!1;if(Hn(t,o),t.stateNode===null)Eo(e,t),td(t,n,r),Ms(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,i=t.memoizedProps;s.props=i;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=at(c):(c=Be(n)?dn:Pe.current,c=Vn(t,c));var f=n.getDerivedStateFromProps,v=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";v||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==r||u!==c)&&Ai(t,s,r,c),$t=!1;var m=t.memoizedState;s.state=m,Xo(t,r,s,o),u=t.memoizedState,i!==r||m!==u||Ue.current||$t?(typeof f=="function"&&(Is(t,n,f,r),u=t.memoizedState),(i=$t||Fi(t,n,i,r,m,u,c))?(v||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=c,r=i):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Lc(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:dt(t.type,i),s.props=c,v=t.pendingProps,m=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=at(u):(u=Be(n)?dn:Pe.current,u=Vn(t,u));var x=n.getDerivedStateFromProps;(f=typeof x=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==v||m!==u)&&Ai(t,s,r,u),$t=!1,m=t.memoizedState,s.state=m,Xo(t,r,s,o);var b=t.memoizedState;i!==v||m!==b||Ue.current||$t?(typeof x=="function"&&(Is(t,n,x,r),b=t.memoizedState),(c=$t||Fi(t,n,c,r,m,b,u)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,b,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,b,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),s.props=r,s.state=b,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Rs(e,t,n,r,l,o)}function Rs(e,t,n,r,o,l){sd(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&Mi(t,n,!1),Dt(e,t,l);r=t.stateNode,fh.current=t;var i=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Yn(t,e.child,null,l),t.child=Yn(t,null,i,l)):Le(e,t,i,l),t.memoizedState=r.state,o&&Mi(t,n,!0),t.child}function ad(e){var t=e.stateNode;t.pendingContext?Ii(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ii(e,t.context,!1),Na(e,t.containerInfo)}function Gi(e,t,n,r,o){return Xn(),va(o),t.flags|=256,Le(e,t,n,r),t.child}var Os={dehydrated:null,treeContext:null,retryLane:0};function zs(e){return{baseLanes:e,cachePool:null,transitions:null}}function id(e,t,n){var r=t.pendingProps,o=oe.current,l=!1,s=(t.flags&128)!==0,i;if((i=s)||(i=e!==null&&e.memoizedState===null?!1:(o&2)!==0),i?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),J(oe,o&1),e===null)return Ps(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,l?(r=t.mode,l=t.child,s={mode:"hidden",children:s},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=s):l=fl(s,r,0,null),e=cn(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=zs(n),t.memoizedState=Os,e):Ma(t,s));if(o=e.memoizedState,o!==null&&(i=o.dehydrated,i!==null))return ph(e,t,s,r,i,o,n);if(l){l=r.fallback,s=t.mode,o=e.child,i=o.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Zt(o,u),r.subtreeFlags=o.subtreeFlags&14680064),i!==null?l=Zt(i,l):(l=cn(l,s,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,s=e.child.memoizedState,s=s===null?zs(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},l.memoizedState=s,l.childLanes=e.childLanes&~n,t.memoizedState=Os,r}return l=e.child,e=l.sibling,r=Zt(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ma(e,t){return t=fl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function co(e,t,n,r){return r!==null&&va(r),Yn(t,e.child,null,n),e=Ma(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ph(e,t,n,r,o,l,s){if(n)return t.flags&256?(t.flags&=-257,r=Vl(Error(E(422))),co(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,o=t.mode,r=fl({mode:"visible",children:r.children},o,0,null),l=cn(l,o,s,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Yn(t,e.child,null,s),t.child.memoizedState=zs(s),t.memoizedState=Os,l);if(!(t.mode&1))return co(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var i=r.dgst;return r=i,l=Error(E(419)),r=Vl(l,r,void 0),co(e,t,s,r)}if(i=(s&e.childLanes)!==0,He||i){if(r=ve,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,Mt(e,o),mt(r,e,o,-1))}return Wa(),r=Vl(Error(E(421))),co(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Ch.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,Ke=Yt(o.nextSibling),Ze=t,re=!0,pt=null,e!==null&&(rt[ot++]=Et,rt[ot++]=Tt,rt[ot++]=fn,Et=e.id,Tt=e.overflow,fn=t),t=Ma(t,r.children),t.flags|=4096,t)}function Qi(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),_s(e.return,t,n)}function Xl(e,t,n,r,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o)}function ud(e,t,n){var r=t.pendingProps,o=r.revealOrder,l=r.tail;if(Le(e,t,r.children,n),r=oe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qi(e,n,t);else if(e.tag===19)Qi(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(J(oe,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Yo(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Xl(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Yo(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Xl(t,!0,n,null,l);break;case"together":Xl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Eo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,n=Zt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hh(e,t,n){switch(t.tag){case 3:ad(t),Xn();break;case 5:Rc(t);break;case 1:Be(t.type)&&Ao(t);break;case 4:Na(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;J(Bo,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(J(oe,oe.current&1),t.flags|=128,null):n&t.child.childLanes?id(e,t,n):(J(oe,oe.current&1),e=Dt(e,t,n),e!==null?e.sibling:null);J(oe,oe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ud(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),J(oe,oe.current),r)break;return null;case 22:case 23:return t.lanes=0,ld(e,t,n)}return Dt(e,t,n)}var cd,Ws,dd,fd;cd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ws=function(){};dd=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,an(kt.current);var l=null;switch(n){case"input":o=ss(e,o),r=ss(e,r),l=[];break;case"select":o=se({},o,{value:void 0}),r=se({},r,{value:void 0}),l=[];break;case"textarea":o=us(e,o),r=us(e,r),l=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=$o)}ds(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var i=o[c];for(s in i)i.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Er.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in r){var u=r[c];if(i=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&u!==i&&(u!=null||i!=null))if(c==="style")if(i){for(s in i)!i.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&i[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(l||(l=[]),l.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,i=i?i.__html:void 0,u!=null&&i!==u&&(l=l||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(l=l||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Er.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&te("scroll",e),l||i===u||(l=[])):(l=l||[]).push(c,u))}n&&(l=l||[]).push("style",n);var c=l;(t.updateQueue=c)&&(t.flags|=4)}};fd=function(e,t,n,r){n!==r&&(t.flags|=4)};function cr(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mh(e,t,n){var r=t.pendingProps;switch(xa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return Be(t.type)&&Fo(),Ce(t),null;case 3:return r=t.stateNode,Gn(),ne(Ue),ne(Pe),Ca(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(io(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pt!==null&&(Xs(pt),pt=null))),Ws(e,t),Ce(t),null;case 5:ja(t);var o=an($r.current);if(n=t.type,e!==null&&t.stateNode!=null)dd(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(E(166));return Ce(t),null}if(e=an(kt.current),io(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[wt]=t,r[zr]=l,e=(t.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(o=0;o<gr.length;o++)te(gr[o],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":oi(r,l),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},te("invalid",r);break;case"textarea":si(r,l),te("invalid",r)}ds(n,l),o=null;for(var s in l)if(l.hasOwnProperty(s)){var i=l[s];s==="children"?typeof i=="string"?r.textContent!==i&&(l.suppressHydrationWarning!==!0&&ao(r.textContent,i,e),o=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(l.suppressHydrationWarning!==!0&&ao(r.textContent,i,e),o=["children",""+i]):Er.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&te("scroll",r)}switch(n){case"input":qr(r),li(r,l,!0);break;case"textarea":qr(r),ai(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=$o)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[wt]=t,e[zr]=r,cd(e,t,!1,!1),t.stateNode=e;e:{switch(s=fs(n,r),n){case"dialog":te("cancel",e),te("close",e),o=r;break;case"iframe":case"object":case"embed":te("load",e),o=r;break;case"video":case"audio":for(o=0;o<gr.length;o++)te(gr[o],e);o=r;break;case"source":te("error",e),o=r;break;case"img":case"image":case"link":te("error",e),te("load",e),o=r;break;case"details":te("toggle",e),o=r;break;case"input":oi(e,r),o=ss(e,r),te("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=se({},r,{value:void 0}),te("invalid",e);break;case"textarea":si(e,r),o=us(e,r),te("invalid",e);break;default:o=r}ds(n,o),i=o;for(l in i)if(i.hasOwnProperty(l)){var u=i[l];l==="style"?Uu(e,u):l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Au(e,u)):l==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Tr(e,u):typeof u=="number"&&Tr(e,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Er.hasOwnProperty(l)?u!=null&&l==="onScroll"&&te("scroll",e):u!=null&&na(e,l,u,s))}switch(n){case"input":qr(e),li(e,r,!1);break;case"textarea":qr(e),ai(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Jt(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Wn(e,!!r.multiple,l,!1):r.defaultValue!=null&&Wn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=$o)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ce(t),null;case 6:if(e&&t.stateNode!=null)fd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(E(166));if(n=an($r.current),an(kt.current),io(t)){if(r=t.stateNode,n=t.memoizedProps,r[wt]=t,(l=r.nodeValue!==n)&&(e=Ze,e!==null))switch(e.tag){case 3:ao(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ao(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wt]=t,t.stateNode=r}return Ce(t),null;case 13:if(ne(oe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(re&&Ke!==null&&t.mode&1&&!(t.flags&128))_c(),Xn(),t.flags|=98560,l=!1;else if(l=io(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(E(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(E(317));l[wt]=t}else Xn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),l=!1}else pt!==null&&(Xs(pt),pt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||oe.current&1?me===0&&(me=3):Wa())),t.updateQueue!==null&&(t.flags|=4),Ce(t),null);case 4:return Gn(),Ws(e,t),e===null&&Rr(t.stateNode.containerInfo),Ce(t),null;case 10:return ba(t.type._context),Ce(t),null;case 17:return Be(t.type)&&Fo(),Ce(t),null;case 19:if(ne(oe),l=t.memoizedState,l===null)return Ce(t),null;if(r=(t.flags&128)!==0,s=l.rendering,s===null)if(r)cr(l,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Yo(e),s!==null){for(t.flags|=128,cr(l,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,s=l.alternate,s===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,l.type=s.type,e=s.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return J(oe,oe.current&1|2),t.child}e=e.sibling}l.tail!==null&&fe()>Kn&&(t.flags|=128,r=!0,cr(l,!1),t.lanes=4194304)}else{if(!r)if(e=Yo(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),cr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!re)return Ce(t),null}else 2*fe()-l.renderingStartTime>Kn&&n!==1073741824&&(t.flags|=128,r=!0,cr(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(n=l.last,n!==null?n.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=fe(),t.sibling=null,n=oe.current,J(oe,r?n&1|2:n&1),t):(Ce(t),null);case 22:case 23:return za(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Qe&1073741824&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function gh(e,t){switch(xa(t),t.tag){case 1:return Be(t.type)&&Fo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gn(),ne(Ue),ne(Pe),Ca(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ja(t),null;case 13:if(ne(oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));Xn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(oe),null;case 4:return Gn(),null;case 10:return ba(t.type._context),null;case 22:case 23:return za(),null;case 24:return null;default:return null}}var fo=!1,Te=!1,xh=typeof WeakSet=="function"?WeakSet:Set,L=null;function Ln(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ue(e,t,r)}else n.current=null}function $s(e,t,n){try{n()}catch(r){ue(e,t,r)}}var Ki=!1;function vh(e,t){if(ks=Oo,e=xc(),ma(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var s=0,i=-1,u=-1,c=0,f=0,v=e,m=null;t:for(;;){for(var x;v!==n||o!==0&&v.nodeType!==3||(i=s+o),v!==l||r!==0&&v.nodeType!==3||(u=s+r),v.nodeType===3&&(s+=v.nodeValue.length),(x=v.firstChild)!==null;)m=v,v=x;for(;;){if(v===e)break t;if(m===n&&++c===o&&(i=s),m===l&&++f===r&&(u=s),(x=v.nextSibling)!==null)break;v=m,m=v.parentNode}v=x}n=i===-1||u===-1?null:{start:i,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ss={focusedElem:e,selectionRange:n},Oo=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var N=b.memoizedProps,P=b.memoizedState,h=t.stateNode,d=h.getSnapshotBeforeUpdate(t.elementType===t.type?N:dt(t.type,N),P);h.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(y){ue(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return b=Ki,Ki=!1,b}function Nr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&$s(t,n,l)}o=o.next}while(o!==r)}}function cl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Fs(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function pd(e){var t=e.alternate;t!==null&&(e.alternate=null,pd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wt],delete t[zr],delete t[Cs],delete t[eh],delete t[th])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hd(e){return e.tag===5||e.tag===3||e.tag===4}function Zi(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function As(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=$o));else if(r!==4&&(e=e.child,e!==null))for(As(e,t,n),e=e.sibling;e!==null;)As(e,t,n),e=e.sibling}function Hs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Hs(e,t,n),e=e.sibling;e!==null;)Hs(e,t,n),e=e.sibling}var be=null,ft=!1;function Rt(e,t,n){for(n=n.child;n!==null;)md(e,t,n),n=n.sibling}function md(e,t,n){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(nl,n)}catch{}switch(n.tag){case 5:Te||Ln(n,t);case 6:var r=be,o=ft;be=null,Rt(e,t,n),be=r,ft=o,be!==null&&(ft?(e=be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):be.removeChild(n.stateNode));break;case 18:be!==null&&(ft?(e=be,n=n.stateNode,e.nodeType===8?$l(e.parentNode,n):e.nodeType===1&&$l(e,n),Mr(e)):$l(be,n.stateNode));break;case 4:r=be,o=ft,be=n.stateNode.containerInfo,ft=!0,Rt(e,t,n),be=r,ft=o;break;case 0:case 11:case 14:case 15:if(!Te&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var l=o,s=l.destroy;l=l.tag,s!==void 0&&(l&2||l&4)&&$s(n,t,s),o=o.next}while(o!==r)}Rt(e,t,n);break;case 1:if(!Te&&(Ln(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){ue(n,t,i)}Rt(e,t,n);break;case 21:Rt(e,t,n);break;case 22:n.mode&1?(Te=(r=Te)||n.memoizedState!==null,Rt(e,t,n),Te=r):Rt(e,t,n);break;default:Rt(e,t,n)}}function Ji(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new xh),t.forEach(function(r){var o=Eh.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function ut(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var l=e,s=t,i=s;e:for(;i!==null;){switch(i.tag){case 5:be=i.stateNode,ft=!1;break e;case 3:be=i.stateNode.containerInfo,ft=!0;break e;case 4:be=i.stateNode.containerInfo,ft=!0;break e}i=i.return}if(be===null)throw Error(E(160));md(l,s,o),be=null,ft=!1;var u=o.alternate;u!==null&&(u.return=null),o.return=null}catch(c){ue(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gd(t,e),t=t.sibling}function gd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),vt(e),r&4){try{Nr(3,e,e.return),cl(3,e)}catch(N){ue(e,e.return,N)}try{Nr(5,e,e.return)}catch(N){ue(e,e.return,N)}}break;case 1:ut(t,e),vt(e),r&512&&n!==null&&Ln(n,n.return);break;case 5:if(ut(t,e),vt(e),r&512&&n!==null&&Ln(n,n.return),e.flags&32){var o=e.stateNode;try{Tr(o,"")}catch(N){ue(e,e.return,N)}}if(r&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,s=n!==null?n.memoizedProps:l,i=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{i==="input"&&l.type==="radio"&&l.name!=null&&Wu(o,l),fs(i,s);var c=fs(i,l);for(s=0;s<u.length;s+=2){var f=u[s],v=u[s+1];f==="style"?Uu(o,v):f==="dangerouslySetInnerHTML"?Au(o,v):f==="children"?Tr(o,v):na(o,f,v,c)}switch(i){case"input":as(o,l);break;case"textarea":$u(o,l);break;case"select":var m=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var x=l.value;x!=null?Wn(o,!!l.multiple,x,!1):m!==!!l.multiple&&(l.defaultValue!=null?Wn(o,!!l.multiple,l.defaultValue,!0):Wn(o,!!l.multiple,l.multiple?[]:"",!1))}o[zr]=l}catch(N){ue(e,e.return,N)}}break;case 6:if(ut(t,e),vt(e),r&4){if(e.stateNode===null)throw Error(E(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(N){ue(e,e.return,N)}}break;case 3:if(ut(t,e),vt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Mr(t.containerInfo)}catch(N){ue(e,e.return,N)}break;case 4:ut(t,e),vt(e);break;case 13:ut(t,e),vt(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(Ra=fe())),r&4&&Ji(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Te=(c=Te)||f,ut(t,e),Te=c):ut(t,e),vt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(L=e,f=e.child;f!==null;){for(v=L=f;L!==null;){switch(m=L,x=m.child,m.tag){case 0:case 11:case 14:case 15:Nr(4,m,m.return);break;case 1:Ln(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(N){ue(r,n,N)}}break;case 5:Ln(m,m.return);break;case 22:if(m.memoizedState!==null){eu(v);continue}}x!==null?(x.return=m,L=x):eu(v)}f=f.sibling}e:for(f=null,v=e;;){if(v.tag===5){if(f===null){f=v;try{o=v.stateNode,c?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(i=v.stateNode,u=v.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,i.style.display=Hu("display",s))}catch(N){ue(e,e.return,N)}}}else if(v.tag===6){if(f===null)try{v.stateNode.nodeValue=c?"":v.memoizedProps}catch(N){ue(e,e.return,N)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;f===v&&(f=null),v=v.return}f===v&&(f=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:ut(t,e),vt(e),r&4&&Ji(e);break;case 21:break;default:ut(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(hd(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Tr(o,""),r.flags&=-33);var l=Zi(e);Hs(e,l,o);break;case 3:case 4:var s=r.stateNode.containerInfo,i=Zi(e);As(e,i,s);break;default:throw Error(E(161))}}catch(u){ue(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yh(e,t,n){L=e,xd(e)}function xd(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var o=L,l=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||fo;if(!s){var i=o.alternate,u=i!==null&&i.memoizedState!==null||Te;i=fo;var c=Te;if(fo=s,(Te=u)&&!c)for(L=o;L!==null;)s=L,u=s.child,s.tag===22&&s.memoizedState!==null?tu(o):u!==null?(u.return=s,L=u):tu(o);for(;l!==null;)L=l,xd(l),l=l.sibling;L=o,fo=i,Te=c}qi(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,L=l):qi(e)}}function qi(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Te||cl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Te)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:dt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&zi(t,l,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}zi(t,s,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var v=f.dehydrated;v!==null&&Mr(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Te||t.flags&512&&Fs(t)}catch(m){ue(t,t.return,m)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function eu(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function tu(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{cl(4,t)}catch(u){ue(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(u){ue(t,o,u)}}var l=t.return;try{Fs(t)}catch(u){ue(t,l,u)}break;case 5:var s=t.return;try{Fs(t)}catch(u){ue(t,s,u)}}}catch(u){ue(t,t.return,u)}if(t===e){L=null;break}var i=t.sibling;if(i!==null){i.return=t.return,L=i;break}L=t.return}}var wh=Math.ceil,Ko=Lt.ReactCurrentDispatcher,Da=Lt.ReactCurrentOwner,st=Lt.ReactCurrentBatchConfig,X=0,ve=null,pe=null,ke=0,Qe=0,Rn=tn(0),me=0,Ur=null,hn=0,dl=0,La=0,jr=null,Ae=null,Ra=0,Kn=1/0,jt=null,Zo=!1,Us=null,Qt=null,po=!1,Ut=null,Jo=0,Cr=0,Bs=null,To=-1,Po=0;function Re(){return X&6?fe():To!==-1?To:To=fe()}function Kt(e){return e.mode&1?X&2&&ke!==0?ke&-ke:rh.transition!==null?(Po===0&&(Po=tc()),Po):(e=G,e!==0||(e=window.event,e=e===void 0?16:ic(e.type)),e):1}function mt(e,t,n,r){if(50<Cr)throw Cr=0,Bs=null,Error(E(185));Vr(e,n,r),(!(X&2)||e!==ve)&&(e===ve&&(!(X&2)&&(dl|=n),me===4&&At(e,ke)),Ve(e,r),n===1&&X===0&&!(t.mode&1)&&(Kn=fe()+500,al&&nn()))}function Ve(e,t){var n=e.callbackNode;rp(e,t);var r=Ro(e,e===ve?ke:0);if(r===0)n!==null&&ci(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ci(n),t===1)e.tag===0?nh(nu.bind(null,e)):Ec(nu.bind(null,e)),Jp(function(){!(X&6)&&nn()}),n=null;else{switch(nc(r)){case 1:n=aa;break;case 4:n=qu;break;case 16:n=Lo;break;case 536870912:n=ec;break;default:n=Lo}n=jd(n,vd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function vd(e,t){if(To=-1,Po=0,X&6)throw Error(E(327));var n=e.callbackNode;if(Un()&&e.callbackNode!==n)return null;var r=Ro(e,e===ve?ke:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=qo(e,r);else{t=r;var o=X;X|=2;var l=wd();(ve!==e||ke!==t)&&(jt=null,Kn=fe()+500,un(e,t));do try{Sh();break}catch(i){yd(e,i)}while(!0);wa(),Ko.current=l,X=o,pe!==null?t=0:(ve=null,ke=0,t=me)}if(t!==0){if(t===2&&(o=xs(e),o!==0&&(r=o,t=Vs(e,o))),t===1)throw n=Ur,un(e,0),At(e,r),Ve(e,fe()),n;if(t===6)At(e,r);else{if(o=e.current.alternate,!(r&30)&&!bh(o)&&(t=qo(e,r),t===2&&(l=xs(e),l!==0&&(r=l,t=Vs(e,l))),t===1))throw n=Ur,un(e,0),At(e,r),Ve(e,fe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(E(345));case 2:on(e,Ae,jt);break;case 3:if(At(e,r),(r&130023424)===r&&(t=Ra+500-fe(),10<t)){if(Ro(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Re(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=js(on.bind(null,e,Ae,jt),t);break}on(e,Ae,jt);break;case 4:if(At(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-ht(r);l=1<<s,s=t[s],s>o&&(o=s),r&=~l}if(r=o,r=fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wh(r/1960))-r,10<r){e.timeoutHandle=js(on.bind(null,e,Ae,jt),r);break}on(e,Ae,jt);break;case 5:on(e,Ae,jt);break;default:throw Error(E(329))}}}return Ve(e,fe()),e.callbackNode===n?vd.bind(null,e):null}function Vs(e,t){var n=jr;return e.current.memoizedState.isDehydrated&&(un(e,t).flags|=256),e=qo(e,t),e!==2&&(t=Ae,Ae=n,t!==null&&Xs(t)),e}function Xs(e){Ae===null?Ae=e:Ae.push.apply(Ae,e)}function bh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],l=o.getSnapshot;o=o.value;try{if(!gt(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function At(e,t){for(t&=~La,t&=~dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ht(t),r=1<<n;e[n]=-1,t&=~r}}function nu(e){if(X&6)throw Error(E(327));Un();var t=Ro(e,0);if(!(t&1))return Ve(e,fe()),null;var n=qo(e,t);if(e.tag!==0&&n===2){var r=xs(e);r!==0&&(t=r,n=Vs(e,r))}if(n===1)throw n=Ur,un(e,0),At(e,t),Ve(e,fe()),n;if(n===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,on(e,Ae,jt),Ve(e,fe()),null}function Oa(e,t){var n=X;X|=1;try{return e(t)}finally{X=n,X===0&&(Kn=fe()+500,al&&nn())}}function mn(e){Ut!==null&&Ut.tag===0&&!(X&6)&&Un();var t=X;X|=1;var n=st.transition,r=G;try{if(st.transition=null,G=1,e)return e()}finally{G=r,st.transition=n,X=t,!(X&6)&&nn()}}function za(){Qe=Rn.current,ne(Rn)}function un(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Zp(n)),pe!==null)for(n=pe.return;n!==null;){var r=n;switch(xa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fo();break;case 3:Gn(),ne(Ue),ne(Pe),Ca();break;case 5:ja(r);break;case 4:Gn();break;case 13:ne(oe);break;case 19:ne(oe);break;case 10:ba(r.type._context);break;case 22:case 23:za()}n=n.return}if(ve=e,pe=e=Zt(e.current,null),ke=Qe=t,me=0,Ur=null,La=dl=hn=0,Ae=jr=null,sn!==null){for(t=0;t<sn.length;t++)if(n=sn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,l=n.pending;if(l!==null){var s=l.next;l.next=o,r.next=s}n.pending=r}sn=null}return e}function yd(e,t){do{var n=pe;try{if(wa(),jo.current=Qo,Go){for(var r=le.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Go=!1}if(pn=0,xe=he=le=null,Sr=!1,Fr=0,Da.current=null,n===null||n.return===null){me=1,Ur=t,pe=null;break}e:{var l=e,s=n.return,i=n,u=t;if(t=ke,i.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=i,v=f.tag;if(!(f.mode&1)&&(v===0||v===11||v===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var x=Ui(s);if(x!==null){x.flags&=-257,Bi(x,s,i,l,t),x.mode&1&&Hi(l,c,t),t=x,u=c;var b=t.updateQueue;if(b===null){var N=new Set;N.add(u),t.updateQueue=N}else b.add(u);break e}else{if(!(t&1)){Hi(l,c,t),Wa();break e}u=Error(E(426))}}else if(re&&i.mode&1){var P=Ui(s);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Bi(P,s,i,l,t),va(Qn(u,i));break e}}l=u=Qn(u,i),me!==4&&(me=2),jr===null?jr=[l]:jr.push(l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var h=nd(l,u,t);Oi(l,h);break e;case 1:i=u;var d=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof d.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Qt===null||!Qt.has(g)))){l.flags|=65536,t&=-t,l.lanes|=t;var y=rd(l,i,t);Oi(l,y);break e}}l=l.return}while(l!==null)}kd(n)}catch(p){t=p,pe===n&&n!==null&&(pe=n=n.return);continue}break}while(!0)}function wd(){var e=Ko.current;return Ko.current=Qo,e===null?Qo:e}function Wa(){(me===0||me===3||me===2)&&(me=4),ve===null||!(hn&268435455)&&!(dl&268435455)||At(ve,ke)}function qo(e,t){var n=X;X|=2;var r=wd();(ve!==e||ke!==t)&&(jt=null,un(e,t));do try{kh();break}catch(o){yd(e,o)}while(!0);if(wa(),X=n,Ko.current=r,pe!==null)throw Error(E(261));return ve=null,ke=0,me}function kh(){for(;pe!==null;)bd(pe)}function Sh(){for(;pe!==null&&!Gf();)bd(pe)}function bd(e){var t=Nd(e.alternate,e,Qe);e.memoizedProps=e.pendingProps,t===null?kd(e):pe=t,Da.current=null}function kd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gh(n,t),n!==null){n.flags&=32767,pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{me=6,pe=null;return}}else if(n=mh(n,t,Qe),n!==null){pe=n;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);me===0&&(me=5)}function on(e,t,n){var r=G,o=st.transition;try{st.transition=null,G=1,Nh(e,t,n,r)}finally{st.transition=o,G=r}return null}function Nh(e,t,n,r){do Un();while(Ut!==null);if(X&6)throw Error(E(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(op(e,l),e===ve&&(pe=ve=null,ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||po||(po=!0,jd(Lo,function(){return Un(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=st.transition,st.transition=null;var s=G;G=1;var i=X;X|=4,Da.current=null,vh(e,n),gd(n,e),Bp(Ss),Oo=!!ks,Ss=ks=null,e.current=n,yh(n),Qf(),X=i,G=s,st.transition=l}else e.current=n;if(po&&(po=!1,Ut=e,Jo=o),l=e.pendingLanes,l===0&&(Qt=null),Jf(n.stateNode),Ve(e,fe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Zo)throw Zo=!1,e=Us,Us=null,e;return Jo&1&&e.tag!==0&&Un(),l=e.pendingLanes,l&1?e===Bs?Cr++:(Cr=0,Bs=e):Cr=0,nn(),null}function Un(){if(Ut!==null){var e=nc(Jo),t=st.transition,n=G;try{if(st.transition=null,G=16>e?16:e,Ut===null)var r=!1;else{if(e=Ut,Ut=null,Jo=0,X&6)throw Error(E(331));var o=X;for(X|=4,L=e.current;L!==null;){var l=L,s=l.child;if(L.flags&16){var i=l.deletions;if(i!==null){for(var u=0;u<i.length;u++){var c=i[u];for(L=c;L!==null;){var f=L;switch(f.tag){case 0:case 11:case 15:Nr(8,f,l)}var v=f.child;if(v!==null)v.return=f,L=v;else for(;L!==null;){f=L;var m=f.sibling,x=f.return;if(pd(f),f===c){L=null;break}if(m!==null){m.return=x,L=m;break}L=x}}}var b=l.alternate;if(b!==null){var N=b.child;if(N!==null){b.child=null;do{var P=N.sibling;N.sibling=null,N=P}while(N!==null)}}L=l}}if(l.subtreeFlags&2064&&s!==null)s.return=l,L=s;else e:for(;L!==null;){if(l=L,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Nr(9,l,l.return)}var h=l.sibling;if(h!==null){h.return=l.return,L=h;break e}L=l.return}}var d=e.current;for(L=d;L!==null;){s=L;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,L=g;else e:for(s=d;L!==null;){if(i=L,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:cl(9,i)}}catch(p){ue(i,i.return,p)}if(i===s){L=null;break e}var y=i.sibling;if(y!==null){y.return=i.return,L=y;break e}L=i.return}}if(X=o,nn(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(nl,e)}catch{}r=!0}return r}finally{G=n,st.transition=t}}return!1}function ru(e,t,n){t=Qn(n,t),t=nd(e,t,1),e=Gt(e,t,1),t=Re(),e!==null&&(Vr(e,1,t),Ve(e,t))}function ue(e,t,n){if(e.tag===3)ru(e,e,n);else for(;t!==null;){if(t.tag===3){ru(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qt===null||!Qt.has(r))){e=Qn(n,e),e=rd(t,e,1),t=Gt(t,e,1),e=Re(),t!==null&&(Vr(t,1,e),Ve(t,e));break}}t=t.return}}function jh(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Re(),e.pingedLanes|=e.suspendedLanes&n,ve===e&&(ke&n)===n&&(me===4||me===3&&(ke&130023424)===ke&&500>fe()-Ra?un(e,0):La|=n),Ve(e,t)}function Sd(e,t){t===0&&(e.mode&1?(t=no,no<<=1,!(no&130023424)&&(no=4194304)):t=1);var n=Re();e=Mt(e,t),e!==null&&(Vr(e,t,n),Ve(e,n))}function Ch(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Sd(e,n)}function Eh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(t),Sd(e,n)}var Nd;Nd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ue.current)He=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return He=!1,hh(e,t,n);He=!!(e.flags&131072)}else He=!1,re&&t.flags&1048576&&Tc(t,Uo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Eo(e,t),e=t.pendingProps;var o=Vn(t,Pe.current);Hn(t,n),o=Ta(null,t,r,e,o,n);var l=Pa();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Be(r)?(l=!0,Ao(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Sa(t),o.updater=ul,t.stateNode=o,o._reactInternals=t,Ms(t,r,e,n),t=Rs(null,t,r,!0,l,n)):(t.tag=0,re&&l&&ga(t),Le(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Eo(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Ph(r),e=dt(r,e),o){case 0:t=Ls(null,t,r,e,n);break e;case 1:t=Yi(null,t,r,e,n);break e;case 11:t=Vi(null,t,r,e,n);break e;case 14:t=Xi(null,t,r,dt(r.type,e),n);break e}throw Error(E(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:dt(r,o),Ls(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:dt(r,o),Yi(e,t,r,o,n);case 3:e:{if(ad(t),e===null)throw Error(E(387));r=t.pendingProps,l=t.memoizedState,o=l.element,Lc(e,t),Xo(t,r,null,n);var s=t.memoizedState;if(r=s.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=Qn(Error(E(423)),t),t=Gi(e,t,r,n,o);break e}else if(r!==o){o=Qn(Error(E(424)),t),t=Gi(e,t,r,n,o);break e}else for(Ke=Yt(t.stateNode.containerInfo.firstChild),Ze=t,re=!0,pt=null,n=Mc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xn(),r===o){t=Dt(e,t,n);break e}Le(e,t,r,n)}t=t.child}return t;case 5:return Rc(t),e===null&&Ps(t),r=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,s=o.children,Ns(r,o)?s=null:l!==null&&Ns(r,l)&&(t.flags|=32),sd(e,t),Le(e,t,s,n),t.child;case 6:return e===null&&Ps(t),null;case 13:return id(e,t,n);case 4:return Na(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Yn(t,null,r,n):Le(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:dt(r,o),Vi(e,t,r,o,n);case 7:return Le(e,t,t.pendingProps,n),t.child;case 8:return Le(e,t,t.pendingProps.children,n),t.child;case 12:return Le(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,l=t.memoizedProps,s=o.value,J(Bo,r._currentValue),r._currentValue=s,l!==null)if(gt(l.value,s)){if(l.children===o.children&&!Ue.current){t=Dt(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var i=l.dependencies;if(i!==null){s=l.child;for(var u=i.firstContext;u!==null;){if(u.context===r){if(l.tag===1){u=Pt(-1,n&-n),u.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),_s(l.return,n,t),i.lanes|=n;break}u=u.next}}else if(l.tag===10)s=l.type===t.type?null:l.child;else if(l.tag===18){if(s=l.return,s===null)throw Error(E(341));s.lanes|=n,i=s.alternate,i!==null&&(i.lanes|=n),_s(s,n,t),s=l.sibling}else s=l.child;if(s!==null)s.return=l;else for(s=l;s!==null;){if(s===t){s=null;break}if(l=s.sibling,l!==null){l.return=s.return,s=l;break}s=s.return}l=s}Le(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Hn(t,n),o=at(o),r=r(o),t.flags|=1,Le(e,t,r,n),t.child;case 14:return r=t.type,o=dt(r,t.pendingProps),o=dt(r.type,o),Xi(e,t,r,o,n);case 15:return od(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:dt(r,o),Eo(e,t),t.tag=1,Be(r)?(e=!0,Ao(t)):e=!1,Hn(t,n),td(t,r,o),Ms(t,r,o,n),Rs(null,t,r,!0,e,n);case 19:return ud(e,t,n);case 22:return ld(e,t,n)}throw Error(E(156,t.tag))};function jd(e,t){return Ju(e,t)}function Th(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,n,r){return new Th(e,t,n,r)}function $a(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ph(e){if(typeof e=="function")return $a(e)?1:0;if(e!=null){if(e=e.$$typeof,e===oa)return 11;if(e===la)return 14}return 2}function Zt(e,t){var n=e.alternate;return n===null?(n=lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _o(e,t,n,r,o,l){var s=2;if(r=e,typeof e=="function")$a(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case jn:return cn(n.children,o,l,t);case ra:s=8,o|=8;break;case ns:return e=lt(12,n,t,o|2),e.elementType=ns,e.lanes=l,e;case rs:return e=lt(13,n,t,o),e.elementType=rs,e.lanes=l,e;case os:return e=lt(19,n,t,o),e.elementType=os,e.lanes=l,e;case Ru:return fl(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Du:s=10;break e;case Lu:s=9;break e;case oa:s=11;break e;case la:s=14;break e;case Wt:s=16,r=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=lt(s,n,t,o),t.elementType=e,t.type=r,t.lanes=l,t}function cn(e,t,n,r){return e=lt(7,e,r,t),e.lanes=n,e}function fl(e,t,n,r){return e=lt(22,e,r,t),e.elementType=Ru,e.lanes=n,e.stateNode={isHidden:!1},e}function Yl(e,t,n){return e=lt(6,e,null,t),e.lanes=n,e}function Gl(e,t,n){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _h(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tl(0),this.expirationTimes=Tl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Fa(e,t,n,r,o,l,s,i,u){return e=new _h(e,t,n,i,u),t===1?(t=1,l===!0&&(t|=8)):t=0,l=lt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sa(l),e}function Ih(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Cd(e){if(!e)return qt;e=e._reactInternals;e:{if(xn(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Be(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var n=e.type;if(Be(n))return Cc(e,n,t)}return t}function Ed(e,t,n,r,o,l,s,i,u){return e=Fa(n,r,!0,e,o,l,s,i,u),e.context=Cd(null),n=e.current,r=Re(),o=Kt(n),l=Pt(r,o),l.callback=t??null,Gt(n,l,o),e.current.lanes=o,Vr(e,o,r),Ve(e,r),e}function pl(e,t,n,r){var o=t.current,l=Re(),s=Kt(o);return n=Cd(n),t.context===null?t.context=n:t.pendingContext=n,t=Pt(l,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Gt(o,t,s),e!==null&&(mt(e,o,s,l),No(e,o,s)),s}function el(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ou(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Aa(e,t){ou(e,t),(e=e.alternate)&&ou(e,t)}function Mh(){return null}var Td=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ha(e){this._internalRoot=e}hl.prototype.render=Ha.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));pl(e,t,null,null)};hl.prototype.unmount=Ha.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mn(function(){pl(null,e,null,null)}),t[It]=null}};function hl(e){this._internalRoot=e}hl.prototype.unstable_scheduleHydration=function(e){if(e){var t=lc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ft.length&&t!==0&&t<Ft[n].priority;n++);Ft.splice(n,0,e),n===0&&ac(e)}};function Ua(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ml(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lu(){}function Dh(e,t,n,r,o){if(o){if(typeof r=="function"){var l=r;r=function(){var c=el(s);l.call(c)}}var s=Ed(t,r,e,0,null,!1,!1,"",lu);return e._reactRootContainer=s,e[It]=s.current,Rr(e.nodeType===8?e.parentNode:e),mn(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var i=r;r=function(){var c=el(u);i.call(c)}}var u=Fa(e,0,!1,null,null,!1,!1,"",lu);return e._reactRootContainer=u,e[It]=u.current,Rr(e.nodeType===8?e.parentNode:e),mn(function(){pl(t,u,n,r)}),u}function gl(e,t,n,r,o){var l=n._reactRootContainer;if(l){var s=l;if(typeof o=="function"){var i=o;o=function(){var u=el(s);i.call(u)}}pl(t,s,e,o)}else s=Dh(n,t,e,o,r);return el(s)}rc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=mr(t.pendingLanes);n!==0&&(ia(t,n|1),Ve(t,fe()),!(X&6)&&(Kn=fe()+500,nn()))}break;case 13:mn(function(){var r=Mt(e,1);if(r!==null){var o=Re();mt(r,e,1,o)}}),Aa(e,1)}};ua=function(e){if(e.tag===13){var t=Mt(e,134217728);if(t!==null){var n=Re();mt(t,e,134217728,n)}Aa(e,134217728)}};oc=function(e){if(e.tag===13){var t=Kt(e),n=Mt(e,t);if(n!==null){var r=Re();mt(n,e,t,r)}Aa(e,t)}};lc=function(){return G};sc=function(e,t){var n=G;try{return G=e,t()}finally{G=n}};hs=function(e,t,n){switch(t){case"input":if(as(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=sl(r);if(!o)throw Error(E(90));zu(r),as(r,o)}}}break;case"textarea":$u(e,n);break;case"select":t=n.value,t!=null&&Wn(e,!!n.multiple,t,!1)}};Xu=Oa;Yu=mn;var Lh={usingClientEntryPoint:!1,Events:[Yr,Pn,sl,Bu,Vu,Oa]},dr={findFiberByHostInstance:ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rh={bundleType:dr.bundleType,version:dr.version,rendererPackageName:dr.rendererPackageName,rendererConfig:dr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ku(e),e===null?null:e.stateNode},findFiberByHostInstance:dr.findFiberByHostInstance||Mh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ho.isDisabled&&ho.supportsFiber)try{nl=ho.inject(Rh),bt=ho}catch{}}et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lh;et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ua(t))throw Error(E(200));return Ih(e,t,null,n)};et.createRoot=function(e,t){if(!Ua(e))throw Error(E(299));var n=!1,r="",o=Td;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Fa(e,1,!1,null,null,n,!1,r,o),e[It]=t.current,Rr(e.nodeType===8?e.parentNode:e),new Ha(t)};et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=Ku(t),e=e===null?null:e.stateNode,e};et.flushSync=function(e){return mn(e)};et.hydrate=function(e,t,n){if(!ml(t))throw Error(E(200));return gl(null,e,t,!0,n)};et.hydrateRoot=function(e,t,n){if(!Ua(e))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,o=!1,l="",s=Td;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Ed(t,null,e,1,n??null,o,!1,l,s),e[It]=t.current,Rr(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new hl(t)};et.render=function(e,t,n){if(!ml(t))throw Error(E(200));return gl(null,e,t,!1,n)};et.unmountComponentAtNode=function(e){if(!ml(e))throw Error(E(40));return e._reactRootContainer?(mn(function(){gl(null,null,e,!1,function(){e._reactRootContainer=null,e[It]=null})}),!0):!1};et.unstable_batchedUpdates=Oa;et.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ml(n))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return gl(e,t,n,!1,r)};et.version="18.3.1-next-f1338f8080-20240426";function Pd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pd)}catch(e){console.error(e)}}Pd(),Pu.exports=et;var Qr=Pu.exports,su=Qr;es.createRoot=su.createRoot,es.hydrateRoot=su.hydrateRoot;const Oh={},au=e=>{let t;const n=new Set,r=(f,v)=>{const m=typeof f=="function"?f(t):f;if(!Object.is(m,t)){const x=t;t=v??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(b=>b(t,x))}},o=()=>t,u={setState:r,getState:o,getInitialState:()=>c,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(Oh?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,o,u);return u},zh=e=>e?au(e):au;var _d={exports:{}},Id={},Md={exports:{}},Dd={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zn=M;function Wh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $h=typeof Object.is=="function"?Object.is:Wh,Fh=Zn.useState,Ah=Zn.useEffect,Hh=Zn.useLayoutEffect,Uh=Zn.useDebugValue;function Bh(e,t){var n=t(),r=Fh({inst:{value:n,getSnapshot:t}}),o=r[0].inst,l=r[1];return Hh(function(){o.value=n,o.getSnapshot=t,Ql(o)&&l({inst:o})},[e,n,t]),Ah(function(){return Ql(o)&&l({inst:o}),e(function(){Ql(o)&&l({inst:o})})},[e]),Uh(n),n}function Ql(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$h(e,n)}catch{return!0}}function Vh(e,t){return t()}var Xh=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Vh:Bh;Dd.useSyncExternalStore=Zn.useSyncExternalStore!==void 0?Zn.useSyncExternalStore:Xh;Md.exports=Dd;var Yh=Md.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xl=M,Gh=Yh;function Qh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kh=typeof Object.is=="function"?Object.is:Qh,Zh=Gh.useSyncExternalStore,Jh=xl.useRef,qh=xl.useEffect,em=xl.useMemo,tm=xl.useDebugValue;Id.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var l=Jh(null);if(l.current===null){var s={hasValue:!1,value:null};l.current=s}else s=l.current;l=em(function(){function u(x){if(!c){if(c=!0,f=x,x=r(x),o!==void 0&&s.hasValue){var b=s.value;if(o(b,x))return v=b}return v=x}if(b=v,Kh(f,x))return b;var N=r(x);return o!==void 0&&o(b,N)?(f=x,b):(f=x,v=N)}var c=!1,f,v,m=n===void 0?null:n;return[function(){return u(t())},m===null?void 0:function(){return u(m())}]},[t,n,r,o]);var i=Zh(e,l[0],l[1]);return qh(function(){s.hasValue=!0,s.value=i},[i]),tm(i),i};_d.exports=Id;var nm=_d.exports;const rm=Qs(nm),Ld={},{useDebugValue:om}=Eu,{useSyncExternalStoreWithSelector:lm}=rm;let iu=!1;const sm=e=>e;function am(e,t=sm,n){(Ld?"production":void 0)!=="production"&&n&&!iu&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),iu=!0);const r=lm(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return om(r),r}const uu=e=>{(Ld?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?zh(e):e,n=(r,o)=>am(t,r,o);return Object.assign(n,t),n},Ba=e=>e?uu(e):uu;let mo;const im=new Uint8Array(16);function um(){if(!mo&&(mo=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!mo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return mo(im)}const we=[];for(let e=0;e<256;++e)we.push((e+256).toString(16).slice(1));function cm(e,t=0){return we[e[t+0]]+we[e[t+1]]+we[e[t+2]]+we[e[t+3]]+"-"+we[e[t+4]]+we[e[t+5]]+"-"+we[e[t+6]]+we[e[t+7]]+"-"+we[e[t+8]]+we[e[t+9]]+"-"+we[e[t+10]]+we[e[t+11]]+we[e[t+12]]+we[e[t+13]]+we[e[t+14]]+we[e[t+15]]}const dm=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),cu={randomUUID:dm};function xr(e,t,n){if(cu.randomUUID&&!e)return cu.randomUUID();e=e||{};const r=e.random||(e.rng||um)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,cm(r)}const F=Ba(e=>{const t=(()=>{try{const l=localStorage.getItem("ucs:store");return l?JSON.parse(l):null}catch(l){return console.error("Failed to load persisted store",l),null}})(),n=(t==null?void 0:t.characters)??[],r=(t==null?void 0:t.activeCharacterId)??null;return{characters:n,activeCharacterId:r,mode:"play",editingWidgetId:null,selectedWidgetId:null,createCharacter:l=>e(s=>{const i={id:xr(),name:l,widgets:[]};return{characters:[...s.characters,i],activeCharacterId:i.id}}),selectCharacter:l=>e({activeCharacterId:l}),deleteCharacter:l=>e(s=>({characters:s.characters.filter(i=>i.id!==l),activeCharacterId:s.activeCharacterId===l?null:s.activeCharacterId})),updateCharacterName:(l,s)=>e(i=>({characters:i.characters.map(u=>u.id===l?{...u,name:s}:u)})),updateCharacterTheme:(l,s)=>e(i=>({characters:i.characters.map(u=>u.id===l?{...u,theme:s}:u)})),setMode:l=>e({mode:l,selectedWidgetId:null}),setEditingWidgetId:l=>e({editingWidgetId:l}),setSelectedWidgetId:l=>e({selectedWidgetId:l}),addWidget:(l,s,i)=>e(u=>{if(!u.activeCharacterId)return u;const c={id:xr(),type:l,x:s,y:i,w:200,h:120,data:{label:"New Widget",value:0,items:[],text:""}};return{characters:u.characters.map(f=>f.id===u.activeCharacterId?{...f,widgets:[...f.widgets,c]}:f)}}),updateWidgetPosition:(l,s,i)=>e(u=>({characters:u.characters.map(c=>c.id===u.activeCharacterId?{...c,widgets:c.widgets.map(f=>f.id===l?{...f,x:s,y:i}:f)}:c)})),updateWidgetSize:(l,s,i)=>e(u=>({characters:u.characters.map(c=>c.id===u.activeCharacterId?{...c,widgets:c.widgets.map(f=>f.id===l?{...f,w:s,h:i}:f)}:c)})),updateWidgetData:(l,s)=>e(i=>({characters:i.characters.map(u=>u.id===i.activeCharacterId?{...u,widgets:u.widgets.map(c=>c.id===l?{...c,data:{...c.data,...s}}:c)}:u)})),removeWidget:l=>e(s=>({characters:s.characters.map(i=>i.id===s.activeCharacterId?{...i,widgets:i.widgets.filter(u=>u.id!==l)}:i)})),attachWidgets:(l,s)=>e(i=>i.activeCharacterId?{characters:i.characters.map(u=>{var m;if(u.id!==i.activeCharacterId)return u;const c=u.widgets.find(x=>x.id===l),f=u.widgets.find(x=>x.id===s);if(!c||!f||(m=c.attachedTo)!=null&&m.includes(s))return u;let v;if(c.groupId&&f.groupId&&c.groupId!==f.groupId){v=c.groupId;const x=f.groupId;return{...u,widgets:u.widgets.map(b=>b.groupId===x?{...b,groupId:v}:b.id===l?{...b,attachedTo:[...b.attachedTo||[],s]}:b.id===s?{...b,attachedTo:[...b.attachedTo||[],l]}:b)}}else c.groupId?v=c.groupId:f.groupId?v=f.groupId:v=xr();return{...u,widgets:u.widgets.map(x=>x.id===l?{...x,groupId:v,attachedTo:[...x.attachedTo||[],s]}:x.id===s?{...x,groupId:v,attachedTo:[...x.attachedTo||[],l]}:x)}})}:i),detachWidgets:(l,s)=>e(i=>i.activeCharacterId?{characters:i.characters.map(u=>{var g;if(u.id!==i.activeCharacterId)return u;const c=u.widgets.find(y=>y.id===l);if(!c||!c.groupId)return u;const f=c.groupId,v=c.attachedTo||[];let m=u.widgets.map(y=>y.id===l?{...y,groupId:void 0,attachedTo:void 0}:v.includes(y.id)?{...y,attachedTo:(y.attachedTo||[]).filter(p=>p!==l)}:y);const x=m.filter(y=>y.groupId===f).map(y=>y.id);if(x.length===0)return{...u,widgets:m};const b=new Map;for(const y of x){const p=m.find(w=>w.id===y);b.set(y,((g=p==null?void 0:p.attachedTo)==null?void 0:g.filter(w=>x.includes(w)))||[])}const N=new Set,P=[];for(const y of x){if(N.has(y))continue;const p=[],w=[y];for(;w.length>0;){const k=w.shift();if(N.has(k))continue;N.add(k),p.push(k);const j=b.get(k)||[];for(const C of j)N.has(C)||w.push(C)}P.push(p)}const h=P.map((y,p)=>{if(!(y.length<=1))return p===0&&P.filter(w=>w.length>1).length<=1?f:xr()}),d=new Map;return P.forEach((y,p)=>{for(const w of y)d.set(w,h[p])}),m=m.map(y=>{if(d.has(y.id)){const p=d.get(y.id);return p?{...y,groupId:p}:{...y,groupId:void 0,attachedTo:void 0}}return y}),{...u,widgets:m}})}:i),getWidgetsInGroup:l=>{const s=F.getState(),i=s.characters.find(u=>u.id===s.activeCharacterId);return i?i.widgets.filter(u=>u.groupId===l):[]},moveWidgetGroup:(l,s,i)=>e(u=>{if(!u.activeCharacterId)return u;const c=u.characters.find(m=>m.id===u.activeCharacterId);if(!c)return u;const f=c.widgets.find(m=>m.id===l);if(!f||!f.groupId)return{characters:u.characters.map(m=>m.id===u.activeCharacterId?{...m,widgets:m.widgets.map(x=>x.id===l?{...x,x:x.x+s,y:x.y+i}:x)}:m)};const v=f.groupId;return{characters:u.characters.map(m=>m.id===u.activeCharacterId?{...m,widgets:m.widgets.map(x=>x.groupId===v?{...x,x:x.x+s,y:x.y+i}:x)}:m)}})}});{let e=null;F.subscribe(()=>{e&&window.clearTimeout(e),e=window.setTimeout(()=>{try{const t=F.getState(),n={characters:t.characters,activeCharacterId:t.activeCharacterId};localStorage.setItem("ucs:store",JSON.stringify(n))}catch(t){console.error("Failed to persist store",t)}},150)})}const Me={none:"none",parchment:`repeating-linear-gradient(
    120deg,
    transparent 0px,
    transparent 2px,
    rgba(139, 115, 85, 0.03) 2px,
    rgba(139, 115, 85, 0.03) 4px
  ), repeating-linear-gradient(
    60deg,
    transparent 0px,
    transparent 2px,
    rgba(139, 115, 85, 0.02) 2px,
    rgba(139, 115, 85, 0.02) 4px
  )`,darkGrain:`repeating-linear-gradient(
    45deg,
    transparent 0px,
    transparent 1px,
    rgba(255, 255, 255, 0.02) 1px,
    rgba(255, 255, 255, 0.02) 2px
  ), repeating-linear-gradient(
    -45deg,
    transparent 0px,
    transparent 1px,
    rgba(255, 255, 255, 0.015) 1px,
    rgba(255, 255, 255, 0.015) 2px
  )`,scanlines:`repeating-linear-gradient(
    0deg,
    transparent 0px,
    transparent 2px,
    rgba(0, 255, 255, 0.04) 2px,
    rgba(0, 255, 255, 0.04) 4px
  )`,holographic:`linear-gradient(
    135deg,
    rgba(0, 255, 255, 0.08) 0%,
    transparent 25%,
    rgba(0, 255, 136, 0.06) 50%,
    transparent 75%,
    rgba(0, 200, 255, 0.08) 100%
  )`,arcaneRunes:`radial-gradient(
    circle at 50% 50%,
    transparent 30%,
    rgba(191, 127, 255, 0.06) 31%,
    rgba(191, 127, 255, 0.06) 32%,
    transparent 33%,
    transparent 60%,
    rgba(191, 127, 255, 0.04) 61%,
    rgba(191, 127, 255, 0.04) 62%,
    transparent 63%
  )`,brassPlate:`repeating-linear-gradient(
    0deg,
    transparent 0px,
    transparent 18px,
    rgba(205, 127, 50, 0.08) 18px,
    rgba(205, 127, 50, 0.08) 20px
  )`,neonGrid:`repeating-linear-gradient(
    0deg,
    transparent 0px,
    transparent 48px,
    rgba(255, 0, 255, 0.1) 48px,
    rgba(255, 0, 255, 0.1) 50px
  ), repeating-linear-gradient(
    90deg,
    transparent 0px,
    transparent 48px,
    rgba(255, 0, 255, 0.1) 48px,
    rgba(255, 0, 255, 0.1) 50px
  )`,leafPattern:`radial-gradient(
    ellipse 20px 10px at 25% 75%,
    rgba(74, 124, 89, 0.12) 0%,
    transparent 100%
  ), radial-gradient(
    ellipse 15px 8px at 75% 25%,
    rgba(74, 124, 89, 0.1) 0%,
    transparent 100%
  )`,sketchLines:`repeating-linear-gradient(
    0deg,
    transparent 0px,
    transparent 26px,
    rgba(153, 194, 255, 0.25) 26px,
    rgba(153, 194, 255, 0.25) 28px
  )`,necroticMist:`radial-gradient(
    ellipse at 30% 70%,
    rgba(74, 170, 0, 0.1) 0%,
    transparent 50%
  ), radial-gradient(
    ellipse at 80% 20%,
    rgba(74, 170, 0, 0.08) 0%,
    transparent 40%
  )`},fm=[{value:"none",label:"None"},{value:"parchment",label:"Parchment"},{value:"darkGrain",label:"Dark Grain"},{value:"scanlines",label:"Scanlines"},{value:"holographic",label:"Holographic"},{value:"arcaneRunes",label:"Arcane Runes"},{value:"brassPlate",label:"Brass Plate"},{value:"neonGrid",label:"Neon Grid"},{value:"leafPattern",label:"Leaf Pattern"},{value:"sketchLines",label:"Sketch Lines"},{value:"necroticMist",label:"Necrotic Mist"}],pm=[{value:"hard",label:"Hard Offset"},{value:"soft",label:"Soft Drop"},{value:"glow",label:"Glow"},{value:"inset",label:"Inset"},{value:"layered",label:"Layered"},{value:"none",label:"None"}],hm=[{value:"solid",label:"Solid"},{value:"dashed",label:"Dashed"},{value:"dotted",label:"Dotted"},{value:"double",label:"Double"}];function Va(e){return Me[e]||Me.none}function Xa(e,t="transparent"){switch(e){case"hard":return"4px 4px 0 0 var(--color-shadow)";case"soft":return"0 4px 12px var(--color-shadow)";case"glow":return`0 0 12px ${t}, 0 0 24px var(--color-shadow)`;case"inset":return"inset 0 2px 8px var(--color-shadow)";case"layered":return"2px 2px 0 var(--color-border), 4px 4px 8px var(--color-shadow)";case"none":return"none";default:return"4px 4px 0 0 var(--color-shadow)"}}const Jn=[{id:"default",name:"Classic",icon:"",description:"Clean black & white with hard shadows",colors:{background:"#e5e7eb",paper:"#ffffff",ink:"#000000",accent:"#000000",accentHover:"#374151",border:"#000000",shadow:"#000000",muted:"#6b7280",glow:"transparent"},fonts:{heading:'"Courier New", Courier, monospace',body:'"Courier New", Courier, monospace'},borderRadius:"0px",borderWidth:"2px",shadowStyle:"4px 4px 0 0 var(--color-shadow)",cardTexture:Me.none,borderStyle:"solid"},{id:"pen-and-paper",name:"Pen & Paper",icon:"",description:"Handwritten style with lined paper feel",colors:{background:"#f5f0e6",paper:"#fffef9",ink:"#2c3e50",accent:"#8b4513",accentHover:"#a0522d",border:"#8b7355",shadow:"#8b7355",muted:"#7f8c8d",glow:"transparent"},fonts:{heading:'"Comic Sans MS", "Segoe Print", cursive',body:'"Segoe Print", "Comic Sans MS", cursive'},borderRadius:"2px",borderWidth:"1px",shadowStyle:"2px 2px 0 0 var(--color-shadow)",cardTexture:Me.sketchLines,borderStyle:"solid"},{id:"medieval",name:"Medieval",icon:"",description:"Aged parchment with ornate styling",colors:{background:"#3d2914",paper:"#d4c4a8",ink:"#2c1810",accent:"#8b0000",accentHover:"#a52a2a",border:"#5c4033",shadow:"#2c1810",muted:"#6b5344",glow:"transparent"},fonts:{heading:'"Times New Roman", "Palatino Linotype", serif',body:'"Palatino Linotype", "Book Antiqua", serif'},borderRadius:"0px",borderWidth:"3px",shadowStyle:"3px 3px 6px 0 var(--color-shadow)",cardTexture:Me.parchment,borderStyle:"double"},{id:"scifi",name:"Sci-Fi",icon:"",description:"Futuristic holographic interface",colors:{background:"#0a0a1a",paper:"#141428",ink:"#00ffff",accent:"#00ff88",accentHover:"#00cc6a",border:"#00ffff",shadow:"#00ffff40",muted:"#4a9eff",glow:"#00ffff"},fonts:{heading:'"Orbitron", "Segoe UI", sans-serif',body:'"Roboto Mono", "Consolas", monospace'},borderRadius:"4px",borderWidth:"1px",shadowStyle:"0 0 8px var(--color-glow), 0 0 16px var(--color-shadow)",cardTexture:`${Me.scanlines}, ${Me.holographic}`,borderStyle:"solid"},{id:"classic-dark",name:"Classic Dark",icon:"",description:"Traditional dark theme with warm accents",colors:{background:"#1a1a1a",paper:"#2d2d2d",ink:"#e0e0e0",accent:"#d4a574",accentHover:"#c49464",border:"#404040",shadow:"#00000080",muted:"#888888",glow:"transparent"},fonts:{heading:'"Georgia", "Times New Roman", serif',body:'"Georgia", "Times New Roman", serif'},borderRadius:"4px",borderWidth:"1px",shadowStyle:"0 4px 12px var(--color-shadow)",cardTexture:Me.none,borderStyle:"solid"},{id:"modern-dark",name:"Modern Dark",icon:"",description:"Sleek contemporary dark interface",colors:{background:"#0f172a",paper:"#1e293b",ink:"#f1f5f9",accent:"#3b82f6",accentHover:"#2563eb",border:"#334155",shadow:"#00000060",muted:"#94a3b8",glow:"#3b82f6"},fonts:{heading:'"Inter", "Segoe UI", sans-serif',body:'"Inter", "Segoe UI", sans-serif'},borderRadius:"8px",borderWidth:"1px",shadowStyle:"0 4px 20px var(--color-shadow)",cardTexture:Me.darkGrain,borderStyle:"solid"},{id:"high-magic",name:"High Magic",icon:"",description:"Arcane glyphs and mystical energy",colors:{background:"#1a0a2e",paper:"#2d1b4e",ink:"#e8d5ff",accent:"#bf7fff",accentHover:"#9966cc",border:"#bf7fff",shadow:"#bf7fff40",muted:"#9b8ab8",glow:"#bf7fff"},fonts:{heading:'"Cinzel", "Times New Roman", serif',body:'"Crimson Text", "Georgia", serif'},borderRadius:"8px",borderWidth:"2px",shadowStyle:"0 0 12px var(--color-glow), 0 0 24px var(--color-shadow)",cardTexture:Me.arcaneRunes,borderStyle:"solid"},{id:"necrotic",name:"Necrotic",icon:"",description:"Dark and sinister undead aesthetic",colors:{background:"#0d0d0d",paper:"#1a1a1a",ink:"#c8c8c8",accent:"#4a0",accentHover:"#5b0",border:"#333333",shadow:"#00000080",muted:"#666666",glow:"#4a0"},fonts:{heading:'"Nosifer", "Impact", sans-serif',body:'"Courier New", monospace'},borderRadius:"0px",borderWidth:"1px",shadowStyle:"0 0 10px var(--color-shadow), inset 0 0 30px rgba(74, 170, 0, 0.05)",cardTexture:Me.necroticMist,borderStyle:"solid"},{id:"modern",name:"Modern",icon:"",description:"Sleek contemporary design",colors:{background:"#f8fafc",paper:"#ffffff",ink:"#1e293b",accent:"#3b82f6",accentHover:"#2563eb",border:"#e2e8f0",shadow:"#64748b20",muted:"#64748b",glow:"transparent"},fonts:{heading:'"Inter", "Segoe UI", sans-serif',body:'"Inter", "Segoe UI", sans-serif'},borderRadius:"8px",borderWidth:"1px",shadowStyle:"0 4px 16px var(--color-shadow)",cardTexture:Me.none,borderStyle:"solid"},{id:"steampunk",name:"Steampunk",icon:"",description:"Victorian brass and gears",colors:{background:"#2a1f1a",paper:"#3d2b1f",ink:"#d4a574",accent:"#cd7f32",accentHover:"#b8860b",border:"#cd7f32",shadow:"#00000060",muted:"#8b7355",glow:"#cd7f32"},fonts:{heading:'"Spectral SC", "Georgia", serif',body:'"Cutive Mono", "Courier New", monospace'},borderRadius:"2px",borderWidth:"2px",shadowStyle:"2px 2px 0 var(--color-border), 4px 4px 8px var(--color-shadow)",cardTexture:Me.brassPlate,borderStyle:"solid"},{id:"cyberpunk",name:"Cyberpunk",icon:"",description:"Neon lights in a dark future",colors:{background:"#0f0f23",paper:"#1a1a2e",ink:"#eeff00",accent:"#ff00ff",accentHover:"#cc00cc",border:"#ff00ff",shadow:"#ff00ff40",muted:"#00ffff",glow:"#ff00ff"},fonts:{heading:'"Audiowide", "Impact", sans-serif',body:'"Share Tech Mono", "Consolas", monospace'},borderRadius:"0px",borderWidth:"2px",shadowStyle:"0 0 10px var(--color-glow), 0 0 20px var(--color-shadow), 4px 4px 0 var(--color-border)",cardTexture:Me.neonGrid,borderStyle:"solid"},{id:"nature",name:"Nature",icon:"",description:"Organic earthy woodland feel",colors:{background:"#2d4a3e",paper:"#f4f1e0",ink:"#2d3b2d",accent:"#4a7c59",accentHover:"#3d6b4f",border:"#5a7247",shadow:"#2d3b2d40",muted:"#6b7c5a",glow:"transparent"},fonts:{heading:'"Amatic SC", "Trebuchet MS", sans-serif',body:'"Nunito", "Verdana", sans-serif'},borderRadius:"12px",borderWidth:"2px",shadowStyle:"0 4px 12px var(--color-shadow)",cardTexture:Me.none,borderStyle:"solid"}];Ba(e=>({currentTheme:(()=>{try{const n=localStorage.getItem("ucs:theme");return n?JSON.parse(n):"default"}catch{return"default"}})(),setTheme:n=>{e({currentTheme:n}),localStorage.setItem("ucs:theme",JSON.stringify(n)),qn(n)}}));function qn(e){const t=Jn.find(r=>r.id===e)||Jn[0],n=document.documentElement;n.style.setProperty("--color-background",t.colors.background),n.style.setProperty("--color-paper",t.colors.paper),n.style.setProperty("--color-ink",t.colors.ink),n.style.setProperty("--color-accent",t.colors.accent),n.style.setProperty("--color-accent-hover",t.colors.accentHover),n.style.setProperty("--color-border",t.colors.border),n.style.setProperty("--color-shadow",t.colors.shadow),n.style.setProperty("--color-muted",t.colors.muted),n.style.setProperty("--color-glow",t.colors.glow),n.style.setProperty("--font-heading",t.fonts.heading),n.style.setProperty("--font-body",t.fonts.body),n.style.setProperty("--border-radius",t.borderRadius),n.style.setProperty("--border-width",t.borderWidth),n.style.setProperty("--shadow-style",t.shadowStyle),n.style.setProperty("--card-texture",t.cardTexture),n.style.setProperty("--border-style",t.borderStyle)}function Ys(e){const t=document.documentElement;t.style.setProperty("--color-background",e.colors.background),t.style.setProperty("--color-paper",e.colors.paper),t.style.setProperty("--color-ink",e.colors.ink),t.style.setProperty("--color-accent",e.colors.accent),t.style.setProperty("--color-accent-hover",e.colors.accentHover),t.style.setProperty("--color-border",e.colors.border),t.style.setProperty("--color-shadow",e.colors.shadow),t.style.setProperty("--color-muted",e.colors.muted),t.style.setProperty("--color-glow",e.colors.glow||"transparent"),t.style.setProperty("--font-heading",e.fonts.heading),t.style.setProperty("--font-body",e.fonts.body),t.style.setProperty("--border-radius",e.borderRadius),t.style.setProperty("--border-width",e.borderWidth);const n=Xa(e.shadowStyle||"hard",e.colors.glow||"transparent");t.style.setProperty("--shadow-style",n);const r=Va(e.cardTexture||"none");t.style.setProperty("--card-texture",r),t.style.setProperty("--border-style",e.borderStyle||"solid")}const du=[{value:'"Courier New", Courier, monospace',label:"Courier New"},{value:'"Times New Roman", "Palatino Linotype", serif',label:"Times New Roman"},{value:'"Arial", "Helvetica Neue", sans-serif',label:"Arial"},{value:'"Georgia", "Palatino", serif',label:"Georgia"},{value:'"Comic Sans MS", "Segoe Print", cursive',label:"Comic Sans"},{value:'"Segoe Print", "Comic Sans MS", cursive',label:"Segoe Print"},{value:'"Trebuchet MS", "Lucida Sans", sans-serif',label:"Trebuchet MS"},{value:'"Verdana", "Geneva", sans-serif',label:"Verdana"},{value:'"Impact", "Charcoal", sans-serif',label:"Impact"},{value:'"Lucida Console", "Monaco", monospace',label:"Lucida Console"}],mm=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Rd="ucs:custom-themes";function gm(){try{const e=localStorage.getItem(Rd);return e?JSON.parse(e):[]}catch{return[]}}function Kl(e){localStorage.setItem(Rd,JSON.stringify(e))}const On=Ba((e,t)=>({customThemes:gm(),addCustomTheme:n=>{const r=[...t().customThemes,n];Kl(r),e({customThemes:r})},updateCustomTheme:(n,r)=>{const o=t().customThemes.map(l=>l.id===n?r:l);Kl(o),e({customThemes:o})},deleteCustomTheme:n=>{const r=t().customThemes.filter(o=>o.id!==n);Kl(r),e({customThemes:r})}}));function Ya(e){return On.getState().customThemes.find(t=>t.id===e)}function xm(){return{name:"My Custom Theme",icon:"",description:"A personalized theme",colors:{background:"#e5e7eb",paper:"#ffffff",ink:"#000000",accent:"#3b82f6",accentHover:"#2563eb",border:"#374151",shadow:"#1f2937",muted:"#6b7280",glow:"transparent"},fonts:{heading:'"Arial", "Helvetica Neue", sans-serif',body:'"Arial", "Helvetica Neue", sans-serif'},borderRadius:"4px",borderWidth:"2px",shadowStyle:"hard",cardTexture:"none",borderStyle:"solid"}}function vm(e){const t=e?Ya(e):void 0;if(t){const r=Xa(t.shadowStyle||"hard",t.colors.glow||"transparent"),o=Va(t.cardTexture||"none");return{"--card-background":t.colors.paper,"--card-ink":t.colors.ink,"--card-border":t.colors.border,"--card-shadow":t.colors.shadow,"--card-muted":t.colors.muted,"--card-accent":t.colors.accent,"--card-glow":t.colors.glow||"transparent","--card-radius":t.borderRadius,"--card-border-width":t.borderWidth,"--card-border-style":t.borderStyle||"solid","--card-shadow-style":r,"--card-texture":o,fontFamily:t.fonts.body}}const n=Jn.find(r=>r.id===(e||"default"))||Jn[0];return{"--card-background":n.colors.paper,"--card-ink":n.colors.ink,"--card-border":n.colors.border,"--card-shadow":n.colors.shadow,"--card-muted":n.colors.muted,"--card-accent":n.colors.accent,"--card-glow":n.colors.glow,"--card-radius":n.borderRadius,"--card-border-width":n.borderWidth,"--card-border-style":n.borderStyle,"--card-shadow-style":n.shadowStyle,"--card-texture":n.cardTexture,fontFamily:n.fonts.body}}function ym(){On(i=>i.customThemes);const e=F(i=>i.characters),t=F(i=>i.createCharacter),n=F(i=>i.selectCharacter),r=F(i=>i.deleteCharacter),[o,l]=M.useState(""),s=i=>{i.preventDefault(),o.trim()&&(t(o),l(""))};return a.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-8 h-full overflow-auto",children:[a.jsx("h1",{className:"text-2xl sm:text-4xl font-bold mb-4 sm:mb-8 border-b-[length:var(--border-width)] border-theme-border pb-2 sm:pb-4 uppercase tracking-wider text-theme-ink font-heading",children:"Character Select"}),a.jsxs("form",{onSubmit:s,className:"mb-6 sm:mb-12 flex flex-col sm:flex-row gap-2 sm:gap-4",children:[a.jsx("input",{type:"text",value:o,onChange:i=>l(i.target.value),placeholder:"New Character Name",className:"flex-1 p-3 sm:p-4 text-base border-[length:var(--border-width)] border-theme-border shadow-theme focus:outline-none focus:translate-x-[2px] focus:translate-y-[2px] focus:shadow-none transition-all bg-theme-paper text-theme-ink rounded-theme font-body"}),a.jsx("button",{type:"submit",className:"bg-theme-accent text-theme-paper px-6 sm:px-8 py-3 sm:py-4 font-bold hover:bg-theme-accent-hover transition-colors shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme font-heading",children:"CREATE"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 pb-4",children:[e.map(i=>{const u=vm(i.theme);return a.jsxs("div",{style:u,className:"p-4 sm:p-6 active:translate-x-[2px] active:translate-y-[2px] sm:hover:-translate-y-1 transition-transform cursor-pointer relative group",onClick:()=>n(i.id),children:[a.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundColor:"var(--card-background)",backgroundImage:"var(--card-texture)",borderRadius:"var(--card-radius)",border:"var(--card-border-width) var(--card-border-style) var(--card-border)",boxShadow:"var(--card-shadow-style)"}}),a.jsxs("div",{className:"relative",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-2 pr-12",style:{color:"var(--card-ink)"},children:i.name}),a.jsxs("p",{className:"text-sm sm:text-base mb-2 sm:mb-4",style:{color:"var(--card-muted)"},children:[i.widgets.length," Widgets"]}),a.jsx("button",{onClick:c=>{c.stopPropagation(),confirm("Delete character?")&&r(i.id)},className:"absolute top-0 right-0 w-10 h-10 sm:w-auto sm:h-auto sm:opacity-0 sm:group-hover:opacity-100 text-red-500 font-bold hover:text-red-700 flex items-center justify-center",children:"DEL"})]})]},i.id)}),e.length===0&&a.jsx("div",{className:"col-span-full text-center py-8 sm:py-12 text-theme-muted border-[length:var(--border-width)] border-dashed border-theme-border/50 text-sm sm:text-base rounded-theme font-body",children:"No characters found. Create one to begin."})]})]})}const wm=[{type:"NUMBER",label:"Number Tracker"},{type:"LIST",label:"List"},{type:"TEXT",label:"Text Area"},{type:"CHECKBOX",label:"Checkbox"},{type:"HEALTH_BAR",label:"Health Bar"},{type:"DICE_ROLLER",label:"Dice Roller"},{type:"SPELL_SLOT",label:"Spell Slots"},{type:"SKILL",label:"Skill"},{type:"IMAGE",label:"Image"},{type:"POOL",label:"Resource Pool"},{type:"TOGGLE_GROUP",label:"Conditions"},{type:"TABLE",label:"Table"},{type:"TIME_TRACKER",label:"Time Tracker"}];function bm({collapsed:e,onToggle:t}){const n=F(l=>l.addWidget),r=l=>{n(l,100,100)},o=(l,s)=>{l.dataTransfer.setData("widgetType",s),l.dataTransfer.effectAllowed="copy"};return a.jsxs(a.Fragment,{children:[!e&&a.jsx("div",{className:"fixed inset-0 bg-black/30 z-40 md:hidden",onClick:t}),a.jsxs("div",{className:`fixed left-0 top-0 bottom-0 w-[80vw] max-w-[280px] md:w-64 bg-theme-paper border-r-[length:var(--border-width)] border-theme-border z-50 flex flex-col p-3 sm:p-4 shadow-theme overflow-y-auto transition-transform duration-300 ease-in-out safe-area-bottom ${e?"-translate-x-full":"translate-x-0"}`,children:[a.jsx("button",{onClick:t,className:"hidden md:flex absolute -right-10 top-20 w-10 h-10 bg-theme-paper border-[length:var(--border-width)] border-theme-border border-l-0 font-bold shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all items-center justify-center text-theme-ink",title:e?"Show Toolbox":"Hide Toolbox",children:e?"":""}),a.jsx("button",{onClick:t,className:"md:hidden absolute top-3 right-3 w-8 h-8 bg-theme-accent text-theme-paper font-bold flex items-center justify-center rounded-theme",children:""}),a.jsx("div",{className:"mb-4 sm:mb-8",children:a.jsx("h2",{className:"text-xl sm:text-2xl font-bold uppercase tracking-wider border-b-[length:var(--border-width)] border-theme-border pb-2 text-theme-ink font-heading",children:"Toolbox"})}),a.jsx("div",{className:"flex flex-col gap-2 sm:gap-3",children:wm.map(({type:l,label:s})=>a.jsx("div",{draggable:!0,onDragStart:i=>o(i,l),onClick:()=>r(l),className:"p-2 sm:p-3 border-[length:var(--border-width)] border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-all text-left font-bold shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none cursor-pointer flex items-center gap-2 bg-theme-paper text-theme-ink rounded-theme",children:a.jsxs("span",{className:"text-xs sm:text-sm font-body",children:["+ ",s]})},l))}),a.jsxs("div",{className:"mt-auto pt-4 text-[10px] sm:text-xs text-theme-muted border-t border-theme-border/50 font-body",children:[a.jsx("p",{className:"hidden sm:block",children:"Drag widgets to arrange."}),a.jsx("p",{className:"sm:hidden",children:"Tap to add widgets."}),a.jsx("p",{children:"Pan with finger/mouse."}),a.jsx("p",{children:"Pinch/scroll to zoom."}),a.jsx("p",{className:"mt-2 text-theme-ink font-bold",children:"Edit Mode Active"})]})]})]})}function km({theme:e,onSave:t,onCancel:n,onDelete:r}){const o=!!e,l=xm(),[s,i]=M.useState((e==null?void 0:e.name)||l.name),[u,c]=M.useState((e==null?void 0:e.icon)||l.icon),[f,v]=M.useState((e==null?void 0:e.description)||l.description),[m,x]=M.useState((e==null?void 0:e.colors)||l.colors),[b,N]=M.useState((e==null?void 0:e.fonts.heading)||l.fonts.heading),[P,h]=M.useState((e==null?void 0:e.fonts.body)||l.fonts.body),[d,g]=M.useState((e==null?void 0:e.borderRadius)||l.borderRadius),[y,p]=M.useState((e==null?void 0:e.borderWidth)||l.borderWidth),[w,k]=M.useState((e==null?void 0:e.shadowStyle)||l.shadowStyle),[j,C]=M.useState((e==null?void 0:e.cardTexture)||l.cardTexture),[T,Y]=M.useState((e==null?void 0:e.borderStyle)||l.borderStyle),[ge,de]=M.useState(!1),We=(D,_)=>{x(W=>({...W,[D]:_}))},Xe=()=>{const D={id:(e==null?void 0:e.id)||`custom-${xr()}`,name:s,icon:u,description:f,colors:m,fonts:{heading:b,body:P},borderRadius:d,borderWidth:y,shadowStyle:w,cardTexture:j,borderStyle:T};t(D)},Ne=[{key:"background",label:"Background"},{key:"paper",label:"Paper/Card"},{key:"ink",label:"Text/Ink"},{key:"accent",label:"Accent"},{key:"accentHover",label:"Accent Hover"},{key:"border",label:"Border"},{key:"shadow",label:"Shadow"},{key:"muted",label:"Muted Text"},{key:"glow",label:"Glow"}];return a.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:D=>D.stopPropagation(),children:[a.jsx("div",{className:"p-4 border-b-[length:var(--border-width)] border-theme-border sticky top-0 bg-theme-paper z-10",children:a.jsx("h2",{className:"text-xl font-bold text-theme-ink font-heading",children:o?" Edit Custom Theme":" Create Custom Theme"})}),a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("section",{children:[a.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Basic Info"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Theme Name"}),a.jsx("input",{type:"text",value:s,onChange:D=>i(D.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",placeholder:"My Custom Theme"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Icon"}),a.jsxs("button",{onClick:()=>de(!ge),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body text-left flex items-center gap-2",children:[a.jsx("span",{className:"text-xl",children:u}),a.jsx("span",{className:"text-xs text-theme-muted",children:"Click to change"})]}),ge&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 p-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme z-20 grid grid-cols-10 gap-1 max-h-40 overflow-y-auto",children:mm.map(D=>a.jsx("button",{onClick:()=>{c(D),de(!1)},className:`p-1 text-lg hover:bg-theme-accent hover:text-theme-paper rounded ${u===D?"bg-theme-accent text-theme-paper":""}`,children:D},D))})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Description"}),a.jsx("input",{type:"text",value:f,onChange:D=>v(D.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",placeholder:"A personalized theme"})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Colors"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Ne.map(({key:D,label:_})=>a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:_}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"color",value:m[D],onChange:W=>We(D,W.target.value),className:"w-10 h-10 border-[length:var(--border-width)] border-theme-border rounded cursor-pointer"}),a.jsx("input",{type:"text",value:m[D],onChange:W=>We(D,W.target.value),className:"flex-1 p-1 text-xs border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded font-mono",placeholder:"#000000"})]})]},D))})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Fonts"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Heading Font"}),a.jsx("select",{value:b,onChange:D=>N(D.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:du.map(D=>a.jsx("option",{value:D.value,style:{fontFamily:D.value},children:D.label},D.value))}),a.jsx("p",{className:"text-xs text-theme-muted mt-1",style:{fontFamily:b},children:"Preview: The quick brown fox"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Body Font"}),a.jsx("select",{value:P,onChange:D=>h(D.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:du.map(D=>a.jsx("option",{value:D.value,style:{fontFamily:D.value},children:D.label},D.value))}),a.jsx("p",{className:"text-xs text-theme-muted mt-1",style:{fontFamily:P},children:"Preview: The quick brown fox"})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Style"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Border Radius"}),a.jsxs("select",{value:d,onChange:D=>g(D.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:[a.jsx("option",{value:"0px",children:"Sharp (0px)"}),a.jsx("option",{value:"2px",children:"Subtle (2px)"}),a.jsx("option",{value:"4px",children:"Small (4px)"}),a.jsx("option",{value:"8px",children:"Medium (8px)"}),a.jsx("option",{value:"12px",children:"Large (12px)"}),a.jsx("option",{value:"16px",children:"Extra Large (16px)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Border Width"}),a.jsxs("select",{value:y,onChange:D=>p(D.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:[a.jsx("option",{value:"1px",children:"Thin (1px)"}),a.jsx("option",{value:"2px",children:"Medium (2px)"}),a.jsx("option",{value:"3px",children:"Thick (3px)"}),a.jsx("option",{value:"4px",children:"Extra Thick (4px)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Border Style"}),a.jsx("select",{value:T,onChange:D=>Y(D.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:hm.map(D=>a.jsx("option",{value:D.value,children:D.label},D.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Shadow Style"}),a.jsx("select",{value:w,onChange:D=>k(D.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:pm.map(D=>a.jsx("option",{value:D.value,children:D.label},D.value))})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Card Texture"}),a.jsx("select",{value:j,onChange:D=>C(D.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:fm.map(D=>a.jsx("option",{value:D.value,children:D.label},D.value))})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Preview"}),a.jsx("div",{className:"p-4",style:{backgroundColor:m.background,borderRadius:d},children:a.jsxs("div",{className:"p-4",style:{backgroundColor:m.paper,backgroundImage:Va(j),border:`${y} ${T} ${m.border}`,borderRadius:d,boxShadow:Xa(w,m.glow).replace(/var\(--color-shadow\)/g,m.shadow).replace(/var\(--color-border\)/g,m.border).replace(/var\(--color-glow\)/g,m.glow)},children:[a.jsxs("h4",{className:"text-lg font-bold mb-2",style:{color:m.ink,fontFamily:b},children:[u," ",s]}),a.jsx("p",{className:"text-sm mb-3",style:{color:m.muted,fontFamily:P},children:f}),a.jsx("button",{className:"px-4 py-2 font-bold transition-colors",style:{backgroundColor:m.accent,color:m.paper,borderRadius:d,fontFamily:b},children:"Sample Button"})]})})]})]}),a.jsxs("div",{className:"p-4 border-t-[length:var(--border-width)] border-theme-border sticky bottom-0 bg-theme-paper flex flex-wrap gap-2 justify-between",children:[a.jsx("div",{children:o&&r&&a.jsx("button",{onClick:()=>{confirm("Are you sure you want to delete this custom theme?")&&r()},className:"px-4 py-2 bg-red-500 text-white font-bold rounded-theme hover:bg-red-600 transition-colors font-heading",children:" Delete"})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:n,className:"px-4 py-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink font-bold rounded-theme hover:bg-theme-accent hover:text-theme-paper transition-colors font-heading",children:"Cancel"}),a.jsx("button",{onClick:Xe,className:"px-4 py-2 bg-theme-accent text-theme-paper font-bold rounded-theme hover:bg-theme-accent-hover transition-colors font-heading",children:o?" Save Changes":" Create Theme"})]})]})]})})}function Sm({collapsed:e,onToggle:t}){const n=F(p=>p.activeCharacterId),r=F(p=>p.characters),o=F(p=>p.updateCharacterTheme),l=r.find(p=>p.id===n),s=(l==null?void 0:l.theme)||"default",i=On(p=>p.customThemes),u=On(p=>p.addCustomTheme),c=On(p=>p.updateCustomTheme),f=On(p=>p.deleteCustomTheme),[v,m]=M.useState(!1),[x,b]=M.useState(void 0),N=p=>{if(n){o(n,p);const w=Ya(p);w?Ys(w):qn(p)}},P=()=>{b(void 0),m(!0)},h=(p,w)=>{w.stopPropagation(),b(p),m(!0)},d=p=>{x?(c(p.id,p),s===p.id&&Ys(p)):u(p),m(!1),b(void 0)},g=()=>{x&&(s===x.id&&n&&(o(n,"default"),qn("default")),f(x.id)),m(!1),b(void 0)},y=()=>{const p=Jn.find(k=>k.id===s);if(p)return p.name;const w=i.find(k=>k.id===s);return w?w.name:"Unknown"};return a.jsxs(a.Fragment,{children:[v&&a.jsx(km,{theme:x,onSave:d,onCancel:()=>{m(!1),b(void 0)},onDelete:x?g:void 0}),!e&&a.jsx("div",{className:"fixed inset-0 bg-black/30 z-40 md:hidden",onClick:t}),a.jsxs("div",{className:`fixed right-0 top-0 bottom-0 w-[80vw] max-w-[280px] md:w-64 bg-theme-paper border-l-[length:var(--border-width)] border-theme-border z-50 flex flex-col p-3 sm:p-4 shadow-theme overflow-y-auto transition-transform duration-300 ease-in-out safe-area-bottom ${e?"translate-x-full":"translate-x-0"}`,children:[a.jsx("button",{onClick:t,className:"hidden md:flex absolute -left-10 top-20 w-10 h-10 bg-theme-paper border-[length:var(--border-width)] border-theme-border border-r-0 font-bold shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all items-center justify-center text-theme-ink",title:e?"Show Themes":"Hide Themes",children:e?"":""}),a.jsx("button",{onClick:t,className:"md:hidden absolute top-3 right-3 w-8 h-8 bg-theme-accent text-theme-paper font-bold flex items-center justify-center rounded-theme",children:""}),a.jsx("div",{className:"mb-4 sm:mb-6",children:a.jsx("h2",{className:"text-xl sm:text-2xl font-bold uppercase tracking-wider border-b-[length:var(--border-width)] border-theme-border pb-2 text-theme-ink font-heading",children:" Themes"})}),a.jsx("div",{className:"flex flex-col gap-2 sm:gap-3",children:Jn.map(p=>a.jsxs("button",{onClick:()=>N(p.id),style:{backgroundColor:s===p.id?p.colors.accent:p.colors.paper,color:s===p.id?p.colors.paper:p.colors.ink,borderColor:p.colors.border,borderRadius:p.borderRadius,borderWidth:p.borderWidth,fontFamily:p.fonts.body,boxShadow:`3px 3px 0 ${p.colors.shadow}`},className:"p-2 sm:p-3 border-solid transition-all text-left font-bold active:translate-x-[2px] active:translate-y-[2px] active:shadow-none",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-base sm:text-lg",children:p.icon}),a.jsx("span",{className:"text-xs sm:text-sm",style:{fontFamily:p.fonts.heading},children:p.name})]}),a.jsx("p",{className:"text-[10px] sm:text-xs mt-1 opacity-70",children:p.description}),a.jsxs("div",{className:"flex gap-1 mt-2",children:[a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:p.colors.paper},title:"Paper"}),a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:p.colors.ink},title:"Ink"}),a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:p.colors.accent},title:"Accent"}),a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:p.colors.background},title:"Background"})]})]},p.id))}),a.jsxs("div",{className:"mt-6 pt-4 border-t border-theme-border/50",children:[a.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:" Custom Themes"}),a.jsxs("button",{onClick:P,className:"w-full p-2 sm:p-3 border-[length:var(--border-width)] border-dashed border-theme-border transition-all text-left font-bold rounded-theme bg-theme-paper text-theme-ink hover:bg-theme-accent hover:text-theme-paper hover:border-solid mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-base sm:text-lg",children:""}),a.jsx("span",{className:"text-xs sm:text-sm font-heading",children:"Create Custom Theme"})]}),a.jsx("p",{className:"text-[10px] sm:text-xs mt-1 opacity-70 font-body",children:"Design your own unique theme"})]}),a.jsx("div",{className:"flex flex-col gap-2 sm:gap-3 mt-3",children:i.map(p=>a.jsxs("div",{style:{backgroundColor:s===p.id?p.colors.accent:p.colors.paper,color:s===p.id?p.colors.paper:p.colors.ink,borderColor:p.colors.border,borderRadius:p.borderRadius,borderWidth:p.borderWidth,fontFamily:p.fonts.body,boxShadow:`3px 3px 0 ${p.colors.shadow}`},className:"p-2 sm:p-3 border-solid transition-all text-left font-bold relative",children:[a.jsxs("button",{onClick:()=>N(p.id),className:"w-full text-left",children:[a.jsxs("div",{className:"flex items-center gap-2 pr-8",children:[a.jsx("span",{className:"text-base sm:text-lg",children:p.icon}),a.jsx("span",{className:"text-xs sm:text-sm",style:{fontFamily:p.fonts.heading},children:p.name})]}),a.jsx("p",{className:"text-[10px] sm:text-xs mt-1 opacity-70",children:p.description}),a.jsxs("div",{className:"flex gap-1 mt-2",children:[a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:p.colors.paper},title:"Paper"}),a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:p.colors.ink},title:"Ink"}),a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:p.colors.accent},title:"Accent"}),a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:p.colors.background},title:"Background"})]})]}),a.jsx("button",{onClick:w=>h(p,w),style:{backgroundColor:s===p.id?`${p.colors.paper}33`:`${p.colors.accent}1a`,color:s===p.id?p.colors.paper:p.colors.accent},className:"absolute top-2 right-2 w-6 h-6 flex items-center justify-center rounded text-xs hover:scale-110 transition-transform",title:"Edit theme",children:""})]},p.id))}),i.length===0&&a.jsx("p",{className:"text-[10px] sm:text-xs text-theme-muted mt-2 font-body",children:"No custom themes yet. Create one above!"})]}),a.jsxs("div",{className:"mt-auto pt-4 text-[10px] sm:text-xs text-theme-muted border-t border-theme-border/50 font-body",children:[a.jsx("p",{children:"Select a theme to change the appearance of your character sheet."}),a.jsxs("p",{className:"mt-2 text-theme-ink font-bold",children:["Current: ",y()]})]})]})]})}var vl={exports:{}},Od={},zd={exports:{}},Nm="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jm=Nm,Cm=jm;function Wd(){}function $d(){}$d.resetWarningCache=Wd;var Em=function(){function e(r,o,l,s,i,u){if(u!==Cm){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:$d,resetWarningCache:Wd};return n.PropTypes=n,n};zd.exports=Em();var Fd=zd.exports,Gs={exports:{}};function Ad(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Ad(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function fu(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Ad(e))&&(r&&(r+=" "),r+=t);return r}Gs.exports=fu,Gs.exports.clsx=fu;var Tm=Gs.exports,ce={},St={};Object.defineProperty(St,"__esModule",{value:!0});St.dontSetMe=Dm;St.findInArray=Pm;St.int=Mm;St.isFunction=_m;St.isNum=Im;function Pm(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function _m(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function Im(e){return typeof e=="number"&&!isNaN(e)}function Mm(e){return parseInt(e,10)}function Dm(e,t,n){if(e[t])return new Error(`Invalid prop ${t} passed to ${n} - do not set this, set it on the child.`)}var vn={};Object.defineProperty(vn,"__esModule",{value:!0});vn.browserPrefixToKey=Ud;vn.browserPrefixToStyle=Lm;vn.default=void 0;vn.getPrefix=Hd;const Zl=["Moz","Webkit","O","ms"];function Hd(){var n,r;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const t=(r=(n=window.document)==null?void 0:n.documentElement)==null?void 0:r.style;if(!t||e in t)return"";for(let o=0;o<Zl.length;o++)if(Ud(e,Zl[o])in t)return Zl[o];return""}function Ud(e,t){return t?`${t}${Rm(e)}`:e}function Lm(e,t){return t?`-${t.toLowerCase()}-${e}`:e}function Rm(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}vn.default=Hd();Object.defineProperty(ce,"__esModule",{value:!0});ce.addClassName=Xd;ce.addEvent=zm;ce.addUserSelectStyles=Gm;ce.createCSSTransform=Bm;ce.createSVGTransform=Vm;ce.getTouch=Xm;ce.getTouchIdentifier=Ym;ce.getTranslation=Ga;ce.innerHeight=Am;ce.innerWidth=Hm;ce.matchesSelector=Vd;ce.matchesSelectorAndParentsTo=Om;ce.offsetXYFromParent=Um;ce.outerHeight=$m;ce.outerWidth=Fm;ce.removeClassName=Yd;ce.removeEvent=Wm;ce.scheduleRemoveUserSelectStyles=Qm;var Je=St,pu=Bd(vn);function Bd(e,t){if(typeof WeakMap=="function")var n=new WeakMap,r=new WeakMap;return(Bd=function(o,l){if(!l&&o&&o.__esModule)return o;var s,i,u={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return u;if(s=l?r:n){if(s.has(o))return s.get(o);s.set(o,u)}for(const c in o)c!=="default"&&{}.hasOwnProperty.call(o,c)&&((i=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,c))&&(i.get||i.set)?s(u,c,i):u[c]=o[c]);return u})(e,t)}let go="";function Vd(e,t){return go||(go=(0,Je.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Je.isFunction)(e[n])})),(0,Je.isFunction)(e[go])?e[go](t):!1}function Om(e,t,n){let r=e;do{if(Vd(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function zm(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function Wm(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function $m(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Je.int)(n.borderTopWidth),t+=(0,Je.int)(n.borderBottomWidth),t}function Fm(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Je.int)(n.borderLeftWidth),t+=(0,Je.int)(n.borderRightWidth),t}function Am(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Je.int)(n.paddingTop),t-=(0,Je.int)(n.paddingBottom),t}function Hm(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Je.int)(n.paddingLeft),t-=(0,Je.int)(n.paddingRight),t}function Um(e,t,n){const o=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),l=(e.clientX+t.scrollLeft-o.left)/n,s=(e.clientY+t.scrollTop-o.top)/n;return{x:l,y:s}}function Bm(e,t){const n=Ga(e,t,"px");return{[(0,pu.browserPrefixToKey)("transform",pu.default)]:n}}function Vm(e,t){return Ga(e,t,"")}function Ga(e,t,n){let{x:r,y:o}=e,l=`translate(${r}${n},${o}${n})`;if(t){const s=`${typeof t.x=="string"?t.x:t.x+n}`,i=`${typeof t.y=="string"?t.y:t.y+n}`;l=`translate(${s}, ${i})`+l}return l}function Xm(e,t){return e.targetTouches&&(0,Je.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,Je.findInArray)(e.changedTouches,n=>t===n.identifier)}function Ym(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function Gm(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&Xd(e.body,"react-draggable-transparent-selection")}function Qm(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{hu(e)}):hu(e)}function hu(e){if(e)try{if(e.body&&Yd(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function Xd(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function Yd(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.canDragX=Jm;Nt.canDragY=qm;Nt.createCoreData=tg;Nt.createDraggableData=ng;Nt.getBoundPosition=Km;Nt.getControlPosition=eg;Nt.snapToGrid=Zm;var Ge=St,zn=ce;function Km(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:r}=e.props;r=typeof r=="string"?r:rg(r);const o=Qa(e);if(typeof r=="string"){const{ownerDocument:l}=o,s=l.defaultView;let i;if(r==="parent"?i=o.parentNode:i=o.getRootNode().querySelector(r),!(i instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const u=i,c=s.getComputedStyle(o),f=s.getComputedStyle(u);r={left:-o.offsetLeft+(0,Ge.int)(f.paddingLeft)+(0,Ge.int)(c.marginLeft),top:-o.offsetTop+(0,Ge.int)(f.paddingTop)+(0,Ge.int)(c.marginTop),right:(0,zn.innerWidth)(u)-(0,zn.outerWidth)(o)-o.offsetLeft+(0,Ge.int)(f.paddingRight)-(0,Ge.int)(c.marginRight),bottom:(0,zn.innerHeight)(u)-(0,zn.outerHeight)(o)-o.offsetTop+(0,Ge.int)(f.paddingBottom)-(0,Ge.int)(c.marginBottom)}}return(0,Ge.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,Ge.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Ge.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,Ge.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function Zm(e,t,n){const r=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[r,o]}function Jm(e){return e.props.axis==="both"||e.props.axis==="x"}function qm(e){return e.props.axis==="both"||e.props.axis==="y"}function eg(e,t,n){const r=typeof t=="number"?(0,zn.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;const o=Qa(n),l=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,zn.offsetXYFromParent)(r||e,l,n.props.scale)}function tg(e,t,n){const r=!(0,Ge.isNum)(e.lastX),o=Qa(e);return r?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function ng(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function rg(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function Qa(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var yl={},wl={};Object.defineProperty(wl,"__esModule",{value:!0});wl.default=og;function og(){}Object.defineProperty(yl,"__esModule",{value:!0});yl.default=void 0;var Jl=Gd(M),Ie=Ka(Fd),lg=Ka(Qr),Ee=ce,Ot=Nt,ql=St,fr=Ka(wl);function Ka(e){return e&&e.__esModule?e:{default:e}}function Gd(e,t){if(typeof WeakMap=="function")var n=new WeakMap,r=new WeakMap;return(Gd=function(o,l){if(!l&&o&&o.__esModule)return o;var s,i,u={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return u;if(s=l?r:n){if(s.has(o))return s.get(o);s.set(o,u)}for(const c in o)c!=="default"&&{}.hasOwnProperty.call(o,c)&&((i=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,c))&&(i.get||i.set)?s(u,c,i):u[c]=o[c]);return u})(e,t)}function De(e,t,n){return(t=sg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sg(e){var t=ag(e,"string");return typeof t=="symbol"?t:t+""}function ag(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const ct={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let zt=ct.mouse,bl=class extends Jl.Component{constructor(){super(...arguments),De(this,"dragging",!1),De(this,"lastX",NaN),De(this,"lastY",NaN),De(this,"touchIdentifier",null),De(this,"mounted",!1),De(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(t.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Ee.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,Ee.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&!this.props.allowMobileScroll&&t.preventDefault();const o=(0,Ee.getTouchIdentifier)(t);this.touchIdentifier=o;const l=(0,Ot.getControlPosition)(t,o,this);if(l==null)return;const{x:s,y:i}=l,u=(0,Ot.createCoreData)(this,s,i);(0,fr.default)("DraggableCore: handleDragStart: %j",u),(0,fr.default)("calling",this.props.onStart),!(this.props.onStart(t,u)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Ee.addUserSelectStyles)(r),this.dragging=!0,this.lastX=s,this.lastY=i,(0,Ee.addEvent)(r,zt.move,this.handleDrag),(0,Ee.addEvent)(r,zt.stop,this.handleDragStop))}),De(this,"handleDrag",t=>{const n=(0,Ot.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let i=r-this.lastX,u=o-this.lastY;if([i,u]=(0,Ot.snapToGrid)(this.props.grid,i,u),!i&&!u)return;r=this.lastX+i,o=this.lastY+u}const l=(0,Ot.createCoreData)(this,r,o);if((0,fr.default)("DraggableCore: handleDrag: %j",l),this.props.onDrag(t,l)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const u=document.createEvent("MouseEvents");u.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(u)}return}this.lastX=r,this.lastY=o}),De(this,"handleDragStop",t=>{if(!this.dragging)return;const n=(0,Ot.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let u=r-this.lastX||0,c=o-this.lastY||0;[u,c]=(0,Ot.snapToGrid)(this.props.grid,u,c),r=this.lastX+u,o=this.lastY+c}const l=(0,Ot.createCoreData)(this,r,o);if(this.props.onStop(t,l)===!1||this.mounted===!1)return!1;const i=this.findDOMNode();i&&this.props.enableUserSelectHack&&(0,Ee.scheduleRemoveUserSelectStyles)(i.ownerDocument),(0,fr.default)("DraggableCore: handleDragStop: %j",l),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,i&&((0,fr.default)("DraggableCore: Removing handlers"),(0,Ee.removeEvent)(i.ownerDocument,zt.move,this.handleDrag),(0,Ee.removeEvent)(i.ownerDocument,zt.stop,this.handleDragStop))}),De(this,"onMouseDown",t=>(zt=ct.mouse,this.handleDragStart(t))),De(this,"onMouseUp",t=>(zt=ct.mouse,this.handleDragStop(t))),De(this,"onTouchStart",t=>(zt=ct.touch,this.handleDragStart(t))),De(this,"onTouchEnd",t=>(zt=ct.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,Ee.addEvent)(t,ct.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:n}=t;(0,Ee.removeEvent)(n,ct.mouse.move,this.handleDrag),(0,Ee.removeEvent)(n,ct.touch.move,this.handleDrag),(0,Ee.removeEvent)(n,ct.mouse.stop,this.handleDragStop),(0,Ee.removeEvent)(n,ct.touch.stop,this.handleDragStop),(0,Ee.removeEvent)(t,ct.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Ee.scheduleRemoveUserSelectStyles)(n)}}findDOMNode(){var t,n,r;return(t=this.props)!=null&&t.nodeRef?(r=(n=this.props)==null?void 0:n.nodeRef)==null?void 0:r.current:lg.default.findDOMNode(this)}render(){return Jl.cloneElement(Jl.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};yl.default=bl;De(bl,"displayName","DraggableCore");De(bl,"propTypes",{allowAnyClick:Ie.default.bool,allowMobileScroll:Ie.default.bool,children:Ie.default.node.isRequired,disabled:Ie.default.bool,enableUserSelectHack:Ie.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Ie.default.arrayOf(Ie.default.number),handle:Ie.default.string,cancel:Ie.default.string,nodeRef:Ie.default.object,onStart:Ie.default.func,onDrag:Ie.default.func,onStop:Ie.default.func,onMouseDown:Ie.default.func,scale:Ie.default.number,className:ql.dontSetMe,style:ql.dontSetMe,transform:ql.dontSetMe});De(bl,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),e.default=void 0;var t=v(M),n=f(Fd),r=f(Qr),o=Tm,l=ce,s=Nt,i=St,u=f(yl),c=f(wl);function f(h){return h&&h.__esModule?h:{default:h}}function v(h,d){if(typeof WeakMap=="function")var g=new WeakMap,y=new WeakMap;return(v=function(p,w){if(!w&&p&&p.__esModule)return p;var k,j,C={__proto__:null,default:p};if(p===null||typeof p!="object"&&typeof p!="function")return C;if(k=w?y:g){if(k.has(p))return k.get(p);k.set(p,C)}for(const T in p)T!=="default"&&{}.hasOwnProperty.call(p,T)&&((j=(k=Object.defineProperty)&&Object.getOwnPropertyDescriptor(p,T))&&(j.get||j.set)?k(C,T,j):C[T]=p[T]);return C})(h,d)}function m(){return m=Object.assign?Object.assign.bind():function(h){for(var d=1;d<arguments.length;d++){var g=arguments[d];for(var y in g)({}).hasOwnProperty.call(g,y)&&(h[y]=g[y])}return h},m.apply(null,arguments)}function x(h,d,g){return(d=b(d))in h?Object.defineProperty(h,d,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[d]=g,h}function b(h){var d=N(h,"string");return typeof d=="symbol"?d:d+""}function N(h,d){if(typeof h!="object"||!h)return h;var g=h[Symbol.toPrimitive];if(g!==void 0){var y=g.call(h,d);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(h)}class P extends t.Component{static getDerivedStateFromProps(d,g){let{position:y}=d,{prevPropsPosition:p}=g;return y&&(!p||y.x!==p.x||y.y!==p.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:y,prevPropsPosition:p}),{x:y.x,y:y.y,prevPropsPosition:{...y}}):null}constructor(d){super(d),x(this,"onDragStart",(g,y)=>{if((0,c.default)("Draggable: onDragStart: %j",y),this.props.onStart(g,(0,s.createDraggableData)(this,y))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),x(this,"onDrag",(g,y)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",y);const p=(0,s.createDraggableData)(this,y),w={x:p.x,y:p.y,slackX:0,slackY:0};if(this.props.bounds){const{x:j,y:C}=w;w.x+=this.state.slackX,w.y+=this.state.slackY;const[T,Y]=(0,s.getBoundPosition)(this,w.x,w.y);w.x=T,w.y=Y,w.slackX=this.state.slackX+(j-w.x),w.slackY=this.state.slackY+(C-w.y),p.x=w.x,p.y=w.y,p.deltaX=w.x-this.state.x,p.deltaY=w.y-this.state.y}if(this.props.onDrag(g,p)===!1)return!1;this.setState(w)}),x(this,"onDragStop",(g,y)=>{if(!this.state.dragging||this.props.onStop(g,(0,s.createDraggableData)(this,y))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",y);const w={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:j,y:C}=this.props.position;w.x=j,w.y=C}this.setState(w)}),this.state={dragging:!1,dragged:!1,x:d.position?d.position.x:d.defaultPosition.x,y:d.position?d.position.y:d.defaultPosition.y,prevPropsPosition:{...d.position},slackX:0,slackY:0,isElementSVG:!1},d.position&&!(d.onDrag||d.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var d,g;return((g=(d=this.props)==null?void 0:d.nodeRef)==null?void 0:g.current)??r.default.findDOMNode(this)}render(){const{axis:d,bounds:g,children:y,defaultPosition:p,defaultClassName:w,defaultClassNameDragging:k,defaultClassNameDragged:j,position:C,positionOffset:T,scale:Y,...ge}=this.props;let de={},We=null;const Ne=!!!C||this.state.dragging,D=C||p,_={x:(0,s.canDragX)(this)&&Ne?this.state.x:D.x,y:(0,s.canDragY)(this)&&Ne?this.state.y:D.y};this.state.isElementSVG?We=(0,l.createSVGTransform)(_,T):de=(0,l.createCSSTransform)(_,T);const W=(0,o.clsx)(y.props.className||"",w,{[k]:this.state.dragging,[j]:this.state.dragged});return t.createElement(u.default,m({},ge,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(y),{className:W,style:{...y.props.style,...de},transform:We}))}}e.default=P,x(P,"displayName","Draggable"),x(P,"propTypes",{...u.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:i.dontSetMe,style:i.dontSetMe,transform:i.dontSetMe}),x(P,"defaultProps",{...u.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Od);const{default:Qd,DraggableCore:ig}=Od;vl.exports=Qd;vl.exports.default=Qd;vl.exports.DraggableCore=ig;var ug=vl.exports;const cg=Qs(ug);function Kd({widget:e,width:t,height:n}){const r=F(g=>g.updateWidgetData),{label:o,numberItems:l=[]}=e.data,s=t<180,i=t>=300,u=s?"text-xs":i?"text-base":"text-sm",c=s?"text-xs":i?"text-base":"text-sm",f=s?"w-5 h-5 text-xs":i?"w-8 h-8 text-base":"w-6 h-6 text-sm",v=s?"text-sm w-8":i?"text-xl w-14":"text-base w-10",m=s?"gap-1":"gap-2",x=s?16:i?24:20,b=s?4:8,N=s?8:16,P=Math.max(30,n-x-b-N*2),h=(g,y)=>{const p=[...l];p[g]={...p[g],value:p[g].value+y},r(e.id,{numberItems:p})},d=s?"w-[62px]":i?"w-[94px]":"w-[74px]";return a.jsxs("div",{className:`flex flex-col ${m} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${u} text-theme-ink font-heading flex-shrink-0`,children:o||"Trackers"}),a.jsxs("div",{className:`flex flex-col ${s?"gap-0.5":"gap-1"} overflow-y-auto flex-1`,style:{maxHeight:`${P}px`},children:[l.map((g,y)=>a.jsxs("div",{className:`flex items-center ${m}`,children:[a.jsx("span",{className:`flex-1 ${c} text-theme-ink font-body truncate`,children:g.name}),a.jsxs("div",{className:`flex items-center justify-center gap-0.5 flex-shrink-0 ${d}`,children:[a.jsx("button",{onClick:()=>h(y,-1),onMouseDown:p=>p.stopPropagation(),className:`${f} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors flex items-center justify-center text-theme-ink rounded-theme flex-shrink-0`,children:"-"}),a.jsx("span",{className:`${v} text-center font-bold text-theme-ink flex-shrink-0`,children:g.value}),a.jsx("button",{onClick:()=>h(y,1),onMouseDown:p=>p.stopPropagation(),className:`${f} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors flex items-center justify-center text-theme-ink rounded-theme flex-shrink-0`,children:"+"})]})]},y)),l.length===0&&a.jsx("div",{className:`${c} text-theme-muted italic`,children:"No items yet"})]})]})}function Zd({widget:e,width:t,height:n}){const r=F(g=>g.updateWidgetData),{label:o,items:l=[],itemCount:s=5}=e.data,i=t<160,u=t>=300,c=i?"text-xs":u?"text-base":"text-sm",f=i?"text-xs py-0.5":u?"text-base py-1":"text-sm py-0.5",v=i?"gap-1":"gap-2",m=i?16:u?24:20,x=i?4:8,b=i?8:16,N=Math.max(40,n-m-x-b*2),P=Array.from({length:s},(g,y)=>l[y]||""),h=(g,y)=>{const p=[...P];p[g]=y,r(e.id,{items:p})},d=g=>{const y=[...P];y[g]="",r(e.id,{items:y})};return a.jsxs("div",{className:`flex flex-col ${v} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${c} text-theme-ink font-heading flex-shrink-0`,children:o||"List"}),a.jsx("div",{className:"space-y-1 overflow-y-auto flex-1",style:{maxHeight:`${N}px`},children:P.map((g,y)=>a.jsxs("div",{className:"flex items-center gap-1 group",children:[a.jsx("span",{className:"text-theme-ink",children:""}),a.jsx("input",{className:`flex-1 border-b border-theme-border/50 focus:border-theme-border focus:outline-none ${f} min-w-0 bg-transparent text-theme-ink font-body`,value:g,onChange:p=>h(y,p.target.value),placeholder:"...",onMouseDown:p=>p.stopPropagation()}),a.jsx("button",{onClick:()=>d(y),className:"opacity-0 group-hover:opacity-100 text-theme-muted hover:text-theme-ink px-1 flex-shrink-0",onMouseDown:p=>p.stopPropagation(),children:""})]},y))})]})}function Jd({widget:e,width:t,height:n}){const r=F(P=>P.updateWidgetData),{label:o,text:l=""}=e.data,s=t<160,i=t>=300,u=s?"text-xs":i?"text-base":"text-sm",c=s?"text-xs p-1":i?"text-base p-3":"text-sm p-2",f=s?"gap-1":"gap-2",v=s?16:i?24:20,m=s?4:8,x=s?8:16,b=Math.max(32,n-v-m-x*2),N=P=>{r(e.id,{text:P.target.value})};return a.jsxs("div",{className:`flex flex-col ${f} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${u} text-theme-ink font-heading flex-shrink-0`,children:o||"Notes"}),a.jsx("textarea",{className:`w-full flex-1 ${c} border border-theme-border/50 focus:border-theme-border focus:outline-none resize-none bg-transparent text-theme-ink font-body rounded-theme`,style:{height:`${b}px`},value:l,onChange:N,placeholder:"Enter text here...",onMouseDown:P=>P.stopPropagation()})]})}function qd({widget:e,width:t,height:n}){const r=F(d=>d.updateWidgetData),{label:o,checkboxItems:l=[]}=e.data,s=t<160,i=t>=300,u=s?"text-xs":i?"text-base":"text-sm",c=s?"text-xs":i?"text-base":"text-sm",f=s?"w-4 h-4":i?"w-6 h-6":"w-5 h-5",v=s?"text-xs":i?"text-base":"text-sm",m=s?"gap-1":"gap-2",x=s?16:i?24:20,b=s?4:8,N=s?8:16,P=Math.max(30,n-x-b-N*2),h=d=>{const g=[...l];g[d]={...g[d],checked:!g[d].checked},r(e.id,{checkboxItems:g})};return a.jsxs("div",{className:`flex flex-col ${m} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${u} text-theme-ink font-heading flex-shrink-0`,children:o||"Checklist"}),a.jsxs("div",{className:`flex flex-col ${s?"gap-0.5":"gap-1"} overflow-y-auto flex-1`,style:{maxHeight:`${P}px`},children:[l.map((d,g)=>a.jsxs("div",{className:`flex items-center ${m}`,children:[a.jsx("button",{onClick:()=>h(g),onMouseDown:y=>y.stopPropagation(),className:`${f} border-[length:var(--border-width)] border-theme-border flex items-center justify-center transition-colors flex-shrink-0 rounded-theme ${d.checked?"bg-theme-accent text-theme-paper":"bg-theme-paper hover:opacity-80"}`,children:d.checked&&a.jsx("span",{className:v,children:""})}),a.jsx("span",{className:`flex-1 ${c} font-body text-theme-ink ${d.checked?"line-through text-theme-muted":""}`,children:d.name})]},g)),l.length===0&&a.jsx("div",{className:`${c} text-theme-muted italic`,children:"No items yet"})]})]})}function ef({widget:e,width:t,height:n}){const r=F(N=>N.updateWidgetData),{label:o,currentValue:l=10,maxValue:s=10}=e.data,i=t<180,u=t>=350,c=n<100,f=i?"text-xs":u?"text-base":"text-sm",v=i||c?"text-xs":u?"text-lg":"text-sm",m=i||c?"px-1 py-0.5 text-[10px]":u?"px-3 py-2 text-sm":"px-2 py-1 text-xs",x=i||c?"gap-1":"gap-2",b=N=>{const P=Math.max(0,Math.min(s,l+N));r(e.id,{currentValue:P})};return a.jsxs("div",{className:`flex flex-col ${x} w-full h-full justify-between`,children:[a.jsx("div",{className:`font-bold ${f} text-theme-ink font-heading flex-shrink-0`,children:o||"Health"}),a.jsxs("div",{className:`flex items-center justify-center font-bold ${v} text-theme-ink flex-1`,children:[l," / ",s]}),a.jsxs("div",{className:"flex items-center justify-between gap-1 flex-shrink-0",children:[a.jsx("button",{onClick:()=>b(-5),onMouseDown:N=>N.stopPropagation(),className:`${m} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme`,children:"-5"}),a.jsx("button",{onClick:()=>b(-1),onMouseDown:N=>N.stopPropagation(),className:`${m} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme`,children:"-1"}),a.jsx("button",{onClick:()=>b(1),onMouseDown:N=>N.stopPropagation(),className:`${m} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme`,children:"+1"}),a.jsx("button",{onClick:()=>b(5),onMouseDown:N=>N.stopPropagation(),className:`${m} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme`,children:"+5"})]})]})}function tf({widget:e,width:t,height:n}){const{label:r,diceGroups:o=[{count:1,faces:20}],modifier:l=0}=e.data,[s,i]=M.useState(null),[u,c]=M.useState(!1),f=t<180,v=t>=350,m=n<150,x=f?"text-xs":v?"text-base":"text-sm",b=f||m?"py-1 px-2 text-xs":v?"py-3 px-6 text-lg":"py-2 px-4 text-sm",N=f||m?"text-xl":v?"text-5xl":"text-3xl",P=f||m?"text-[10px]":v?"text-sm":"text-xs",h=f||m?"gap-1":"gap-2",d=()=>{c(!0),setTimeout(()=>{const p=[];let w=0;for(const k of o){const j=[];for(let C=0;C<k.count;C++){const T=Math.floor(Math.random()*k.faces)+1;j.push(T),w+=T}p.push({faces:k.faces,rolls:j})}i({groups:p,modifier:l,total:w+l}),c(!1)},300)},y=(()=>{let w=o.map(k=>`${k.count}d${k.faces}`).join(" + ");return l!==0&&(w+=l>=0?` + ${l}`:` - ${Math.abs(l)}`),w})();return a.jsxs("div",{className:`flex flex-col ${h} w-full h-full`,children:[a.jsx("div",{className:`font-bold text-center ${x} text-theme-ink font-heading flex-shrink-0`,children:r||"Dice Roller"}),a.jsxs("button",{onClick:d,onMouseDown:p=>p.stopPropagation(),className:`${b} border-[length:var(--border-width)] border-theme-border font-bold transition-all rounded-theme flex-shrink-0 ${u?"bg-theme-muted animate-pulse text-theme-paper":"bg-theme-paper text-theme-ink hover:bg-theme-accent hover:text-theme-paper"}`,disabled:u,children:[" Roll ",y]}),a.jsx("div",{className:`text-center border-t border-theme-border/50 ${f||m?"pt-1":"pt-2"} flex-1 flex flex-col justify-center`,children:s&&!u?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`${N} font-bold text-theme-ink font-heading`,children:s.total}),a.jsxs("div",{className:`${P} text-theme-muted font-body`,children:[s.groups.map((p,w)=>a.jsxs("span",{children:[w>0&&" + ",a.jsxs("span",{title:`d${p.faces}`,children:["[",p.rolls.join(", "),"]"]})]},w)),s.modifier!==0&&a.jsxs("span",{children:[" ",s.modifier>=0?"+":"",s.modifier]})]}),s.groups.length===1&&s.groups[0].rolls.length===1&&s.groups[0].faces===20&&a.jsxs(a.Fragment,{children:[s.groups[0].rolls[0]===20&&a.jsx("div",{className:`text-green-600 font-bold ${P}`,children:"NAT 20!"}),s.groups[0].rolls[0]===1&&a.jsx("div",{className:`text-red-600 font-bold ${P}`,children:"NAT 1!"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`${N} font-bold text-theme-muted font-heading`,children:""}),a.jsx("div",{className:`${P} text-theme-muted font-body`,children:""})]})})]})}function nf({widget:e,width:t,height:n}){const r=F(w=>w.updateWidgetData),{label:o,spellLevels:l=[{level:1,max:4,used:0}]}=e.data,s=t<180,i=t>=350,u=n<120,c=s?"text-xs":i?"text-base":"text-sm",f=s||u?"w-6 text-[10px]":i?"w-12 text-sm":"w-8 text-xs",v=s||u?"w-4 h-4":i?"w-7 h-7":"w-5 h-5",m=s||u?"text-[10px] px-1 py-0.5":i?"text-sm px-3 py-1.5":"text-xs px-2 py-1",x=s||u?"gap-1":"gap-2",b=s?16:i?24:20,N=s||u?28:i?40:32,P=s||u?4:8,h=s?8:16,d=Math.max(30,n-b-N-P*3-h*2),g=(w,k)=>{const j=[...l],C=j[w];k<C.used?j[w]={...C,used:k}:j[w]={...C,used:k+1},r(e.id,{spellLevels:j})},y=()=>{const w=l.map(k=>({...k,used:0}));r(e.id,{spellLevels:w})},p=w=>{const k=["th","st","nd","rd"],j=w%100;return w+(k[(j-20)%10]||k[j]||k[0])};return a.jsxs("div",{className:`flex flex-col ${x} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${c} text-theme-ink font-heading flex-shrink-0`,children:o||"Spell Slots"}),a.jsxs("div",{className:`flex flex-col ${x} overflow-y-auto flex-1`,style:{maxHeight:`${d}px`},children:[l.map((w,k)=>a.jsxs("div",{className:`flex items-center ${x}`,children:[a.jsx("span",{className:`${f} font-bold text-center text-theme-ink`,children:p(w.level)}),a.jsx("div",{className:"flex gap-1 flex-1 flex-wrap",children:Array.from({length:w.max}).map((j,C)=>a.jsx("button",{onClick:()=>g(k,C),onMouseDown:T=>T.stopPropagation(),className:`${v} rounded-full border-[length:var(--border-width)] border-theme-border transition-all ${C<w.used?"bg-theme-accent":"bg-theme-paper hover:opacity-80"}`,title:C<w.used?"Click to restore":"Click to use"},C))})]},k)),l.length===0&&a.jsx("div",{className:`${f} text-theme-muted italic`,children:"No spell levels configured"})]}),a.jsx("div",{className:`flex items-center justify-end ${x} border-t border-theme-border/50 pt-2 flex-shrink-0`,children:a.jsx("button",{onClick:y,onMouseDown:w=>w.stopPropagation(),className:`${m} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme`,children:"Reset All"})})]})}function rf({widget:e,width:t,height:n}){const r=F(y=>y.updateWidgetData),{label:o,skillItems:l=[]}=e.data,s=t<180,i=t>=350,u=s?"text-xs":i?"text-base":"text-sm",c=s?"text-xs":i?"text-base":"text-sm",f=s?"w-4 h-4 text-[10px]":i?"w-6 h-6 text-sm":"w-5 h-5 text-xs",v=s?"w-6":i?"w-10":"w-8",m=s?"gap-1":"gap-2",x=s?16:i?24:20,b=s?4:8,N=s?8:16,P=Math.max(30,n-x-b-N*2),h=(y,p)=>{const w=[...l];w[y]={...w[y],value:w[y].value+p},r(e.id,{skillItems:w})},d=y=>y>=0?`+${y}`:`${y}`,g=s?"w-[52px]":i?"w-[76px]":"w-[64px]";return a.jsxs("div",{className:`flex flex-col ${m} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${u} text-theme-ink font-heading flex-shrink-0`,children:o||"Skills"}),a.jsxs("div",{className:`flex flex-col ${s?"gap-0.5":"gap-1"} overflow-y-auto flex-1`,style:{maxHeight:`${P}px`},children:[l.map((y,p)=>a.jsxs("div",{className:`flex items-center ${m}`,children:[a.jsx("span",{className:`flex-1 ${c} text-theme-ink font-body truncate`,children:y.name}),a.jsxs("div",{className:`flex items-center justify-center gap-0.5 flex-shrink-0 ${g}`,children:[a.jsx("button",{onClick:()=>h(p,-1),onMouseDown:w=>w.stopPropagation(),className:`${f} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme flex-shrink-0`,children:"-"}),a.jsx("span",{className:`font-bold ${c} ${v} text-center flex-shrink-0 text-theme-ink`,children:d(y.value)}),a.jsx("button",{onClick:()=>h(p,1),onMouseDown:w=>w.stopPropagation(),className:`${f} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme flex-shrink-0`,children:"+"})]})]},p)),l.length===0&&a.jsx("div",{className:`${c} text-theme-muted italic`,children:"No skills configured"})]})]})}function of({widget:e,width:t,height:n}){const{label:r,imageUrl:o=""}=e.data,l=t<160,s=t>=300,i=l?"text-xs":s?"text-base":"text-sm",u=l?"text-2xl":s?"text-6xl":"text-4xl",c=l?"text-[10px]":s?"text-base":"text-sm",f=l?"gap-1":"gap-2",v=l?16:s?24:20,m=l?4:8,x=l?8:16,b=Math.max(40,n-v-m-x*2);return a.jsxs("div",{className:`flex flex-col ${f} w-full h-full`,children:[a.jsx("div",{className:`font-bold text-center ${i} text-theme-ink font-heading flex-shrink-0`,children:r||"Portrait"}),a.jsx("div",{className:"border-[length:var(--border-width)] border-theme-border bg-theme-background flex items-center justify-center overflow-hidden rounded-theme flex-1",style:{height:`${b}px`},children:o?a.jsx("img",{src:o,alt:r||"Character",className:"w-full h-full object-cover",onError:N=>{N.target.style.display="none"}}):a.jsxs("div",{className:`text-theme-muted text-center ${l?"p-1":"p-2"}`,children:[a.jsx("div",{className:`${u} mb-1`,children:""}),a.jsx("span",{className:`${c} font-body`,children:"No image"})]})})]})}function lf({widget:e,width:t,height:n}){const r=F(d=>d.updateWidgetData),{label:o,maxPool:l=5,currentPool:s=5,poolStyle:i="dots"}=e.data,u=t<160,c=t>=300,f=n<100,v=u?"text-xs":c?"text-base":"text-sm",m=u||f?"w-5 h-5 text-sm":c?"w-8 h-8 text-xl":"w-6 h-6 text-base",x=u||f?"text-[10px]":c?"text-sm":"text-xs",b=u||f?"gap-1":"gap-2",N=d=>{d<s?r(e.id,{currentPool:d}):r(e.id,{currentPool:d+1})},P=d=>{switch(i){case"hearts":return d?"":"";case"boxes":return d?"":"";case"dots":default:return d?"":""}},h=d=>{const g=`${m} flex items-center justify-center transition-all cursor-pointer hover:scale-125`;return i==="hearts"?g:`${g} ${d?"text-theme-ink":"text-theme-muted"}`};return a.jsxs("div",{className:`flex flex-col ${b} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${v} text-theme-ink font-heading flex-shrink-0`,children:o||"Resource Pool"}),a.jsx("div",{className:`flex flex-wrap ${u||f?"gap-0.5":"gap-1"} flex-1 content-start overflow-y-auto`,children:Array.from({length:l}).map((d,g)=>a.jsx("button",{onClick:()=>N(g),onMouseDown:y=>y.stopPropagation(),className:h(g<s),title:g<s?"Click to use":"Click to restore",children:P(g<s)},g))}),a.jsxs("div",{className:`${x} text-center text-theme-muted font-body flex-shrink-0`,children:[s," / ",l]})]})}function sf({widget:e,width:t,height:n}){const r=F(x=>x.updateWidgetData),{label:o,toggleItems:l=[]}=e.data,s=t<180,i=t>=350,u=n<100,c=s?"text-xs":i?"text-base":"text-sm",f=s||u?"px-1.5 py-0.5 text-[10px]":i?"px-3 py-1.5 text-sm":"px-2 py-1 text-xs",v=s||u?"gap-1":"gap-2",m=x=>{const b=[...l];b[x]={...b[x],active:!b[x].active},r(e.id,{toggleItems:b})};return a.jsxs("div",{className:`flex flex-col ${v} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${c} text-theme-ink font-heading flex-shrink-0`,children:o||"Conditions"}),a.jsxs("div",{className:`flex flex-wrap ${v} overflow-y-auto flex-1 content-start`,children:[l.map((x,b)=>a.jsx("button",{onClick:()=>m(b),onMouseDown:N=>N.stopPropagation(),className:`${f} border border-theme-border transition-all rounded-theme font-body ${x.active?"bg-theme-accent text-theme-paper":"bg-theme-paper text-theme-ink hover:opacity-80"}`,children:x.name},b)),l.length===0&&a.jsx("div",{className:`${f} text-theme-muted italic`,children:"No conditions configured"})]})]})}function af({widget:e,width:t,height:n}){const r=F(p=>p.updateWidgetData),{label:o,columns:l=["Item","Qty","Weight"],rows:s=[]}=e.data,[i,u]=M.useState(null),c=t<200,f=t>=400,v=n<120,m=c?"text-xs":f?"text-base":"text-sm",x=c||v?"text-[10px] p-0.5":f?"text-base p-2":"text-sm p-1",b=c||v?"gap-1":"gap-2",N=c?16:f?24:20,P=c||v?4:8,h=c?8:16,d=Math.max(40,n-N-P-h*2),g=(p,w,k)=>{const j=[...s];j[p]={...j[p],cells:[...j[p].cells]},j[p].cells[w]=k,r(e.id,{rows:j})},y=p=>{const w=[...s];w[p]={cells:l.map(()=>"")},r(e.id,{rows:w})};return a.jsxs("div",{className:`flex flex-col ${b} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${m} text-theme-ink font-heading flex-shrink-0`,children:o||"Table"}),a.jsx("div",{className:"overflow-auto flex-1",style:{maxHeight:`${d}px`},children:a.jsxs("table",{className:`w-full border-collapse ${x}`,children:[a.jsx("thead",{className:"sticky top-0",children:a.jsxs("tr",{children:[l.map((p,w)=>a.jsx("th",{className:`border border-theme-border bg-theme-background ${x} text-theme-ink font-heading`,children:p},w)),a.jsx("th",{className:c||v?"w-4":"w-6"})]})}),a.jsx("tbody",{children:s.map((p,w)=>a.jsxs("tr",{className:"group",children:[p.cells.map((k,j)=>a.jsx("td",{className:`border border-theme-border ${x} text-theme-ink`,children:(i==null?void 0:i.row)===w&&(i==null?void 0:i.col)===j?a.jsx("input",{autoFocus:!0,value:k,onChange:C=>g(w,j,C.target.value),onBlur:()=>u(null),onKeyDown:C=>C.key==="Enter"&&u(null),className:`w-full bg-transparent focus:outline-none ${c||v?"text-[10px]":f?"text-base":"text-sm"} text-theme-ink font-body`,onMouseDown:C=>C.stopPropagation()}):a.jsx("div",{onClick:()=>u({row:w,col:j}),onMouseDown:C=>C.stopPropagation(),className:`${c||v?"min-h-[1em]":"min-h-[1.5em]"} cursor-text hover:opacity-70 font-body`,children:k||a.jsx("span",{className:"text-theme-muted",children:"-"})})},j)),a.jsx("td",{className:`${c||v?"w-4":"w-6"} p-0`,children:a.jsx("button",{onClick:()=>y(w),onMouseDown:k=>k.stopPropagation(),className:"w-full h-full text-theme-muted hover:text-theme-ink opacity-0 group-hover:opacity-100",children:""})})]},w))})]})})]})}function mu({title:e,onClose:t,children:n}){return Qr.createPortal(a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999]",onClick:t,onMouseDown:r=>r.stopPropagation(),children:a.jsxs("div",{className:"bg-theme-paper border border-theme-border rounded-theme shadow-xl p-4 min-w-[280px] max-w-[400px]",onClick:r=>r.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"font-bold text-theme-ink font-heading",children:e}),a.jsx("button",{onClick:t,className:"text-theme-muted hover:text-theme-ink text-xl leading-none",children:""})]}),n]})}),document.body)}function dg(e){if(e<=0)return"Expired";const t=Math.floor(e/(365*24*60*60)),n=Math.floor(e%(365*24*60*60)/(30*24*60*60)),r=Math.floor(e%(30*24*60*60)/(24*60*60)),o=Math.floor(e%(24*60*60)/(60*60)),l=Math.floor(e%(60*60)/60),s=e%60,i=[];return t>0&&i.push(`${t}y`),n>0&&i.push(`${n}mo`),r>0&&i.push(`${r}d`),o>0&&i.push(`${o}h`),l>0&&i.push(`${l}m`),(s>0||i.length===0)&&i.push(`${s}s`),i.slice(0,3).join(" ")}function gu(e,t){switch(t){case"seconds":return e;case"minutes":return e*60;case"hours":return e*60*60;case"days":return e*24*60*60;case"months":return e*30*24*60*60;case"years":return e*365*24*60*60;default:return e}}function uf({widget:e,width:t,height:n}){const r=F(R=>R.updateWidgetData),{label:o,timedEffects:l=[]}=e.data,[s,i]=M.useState(!1),[u,c]=M.useState(!1),[f,v]=M.useState(""),[m,x]=M.useState(1),[b,N]=M.useState("minutes"),[P,h]=M.useState(1),[d,g]=M.useState("minutes"),y=t<200,p=t>=350,w=n<180,k=y?"text-xs":p?"text-base":"text-sm",j=y||w?"text-xs":p?"text-sm":"text-xs",C=y||w?"text-xs px-2 py-1":p?"text-sm px-3 py-1.5":"text-xs px-2 py-1",T=y||w?"gap-1":"gap-2",Y=()=>{if(f.trim()){const R=gu(m,b),V={name:f.trim(),remainingSeconds:R};r(e.id,{timedEffects:[...l,V]}),v(""),x(1),i(!1)}},ge=()=>{v(""),x(1),i(!1)},de=R=>{const V=[...l];V.splice(R,1),r(e.id,{timedEffects:V})},We=()=>{const R=gu(P,d),V=l.map(Ye=>({...Ye,remainingSeconds:Math.max(0,Ye.remainingSeconds-R)}));r(e.id,{timedEffects:V}),c(!1)},Xe=()=>{h(1),c(!1)},Ne=y?16:p?24:20,D=y||w?32:p?44:36,_=y||w?4:8,W=y?8:16,A=Math.max(60,n-Ne-D-_*3-W*2);return a.jsxs("div",{className:`flex flex-col ${T} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${k} text-theme-ink font-heading flex-shrink-0`,children:o||"Time Tracker"}),a.jsxs("div",{className:`space-y-1 overflow-y-auto flex-1 ${j}`,style:{maxHeight:`${A}px`},onWheel:R=>R.stopPropagation(),children:[l.map((R,V)=>a.jsxs("div",{className:`flex justify-between items-center group p-1.5 rounded-theme border ${R.remainingSeconds<=0?"bg-theme-accent/20 border-theme-accent animate-pulse":"border-theme-border/30 hover:border-theme-border"}`,children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("span",{className:`font-medium ${R.remainingSeconds<=0?"text-theme-accent":"text-theme-ink"}`,children:R.name}),a.jsx("div",{className:`${R.remainingSeconds<=0?"text-theme-accent font-bold":"text-theme-muted"}`,children:dg(R.remainingSeconds)})]}),a.jsx("button",{onClick:()=>de(V),className:"opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 px-1 flex-shrink-0",onMouseDown:Ye=>Ye.stopPropagation(),children:""})]},V)),l.length===0&&!s&&a.jsx("div",{className:"text-theme-muted italic text-center py-2",children:"No active effects"})]}),a.jsxs("div",{className:`flex ${T} border-t border-theme-border/50 pt-2 flex-shrink-0`,children:[a.jsx("button",{onClick:()=>i(!0),className:`${C} flex-1 border border-theme-border text-theme-ink rounded-theme hover:bg-theme-accent hover:text-theme-paper transition-colors font-bold`,onMouseDown:R=>R.stopPropagation(),children:"+ Add Effect"}),l.length>0&&a.jsx("button",{onClick:()=>c(!0),className:`${C} flex-1 border border-theme-border text-theme-ink rounded-theme hover:bg-theme-accent hover:text-theme-paper transition-colors font-bold`,onMouseDown:R=>R.stopPropagation(),children:" Pass Time"})]}),s&&a.jsx(mu,{title:"Add Effect",onClose:ge,children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{className:"w-full border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme",value:f,onChange:R=>v(R.target.value),placeholder:"Effect name...",autoFocus:!0,onKeyDown:R=>{R.key==="Enter"&&Y(),R.key==="Escape"&&ge()}}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",min:"1",className:"w-20 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme text-center",value:m,onChange:R=>x(Math.max(1,parseInt(R.target.value)||1))}),a.jsxs("select",{className:"flex-1 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme",value:b,onChange:R=>N(R.target.value),children:[a.jsx("option",{value:"seconds",children:"Seconds"}),a.jsx("option",{value:"minutes",children:"Minutes"}),a.jsx("option",{value:"hours",children:"Hours"}),a.jsx("option",{value:"days",children:"Days"}),a.jsx("option",{value:"months",children:"Months"}),a.jsx("option",{value:"years",children:"Years"})]})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx("button",{onClick:Y,className:"flex-1 py-2 px-4 bg-theme-accent text-theme-paper rounded-theme hover:opacity-90 transition-colors font-bold",children:"Add Effect"}),a.jsx("button",{onClick:ge,className:"flex-1 py-2 px-4 border border-theme-border text-theme-muted rounded-theme hover:bg-theme-border hover:text-theme-ink transition-colors",children:"Cancel"})]})]})}),u&&a.jsx(mu,{title:"Pass Time",onClose:Xe,children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-theme-muted text-sm",children:"How much time passes for all effects?"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",min:"1",className:"w-20 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme text-center",value:P,onChange:R=>h(Math.max(1,parseInt(R.target.value)||1)),autoFocus:!0,onKeyDown:R=>{R.key==="Enter"&&We(),R.key==="Escape"&&Xe()}}),a.jsxs("select",{className:"flex-1 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme",value:d,onChange:R=>g(R.target.value),children:[a.jsx("option",{value:"seconds",children:"Seconds"}),a.jsx("option",{value:"minutes",children:"Minutes"}),a.jsx("option",{value:"hours",children:"Hours"}),a.jsx("option",{value:"days",children:"Days"}),a.jsx("option",{value:"months",children:"Months"}),a.jsx("option",{value:"years",children:"Years"})]})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx("button",{onClick:We,className:"flex-1 py-2 px-4 bg-theme-accent text-theme-paper rounded-theme hover:opacity-90 transition-colors font-bold",children:"Confirm"}),a.jsx("button",{onClick:Xe,className:"flex-1 py-2 px-4 border border-theme-border text-theme-muted rounded-theme hover:bg-theme-border hover:text-theme-ink transition-colors",children:"Cancel"})]})]})})]})}function fg({widget:e,updateData:t}){const{label:n,numberItems:r=[]}=e.data,[o,l]=M.useState(""),s=f=>{f.preventDefault(),o.trim()&&(t({numberItems:[...r,{name:o.trim(),value:0}]}),l(""))},i=f=>{const v=[...r];v.splice(f,1),t({numberItems:v})},u=(f,v)=>{const m=[...r];m[f]={...m[f],name:v},t({numberItems:m})},c=(f,v)=>{const m=[...r];m[f]={...m[f],value:v},t({numberItems:m})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:f=>t({label:f.target.value}),placeholder:"Trackers"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Items"}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:r.map((f,v)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm",value:f.name,onChange:m=>u(v,m.target.value),placeholder:"Name"}),a.jsx("input",{type:"number",className:"w-20 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center",value:f.value,onChange:m=>c(v,parseInt(m.target.value)||0)}),a.jsx("button",{onClick:()=>i(v),className:"text-red-500 hover:text-red-700 px-2",children:""})]},v))}),a.jsxs("form",{onSubmit:s,className:"flex gap-2 mt-2",children:[a.jsx("input",{type:"text",value:o,onChange:f=>l(f.target.value),placeholder:"Add new item...",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm"}),a.jsx("button",{type:"submit",className:"px-3 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90",children:"Add"})]})]})]})}function pg({widget:e,updateData:t}){const{label:n,itemCount:r=5}=e.data;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:o=>t({label:o.target.value}),placeholder:"List Title"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Number of Item Slots"}),a.jsx("input",{type:"number",min:"1",max:"50",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:r,onChange:o=>t({itemCount:Math.max(1,Math.min(50,parseInt(o.target.value)||1))})}),a.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Items can be filled in during play mode"})]})]})}function hg({widget:e,updateData:t}){const{label:n}=e.data;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:r=>t({label:r.target.value}),placeholder:"Title"})]}),a.jsx("p",{className:"text-xs text-theme-muted",children:"Use the resize handle on the widget in edit mode to adjust the size."})]})}function mg({widget:e,updateData:t}){const{label:n,checkboxItems:r=[]}=e.data,[o,l]=M.useState(""),s=u=>{u.preventDefault(),o.trim()&&(t({checkboxItems:[...r,{name:o.trim(),checked:!1}]}),l(""))},i=u=>{const c=[...r];c.splice(u,1),t({checkboxItems:c})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:u=>t({label:u.target.value}),placeholder:"Checklist Title"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Checkbox Items"}),a.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:r.map((u,c)=>a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{className:"flex-1 text-theme-ink",children:u.name}),a.jsx("button",{onClick:()=>i(c),className:"text-red-500 hover:text-red-700 px-2",children:""})]},c))}),a.jsxs("form",{onSubmit:s,className:"flex gap-2 mt-2",children:[a.jsx("input",{type:"text",value:o,onChange:u=>l(u.target.value),placeholder:"Add new item...",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm"}),a.jsx("button",{type:"submit",className:"px-3 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90",children:"Add"})]})]})]})}function gg({widget:e,updateData:t}){const{label:n,maxValue:r=10}=e.data;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:o=>t({label:o.target.value}),placeholder:"Health"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Maximum Value"}),a.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:r,onChange:o=>{const l=parseInt(o.target.value)||1;t({maxValue:l})},min:1})]})]})}function xg({widget:e,updateData:t}){const{label:n,diceGroups:r=[{count:1,faces:20}],modifier:o=0}=e.data,l=(u,c,f)=>{const v=[...r];v[u]={...v[u],[c]:Math.max(1,f)},t({diceGroups:v})},s=()=>{t({diceGroups:[...r,{count:1,faces:6}]})},i=u=>{if(r.length>1){const c=r.filter((f,v)=>v!==u);t({diceGroups:c})}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:u=>t({label:u.target.value}),placeholder:"Roll Name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Dice Groups"}),a.jsx("div",{className:"space-y-2",children:r.map((u,c)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",min:"1",value:u.count,onChange:f=>l(c,"count",parseInt(f.target.value)||1),className:"w-16 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center"}),a.jsx("span",{className:"text-theme-ink",children:"d"}),a.jsx("input",{type:"number",min:"1",value:u.faces,onChange:f=>l(c,"faces",parseInt(f.target.value)||1),className:"w-16 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center"}),r.length>1&&a.jsx("button",{onClick:()=>i(c),className:"text-red-500 hover:text-red-700 px-2",children:""})]},c))}),a.jsx("button",{onClick:s,className:"mt-2 px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Dice"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Modifier"}),a.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:o,onChange:u=>t({modifier:parseInt(u.target.value)||0})})]})]})}function vg({widget:e,updateData:t}){const{label:n,spellLevels:r=[{level:1,max:4,used:0}]}=e.data,o=()=>{const u=r.map(f=>f.level),c=Math.min(9,Math.max(...u,0)+1);c<=9&&!u.includes(c)&&t({spellLevels:[...r,{level:c,max:2,used:0}]})},l=u=>{const c=[...r];c.splice(u,1),t({spellLevels:c})},s=(u,c)=>{const f=[...r],v=Math.max(1,Math.min(10,c));f[u]={...f[u],max:v,used:Math.min(f[u].used,v)},t({spellLevels:f})},i=(u,c)=>{const f=[...r];f[u]={...f[u],level:Math.max(1,Math.min(9,c))},t({spellLevels:f})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:u=>t({label:u.target.value}),placeholder:"Spell Slots"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Spell Levels"}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:r.map((u,c)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-theme-ink text-sm",children:"Level"}),a.jsx("input",{type:"number",value:u.level,onChange:f=>i(c,parseInt(f.target.value)||1),className:"w-12 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center",min:1,max:9}),a.jsx("span",{className:"text-theme-ink text-sm",children:"Max Slots"}),a.jsx("input",{type:"number",value:u.max,onChange:f=>s(c,parseInt(f.target.value)||1),className:"w-12 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center",min:1,max:10}),a.jsx("button",{onClick:()=>l(c),className:"text-red-500 hover:text-red-700 px-2",children:""})]},c))}),r.length<9&&a.jsx("button",{onClick:o,className:"mt-2 px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Level"})]})]})}function yg({widget:e,updateData:t}){const{label:n,skillItems:r=[]}=e.data,[o,l]=M.useState(""),s=f=>{f.preventDefault(),o.trim()&&(t({skillItems:[...r,{name:o.trim(),value:0}]}),l(""))},i=f=>{const v=[...r];v.splice(f,1),t({skillItems:v})},u=(f,v)=>{const m=[...r];m[f]={...m[f],name:v},t({skillItems:m})},c=(f,v)=>{const m=[...r];m[f]={...m[f],value:v},t({skillItems:m})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:f=>t({label:f.target.value}),placeholder:"Skills"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Skills"}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:r.map((f,v)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm",value:f.name,onChange:m=>u(v,m.target.value),placeholder:"Skill Name"}),a.jsx("input",{type:"number",className:"w-16 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center",value:f.value,onChange:m=>c(v,parseInt(m.target.value)||0)}),a.jsx("button",{onClick:()=>i(v),className:"text-red-500 hover:text-red-700 px-2",children:""})]},v))}),a.jsxs("form",{onSubmit:s,className:"flex gap-2 mt-2",children:[a.jsx("input",{type:"text",value:o,onChange:f=>l(f.target.value),placeholder:"Add new skill...",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm"}),a.jsx("button",{type:"submit",className:"px-3 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90",children:"Add"})]})]})]})}function wg({widget:e,updateData:t}){const{label:n,imageUrl:r=""}=e.data,o=s=>{var u;const i=(u=s.target.files)==null?void 0:u[0];if(i){const c=new FileReader;c.onload=f=>{var m;const v=(m=f.target)==null?void 0:m.result;t({imageUrl:v})},c.readAsDataURL(i)}},l=()=>{t({imageUrl:""})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:s=>t({label:s.target.value}),placeholder:"Portrait"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Image"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("label",{className:"flex-1 px-3 py-2 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90 cursor-pointer text-center",children:["Upload Image",a.jsx("input",{type:"file",accept:"image/*",onChange:o,className:"hidden"})]}),r&&a.jsx("button",{onClick:l,className:"px-3 py-2 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-red-500 hover:text-white hover:border-red-500",children:"Clear"})]}),r&&a.jsx("div",{className:"mt-2 border border-theme-border rounded-theme overflow-hidden",children:a.jsx("img",{src:r,alt:"Preview",className:"w-full h-32 object-cover"})})]})]})}function bg({widget:e,updateData:t}){const{label:n,maxPool:r=5,poolStyle:o="dots"}=e.data;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:l=>t({label:l.target.value}),placeholder:"Resource Pool"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Maximum Pool"}),a.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:r,onChange:l=>{const s=Math.max(1,Math.min(20,parseInt(l.target.value)||1));t({maxPool:s})},min:1,max:20})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Style"}),a.jsxs("select",{value:o,onChange:l=>t({poolStyle:l.target.value}),className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",children:[a.jsx("option",{value:"dots",children:"Dots"}),a.jsx("option",{value:"boxes",children:"Boxes"}),a.jsx("option",{value:"hearts",children:"Hearts"})]})]})]})}function kg({widget:e,updateData:t}){const{label:n,toggleItems:r=[]}=e.data,[o,l]=M.useState(""),s=["Blinded","Charmed","Frightened","Poisoned","Stunned","Prone","Invisible","Paralyzed","Unconscious","Exhausted","Afraid","Angry","Confused","Wounded","Dazed"],i=m=>{m.trim()&&!r.some(x=>x.name.toLowerCase()===m.trim().toLowerCase())&&t({toggleItems:[...r,{name:m.trim(),active:!1}]}),l("")},u=m=>{m.preventDefault(),i(o)},c=m=>{const x=[...r];x.splice(m,1),t({toggleItems:x})},f=r.map(m=>m.name.toLowerCase()),v=s.filter(m=>!f.includes(m.toLowerCase()));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:m=>t({label:m.target.value}),placeholder:"Conditions"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Conditions"}),a.jsx("div",{className:"flex flex-wrap gap-1 max-h-32 overflow-y-auto",children:r.map((m,x)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-theme-background rounded-theme text-sm",children:[a.jsx("span",{className:"text-theme-ink",children:m.name}),a.jsx("button",{onClick:()=>c(x),className:"text-red-500 hover:text-red-700",children:""})]},x))}),a.jsxs("form",{onSubmit:u,className:"flex gap-2 mt-2",children:[a.jsx("input",{type:"text",value:o,onChange:m=>l(m.target.value),placeholder:"Add condition...",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm"}),a.jsx("button",{type:"submit",className:"px-3 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90",children:"Add"})]}),v.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx("span",{className:"text-xs text-theme-muted",children:"Quick add:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:v.slice(0,8).map(m=>a.jsx("button",{onClick:()=>i(m),className:"px-2 py-0.5 text-xs border border-theme-border rounded-theme text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:m},m))})]})]})]})}function Sg({widget:e,updateData:t}){const{label:n}=e.data;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:r=>t({label:r.target.value}),placeholder:"Time Tracker"})]}),a.jsxs("div",{className:"text-sm text-theme-muted",children:[a.jsx("p",{children:"Use this widget to track timed effects in your game."}),a.jsxs("ul",{className:"list-disc ml-4 mt-2 space-y-1",children:[a.jsx("li",{children:"Add effects with their remaining duration"}),a.jsx("li",{children:'Use the "Pass Time" controls to advance all timers at once'}),a.jsx("li",{children:"Expired effects will be highlighted"})]})]})]})}function Ng({widget:e,updateData:t}){const{label:n,columns:r=["Item","Qty","Weight"],rows:o=[]}=e.data,l=(f,v)=>{const m=[...r];m[f]=v,t({columns:m})},s=()=>{t({columns:[...r,"New"]})},i=f=>{if(r.length<=1)return;const v=[...r];v.splice(f,1),t({columns:v})},u=()=>{const f={cells:r.map(()=>"")};t({rows:[...o,f]})},c=f=>{if(o.length<=1)return;const v=[...o];v.splice(f,1),t({rows:v})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:f=>t({label:f.target.value}),placeholder:"Inventory"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Columns"}),a.jsx("div",{className:"space-y-2",children:r.map((f,v)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm",value:f,onChange:m=>l(v,m.target.value),placeholder:"Column name"}),r.length>1&&a.jsx("button",{onClick:()=>i(v),className:"text-red-500 hover:text-red-700 px-2",children:""})]},v))}),a.jsx("button",{onClick:s,className:"mt-2 px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Column"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:["Rows (",o.length,")"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:u,className:"px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Row"}),o.length>1&&a.jsx("button",{onClick:()=>c(o.length-1),className:"px-3 py-1 border border-theme-border rounded-theme text-sm text-red-500 hover:bg-red-500 hover:text-white",children:"- Remove Row"})]}),a.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Row contents can be edited in play mode"})]})]})}function jg(e){return{NUMBER:"Number Tracker",LIST:"List",TEXT:"Text",CHECKBOX:"Checkbox",HEALTH_BAR:"Health Bar",DICE_ROLLER:"Dice Roller",SPELL_SLOT:"Spell Slots",SKILL:"Skills",IMAGE:"Image",POOL:"Resource Pool",TOGGLE_GROUP:"Conditions",TABLE:"Table",TIME_TRACKER:"Time Tracker"}[e]||"Widget"}function Cg({widget:e,onClose:t}){const n=F(x=>x.updateWidgetData),r=F(x=>x.updateWidgetSize),[o,l]=M.useState({...e.data}),[s,i]=M.useState(e.w||200),u=x=>{const b={...o,...x};l(b),n(e.id,x)},c=x=>{i(x),r(e.id,x,e.h||0)},f={...e,data:o,w:s},v=()=>{const x={widget:f,updateData:u,updateWidth:c};switch(e.type){case"NUMBER":return a.jsx(fg,{...x});case"LIST":return a.jsx(pg,{...x});case"TEXT":return a.jsx(hg,{...x});case"CHECKBOX":return a.jsx(mg,{...x});case"HEALTH_BAR":return a.jsx(gg,{...x});case"DICE_ROLLER":return a.jsx(xg,{...x});case"SPELL_SLOT":return a.jsx(vg,{...x});case"SKILL":return a.jsx(yg,{...x});case"IMAGE":return a.jsx(wg,{...x});case"POOL":return a.jsx(bg,{...x});case"TOGGLE_GROUP":return a.jsx(kg,{...x});case"TABLE":return a.jsx(Ng,{...x});case"TIME_TRACKER":return a.jsx(Sg,{...x});default:return null}},m=()=>{const x={widget:f,mode:"play",width:200,height:200};switch(e.type){case"NUMBER":return a.jsx(Kd,{...x});case"LIST":return a.jsx(Zd,{...x});case"TEXT":return a.jsx(Jd,{...x});case"CHECKBOX":return a.jsx(qd,{...x});case"HEALTH_BAR":return a.jsx(ef,{...x});case"DICE_ROLLER":return a.jsx(tf,{...x});case"SPELL_SLOT":return a.jsx(nf,{...x});case"SKILL":return a.jsx(rf,{...x});case"IMAGE":return a.jsx(of,{...x});case"POOL":return a.jsx(lf,{...x});case"TOGGLE_GROUP":return a.jsx(sf,{...x});case"TABLE":return a.jsx(af,{...x});case"TIME_TRACKER":return a.jsx(uf,{...x});default:return null}};return M.useEffect(()=>{const x=b=>{b.key==="Escape"&&t()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[t]),Qr.createPortal(a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-0 sm:p-4",onClick:x=>{x.target===x.currentTarget&&t()},onMouseDown:x=>x.stopPropagation(),onMouseUp:x=>x.stopPropagation(),onMouseMove:x=>x.stopPropagation(),onWheel:x=>x.stopPropagation(),onTouchStart:x=>x.stopPropagation(),onTouchMove:x=>x.stopPropagation(),onTouchEnd:x=>x.stopPropagation(),children:a.jsxs("div",{className:"bg-theme-paper border-[length:var(--border-width)] border-theme-border rounded-none sm:rounded-theme shadow-theme sm:max-w-2xl w-full h-full sm:h-auto sm:max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-theme-border",children:[a.jsxs("h2",{className:"text-lg font-bold text-theme-ink font-heading",children:["Edit ",jg(e.type)]}),a.jsx("button",{onClick:t,className:"w-8 h-8 flex items-center justify-center text-theme-muted hover:text-theme-ink hover:bg-theme-background rounded-theme transition-colors",children:""})]}),a.jsx("div",{className:"flex-1 overflow-auto p-4",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-sm font-medium text-theme-muted mb-3",children:"Settings"}),v()]}),a.jsxs("div",{className:"lg:w-72 flex-shrink-0",children:[a.jsx("h3",{className:"text-sm font-medium text-theme-muted mb-3",children:"Preview"}),a.jsx("div",{className:"bg-theme-paper border-[length:var(--border-width)] border-theme-border rounded-theme p-2 sm:p-4 shadow-theme",style:{width:"200px"},children:m()})]})]})}),a.jsx("div",{className:"px-4 py-3 border-t border-theme-border flex justify-end",children:a.jsx("button",{onClick:t,className:"px-4 py-2 bg-theme-accent text-theme-paper rounded-theme hover:opacity-90 font-medium",children:"Done"})})]})}),document.body)}const Sn=10,Eg={NUMBER:{width:140,height:60},LIST:{width:140,height:80},TEXT:{width:120,height:60},CHECKBOX:{width:140,height:60},HEALTH_BAR:{width:160,height:80},DICE_ROLLER:{width:160,height:120},SPELL_SLOT:{width:160,height:80},SKILL:{width:140,height:60},IMAGE:{width:100,height:100},POOL:{width:120,height:80},TOGGLE_GROUP:{width:140,height:60},TABLE:{width:180,height:80},TIME_TRACKER:{width:180,height:140}};function Tg({widget:e,scale:t}){const n=F(I=>I.updateWidgetPosition),r=F(I=>I.updateWidgetSize),o=F(I=>I.moveWidgetGroup),l=F(I=>I.removeWidget),s=F(I=>I.mode),i=F(I=>I.setEditingWidgetId),u=F(I=>I.selectedWidgetId),c=F(I=>I.setSelectedWidgetId),f=M.useRef(null),v=M.useRef(null),[m,x]=M.useState(!1),[b,N]=M.useState(!1),[P,h]=M.useState(null),d=M.useRef({x:0,y:0}),[g,y]=M.useState(!1),p=M.useRef({mouseX:0,mouseY:0,width:0,height:0}),w=u===e.id,k=Eg[e.type]||{width:120,height:60};M.useEffect(()=>{if(e.h&&e.h>0){h(e.h);return}if(f.current){const I=new ResizeObserver(ae=>{for(const S of ae){const z=S.target.scrollHeight,U=Math.ceil(z/Sn)*Sn;h(U)}});return I.observe(f.current),()=>I.disconnect()}},[e.data,e.h]);const j=I=>{s==="edit"&&(w||(I.preventDefault(),I.stopPropagation(),c(e.id)))},C=I=>{s==="edit"&&!T&&(I.preventDefault(),I.stopPropagation(),c(e.id))},T=b||w,Y=()=>{x(!0),i(e.id)},ge=()=>{x(!1),i(null)},de=I=>Math.round(I/Sn)*Sn,Xe=(()=>{if(e.w)return e.w;if(e.type==="TABLE"){const ae=(e.data.columns||["Item","Qty","Weight"]).length,U=Math.max(200,ae*80+40);return de(U)}return 200})(),Ne=M.useCallback(I=>{I.preventDefault(),I.stopPropagation();const ae="touches"in I?I.touches[0].clientX:I.clientX,S="touches"in I?I.touches[0].clientY:I.clientY,z=e.w||200,U=e.h||120;p.current={mouseX:ae,mouseY:S,width:z,height:U},y(!0)},[e.w,e.h]),D=M.useCallback(I=>{if(!g)return;const ae="touches"in I?I.touches[0].clientX:I.clientX,S="touches"in I?I.touches[0].clientY:I.clientY,z=(ae-p.current.mouseX)/t,U=(S-p.current.mouseY)/t,K=de(Math.max(k.width,p.current.width+z)),q=de(Math.max(k.height,p.current.height+U));r(e.id,K,q)},[g,t,k,e.id,r]),_=M.useCallback(()=>{y(!1)},[]);M.useEffect(()=>{if(g)return window.addEventListener("mousemove",D),window.addEventListener("mouseup",_),window.addEventListener("touchmove",D),window.addEventListener("touchend",_),()=>{window.removeEventListener("mousemove",D),window.removeEventListener("mouseup",_),window.removeEventListener("touchmove",D),window.removeEventListener("touchend",_)}},[g,D,_]);const W=(I,ae)=>{d.current={x:ae.x,y:ae.y}},A=(I,ae)=>{if(e.groupId){const S=ae.x-d.current.x,z=ae.y-d.current.y;document.querySelectorAll(`[data-group-id="${e.groupId}"]`).forEach(K=>{const q=K.getAttribute("data-widget-id");if(q&&q!==e.id){const $e=F.getState().getWidgetsInGroup(e.groupId).find(Fe=>Fe.id===q);$e&&(K.style.transform=`translate(${$e.x+S}px, ${$e.y+z}px)`)}})}},R=(I,ae)=>{const S=de(ae.x),z=de(ae.y);if(e.groupId){const U=S-e.x,K=z-e.y;(U!==0||K!==0)&&o(e.id,U,K)}else n(e.id,S,z)},V=e.h&&e.h>0?e.h:P,Ye=()=>{const I={widget:e,mode:"play",width:Xe,height:V||120};switch(e.type){case"NUMBER":return a.jsx(Kd,{...I});case"LIST":return a.jsx(Zd,{...I});case"TEXT":return a.jsx(Jd,{...I});case"CHECKBOX":return a.jsx(qd,{...I});case"HEALTH_BAR":return a.jsx(ef,{...I});case"DICE_ROLLER":return a.jsx(tf,{...I});case"SPELL_SLOT":return a.jsx(nf,{...I});case"SKILL":return a.jsx(rf,{...I});case"IMAGE":return a.jsx(of,{...I});case"POOL":return a.jsx(lf,{...I});case"TOGGLE_GROUP":return a.jsx(sf,{...I});case"TABLE":return a.jsx(af,{...I});case"TIME_TRACKER":return a.jsx(uf,{...I});default:return null}};return a.jsxs(a.Fragment,{children:[a.jsx(cg,{nodeRef:f,position:{x:e.x,y:e.y},onStart:W,onDrag:A,onStop:R,scale:t,grid:[Sn,Sn],handle:".drag-handle",disabled:s==="play",children:a.jsxs("div",{ref:f,"data-widget-id":e.id,"data-group-id":e.groupId||"",className:`react-draggable absolute bg-theme-paper border-[length:var(--border-width)] border-theme-border p-2 sm:p-4 cursor-default group touch-manipulation rounded-theme ${e.groupId&&s==="edit"?"ring-2 ring-green-500 ring-opacity-50":""} ${g?"select-none":""}`,style:{width:`${Xe}px`,minWidth:`${k.width}px`,height:V?`${V}px`:"auto",minHeight:V?`${V}px`:P?`${P}px`:"auto",zIndex:T&&s==="edit"?100:void 0,overflow:"hidden"},onMouseEnter:()=>N(!0),onMouseLeave:()=>N(!1),onTouchStart:j,onClick:C,children:[s==="edit"&&a.jsx("div",{className:"drag-handle absolute top-0 left-0 right-0 h-6 sm:h-4 bg-transparent cursor-move hover:opacity-70 active:opacity-50 flex justify-end pr-1 touch-none rounded-t-theme",children:a.jsx("div",{className:"w-full h-full"})}),s==="edit"&&T&&a.jsx("button",{className:"absolute -top-3 -left-3 w-8 h-8 sm:w-6 sm:h-6 bg-theme-accent text-theme-paper rounded-full flex items-center justify-center transition-opacity z-50 hover:bg-blue-600 text-sm",onClick:Y,onMouseDown:I=>I.stopPropagation(),onTouchStart:I=>I.stopPropagation(),title:"Edit widget",children:""}),s==="edit"&&T&&a.jsx("button",{className:"absolute -top-3 -right-3 w-8 h-8 sm:w-6 sm:h-6 bg-theme-accent text-theme-paper rounded-full flex items-center justify-center transition-opacity z-50 hover:bg-red-600 text-lg sm:text-base",onClick:()=>l(e.id),onMouseDown:I=>I.stopPropagation(),onTouchStart:I=>I.stopPropagation(),children:""}),s==="edit"&&w&&a.jsx("div",{className:"absolute inset-0 z-40 bg-theme-accent/10 rounded-theme",onTouchStart:I=>I.stopPropagation()}),s==="edit"&&T&&a.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 cursor-se-resize z-50 flex items-center justify-center",onMouseDown:Ne,onTouchStart:Ne,title:"Drag to resize",children:a.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",className:"text-theme-muted hover:text-theme-ink transition-colors",children:a.jsx("path",{d:"M10 2L2 10M10 6L6 10M10 10L10 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),a.jsx("div",{ref:v,className:"h-full overflow-auto",children:Ye()})]})}),m&&a.jsx(Cg,{widget:e,onClose:ge})]})}const xo=5,vo=20;function Pg({widgets:e,scale:t}){const n=F(h=>h.attachWidgets),r=F(h=>h.detachWidgets),o=F(h=>h.selectedWidgetId),[l,s]=M.useState(0),[i,u]=M.useState(!1),[c,f]=M.useState(null),v=o||c,m=e.map(h=>`${h.id}:${h.x}:${h.y}:${h.groupId||""}`).join("|");M.useEffect(()=>{const h=()=>{const g=document.querySelector(".react-draggable-dragging");u(!!g)},d=new MutationObserver(h);return d.observe(document.body,{subtree:!0,attributes:!0,attributeFilter:["class"]}),()=>d.disconnect()},[]),M.useEffect(()=>{const h=g=>{const y=g.target;if(y.closest("[data-attach-widget-ids]"))return;const w=y.closest("[data-widget-id]");f(w?w.getAttribute("data-widget-id"):null)},d=g=>{const y=g.target;if(y.closest("[data-attach-widget-ids]"))return;const w=y.closest("[data-widget-id]");f(w?w.getAttribute("data-widget-id"):null)};return document.addEventListener("mouseover",h),document.addEventListener("touchstart",d),()=>{document.removeEventListener("mouseover",h),document.removeEventListener("touchstart",d)}},[]),M.useEffect(()=>{const h=setTimeout(()=>{s(d=>d+1)},100);return()=>clearTimeout(h)},[m,t]);const x=M.useMemo(()=>{const h=[];return e.forEach(d=>{const g=document.querySelector(`[data-widget-id="${d.id}"]`);if(g){const y=g.getBoundingClientRect();h.push({id:d.id,groupId:d.groupId,attachedTo:d.attachedTo,left:d.x,right:d.x+y.width/t,top:d.y,bottom:d.y+y.height/t})}}),h},[e,t,l]),b=M.useMemo(()=>{var d,g;const h=[];for(let y=0;y<x.length;y++)for(let p=y+1;p<x.length;p++){const w=x[y],k=x[p],j=!!((d=w.attachedTo)!=null&&d.includes(k.id)||(g=k.attachedTo)!=null&&g.includes(w.id));if(Math.abs(w.right-k.left)<=xo){const C=Math.max(w.top,k.top),T=Math.min(w.bottom,k.bottom);T-C>=vo&&h.push({widget1Id:w.id,widget2Id:k.id,x:w.right,y:(C+T)/2,orientation:"vertical",isAttached:j})}if(Math.abs(w.left-k.right)<=xo){const C=Math.max(w.top,k.top),T=Math.min(w.bottom,k.bottom);T-C>=vo&&h.push({widget1Id:w.id,widget2Id:k.id,x:w.left,y:(C+T)/2,orientation:"vertical",isAttached:j})}if(Math.abs(w.bottom-k.top)<=xo){const C=Math.max(w.left,k.left),T=Math.min(w.right,k.right);T-C>=vo&&h.push({widget1Id:w.id,widget2Id:k.id,x:(C+T)/2,y:w.bottom,orientation:"horizontal",isAttached:j})}if(Math.abs(w.top-k.bottom)<=xo){const C=Math.max(w.left,k.left),T=Math.min(w.right,k.right);T-C>=vo&&h.push({widget1Id:w.id,widget2Id:k.id,x:(C+T)/2,y:w.top,orientation:"horizontal",isAttached:j})}}return h},[x]),N=h=>{if(h.isAttached){const d=v===h.widget1Id?h.widget1Id:v===h.widget2Id?h.widget2Id:h.widget1Id;r(d,h.widget2Id)}else{const d=x.find(k=>k.id===h.widget1Id),g=x.find(k=>k.id===h.widget2Id);if(!d||!g){n(h.widget1Id,h.widget2Id);return}let y,p;if(g.groupId&&!d.groupId)y=d.id,p=g.groupId;else if(d.groupId&&!g.groupId)y=g.id,p=d.groupId;else if(d.groupId&&g.groupId&&d.groupId!==g.groupId){n(h.widget1Id,h.widget2Id);return}else{n(h.widget1Id,h.widget2Id);return}const w=b.filter(k=>{if(k.isAttached)return!1;const j=x.find(T=>T.id===k.widget1Id),C=x.find(T=>T.id===k.widget2Id);return!j||!C?!1:k.widget1Id===y&&C.groupId===p||k.widget2Id===y&&j.groupId===p});for(const k of w)n(k.widget1Id,k.widget2Id)}};if(i)return null;const P=v?b.filter(h=>h.widget1Id===v||h.widget2Id===v):[];return a.jsx(a.Fragment,{children:P.map((h,d)=>a.jsx("button",{"data-attach-widget-ids":`${h.widget1Id},${h.widget2Id}`,className:`absolute w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all transform -translate-x-1/2 -translate-y-1/2 hover:scale-125 ${h.isAttached?"bg-green-500 hover:bg-red-500 text-white":"bg-blue-500 hover:bg-green-500 text-white"}`,style:{left:`${h.x}px`,top:`${h.y}px`,zIndex:150},onClick:()=>N(h),onMouseDown:g=>g.stopPropagation(),onTouchStart:g=>g.stopPropagation(),title:h.isAttached?"Click to detach widgets":"Click to attach widgets",children:h.isAttached?"":""},`${h.widget1Id}-${h.widget2Id}-${d}`))})}function _g({widgets:e,scale:t}){const[n,r]=M.useState([]),[o,l]=M.useState(!1),s=e.map(i=>`${i.id}:${i.x}:${i.y}`).join("|");return M.useEffect(()=>{const i=()=>{const c=document.querySelector(".react-draggable-dragging");l(!!c)},u=new MutationObserver(i);return u.observe(document.body,{subtree:!0,attributes:!0,attributeFilter:["class"]}),()=>u.disconnect()},[]),M.useEffect(()=>{const i=setTimeout(()=>{const u=[];e.forEach(c=>{const f=document.querySelector(`[data-widget-id="${c.id}"]`);if(f){const v=f.getBoundingClientRect();u.push({id:c.id,x:c.x,y:c.y,width:v.width/t,height:v.height/t})}}),r(u)},50);return()=>clearTimeout(i)},[e,t,s]),o?null:a.jsx("div",{className:"pointer-events-none",children:n.map(i=>a.jsx("div",{className:"absolute shadow-theme rounded-theme",style:{left:`${i.x}px`,top:`${i.y}px`,width:`${i.width}px`,height:`${i.height}px`}},`shadow-${i.id}`))})}function Ig(){const e=F(S=>S.activeCharacterId),t=F(S=>S.characters),n=F(S=>S.addWidget),r=F(S=>S.mode),o=F(S=>S.setMode),l=F(S=>S.selectCharacter),s=F(S=>S.updateCharacterName),i=F(S=>S.editingWidgetId),u=F(S=>S.updateWidgetPosition),c=t.find(S=>S.id===e),[f,v]=M.useState(()=>window.innerWidth<768),[m,x]=M.useState(!0),[b,N]=M.useState(!1),[P,h]=M.useState(""),d=()=>{if(!c||c.widgets.length===0)return;const S=10,z=10,U=document.querySelectorAll(".react-draggable[data-widget-id]"),K=[];U.forEach($=>{const H=$.getAttribute("data-widget-id");if(H){const ee=$.getBoundingClientRect();K.push({id:H,w:Math.ceil(ee.width/p/S)*S,h:Math.ceil(ee.height/p/S)*S})}});const q=c.widgets.map($=>{const H=K.find(ee=>ee.id===$.id);return{id:$.id,groupId:$.groupId,x:$.x,y:$.y,w:H?H.w:$.w||200,h:H?H.h:$.h||120}}),ye=new Map,$e=[];for(const $ of q)if($.groupId){const H=ye.get($.groupId)||[];H.push($),ye.set($.groupId,H)}else $e.push($);const Fe=[];for(const[$,H]of ye){if(H.length===0)continue;const ee=Math.min(...H.map(Q=>Q.x)),ie=Math.min(...H.map(Q=>Q.y)),Z=Math.max(...H.map(Q=>Q.x+Q.w)),O=Math.max(...H.map(Q=>Q.y+Q.h));Fe.push({type:"group",id:$,widgets:H,boundingBox:{x:ee,y:ie,w:Z-ee,h:O-ie},originalOffset:{x:ee,y:ie}})}for(const $ of $e)Fe.push({type:"single",id:$.id,widgets:[$],boundingBox:{x:$.x,y:$.y,w:$.w,h:$.h},originalOffset:{x:$.x,y:$.y}});const xt=Fe.reduce(($,H)=>$+(H.boundingBox.w+z)*(H.boundingBox.h+z),0),yn=Math.max(800,Math.ceil(Math.sqrt(xt*1.5)/S)*S),wn=[...Fe].sort(($,H)=>{const ie=Math.floor($.boundingBox.y/50),Z=Math.floor(H.boundingBox.y/50);return ie!==Z?ie-Z:$.boundingBox.x-H.boundingBox.x});let rr=[{x:0,y:0,w:yn,h:1e5}];const bn=[],kl=($,H)=>{let ee=1/0,ie=0,Z=0,O=!1;for(const Q of rr)if($<=Q.w&&H<=Q.h){const nt=Q.w-$,_e=Q.h-H,cf=Math.min(nt,_e),Za=Q.y*1e4+cf;Za<ee&&(ee=Za,ie=Q.x,Z=Q.y,O=!0)}return O?{x:ie,y:Z}:null},Kr=($,H,ee,ie)=>{const Z=[];for(const O of rr){if($>=O.x+O.w||$+ee<=O.x||H>=O.y+O.h||H+ie<=O.y){Z.push(O);continue}$>O.x&&Z.push({x:O.x,y:O.y,w:$-O.x,h:O.h}),$+ee<O.x+O.w&&Z.push({x:$+ee,y:O.y,w:O.x+O.w-($+ee),h:O.h}),H>O.y&&Z.push({x:O.x,y:O.y,w:O.w,h:H-O.y}),H+ie<O.y+O.h&&Z.push({x:O.x,y:H+ie,w:O.w,h:O.y+O.h-(H+ie)})}rr=Z.filter((O,Q)=>{for(let nt=0;nt<Z.length;nt++){if(Q===nt)continue;const _e=Z[nt];if(O.x>=_e.x&&O.y>=_e.y&&O.x+O.w<=_e.x+_e.w&&O.y+O.h<=_e.y+_e.h)return!1}return!0})};for(const $ of wn){const H=$.boundingBox.w+z,ee=$.boundingBox.h+z,ie=kl(H,ee);if(ie){const Z=Math.round(ie.x/S)*S,O=Math.round(ie.y/S)*S;bn.push({item:$,x:Z,y:O}),Kr(Z,O,H,ee)}else{const Z=bn.reduce((O,Q)=>Math.max(O,Q.y+Q.item.boundingBox.h+z),0);bn.push({item:$,x:0,y:Z}),Kr(0,Z,H,ee)}}for(const $ of bn){const{item:H,x:ee,y:ie}=$,Z=ee-H.originalOffset.x,O=ie-H.originalOffset.y;for(const Q of H.widgets){const nt=Math.round((Q.x+Z)/S)*S,_e=Math.round((Q.y+O)/S)*S;u(Q.id,nt,_e)}}},[g,y]=M.useState({x:0,y:0}),[p,w]=M.useState(1),[k,j]=M.useState(!1),C=M.useRef({x:0,y:0}),T=M.useRef(null),Y=M.useRef(null),ge=()=>{if(!c||c.widgets.length===0){w(1),y({x:0,y:0});return}const S=document.querySelectorAll(".react-draggable[data-widget-id]"),z=[];if(S.forEach(O=>{const Q=O.getAttribute("data-widget-id"),nt=c.widgets.find(_e=>_e.id===Q);if(nt){const _e=O.getBoundingClientRect();z.push({x:nt.x,y:nt.y,w:_e.width/p,h:_e.height/p})}}),z.length===0){w(1),y({x:0,y:0});return}const U=Math.min(...z.map(O=>O.x)),K=Math.min(...z.map(O=>O.y)),q=Math.max(...z.map(O=>O.x+O.w)),ye=Math.max(...z.map(O=>O.y+O.h)),$e=q-U,Fe=ye-K,xt=window.innerWidth,yn=window.innerHeight,wn=60,rr=xt-wn*2,bn=yn-wn*2,kl=rr/$e,Kr=bn/Fe,$=Math.min(Math.max(Math.min(kl,Kr),.1),5),H=(U+q)/2,ee=(K+ye)/2,ie=xt/2-H*$,Z=yn/2-ee*$;w($),y({x:ie,y:Z})};M.useEffect(()=>{if(c){const S=c.theme||"default",z=Ya(S);z?Ys(z):qn(S)}return()=>{qn("default")}},[c==null?void 0:c.theme,c==null?void 0:c.id]);const de=S=>{i||S.target.closest(".react-draggable")||(r==="play"?S.button===0&&(S.preventDefault(),j(!0),C.current={x:S.clientX,y:S.clientY}):(S.button===0||S.button===1)&&(S.preventDefault(),j(!0),C.current={x:S.clientX,y:S.clientY}))},We=S=>{if(k){const z=S.clientX-C.current.x,U=S.clientY-C.current.y;y(K=>({x:K.x+z,y:K.y+U})),C.current={x:S.clientX,y:S.clientY}}},Xe=()=>{j(!1)},Ne=S=>{const z=S[0].clientX-S[1].clientX,U=S[0].clientY-S[1].clientY;return Math.sqrt(z*z+U*U)},D=S=>({x:(S[0].clientX+S[1].clientX)/2,y:(S[0].clientY+S[1].clientY)/2}),_=S=>{if(!i&&!S.target.closest(".react-draggable"))if(S.touches.length===1){const z=S.touches[0];j(!0),C.current={x:z.clientX,y:z.clientY},T.current=null,Y.current=null}else S.touches.length===2&&(S.preventDefault(),j(!1),T.current=Ne(S.touches),Y.current=D(S.touches))},W=S=>{if(S.touches.length===1&&k){const z=S.touches[0],U=z.clientX-C.current.x,K=z.clientY-C.current.y;y(q=>({x:q.x+U,y:q.y+K})),C.current={x:z.clientX,y:z.clientY}}else if(S.touches.length===2&&T.current!==null&&Y.current!==null){S.preventDefault();const z=Ne(S.touches),U=D(S.touches),K=z/T.current,q=Math.min(Math.max(p*K,.1),5),ye=(U.x-g.x)/p,$e=(U.y-g.y)/p,Fe=U.x-ye*q,xt=U.y-$e*q,yn=U.x-Y.current.x,wn=U.y-Y.current.y;w(q),y({x:Fe+yn,y:xt+wn}),T.current=z,Y.current=U}},A=S=>{if(S.touches.length===0)j(!1),T.current=null,Y.current=null;else if(S.touches.length===1){const z=S.touches[0];j(!0),C.current={x:z.clientX,y:z.clientY},T.current=null,Y.current=null}},R=S=>{if(i)return;const z=Math.exp(-S.deltaY*.001),U=Math.min(Math.max(p*z,.1),5),K=S.clientX,q=S.clientY,ye=(K-g.x)/p,$e=(q-g.y)/p,Fe=K-ye*U,xt=q-$e*U;w(U),y({x:Fe,y:xt})},V=S=>{S.preventDefault(),S.dataTransfer.dropEffect="copy"},Ye=S=>{S.preventDefault();const z=S.dataTransfer.getData("widgetType");if(z){const U=(S.clientX-g.x)/p,K=(S.clientY-g.y)/p,q=10,ye=xt=>Math.round(xt/q)*q,$e=ye(U),Fe=ye(K);n(z,$e,Fe)}};if(M.useEffect(()=>{const S=()=>j(!1),z=U=>{if(k){const K=U.clientX-C.current.x,q=U.clientY-C.current.y;y(ye=>({x:ye.x+K,y:ye.y+q})),C.current={x:U.clientX,y:U.clientY}}};return window.addEventListener("mouseup",S),window.addEventListener("mousemove",z),()=>{window.removeEventListener("mouseup",S),window.removeEventListener("mousemove",z)}},[k]),!c)return null;const I=typeof window<"u"&&window.innerWidth<768,ae=r==="edit"&&!f&&!I?"md:left-72":"";return a.jsxs("div",{className:"w-full h-screen overflow-hidden relative bg-theme-background touch-none",children:[r==="edit"&&a.jsx(bm,{collapsed:f,onToggle:()=>v(!f)}),r==="edit"&&a.jsx(Sm,{collapsed:m,onToggle:()=>x(!m)}),a.jsx("div",{className:`absolute inset-0 ${k?"cursor-grabbing":"cursor-default"}`,onMouseDown:de,onMouseMove:We,onMouseUp:Xe,onTouchStart:_,onTouchMove:W,onTouchEnd:A,onWheel:R,onDragOver:V,onDrop:Ye,children:a.jsxs("div",{className:"absolute top-0 left-0 w-full h-full origin-top-left",style:{transform:`translate(${g.x}px, ${g.y}px) scale(${p})`},children:[a.jsx("div",{className:"absolute -top-[50000px] -left-[50000px] w-[100000px] h-[100000px] pattern-grid opacity-20 pointer-events-none"}),a.jsx(_g,{widgets:c.widgets,scale:p}),c.widgets.map(S=>a.jsx(Tg,{widget:S,scale:p},S.id)),r==="edit"&&a.jsx(Pg,{widgets:c.widgets,scale:p})]})}),a.jsxs("div",{className:"absolute top-2 right-2 sm:top-4 sm:right-4 flex flex-col gap-2 pointer-events-auto z-30",children:[a.jsx("div",{className:`bg-theme-paper border-[length:var(--border-width)] border-theme-border p-1.5 sm:p-2 shadow-theme rounded-theme ${r==="edit"&&!b?"cursor-pointer hover:opacity-90":""}`,children:b?a.jsx("input",{type:"text",value:P,onChange:S=>h(S.target.value),onBlur:()=>{P.trim()&&s(c.id,P.trim()),N(!1)},onKeyDown:S=>{S.key==="Enter"?(P.trim()&&s(c.id,P.trim()),N(!1)):S.key==="Escape"&&N(!1)},autoFocus:!0,className:"font-bold text-sm sm:text-xl bg-transparent border-b-[length:var(--border-width)] border-theme-border outline-none w-full text-theme-ink font-heading"}):a.jsx("h1",{className:"font-bold text-sm sm:text-xl text-theme-ink font-heading",onClick:()=>{r==="edit"&&(h(c.name),N(!0))},children:c.name})}),a.jsxs("div",{className:"flex gap-1 justify-end",children:[a.jsx("button",{onClick:()=>w(S=>Math.min(5,S*1.3)),className:"w-8 h-8 sm:w-10 sm:h-10 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-base sm:text-xl shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none flex items-center justify-center rounded-theme text-theme-ink",children:"+"}),a.jsx("button",{onClick:()=>w(S=>Math.max(.1,S/1.3)),className:"w-8 h-8 sm:w-10 sm:h-10 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-base sm:text-xl shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none flex items-center justify-center rounded-theme text-theme-ink",children:""}),a.jsx("button",{onClick:ge,className:"px-2 h-8 sm:h-10 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none flex items-center justify-center rounded-theme text-theme-ink",children:"Fit"})]})]}),a.jsxs("div",{className:`absolute top-2 left-2 sm:top-4 sm:left-4 ${ae} pointer-events-auto transition-all duration-300 flex flex-col gap-1.5 sm:gap-2 z-30`,children:[a.jsxs("button",{onClick:()=>l(null),className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs sm:text-base shadow-theme hover:bg-red-500 hover:text-white hover:border-red-700 transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme text-theme-ink",children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:" Exit to Menu"})]}),a.jsx("button",{onClick:()=>o(r==="play"?"edit":"play"),className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs sm:text-base shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme text-theme-ink",children:r==="play"?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:" Edit Mode"})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:" Play Mode"})]})}),r==="edit"&&a.jsx("button",{onClick:()=>v(!f),className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs sm:text-base shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme text-theme-ink",children:f?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:" Show Toolbox"})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:" Hide Toolbox"})]})}),r==="edit"&&a.jsx("button",{onClick:()=>x(!m),className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs sm:text-base shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme text-theme-ink",children:m?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:" Change Theme"})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:" Hide Themes"})]})}),r==="edit"&&a.jsxs("button",{onClick:d,className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs sm:text-base shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme text-theme-ink",children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:" Auto Stack"})]})]})]})}function Mg(){const e=F(t=>t.activeCharacterId);return a.jsx("div",{className:"h-full bg-gray-100 text-ink font-mono overflow-hidden",children:e?a.jsx(Ig,{}):a.jsx(ym,{})})}qn("default");es.createRoot(document.getElementById("root")).render(a.jsx(Eu.StrictMode,{children:a.jsx(Mg,{})}));
