(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function la(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Iu={exports:{}},cl={},_u={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qr=Symbol.for("react.element"),Ef=Symbol.for("react.portal"),Tf=Symbol.for("react.fragment"),Pf=Symbol.for("react.strict_mode"),If=Symbol.for("react.profiler"),_f=Symbol.for("react.provider"),Mf=Symbol.for("react.context"),Df=Symbol.for("react.forward_ref"),Lf=Symbol.for("react.suspense"),Rf=Symbol.for("react.memo"),Of=Symbol.for("react.lazy"),di=Symbol.iterator;function zf(e){return e===null||typeof e!="object"?null:(e=di&&e[di]||e["@@iterator"],typeof e=="function"?e:null)}var Mu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Du=Object.assign,Lu={};function ir(e,t,n){this.props=e,this.context=t,this.refs=Lu,this.updater=n||Mu}ir.prototype.isReactComponent={};ir.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ir.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ru(){}Ru.prototype=ir.prototype;function sa(e,t,n){this.props=e,this.context=t,this.refs=Lu,this.updater=n||Mu}var aa=sa.prototype=new Ru;aa.constructor=sa;Du(aa,ir.prototype);aa.isPureReactComponent=!0;var fi=Array.isArray,Ou=Object.prototype.hasOwnProperty,ia={current:null},zu={key:!0,ref:!0,__self:!0,__source:!0};function Wu(e,t,n){var r,o={},l=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(l=""+t.key),t)Ou.call(t,r)&&!zu.hasOwnProperty(r)&&(o[r]=t[r]);var i=arguments.length-2;if(i===1)o.children=n;else if(1<i){for(var u=Array(i),c=0;c<i;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)o[r]===void 0&&(o[r]=i[r]);return{$$typeof:qr,type:e,key:l,ref:s,props:o,_owner:ia.current}}function Wf(e,t){return{$$typeof:qr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ua(e){return typeof e=="object"&&e!==null&&e.$$typeof===qr}function $f(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var hi=/\/+/g;function Dl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$f(""+e.key):t.toString(36)}function To(e,t,n,r,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case qr:case Ef:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Dl(s,0):r,fi(o)?(n="",e!=null&&(n=e.replace(hi,"$&/")+"/"),To(o,t,n,"",function(c){return c})):o!=null&&(ua(o)&&(o=Wf(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(hi,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",fi(e))for(var i=0;i<e.length;i++){l=e[i];var u=r+Dl(l,i);s+=To(l,t,n,u,o)}else if(u=zf(e),typeof u=="function")for(e=u.call(e),i=0;!(l=e.next()).done;)l=l.value,u=r+Dl(l,i++),s+=To(l,t,n,u,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function so(e,t,n){if(e==null)return e;var r=[],o=0;return To(e,r,"","",function(l){return t.call(n,l,o++)}),r}function Ff(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fe={current:null},Po={transition:null},Af={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:Po,ReactCurrentOwner:ia};function $u(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:so,forEach:function(e,t,n){so(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return so(e,function(){t++}),t},toArray:function(e){return so(e,function(t){return t})||[]},only:function(e){if(!ua(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=ir;B.Fragment=Tf;B.Profiler=If;B.PureComponent=sa;B.StrictMode=Pf;B.Suspense=Lf;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Af;B.act=$u;B.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Du({},e.props),o=e.key,l=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,s=ia.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(u in t)Ou.call(t,u)&&!zu.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&i!==void 0?i[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){i=Array(u);for(var c=0;c<u;c++)i[c]=arguments[c+2];r.children=i}return{$$typeof:qr,type:e.type,key:o,ref:l,props:r,_owner:s}};B.createContext=function(e){return e={$$typeof:Mf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_f,_context:e},e.Consumer=e};B.createElement=Wu;B.createFactory=function(e){var t=Wu.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:Df,render:e}};B.isValidElement=ua;B.lazy=function(e){return{$$typeof:Of,_payload:{_status:-1,_result:e},_init:Ff}};B.memo=function(e,t){return{$$typeof:Rf,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=Po.transition;Po.transition={};try{e()}finally{Po.transition=t}};B.unstable_act=$u;B.useCallback=function(e,t){return Fe.current.useCallback(e,t)};B.useContext=function(e){return Fe.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Fe.current.useDeferredValue(e)};B.useEffect=function(e,t){return Fe.current.useEffect(e,t)};B.useId=function(){return Fe.current.useId()};B.useImperativeHandle=function(e,t,n){return Fe.current.useImperativeHandle(e,t,n)};B.useInsertionEffect=function(e,t){return Fe.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Fe.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Fe.current.useMemo(e,t)};B.useReducer=function(e,t,n){return Fe.current.useReducer(e,t,n)};B.useRef=function(e){return Fe.current.useRef(e)};B.useState=function(e){return Fe.current.useState(e)};B.useSyncExternalStore=function(e,t,n){return Fe.current.useSyncExternalStore(e,t,n)};B.useTransition=function(){return Fe.current.useTransition()};B.version="18.3.1";_u.exports=B;var _=_u.exports;const Fu=la(_);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hf=_,Uf=Symbol.for("react.element"),Bf=Symbol.for("react.fragment"),Vf=Object.prototype.hasOwnProperty,Xf=Hf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yf={key:!0,ref:!0,__self:!0,__source:!0};function Au(e,t,n){var r,o={},l=null,s=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Vf.call(t,r)&&!Yf.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Uf,type:e,key:l,ref:s,props:o,_owner:Xf.current}}cl.Fragment=Bf;cl.jsx=Au;cl.jsxs=Au;Iu.exports=cl;var a=Iu.exports,cs={},Hu={exports:{}},tt={},Uu={exports:{}},Bu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,O){var A=C.length;C.push(O);e:for(;0<A;){var L=A-1>>>1,H=C[L];if(0<o(H,O))C[L]=O,C[A]=H,A=L;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var O=C[0],A=C.pop();if(A!==O){C[0]=A;e:for(var L=0,H=C.length,re=H>>>1;L<re;){var we=2*(L+1)-1,D=C[we],K=we+1,be=C[K];if(0>o(D,A))K<H&&0>o(be,D)?(C[L]=be,C[K]=A,L=K):(C[L]=D,C[we]=A,L=we);else if(K<H&&0>o(be,A))C[L]=be,C[K]=A,L=K;else break e}}return O}function o(C,O){var A=C.sortIndex-O.sortIndex;return A!==0?A:C.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var s=Date,i=s.now();e.unstable_now=function(){return s.now()-i}}var u=[],c=[],f=1,v=null,x=3,p=!1,b=!1,k=!1,T=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(C){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=C)r(c),O.sortIndex=O.expirationTime,t(u,O);else break;O=n(c)}}function w(C){if(k=!1,g(C),!b)if(n(u)!==null)b=!0,ue(m);else{var O=n(c);O!==null&&M(w,O.startTime-C)}}function m(C,O){b=!1,k&&(k=!1,h(j),j=-1),p=!0;var A=x;try{for(g(O),v=n(u);v!==null&&(!(v.expirationTime>O)||C&&!G());){var L=v.callback;if(typeof L=="function"){v.callback=null,x=v.priorityLevel;var H=L(v.expirationTime<=O);O=e.unstable_now(),typeof H=="function"?v.callback=H:v===n(u)&&r(u),g(O)}else r(u);v=n(u)}if(v!==null)var re=!0;else{var we=n(c);we!==null&&M(w,we.startTime-O),re=!1}return re}finally{v=null,x=A,p=!1}}var y=!1,S=null,j=-1,P=5,I=-1;function G(){return!(e.unstable_now()-I<P)}function ae(){if(S!==null){var C=e.unstable_now();I=C;var O=!0;try{O=S(!0,C)}finally{O?me():(y=!1,S=null)}}else y=!1}var me;if(typeof d=="function")me=function(){d(ae)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,dt=ie.port2;ie.port1.onmessage=ae,me=function(){dt.postMessage(null)}}else me=function(){T(ae,0)};function ue(C){S=C,y||(y=!0,me())}function M(C,O){j=T(function(){C(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,ue(m))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(C){switch(x){case 1:case 2:case 3:var O=3;break;default:O=x}var A=x;x=O;try{return C()}finally{x=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,O){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var A=x;x=C;try{return O()}finally{x=A}},e.unstable_scheduleCallback=function(C,O,A){var L=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?L+A:L):A=L,C){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=A+H,C={id:f++,callback:O,priorityLevel:C,startTime:A,expirationTime:H,sortIndex:-1},A>L?(C.sortIndex=A,t(c,C),n(u)===null&&C===n(c)&&(k?(h(j),j=-1):k=!0,M(w,A-L))):(C.sortIndex=H,t(u,C),b||p||(b=!0,ue(m))),C},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(C){var O=x;return function(){var A=x;x=O;try{return C.apply(this,arguments)}finally{x=A}}}})(Bu);Uu.exports=Bu;var Gf=Uu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qf=_,et=Gf;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vu=new Set,Or={};function Nn(e,t){Jn(e,t),Jn(e+"Capture",t)}function Jn(e,t){for(Or[e]=t,e=0;e<t.length;e++)Vu.add(t[e])}var Ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ds=Object.prototype.hasOwnProperty,Kf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pi={},mi={};function Zf(e){return ds.call(mi,e)?!0:ds.call(pi,e)?!1:Kf.test(e)?mi[e]=!0:(pi[e]=!0,!1)}function Jf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qf(e,t,n,r){if(t===null||typeof t>"u"||Jf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ae(e,t,n,r,o,l,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=s}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ee[e]=new Ae(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ee[t]=new Ae(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ee[e]=new Ae(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ee[e]=new Ae(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ee[e]=new Ae(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ee[e]=new Ae(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ee[e]=new Ae(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ee[e]=new Ae(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ee[e]=new Ae(e,5,!1,e.toLowerCase(),null,!1,!1)});var ca=/[\-:]([a-z])/g;function da(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ca,da);Ee[t]=new Ae(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ca,da);Ee[t]=new Ae(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ca,da);Ee[t]=new Ae(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ee[e]=new Ae(e,1,!1,e.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ee[e]=new Ae(e,1,!1,e.toLowerCase(),null,!0,!0)});function fa(e,t,n,r){var o=Ee.hasOwnProperty(t)?Ee[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qf(t,n,o,r)&&(n=null),r||o===null?Zf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ft=Qf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ao=Symbol.for("react.element"),Mn=Symbol.for("react.portal"),Dn=Symbol.for("react.fragment"),ha=Symbol.for("react.strict_mode"),fs=Symbol.for("react.profiler"),Xu=Symbol.for("react.provider"),Yu=Symbol.for("react.context"),pa=Symbol.for("react.forward_ref"),hs=Symbol.for("react.suspense"),ps=Symbol.for("react.suspense_list"),ma=Symbol.for("react.memo"),Bt=Symbol.for("react.lazy"),Gu=Symbol.for("react.offscreen"),gi=Symbol.iterator;function hr(e){return e===null||typeof e!="object"?null:(e=gi&&e[gi]||e["@@iterator"],typeof e=="function"?e:null)}var se=Object.assign,Ll;function kr(e){if(Ll===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ll=t&&t[1]||""}return`
`+Ll+e}var Rl=!1;function Ol(e,t){if(!e||Rl)return"";Rl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),l=r.stack.split(`
`),s=o.length-1,i=l.length-1;1<=s&&0<=i&&o[s]!==l[i];)i--;for(;1<=s&&0<=i;s--,i--)if(o[s]!==l[i]){if(s!==1||i!==1)do if(s--,i--,0>i||o[s]!==l[i]){var u=`
`+o[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=i);break}}}finally{Rl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?kr(e):""}function eh(e){switch(e.tag){case 5:return kr(e.type);case 16:return kr("Lazy");case 13:return kr("Suspense");case 19:return kr("SuspenseList");case 0:case 2:case 15:return e=Ol(e.type,!1),e;case 11:return e=Ol(e.type.render,!1),e;case 1:return e=Ol(e.type,!0),e;default:return""}}function ms(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dn:return"Fragment";case Mn:return"Portal";case fs:return"Profiler";case ha:return"StrictMode";case hs:return"Suspense";case ps:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yu:return(e.displayName||"Context")+".Consumer";case Xu:return(e._context.displayName||"Context")+".Provider";case pa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ma:return t=e.displayName||null,t!==null?t:ms(e.type)||"Memo";case Bt:t=e._payload,e=e._init;try{return ms(e(t))}catch{}}return null}function th(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ms(t);case 8:return t===ha?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ln(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nh(e){var t=Qu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,l.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function io(e){e._valueTracker||(e._valueTracker=nh(e))}function Ku(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Qu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Fo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gs(e,t){var n=t.checked;return se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function xi(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ln(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zu(e,t){t=t.checked,t!=null&&fa(e,"checked",t,!1)}function xs(e,t){Zu(e,t);var n=ln(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vs(e,t.type,n):t.hasOwnProperty("defaultValue")&&vs(e,t.type,ln(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vi(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function vs(e,t,n){(t!=="number"||Fo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Nr=Array.isArray;function Xn(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ln(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ys(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yi(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(E(92));if(Nr(n)){if(1<n.length)throw Error(E(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ln(n)}}function Ju(e,t){var n=ln(t.value),r=ln(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function wi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ws(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var uo,ec=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(uo=uo||document.createElement("div"),uo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=uo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Er={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rh=["Webkit","ms","Moz","O"];Object.keys(Er).forEach(function(e){rh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Er[t]=Er[e]})});function tc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Er.hasOwnProperty(e)&&Er[e]?(""+t).trim():t+"px"}function nc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=tc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var oh=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bs(e,t){if(t){if(oh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function Ss(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ks=null;function ga(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ns=null,Yn=null,Gn=null;function bi(e){if(e=no(e)){if(typeof Ns!="function")throw Error(E(280));var t=e.stateNode;t&&(t=ml(t),Ns(e.stateNode,e.type,t))}}function rc(e){Yn?Gn?Gn.push(e):Gn=[e]:Yn=e}function oc(){if(Yn){var e=Yn,t=Gn;if(Gn=Yn=null,bi(e),t)for(e=0;e<t.length;e++)bi(t[e])}}function lc(e,t){return e(t)}function sc(){}var zl=!1;function ac(e,t,n){if(zl)return e(t,n);zl=!0;try{return lc(e,t,n)}finally{zl=!1,(Yn!==null||Gn!==null)&&(sc(),oc())}}function Wr(e,t){var n=e.stateNode;if(n===null)return null;var r=ml(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(E(231,t,typeof n));return n}var js=!1;if(Ot)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){js=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{js=!1}function lh(e,t,n,r,o,l,s,i,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var Tr=!1,Ao=null,Ho=!1,Cs=null,sh={onError:function(e){Tr=!0,Ao=e}};function ah(e,t,n,r,o,l,s,i,u){Tr=!1,Ao=null,lh.apply(sh,arguments)}function ih(e,t,n,r,o,l,s,i,u){if(ah.apply(this,arguments),Tr){if(Tr){var c=Ao;Tr=!1,Ao=null}else throw Error(E(198));Ho||(Ho=!0,Cs=c)}}function jn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ic(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Si(e){if(jn(e)!==e)throw Error(E(188))}function uh(e){var t=e.alternate;if(!t){if(t=jn(e),t===null)throw Error(E(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return Si(o),e;if(l===r)return Si(o),t;l=l.sibling}throw Error(E(188))}if(n.return!==r.return)n=o,r=l;else{for(var s=!1,i=o.child;i;){if(i===n){s=!0,n=o,r=l;break}if(i===r){s=!0,r=o,n=l;break}i=i.sibling}if(!s){for(i=l.child;i;){if(i===n){s=!0,n=l,r=o;break}if(i===r){s=!0,r=l,n=o;break}i=i.sibling}if(!s)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?e:t}function uc(e){return e=uh(e),e!==null?cc(e):null}function cc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cc(e);if(t!==null)return t;e=e.sibling}return null}var dc=et.unstable_scheduleCallback,ki=et.unstable_cancelCallback,ch=et.unstable_shouldYield,dh=et.unstable_requestPaint,he=et.unstable_now,fh=et.unstable_getCurrentPriorityLevel,xa=et.unstable_ImmediatePriority,fc=et.unstable_UserBlockingPriority,Uo=et.unstable_NormalPriority,hh=et.unstable_LowPriority,hc=et.unstable_IdlePriority,dl=null,Et=null;function ph(e){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(dl,e,void 0,(e.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:xh,mh=Math.log,gh=Math.LN2;function xh(e){return e>>>=0,e===0?32:31-(mh(e)/gh|0)|0}var co=64,fo=4194304;function jr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,l=e.pingedLanes,s=n&268435455;if(s!==0){var i=s&~o;i!==0?r=jr(i):(l&=s,l!==0&&(r=jr(l)))}else s=n&~o,s!==0?r=jr(s):l!==0&&(r=jr(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-vt(t),o=1<<n,r|=e[n],t&=~o;return r}function vh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var s=31-vt(l),i=1<<s,u=o[s];u===-1?(!(i&n)||i&r)&&(o[s]=vh(i,t)):u<=t&&(e.expiredLanes|=i),l&=~i}}function Es(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pc(){var e=co;return co<<=1,!(co&4194240)&&(co=64),e}function Wl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function eo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vt(t),e[t]=n}function wh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-vt(n),l=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~l}}function va(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-vt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Y=0;function mc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gc,ya,xc,vc,yc,Ts=!1,ho=[],Zt=null,Jt=null,qt=null,$r=new Map,Fr=new Map,Yt=[],bh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ni(e,t){switch(e){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":Jt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":$r.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fr.delete(t.pointerId)}}function mr(e,t,n,r,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[o]},t!==null&&(t=no(t),t!==null&&ya(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Sh(e,t,n,r,o){switch(t){case"focusin":return Zt=mr(Zt,e,t,n,r,o),!0;case"dragenter":return Jt=mr(Jt,e,t,n,r,o),!0;case"mouseover":return qt=mr(qt,e,t,n,r,o),!0;case"pointerover":var l=o.pointerId;return $r.set(l,mr($r.get(l)||null,e,t,n,r,o)),!0;case"gotpointercapture":return l=o.pointerId,Fr.set(l,mr(Fr.get(l)||null,e,t,n,r,o)),!0}return!1}function wc(e){var t=pn(e.target);if(t!==null){var n=jn(t);if(n!==null){if(t=n.tag,t===13){if(t=ic(n),t!==null){e.blockedOn=t,yc(e.priority,function(){xc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Io(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ps(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ks=r,n.target.dispatchEvent(r),ks=null}else return t=no(n),t!==null&&ya(t),e.blockedOn=n,!1;t.shift()}return!0}function ji(e,t,n){Io(e)&&n.delete(t)}function kh(){Ts=!1,Zt!==null&&Io(Zt)&&(Zt=null),Jt!==null&&Io(Jt)&&(Jt=null),qt!==null&&Io(qt)&&(qt=null),$r.forEach(ji),Fr.forEach(ji)}function gr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ts||(Ts=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,kh)))}function Ar(e){function t(o){return gr(o,e)}if(0<ho.length){gr(ho[0],e);for(var n=1;n<ho.length;n++){var r=ho[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Zt!==null&&gr(Zt,e),Jt!==null&&gr(Jt,e),qt!==null&&gr(qt,e),$r.forEach(t),Fr.forEach(t),n=0;n<Yt.length;n++)r=Yt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Yt.length&&(n=Yt[0],n.blockedOn===null);)wc(n),n.blockedOn===null&&Yt.shift()}var Qn=Ft.ReactCurrentBatchConfig,Vo=!0;function Nh(e,t,n,r){var o=Y,l=Qn.transition;Qn.transition=null;try{Y=1,wa(e,t,n,r)}finally{Y=o,Qn.transition=l}}function jh(e,t,n,r){var o=Y,l=Qn.transition;Qn.transition=null;try{Y=4,wa(e,t,n,r)}finally{Y=o,Qn.transition=l}}function wa(e,t,n,r){if(Vo){var o=Ps(e,t,n,r);if(o===null)Gl(e,t,r,Xo,n),Ni(e,r);else if(Sh(o,e,t,n,r))r.stopPropagation();else if(Ni(e,r),t&4&&-1<bh.indexOf(e)){for(;o!==null;){var l=no(o);if(l!==null&&gc(l),l=Ps(e,t,n,r),l===null&&Gl(e,t,r,Xo,n),l===o)break;o=l}o!==null&&r.stopPropagation()}else Gl(e,t,r,null,n)}}var Xo=null;function Ps(e,t,n,r){if(Xo=null,e=ga(r),e=pn(e),e!==null)if(t=jn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ic(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xo=e,null}function bc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fh()){case xa:return 1;case fc:return 4;case Uo:case hh:return 16;case hc:return 536870912;default:return 16}default:return 16}}var Qt=null,ba=null,_o=null;function Sc(){if(_o)return _o;var e,t=ba,n=t.length,r,o="value"in Qt?Qt.value:Qt.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[l-r];r++);return _o=o.slice(e,1<r?1-r:void 0)}function Mo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function po(){return!0}function Ci(){return!1}function nt(e){function t(n,r,o,l,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=l,this.target=s,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(l):l[i]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?po:Ci,this.isPropagationStopped=Ci,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=po)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=po)},persist:function(){},isPersistent:po}),t}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=nt(ur),to=se({},ur,{view:0,detail:0}),Ch=nt(to),$l,Fl,xr,fl=se({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xr&&(xr&&e.type==="mousemove"?($l=e.screenX-xr.screenX,Fl=e.screenY-xr.screenY):Fl=$l=0,xr=e),$l)},movementY:function(e){return"movementY"in e?e.movementY:Fl}}),Ei=nt(fl),Eh=se({},fl,{dataTransfer:0}),Th=nt(Eh),Ph=se({},to,{relatedTarget:0}),Al=nt(Ph),Ih=se({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),_h=nt(Ih),Mh=se({},ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dh=nt(Mh),Lh=se({},ur,{data:0}),Ti=nt(Lh),Rh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zh[e])?!!t[e]:!1}function ka(){return Wh}var $h=se({},to,{key:function(e){if(e.key){var t=Rh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Oh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(e){return e.type==="keypress"?Mo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fh=nt($h),Ah=se({},fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pi=nt(Ah),Hh=se({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka}),Uh=nt(Hh),Bh=se({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vh=nt(Bh),Xh=se({},fl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yh=nt(Xh),Gh=[9,13,27,32],Na=Ot&&"CompositionEvent"in window,Pr=null;Ot&&"documentMode"in document&&(Pr=document.documentMode);var Qh=Ot&&"TextEvent"in window&&!Pr,kc=Ot&&(!Na||Pr&&8<Pr&&11>=Pr),Ii=" ",_i=!1;function Nc(e,t){switch(e){case"keyup":return Gh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ln=!1;function Kh(e,t){switch(e){case"compositionend":return jc(t);case"keypress":return t.which!==32?null:(_i=!0,Ii);case"textInput":return e=t.data,e===Ii&&_i?null:e;default:return null}}function Zh(e,t){if(Ln)return e==="compositionend"||!Na&&Nc(e,t)?(e=Sc(),_o=ba=Qt=null,Ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kc&&t.locale!=="ko"?null:t.data;default:return null}}var Jh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jh[e.type]:t==="textarea"}function Cc(e,t,n,r){rc(r),t=Yo(t,"onChange"),0<t.length&&(n=new Sa("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ir=null,Hr=null;function qh(e){zc(e,0)}function hl(e){var t=zn(e);if(Ku(t))return e}function ep(e,t){if(e==="change")return t}var Ec=!1;if(Ot){var Hl;if(Ot){var Ul="oninput"in document;if(!Ul){var Di=document.createElement("div");Di.setAttribute("oninput","return;"),Ul=typeof Di.oninput=="function"}Hl=Ul}else Hl=!1;Ec=Hl&&(!document.documentMode||9<document.documentMode)}function Li(){Ir&&(Ir.detachEvent("onpropertychange",Tc),Hr=Ir=null)}function Tc(e){if(e.propertyName==="value"&&hl(Hr)){var t=[];Cc(t,Hr,e,ga(e)),ac(qh,t)}}function tp(e,t,n){e==="focusin"?(Li(),Ir=t,Hr=n,Ir.attachEvent("onpropertychange",Tc)):e==="focusout"&&Li()}function np(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hl(Hr)}function rp(e,t){if(e==="click")return hl(t)}function op(e,t){if(e==="input"||e==="change")return hl(t)}function lp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wt=typeof Object.is=="function"?Object.is:lp;function Ur(e,t){if(wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ds.call(t,o)||!wt(e[o],t[o]))return!1}return!0}function Ri(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Oi(e,t){var n=Ri(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ri(n)}}function Pc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ic(){for(var e=window,t=Fo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Fo(e.document)}return t}function ja(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sp(e){var t=Ic(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Pc(n.ownerDocument.documentElement,n)){if(r!==null&&ja(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(r.start,o);r=r.end===void 0?l:Math.min(r.end,o),!e.extend&&l>r&&(o=r,r=l,l=o),o=Oi(n,l);var s=Oi(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ap=Ot&&"documentMode"in document&&11>=document.documentMode,Rn=null,Is=null,_r=null,_s=!1;function zi(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_s||Rn==null||Rn!==Fo(r)||(r=Rn,"selectionStart"in r&&ja(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_r&&Ur(_r,r)||(_r=r,r=Yo(Is,"onSelect"),0<r.length&&(t=new Sa("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Rn)))}function mo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var On={animationend:mo("Animation","AnimationEnd"),animationiteration:mo("Animation","AnimationIteration"),animationstart:mo("Animation","AnimationStart"),transitionend:mo("Transition","TransitionEnd")},Bl={},_c={};Ot&&(_c=document.createElement("div").style,"AnimationEvent"in window||(delete On.animationend.animation,delete On.animationiteration.animation,delete On.animationstart.animation),"TransitionEvent"in window||delete On.transitionend.transition);function pl(e){if(Bl[e])return Bl[e];if(!On[e])return e;var t=On[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in _c)return Bl[e]=t[n];return e}var Mc=pl("animationend"),Dc=pl("animationiteration"),Lc=pl("animationstart"),Rc=pl("transitionend"),Oc=new Map,Wi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function an(e,t){Oc.set(e,t),Nn(t,[e])}for(var Vl=0;Vl<Wi.length;Vl++){var Xl=Wi[Vl],ip=Xl.toLowerCase(),up=Xl[0].toUpperCase()+Xl.slice(1);an(ip,"on"+up)}an(Mc,"onAnimationEnd");an(Dc,"onAnimationIteration");an(Lc,"onAnimationStart");an("dblclick","onDoubleClick");an("focusin","onFocus");an("focusout","onBlur");an(Rc,"onTransitionEnd");Jn("onMouseEnter",["mouseout","mouseover"]);Jn("onMouseLeave",["mouseout","mouseover"]);Jn("onPointerEnter",["pointerout","pointerover"]);Jn("onPointerLeave",["pointerout","pointerover"]);Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cr));function $i(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ih(r,t,void 0,e),e.currentTarget=null}function zc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],u=i.instance,c=i.currentTarget;if(i=i.listener,u!==l&&o.isPropagationStopped())break e;$i(o,i,c),l=u}else for(s=0;s<r.length;s++){if(i=r[s],u=i.instance,c=i.currentTarget,i=i.listener,u!==l&&o.isPropagationStopped())break e;$i(o,i,c),l=u}}}if(Ho)throw e=Cs,Ho=!1,Cs=null,e}function ee(e,t){var n=t[Os];n===void 0&&(n=t[Os]=new Set);var r=e+"__bubble";n.has(r)||(Wc(t,e,2,!1),n.add(r))}function Yl(e,t,n){var r=0;t&&(r|=4),Wc(n,e,r,t)}var go="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[go]){e[go]=!0,Vu.forEach(function(n){n!=="selectionchange"&&(cp.has(n)||Yl(n,!1,e),Yl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[go]||(t[go]=!0,Yl("selectionchange",!1,t))}}function Wc(e,t,n,r){switch(bc(t)){case 1:var o=Nh;break;case 4:o=jh;break;default:o=wa}n=o.bind(null,t,n,e),o=void 0,!js||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Gl(e,t,n,r,o){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var i=r.stateNode.containerInfo;if(i===o||i.nodeType===8&&i.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===o||u.nodeType===8&&u.parentNode===o))return;s=s.return}for(;i!==null;){if(s=pn(i),s===null)return;if(u=s.tag,u===5||u===6){r=l=s;continue e}i=i.parentNode}}r=r.return}ac(function(){var c=l,f=ga(n),v=[];e:{var x=Oc.get(e);if(x!==void 0){var p=Sa,b=e;switch(e){case"keypress":if(Mo(n)===0)break e;case"keydown":case"keyup":p=Fh;break;case"focusin":b="focus",p=Al;break;case"focusout":b="blur",p=Al;break;case"beforeblur":case"afterblur":p=Al;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ei;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Th;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Uh;break;case Mc:case Dc:case Lc:p=_h;break;case Rc:p=Vh;break;case"scroll":p=Ch;break;case"wheel":p=Yh;break;case"copy":case"cut":case"paste":p=Dh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Pi}var k=(t&4)!==0,T=!k&&e==="scroll",h=k?x!==null?x+"Capture":null:x;k=[];for(var d=c,g;d!==null;){g=d;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,h!==null&&(w=Wr(d,h),w!=null&&k.push(Vr(d,w,g)))),T)break;d=d.return}0<k.length&&(x=new p(x,b,null,n,f),v.push({event:x,listeners:k}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",x&&n!==ks&&(b=n.relatedTarget||n.fromElement)&&(pn(b)||b[zt]))break e;if((p||x)&&(x=f.window===f?f:(x=f.ownerDocument)?x.defaultView||x.parentWindow:window,p?(b=n.relatedTarget||n.toElement,p=c,b=b?pn(b):null,b!==null&&(T=jn(b),b!==T||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=c),p!==b)){if(k=Ei,w="onMouseLeave",h="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(k=Pi,w="onPointerLeave",h="onPointerEnter",d="pointer"),T=p==null?x:zn(p),g=b==null?x:zn(b),x=new k(w,d+"leave",p,n,f),x.target=T,x.relatedTarget=g,w=null,pn(f)===c&&(k=new k(h,d+"enter",b,n,f),k.target=g,k.relatedTarget=T,w=k),T=w,p&&b)t:{for(k=p,h=b,d=0,g=k;g;g=In(g))d++;for(g=0,w=h;w;w=In(w))g++;for(;0<d-g;)k=In(k),d--;for(;0<g-d;)h=In(h),g--;for(;d--;){if(k===h||h!==null&&k===h.alternate)break t;k=In(k),h=In(h)}k=null}else k=null;p!==null&&Fi(v,x,p,k,!1),b!==null&&T!==null&&Fi(v,T,b,k,!0)}}e:{if(x=c?zn(c):window,p=x.nodeName&&x.nodeName.toLowerCase(),p==="select"||p==="input"&&x.type==="file")var m=ep;else if(Mi(x))if(Ec)m=op;else{m=np;var y=tp}else(p=x.nodeName)&&p.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(m=rp);if(m&&(m=m(e,c))){Cc(v,m,n,f);break e}y&&y(e,x,c),e==="focusout"&&(y=x._wrapperState)&&y.controlled&&x.type==="number"&&vs(x,"number",x.value)}switch(y=c?zn(c):window,e){case"focusin":(Mi(y)||y.contentEditable==="true")&&(Rn=y,Is=c,_r=null);break;case"focusout":_r=Is=Rn=null;break;case"mousedown":_s=!0;break;case"contextmenu":case"mouseup":case"dragend":_s=!1,zi(v,n,f);break;case"selectionchange":if(ap)break;case"keydown":case"keyup":zi(v,n,f)}var S;if(Na)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Ln?Nc(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(kc&&n.locale!=="ko"&&(Ln||j!=="onCompositionStart"?j==="onCompositionEnd"&&Ln&&(S=Sc()):(Qt=f,ba="value"in Qt?Qt.value:Qt.textContent,Ln=!0)),y=Yo(c,j),0<y.length&&(j=new Ti(j,e,null,n,f),v.push({event:j,listeners:y}),S?j.data=S:(S=jc(n),S!==null&&(j.data=S)))),(S=Qh?Kh(e,n):Zh(e,n))&&(c=Yo(c,"onBeforeInput"),0<c.length&&(f=new Ti("onBeforeInput","beforeinput",null,n,f),v.push({event:f,listeners:c}),f.data=S))}zc(v,t)})}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yo(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=Wr(e,n),l!=null&&r.unshift(Vr(e,l,o)),l=Wr(e,t),l!=null&&r.push(Vr(e,l,o))),e=e.return}return r}function In(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Fi(e,t,n,r,o){for(var l=t._reactName,s=[];n!==null&&n!==r;){var i=n,u=i.alternate,c=i.stateNode;if(u!==null&&u===r)break;i.tag===5&&c!==null&&(i=c,o?(u=Wr(n,l),u!=null&&s.unshift(Vr(n,u,i))):o||(u=Wr(n,l),u!=null&&s.push(Vr(n,u,i)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var dp=/\r\n?/g,fp=/\u0000|\uFFFD/g;function Ai(e){return(typeof e=="string"?e:""+e).replace(dp,`
`).replace(fp,"")}function xo(e,t,n){if(t=Ai(t),Ai(e)!==t&&n)throw Error(E(425))}function Go(){}var Ms=null,Ds=null;function Ls(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rs=typeof setTimeout=="function"?setTimeout:void 0,hp=typeof clearTimeout=="function"?clearTimeout:void 0,Hi=typeof Promise=="function"?Promise:void 0,pp=typeof queueMicrotask=="function"?queueMicrotask:typeof Hi<"u"?function(e){return Hi.resolve(null).then(e).catch(mp)}:Rs;function mp(e){setTimeout(function(){throw e})}function Ql(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Ar(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Ar(t)}function en(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ui(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var cr=Math.random().toString(36).slice(2),Ct="__reactFiber$"+cr,Xr="__reactProps$"+cr,zt="__reactContainer$"+cr,Os="__reactEvents$"+cr,gp="__reactListeners$"+cr,xp="__reactHandles$"+cr;function pn(e){var t=e[Ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zt]||n[Ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ui(e);e!==null;){if(n=e[Ct])return n;e=Ui(e)}return t}e=n,n=e.parentNode}return null}function no(e){return e=e[Ct]||e[zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function ml(e){return e[Xr]||null}var zs=[],Wn=-1;function un(e){return{current:e}}function te(e){0>Wn||(e.current=zs[Wn],zs[Wn]=null,Wn--)}function J(e,t){Wn++,zs[Wn]=e.current,e.current=t}var sn={},De=un(sn),Ve=un(!1),yn=sn;function qn(e,t){var n=e.type.contextTypes;if(!n)return sn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Xe(e){return e=e.childContextTypes,e!=null}function Qo(){te(Ve),te(De)}function Bi(e,t,n){if(De.current!==sn)throw Error(E(168));J(De,t),J(Ve,n)}function $c(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(E(108,th(e)||"Unknown",o));return se({},n,r)}function Ko(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sn,yn=De.current,J(De,e),J(Ve,Ve.current),!0}function Vi(e,t,n){var r=e.stateNode;if(!r)throw Error(E(169));n?(e=$c(e,t,yn),r.__reactInternalMemoizedMergedChildContext=e,te(Ve),te(De),J(De,e)):te(Ve),J(Ve,n)}var Mt=null,gl=!1,Kl=!1;function Fc(e){Mt===null?Mt=[e]:Mt.push(e)}function vp(e){gl=!0,Fc(e)}function cn(){if(!Kl&&Mt!==null){Kl=!0;var e=0,t=Y;try{var n=Mt;for(Y=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Mt=null,gl=!1}catch(o){throw Mt!==null&&(Mt=Mt.slice(e+1)),dc(xa,cn),o}finally{Y=t,Kl=!1}}return null}var $n=[],Fn=0,Zo=null,Jo=0,lt=[],st=0,wn=null,Dt=1,Lt="";function fn(e,t){$n[Fn++]=Jo,$n[Fn++]=Zo,Zo=e,Jo=t}function Ac(e,t,n){lt[st++]=Dt,lt[st++]=Lt,lt[st++]=wn,wn=e;var r=Dt;e=Lt;var o=32-vt(r)-1;r&=~(1<<o),n+=1;var l=32-vt(t)+o;if(30<l){var s=o-o%5;l=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Dt=1<<32-vt(t)+o|n<<o|r,Lt=l+e}else Dt=1<<l|n<<o|r,Lt=e}function Ca(e){e.return!==null&&(fn(e,1),Ac(e,1,0))}function Ea(e){for(;e===Zo;)Zo=$n[--Fn],$n[Fn]=null,Jo=$n[--Fn],$n[Fn]=null;for(;e===wn;)wn=lt[--st],lt[st]=null,Lt=lt[--st],lt[st]=null,Dt=lt[--st],lt[st]=null}var Je=null,Ze=null,ne=!1,xt=null;function Hc(e,t){var n=at(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Xi(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Ze=en(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wn!==null?{id:Dt,overflow:Lt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=at(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Ze=null,!0):!1;default:return!1}}function Ws(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $s(e){if(ne){var t=Ze;if(t){var n=t;if(!Xi(e,t)){if(Ws(e))throw Error(E(418));t=en(n.nextSibling);var r=Je;t&&Xi(e,t)?Hc(r,n):(e.flags=e.flags&-4097|2,ne=!1,Je=e)}}else{if(Ws(e))throw Error(E(418));e.flags=e.flags&-4097|2,ne=!1,Je=e}}}function Yi(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function vo(e){if(e!==Je)return!1;if(!ne)return Yi(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ls(e.type,e.memoizedProps)),t&&(t=Ze)){if(Ws(e))throw Uc(),Error(E(418));for(;t;)Hc(e,t),t=en(t.nextSibling)}if(Yi(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ze=en(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=Je?en(e.stateNode.nextSibling):null;return!0}function Uc(){for(var e=Ze;e;)e=en(e.nextSibling)}function er(){Ze=Je=null,ne=!1}function Ta(e){xt===null?xt=[e]:xt.push(e)}var yp=Ft.ReactCurrentBatchConfig;function vr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,e));var o=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(s){var i=o.refs;s===null?delete i[l]:i[l]=s},t._stringRef=l,t)}if(typeof e!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gi(e){var t=e._init;return t(e._payload)}function Bc(e){function t(h,d){if(e){var g=h.deletions;g===null?(h.deletions=[d],h.flags|=16):g.push(d)}}function n(h,d){if(!e)return null;for(;d!==null;)t(h,d),d=d.sibling;return null}function r(h,d){for(h=new Map;d!==null;)d.key!==null?h.set(d.key,d):h.set(d.index,d),d=d.sibling;return h}function o(h,d){return h=on(h,d),h.index=0,h.sibling=null,h}function l(h,d,g){return h.index=g,e?(g=h.alternate,g!==null?(g=g.index,g<d?(h.flags|=2,d):g):(h.flags|=2,d)):(h.flags|=1048576,d)}function s(h){return e&&h.alternate===null&&(h.flags|=2),h}function i(h,d,g,w){return d===null||d.tag!==6?(d=rs(g,h.mode,w),d.return=h,d):(d=o(d,g),d.return=h,d)}function u(h,d,g,w){var m=g.type;return m===Dn?f(h,d,g.props.children,w,g.key):d!==null&&(d.elementType===m||typeof m=="object"&&m!==null&&m.$$typeof===Bt&&Gi(m)===d.type)?(w=o(d,g.props),w.ref=vr(h,d,g),w.return=h,w):(w=$o(g.type,g.key,g.props,null,h.mode,w),w.ref=vr(h,d,g),w.return=h,w)}function c(h,d,g,w){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=os(g,h.mode,w),d.return=h,d):(d=o(d,g.children||[]),d.return=h,d)}function f(h,d,g,w,m){return d===null||d.tag!==7?(d=vn(g,h.mode,w,m),d.return=h,d):(d=o(d,g),d.return=h,d)}function v(h,d,g){if(typeof d=="string"&&d!==""||typeof d=="number")return d=rs(""+d,h.mode,g),d.return=h,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case ao:return g=$o(d.type,d.key,d.props,null,h.mode,g),g.ref=vr(h,null,d),g.return=h,g;case Mn:return d=os(d,h.mode,g),d.return=h,d;case Bt:var w=d._init;return v(h,w(d._payload),g)}if(Nr(d)||hr(d))return d=vn(d,h.mode,g,null),d.return=h,d;yo(h,d)}return null}function x(h,d,g,w){var m=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return m!==null?null:i(h,d,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ao:return g.key===m?u(h,d,g,w):null;case Mn:return g.key===m?c(h,d,g,w):null;case Bt:return m=g._init,x(h,d,m(g._payload),w)}if(Nr(g)||hr(g))return m!==null?null:f(h,d,g,w,null);yo(h,g)}return null}function p(h,d,g,w,m){if(typeof w=="string"&&w!==""||typeof w=="number")return h=h.get(g)||null,i(d,h,""+w,m);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ao:return h=h.get(w.key===null?g:w.key)||null,u(d,h,w,m);case Mn:return h=h.get(w.key===null?g:w.key)||null,c(d,h,w,m);case Bt:var y=w._init;return p(h,d,g,y(w._payload),m)}if(Nr(w)||hr(w))return h=h.get(g)||null,f(d,h,w,m,null);yo(d,w)}return null}function b(h,d,g,w){for(var m=null,y=null,S=d,j=d=0,P=null;S!==null&&j<g.length;j++){S.index>j?(P=S,S=null):P=S.sibling;var I=x(h,S,g[j],w);if(I===null){S===null&&(S=P);break}e&&S&&I.alternate===null&&t(h,S),d=l(I,d,j),y===null?m=I:y.sibling=I,y=I,S=P}if(j===g.length)return n(h,S),ne&&fn(h,j),m;if(S===null){for(;j<g.length;j++)S=v(h,g[j],w),S!==null&&(d=l(S,d,j),y===null?m=S:y.sibling=S,y=S);return ne&&fn(h,j),m}for(S=r(h,S);j<g.length;j++)P=p(S,h,j,g[j],w),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?j:P.key),d=l(P,d,j),y===null?m=P:y.sibling=P,y=P);return e&&S.forEach(function(G){return t(h,G)}),ne&&fn(h,j),m}function k(h,d,g,w){var m=hr(g);if(typeof m!="function")throw Error(E(150));if(g=m.call(g),g==null)throw Error(E(151));for(var y=m=null,S=d,j=d=0,P=null,I=g.next();S!==null&&!I.done;j++,I=g.next()){S.index>j?(P=S,S=null):P=S.sibling;var G=x(h,S,I.value,w);if(G===null){S===null&&(S=P);break}e&&S&&G.alternate===null&&t(h,S),d=l(G,d,j),y===null?m=G:y.sibling=G,y=G,S=P}if(I.done)return n(h,S),ne&&fn(h,j),m;if(S===null){for(;!I.done;j++,I=g.next())I=v(h,I.value,w),I!==null&&(d=l(I,d,j),y===null?m=I:y.sibling=I,y=I);return ne&&fn(h,j),m}for(S=r(h,S);!I.done;j++,I=g.next())I=p(S,h,j,I.value,w),I!==null&&(e&&I.alternate!==null&&S.delete(I.key===null?j:I.key),d=l(I,d,j),y===null?m=I:y.sibling=I,y=I);return e&&S.forEach(function(ae){return t(h,ae)}),ne&&fn(h,j),m}function T(h,d,g,w){if(typeof g=="object"&&g!==null&&g.type===Dn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ao:e:{for(var m=g.key,y=d;y!==null;){if(y.key===m){if(m=g.type,m===Dn){if(y.tag===7){n(h,y.sibling),d=o(y,g.props.children),d.return=h,h=d;break e}}else if(y.elementType===m||typeof m=="object"&&m!==null&&m.$$typeof===Bt&&Gi(m)===y.type){n(h,y.sibling),d=o(y,g.props),d.ref=vr(h,y,g),d.return=h,h=d;break e}n(h,y);break}else t(h,y);y=y.sibling}g.type===Dn?(d=vn(g.props.children,h.mode,w,g.key),d.return=h,h=d):(w=$o(g.type,g.key,g.props,null,h.mode,w),w.ref=vr(h,d,g),w.return=h,h=w)}return s(h);case Mn:e:{for(y=g.key;d!==null;){if(d.key===y)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){n(h,d.sibling),d=o(d,g.children||[]),d.return=h,h=d;break e}else{n(h,d);break}else t(h,d);d=d.sibling}d=os(g,h.mode,w),d.return=h,h=d}return s(h);case Bt:return y=g._init,T(h,d,y(g._payload),w)}if(Nr(g))return b(h,d,g,w);if(hr(g))return k(h,d,g,w);yo(h,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,d!==null&&d.tag===6?(n(h,d.sibling),d=o(d,g),d.return=h,h=d):(n(h,d),d=rs(g,h.mode,w),d.return=h,h=d),s(h)):n(h,d)}return T}var tr=Bc(!0),Vc=Bc(!1),qo=un(null),el=null,An=null,Pa=null;function Ia(){Pa=An=el=null}function _a(e){var t=qo.current;te(qo),e._currentValue=t}function Fs(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Kn(e,t){el=e,Pa=An=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Be=!0),e.firstContext=null)}function ut(e){var t=e._currentValue;if(Pa!==e)if(e={context:e,memoizedValue:t,next:null},An===null){if(el===null)throw Error(E(308));An=e,el.dependencies={lanes:0,firstContext:e}}else An=An.next=e;return t}var mn=null;function Ma(e){mn===null?mn=[e]:mn.push(e)}function Xc(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Ma(t)):(n.next=o.next,o.next=n),t.interleaved=n,Wt(e,r)}function Wt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vt=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,V&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Wt(e,n)}return o=r.interleaved,o===null?(t.next=t,Ma(r)):(t.next=o.next,o.next=t),r.interleaved=t,Wt(e,n)}function Do(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,va(e,n)}}function Qi(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=s:l=l.next=s,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function tl(e,t,n,r){var o=e.updateQueue;Vt=!1;var l=o.firstBaseUpdate,s=o.lastBaseUpdate,i=o.shared.pending;if(i!==null){o.shared.pending=null;var u=i,c=u.next;u.next=null,s===null?l=c:s.next=c,s=u;var f=e.alternate;f!==null&&(f=f.updateQueue,i=f.lastBaseUpdate,i!==s&&(i===null?f.firstBaseUpdate=c:i.next=c,f.lastBaseUpdate=u))}if(l!==null){var v=o.baseState;s=0,f=c=u=null,i=l;do{var x=i.lane,p=i.eventTime;if((r&x)===x){f!==null&&(f=f.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var b=e,k=i;switch(x=t,p=n,k.tag){case 1:if(b=k.payload,typeof b=="function"){v=b.call(p,v,x);break e}v=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=k.payload,x=typeof b=="function"?b.call(p,v,x):b,x==null)break e;v=se({},v,x);break e;case 2:Vt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,x=o.effects,x===null?o.effects=[i]:x.push(i))}else p={eventTime:p,lane:x,tag:i.tag,payload:i.payload,callback:i.callback,next:null},f===null?(c=f=p,u=v):f=f.next=p,s|=x;if(i=i.next,i===null){if(i=o.shared.pending,i===null)break;x=i,i=x.next,x.next=null,o.lastBaseUpdate=x,o.shared.pending=null}}while(!0);if(f===null&&(u=v),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=f,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);Sn|=s,e.lanes=s,e.memoizedState=v}}function Ki(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(E(191,o));o.call(r)}}}var ro={},Tt=un(ro),Yr=un(ro),Gr=un(ro);function gn(e){if(e===ro)throw Error(E(174));return e}function La(e,t){switch(J(Gr,t),J(Yr,e),J(Tt,ro),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ws(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ws(t,e)}te(Tt),J(Tt,t)}function nr(){te(Tt),te(Yr),te(Gr)}function Gc(e){gn(Gr.current);var t=gn(Tt.current),n=ws(t,e.type);t!==n&&(J(Yr,e),J(Tt,n))}function Ra(e){Yr.current===e&&(te(Tt),te(Yr))}var oe=un(0);function nl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zl=[];function Oa(){for(var e=0;e<Zl.length;e++)Zl[e]._workInProgressVersionPrimary=null;Zl.length=0}var Lo=Ft.ReactCurrentDispatcher,Jl=Ft.ReactCurrentBatchConfig,bn=0,le=null,ve=null,Se=null,rl=!1,Mr=!1,Qr=0,wp=0;function Pe(){throw Error(E(321))}function za(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wt(e[n],t[n]))return!1;return!0}function Wa(e,t,n,r,o,l){if(bn=l,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Lo.current=e===null||e.memoizedState===null?Np:jp,e=n(r,o),Mr){l=0;do{if(Mr=!1,Qr=0,25<=l)throw Error(E(301));l+=1,Se=ve=null,t.updateQueue=null,Lo.current=Cp,e=n(r,o)}while(Mr)}if(Lo.current=ol,t=ve!==null&&ve.next!==null,bn=0,Se=ve=le=null,rl=!1,t)throw Error(E(300));return e}function $a(){var e=Qr!==0;return Qr=0,e}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?le.memoizedState=Se=e:Se=Se.next=e,Se}function ct(){if(ve===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=Se===null?le.memoizedState:Se.next;if(t!==null)Se=t,ve=e;else{if(e===null)throw Error(E(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},Se===null?le.memoizedState=Se=e:Se=Se.next=e}return Se}function Kr(e,t){return typeof t=="function"?t(e):t}function ql(e){var t=ct(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=ve,o=r.baseQueue,l=n.pending;if(l!==null){if(o!==null){var s=o.next;o.next=l.next,l.next=s}r.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,r=r.baseState;var i=s=null,u=null,c=l;do{var f=c.lane;if((bn&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var v={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(i=u=v,s=r):u=u.next=v,le.lanes|=f,Sn|=f}c=c.next}while(c!==null&&c!==l);u===null?s=r:u.next=i,wt(r,t.memoizedState)||(Be=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do l=o.lane,le.lanes|=l,Sn|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function es(e){var t=ct(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do l=e(l,s.action),s=s.next;while(s!==o);wt(l,t.memoizedState)||(Be=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Qc(){}function Kc(e,t){var n=le,r=ct(),o=t(),l=!wt(r.memoizedState,o);if(l&&(r.memoizedState=o,Be=!0),r=r.queue,Fa(qc.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Se!==null&&Se.memoizedState.tag&1){if(n.flags|=2048,Zr(9,Jc.bind(null,n,r,o,t),void 0,null),ke===null)throw Error(E(349));bn&30||Zc(n,t,o)}return o}function Zc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jc(e,t,n,r){t.value=n,t.getSnapshot=r,ed(t)&&td(e)}function qc(e,t,n){return n(function(){ed(t)&&td(e)})}function ed(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wt(e,n)}catch{return!0}}function td(e){var t=Wt(e,1);t!==null&&yt(t,e,1,-1)}function Zi(e){var t=jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:e},t.queue=e,e=e.dispatch=kp.bind(null,le,e),[t.memoizedState,e]}function Zr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function nd(){return ct().memoizedState}function Ro(e,t,n,r){var o=jt();le.flags|=e,o.memoizedState=Zr(1|t,n,void 0,r===void 0?null:r)}function xl(e,t,n,r){var o=ct();r=r===void 0?null:r;var l=void 0;if(ve!==null){var s=ve.memoizedState;if(l=s.destroy,r!==null&&za(r,s.deps)){o.memoizedState=Zr(t,n,l,r);return}}le.flags|=e,o.memoizedState=Zr(1|t,n,l,r)}function Ji(e,t){return Ro(8390656,8,e,t)}function Fa(e,t){return xl(2048,8,e,t)}function rd(e,t){return xl(4,2,e,t)}function od(e,t){return xl(4,4,e,t)}function ld(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sd(e,t,n){return n=n!=null?n.concat([e]):null,xl(4,4,ld.bind(null,t,e),n)}function Aa(){}function ad(e,t){var n=ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&za(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function id(e,t){var n=ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&za(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ud(e,t,n){return bn&21?(wt(n,t)||(n=pc(),le.lanes|=n,Sn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Be=!0),e.memoizedState=n)}function bp(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var r=Jl.transition;Jl.transition={};try{e(!1),t()}finally{Y=n,Jl.transition=r}}function cd(){return ct().memoizedState}function Sp(e,t,n){var r=rn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dd(e))fd(t,n);else if(n=Xc(e,t,n,r),n!==null){var o=$e();yt(n,e,r,o),hd(n,t,r)}}function kp(e,t,n){var r=rn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dd(e))fd(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var s=t.lastRenderedState,i=l(s,n);if(o.hasEagerState=!0,o.eagerState=i,wt(i,s)){var u=t.interleaved;u===null?(o.next=o,Ma(t)):(o.next=u.next,u.next=o),t.interleaved=o;return}}catch{}finally{}n=Xc(e,t,o,r),n!==null&&(o=$e(),yt(n,e,r,o),hd(n,t,r))}}function dd(e){var t=e.alternate;return e===le||t!==null&&t===le}function fd(e,t){Mr=rl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,va(e,n)}}var ol={readContext:ut,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},Np={readContext:ut,useCallback:function(e,t){return jt().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:Ji,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ro(4194308,4,ld.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var n=jt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=jt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Sp.bind(null,le,e),[r.memoizedState,e]},useRef:function(e){var t=jt();return e={current:e},t.memoizedState=e},useState:Zi,useDebugValue:Aa,useDeferredValue:function(e){return jt().memoizedState=e},useTransition:function(){var e=Zi(!1),t=e[0];return e=bp.bind(null,e[1]),jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=le,o=jt();if(ne){if(n===void 0)throw Error(E(407));n=n()}else{if(n=t(),ke===null)throw Error(E(349));bn&30||Zc(r,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,Ji(qc.bind(null,r,l,e),[e]),r.flags|=2048,Zr(9,Jc.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=jt(),t=ke.identifierPrefix;if(ne){var n=Lt,r=Dt;n=(r&~(1<<32-vt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Qr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=wp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jp={readContext:ut,useCallback:ad,useContext:ut,useEffect:Fa,useImperativeHandle:sd,useInsertionEffect:rd,useLayoutEffect:od,useMemo:id,useReducer:ql,useRef:nd,useState:function(){return ql(Kr)},useDebugValue:Aa,useDeferredValue:function(e){var t=ct();return ud(t,ve.memoizedState,e)},useTransition:function(){var e=ql(Kr)[0],t=ct().memoizedState;return[e,t]},useMutableSource:Qc,useSyncExternalStore:Kc,useId:cd,unstable_isNewReconciler:!1},Cp={readContext:ut,useCallback:ad,useContext:ut,useEffect:Fa,useImperativeHandle:sd,useInsertionEffect:rd,useLayoutEffect:od,useMemo:id,useReducer:es,useRef:nd,useState:function(){return es(Kr)},useDebugValue:Aa,useDeferredValue:function(e){var t=ct();return ve===null?t.memoizedState=e:ud(t,ve.memoizedState,e)},useTransition:function(){var e=es(Kr)[0],t=ct().memoizedState;return[e,t]},useMutableSource:Qc,useSyncExternalStore:Kc,useId:cd,unstable_isNewReconciler:!1};function mt(e,t){if(e&&e.defaultProps){t=se({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function As(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:se({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vl={isMounted:function(e){return(e=e._reactInternals)?jn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$e(),o=rn(e),l=Rt(r,o);l.payload=t,n!=null&&(l.callback=n),t=tn(e,l,o),t!==null&&(yt(t,e,o,r),Do(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$e(),o=rn(e),l=Rt(r,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=tn(e,l,o),t!==null&&(yt(t,e,o,r),Do(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$e(),r=rn(e),o=Rt(n,r);o.tag=2,t!=null&&(o.callback=t),t=tn(e,o,r),t!==null&&(yt(t,e,r,n),Do(t,e,r))}};function qi(e,t,n,r,o,l,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,s):t.prototype&&t.prototype.isPureReactComponent?!Ur(n,r)||!Ur(o,l):!0}function pd(e,t,n){var r=!1,o=sn,l=t.contextType;return typeof l=="object"&&l!==null?l=ut(l):(o=Xe(t)?yn:De.current,r=t.contextTypes,l=(r=r!=null)?qn(e,o):sn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function eu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vl.enqueueReplaceState(t,t.state,null)}function Hs(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Da(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=ut(l):(l=Xe(t)?yn:De.current,o.context=qn(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(As(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&vl.enqueueReplaceState(o,o.state,null),tl(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function rr(e,t){try{var n="",r=t;do n+=eh(r),r=r.return;while(r);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function ts(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Us(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ep=typeof WeakMap=="function"?WeakMap:Map;function md(e,t,n){n=Rt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){sl||(sl=!0,qs=r),Us(e,t)},n}function gd(e,t,n){n=Rt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Us(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Us(e,t),typeof r!="function"&&(nn===null?nn=new Set([this]):nn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function tu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ep;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Ap.bind(null,e,t,n),t.then(e,e))}function nu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ru(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Rt(-1,1),t.tag=2,tn(n,t,1))),n.lanes|=1),e)}var Tp=Ft.ReactCurrentOwner,Be=!1;function We(e,t,n,r){t.child=e===null?Vc(t,null,n,r):tr(t,e.child,n,r)}function ou(e,t,n,r,o){n=n.render;var l=t.ref;return Kn(t,o),r=Wa(e,t,n,r,l,o),n=$a(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,$t(e,t,o)):(ne&&n&&Ca(t),t.flags|=1,We(e,t,r,o),t.child)}function lu(e,t,n,r,o){if(e===null){var l=n.type;return typeof l=="function"&&!Qa(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,xd(e,t,l,r,o)):(e=$o(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var s=l.memoizedProps;if(n=n.compare,n=n!==null?n:Ur,n(s,r)&&e.ref===t.ref)return $t(e,t,o)}return t.flags|=1,e=on(l,r),e.ref=t.ref,e.return=t,t.child=e}function xd(e,t,n,r,o){if(e!==null){var l=e.memoizedProps;if(Ur(l,r)&&e.ref===t.ref)if(Be=!1,t.pendingProps=r=l,(e.lanes&o)!==0)e.flags&131072&&(Be=!0);else return t.lanes=e.lanes,$t(e,t,o)}return Bs(e,t,n,r,o)}function vd(e,t,n){var r=t.pendingProps,o=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(Un,Ke),Ke|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,J(Un,Ke),Ke|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,J(Un,Ke),Ke|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,J(Un,Ke),Ke|=r;return We(e,t,o,n),t.child}function yd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Bs(e,t,n,r,o){var l=Xe(n)?yn:De.current;return l=qn(t,l),Kn(t,o),n=Wa(e,t,n,r,l,o),r=$a(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,$t(e,t,o)):(ne&&r&&Ca(t),t.flags|=1,We(e,t,n,o),t.child)}function su(e,t,n,r,o){if(Xe(n)){var l=!0;Ko(t)}else l=!1;if(Kn(t,o),t.stateNode===null)Oo(e,t),pd(t,n,r),Hs(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,i=t.memoizedProps;s.props=i;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=ut(c):(c=Xe(n)?yn:De.current,c=qn(t,c));var f=n.getDerivedStateFromProps,v=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";v||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==r||u!==c)&&eu(t,s,r,c),Vt=!1;var x=t.memoizedState;s.state=x,tl(t,r,s,o),u=t.memoizedState,i!==r||x!==u||Ve.current||Vt?(typeof f=="function"&&(As(t,n,f,r),u=t.memoizedState),(i=Vt||qi(t,n,i,r,x,u,c))?(v||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=c,r=i):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Yc(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:mt(t.type,i),s.props=c,v=t.pendingProps,x=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=ut(u):(u=Xe(n)?yn:De.current,u=qn(t,u));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==v||x!==u)&&eu(t,s,r,u),Vt=!1,x=t.memoizedState,s.state=x,tl(t,r,s,o);var b=t.memoizedState;i!==v||x!==b||Ve.current||Vt?(typeof p=="function"&&(As(t,n,p,r),b=t.memoizedState),(c=Vt||qi(t,n,c,r,x,b,u)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,b,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,b,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),s.props=r,s.state=b,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),r=!1)}return Vs(e,t,n,r,l,o)}function Vs(e,t,n,r,o,l){yd(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&Vi(t,n,!1),$t(e,t,l);r=t.stateNode,Tp.current=t;var i=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=tr(t,e.child,null,l),t.child=tr(t,null,i,l)):We(e,t,i,l),t.memoizedState=r.state,o&&Vi(t,n,!0),t.child}function wd(e){var t=e.stateNode;t.pendingContext?Bi(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bi(e,t.context,!1),La(e,t.containerInfo)}function au(e,t,n,r,o){return er(),Ta(o),t.flags|=256,We(e,t,n,r),t.child}var Xs={dehydrated:null,treeContext:null,retryLane:0};function Ys(e){return{baseLanes:e,cachePool:null,transitions:null}}function bd(e,t,n){var r=t.pendingProps,o=oe.current,l=!1,s=(t.flags&128)!==0,i;if((i=s)||(i=e!==null&&e.memoizedState===null?!1:(o&2)!==0),i?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),J(oe,o&1),e===null)return $s(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,l?(r=t.mode,l=t.child,s={mode:"hidden",children:s},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=s):l=bl(s,r,0,null),e=vn(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Ys(n),t.memoizedState=Xs,e):Ha(t,s));if(o=e.memoizedState,o!==null&&(i=o.dehydrated,i!==null))return Pp(e,t,s,r,i,o,n);if(l){l=r.fallback,s=t.mode,o=e.child,i=o.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=on(o,u),r.subtreeFlags=o.subtreeFlags&14680064),i!==null?l=on(i,l):(l=vn(l,s,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,s=e.child.memoizedState,s=s===null?Ys(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},l.memoizedState=s,l.childLanes=e.childLanes&~n,t.memoizedState=Xs,r}return l=e.child,e=l.sibling,r=on(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ha(e,t){return t=bl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wo(e,t,n,r){return r!==null&&Ta(r),tr(t,e.child,null,n),e=Ha(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Pp(e,t,n,r,o,l,s){if(n)return t.flags&256?(t.flags&=-257,r=ts(Error(E(422))),wo(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,o=t.mode,r=bl({mode:"visible",children:r.children},o,0,null),l=vn(l,o,s,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&tr(t,e.child,null,s),t.child.memoizedState=Ys(s),t.memoizedState=Xs,l);if(!(t.mode&1))return wo(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var i=r.dgst;return r=i,l=Error(E(419)),r=ts(l,r,void 0),wo(e,t,s,r)}if(i=(s&e.childLanes)!==0,Be||i){if(r=ke,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,Wt(e,o),yt(r,e,o,-1))}return Ga(),r=ts(Error(E(421))),wo(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Hp.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,Ze=en(o.nextSibling),Je=t,ne=!0,xt=null,e!==null&&(lt[st++]=Dt,lt[st++]=Lt,lt[st++]=wn,Dt=e.id,Lt=e.overflow,wn=t),t=Ha(t,r.children),t.flags|=4096,t)}function iu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Fs(e.return,t,n)}function ns(e,t,n,r,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o)}function Sd(e,t,n){var r=t.pendingProps,o=r.revealOrder,l=r.tail;if(We(e,t,r.children,n),r=oe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&iu(e,n,t);else if(e.tag===19)iu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(J(oe,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&nl(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ns(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&nl(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ns(t,!0,n,null,l);break;case"together":ns(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Oo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $t(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Sn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,n=on(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=on(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ip(e,t,n){switch(t.tag){case 3:wd(t),er();break;case 5:Gc(t);break;case 1:Xe(t.type)&&Ko(t);break;case 4:La(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;J(qo,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(J(oe,oe.current&1),t.flags|=128,null):n&t.child.childLanes?bd(e,t,n):(J(oe,oe.current&1),e=$t(e,t,n),e!==null?e.sibling:null);J(oe,oe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Sd(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),J(oe,oe.current),r)break;return null;case 22:case 23:return t.lanes=0,vd(e,t,n)}return $t(e,t,n)}var kd,Gs,Nd,jd;kd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gs=function(){};Nd=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,gn(Tt.current);var l=null;switch(n){case"input":o=gs(e,o),r=gs(e,r),l=[];break;case"select":o=se({},o,{value:void 0}),r=se({},r,{value:void 0}),l=[];break;case"textarea":o=ys(e,o),r=ys(e,r),l=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Go)}bs(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var i=o[c];for(s in i)i.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Or.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in r){var u=r[c];if(i=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&u!==i&&(u!=null||i!=null))if(c==="style")if(i){for(s in i)!i.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&i[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(l||(l=[]),l.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,i=i?i.__html:void 0,u!=null&&i!==u&&(l=l||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(l=l||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Or.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ee("scroll",e),l||i===u||(l=[])):(l=l||[]).push(c,u))}n&&(l=l||[]).push("style",n);var c=l;(t.updateQueue=c)&&(t.flags|=4)}};jd=function(e,t,n,r){n!==r&&(t.flags|=4)};function yr(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _p(e,t,n){var r=t.pendingProps;switch(Ea(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Xe(t.type)&&Qo(),Ie(t),null;case 3:return r=t.stateNode,nr(),te(Ve),te(De),Oa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xt!==null&&(na(xt),xt=null))),Gs(e,t),Ie(t),null;case 5:Ra(t);var o=gn(Gr.current);if(n=t.type,e!==null&&t.stateNode!=null)Nd(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(E(166));return Ie(t),null}if(e=gn(Tt.current),vo(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Ct]=t,r[Xr]=l,e=(t.mode&1)!==0,n){case"dialog":ee("cancel",r),ee("close",r);break;case"iframe":case"object":case"embed":ee("load",r);break;case"video":case"audio":for(o=0;o<Cr.length;o++)ee(Cr[o],r);break;case"source":ee("error",r);break;case"img":case"image":case"link":ee("error",r),ee("load",r);break;case"details":ee("toggle",r);break;case"input":xi(r,l),ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},ee("invalid",r);break;case"textarea":yi(r,l),ee("invalid",r)}bs(n,l),o=null;for(var s in l)if(l.hasOwnProperty(s)){var i=l[s];s==="children"?typeof i=="string"?r.textContent!==i&&(l.suppressHydrationWarning!==!0&&xo(r.textContent,i,e),o=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(l.suppressHydrationWarning!==!0&&xo(r.textContent,i,e),o=["children",""+i]):Or.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&ee("scroll",r)}switch(n){case"input":io(r),vi(r,l,!0);break;case"textarea":io(r),wi(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Go)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Ct]=t,e[Xr]=r,kd(e,t,!1,!1),t.stateNode=e;e:{switch(s=Ss(n,r),n){case"dialog":ee("cancel",e),ee("close",e),o=r;break;case"iframe":case"object":case"embed":ee("load",e),o=r;break;case"video":case"audio":for(o=0;o<Cr.length;o++)ee(Cr[o],e);o=r;break;case"source":ee("error",e),o=r;break;case"img":case"image":case"link":ee("error",e),ee("load",e),o=r;break;case"details":ee("toggle",e),o=r;break;case"input":xi(e,r),o=gs(e,r),ee("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=se({},r,{value:void 0}),ee("invalid",e);break;case"textarea":yi(e,r),o=ys(e,r),ee("invalid",e);break;default:o=r}bs(n,o),i=o;for(l in i)if(i.hasOwnProperty(l)){var u=i[l];l==="style"?nc(e,u):l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&ec(e,u)):l==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&zr(e,u):typeof u=="number"&&zr(e,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Or.hasOwnProperty(l)?u!=null&&l==="onScroll"&&ee("scroll",e):u!=null&&fa(e,l,u,s))}switch(n){case"input":io(e),vi(e,r,!1);break;case"textarea":io(e),wi(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ln(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Xn(e,!!r.multiple,l,!1):r.defaultValue!=null&&Xn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Go)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ie(t),null;case 6:if(e&&t.stateNode!=null)jd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(E(166));if(n=gn(Gr.current),gn(Tt.current),vo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ct]=t,(l=r.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:xo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xo(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ct]=t,t.stateNode=r}return Ie(t),null;case 13:if(te(oe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&Ze!==null&&t.mode&1&&!(t.flags&128))Uc(),er(),t.flags|=98560,l=!1;else if(l=vo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(E(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(E(317));l[Ct]=t}else er(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ie(t),l=!1}else xt!==null&&(na(xt),xt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||oe.current&1?ye===0&&(ye=3):Ga())),t.updateQueue!==null&&(t.flags|=4),Ie(t),null);case 4:return nr(),Gs(e,t),e===null&&Br(t.stateNode.containerInfo),Ie(t),null;case 10:return _a(t.type._context),Ie(t),null;case 17:return Xe(t.type)&&Qo(),Ie(t),null;case 19:if(te(oe),l=t.memoizedState,l===null)return Ie(t),null;if(r=(t.flags&128)!==0,s=l.rendering,s===null)if(r)yr(l,!1);else{if(ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=nl(e),s!==null){for(t.flags|=128,yr(l,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,s=l.alternate,s===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,l.type=s.type,e=s.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return J(oe,oe.current&1|2),t.child}e=e.sibling}l.tail!==null&&he()>or&&(t.flags|=128,r=!0,yr(l,!1),t.lanes=4194304)}else{if(!r)if(e=nl(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),yr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!ne)return Ie(t),null}else 2*he()-l.renderingStartTime>or&&n!==1073741824&&(t.flags|=128,r=!0,yr(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(n=l.last,n!==null?n.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=he(),t.sibling=null,n=oe.current,J(oe,r?n&1|2:n&1),t):(Ie(t),null);case 22:case 23:return Ya(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ke&1073741824&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function Mp(e,t){switch(Ea(t),t.tag){case 1:return Xe(t.type)&&Qo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nr(),te(Ve),te(De),Oa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ra(t),null;case 13:if(te(oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));er()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(oe),null;case 4:return nr(),null;case 10:return _a(t.type._context),null;case 22:case 23:return Ya(),null;case 24:return null;default:return null}}var bo=!1,Me=!1,Dp=typeof WeakSet=="function"?WeakSet:Set,R=null;function Hn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){de(e,t,r)}else n.current=null}function Qs(e,t,n){try{n()}catch(r){de(e,t,r)}}var uu=!1;function Lp(e,t){if(Ms=Vo,e=Ic(),ja(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var s=0,i=-1,u=-1,c=0,f=0,v=e,x=null;t:for(;;){for(var p;v!==n||o!==0&&v.nodeType!==3||(i=s+o),v!==l||r!==0&&v.nodeType!==3||(u=s+r),v.nodeType===3&&(s+=v.nodeValue.length),(p=v.firstChild)!==null;)x=v,v=p;for(;;){if(v===e)break t;if(x===n&&++c===o&&(i=s),x===l&&++f===r&&(u=s),(p=v.nextSibling)!==null)break;v=x,x=v.parentNode}v=p}n=i===-1||u===-1?null:{start:i,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ds={focusedElem:e,selectionRange:n},Vo=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var k=b.memoizedProps,T=b.memoizedState,h=t.stateNode,d=h.getSnapshotBeforeUpdate(t.elementType===t.type?k:mt(t.type,k),T);h.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(w){de(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return b=uu,uu=!1,b}function Dr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&Qs(t,n,l)}o=o.next}while(o!==r)}}function yl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ks(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Cd(e){var t=e.alternate;t!==null&&(e.alternate=null,Cd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ct],delete t[Xr],delete t[Os],delete t[gp],delete t[xp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ed(e){return e.tag===5||e.tag===3||e.tag===4}function cu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ed(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Go));else if(r!==4&&(e=e.child,e!==null))for(Zs(e,t,n),e=e.sibling;e!==null;)Zs(e,t,n),e=e.sibling}function Js(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Js(e,t,n),e=e.sibling;e!==null;)Js(e,t,n),e=e.sibling}var je=null,gt=!1;function At(e,t,n){for(n=n.child;n!==null;)Td(e,t,n),n=n.sibling}function Td(e,t,n){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(dl,n)}catch{}switch(n.tag){case 5:Me||Hn(n,t);case 6:var r=je,o=gt;je=null,At(e,t,n),je=r,gt=o,je!==null&&(gt?(e=je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):je.removeChild(n.stateNode));break;case 18:je!==null&&(gt?(e=je,n=n.stateNode,e.nodeType===8?Ql(e.parentNode,n):e.nodeType===1&&Ql(e,n),Ar(e)):Ql(je,n.stateNode));break;case 4:r=je,o=gt,je=n.stateNode.containerInfo,gt=!0,At(e,t,n),je=r,gt=o;break;case 0:case 11:case 14:case 15:if(!Me&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var l=o,s=l.destroy;l=l.tag,s!==void 0&&(l&2||l&4)&&Qs(n,t,s),o=o.next}while(o!==r)}At(e,t,n);break;case 1:if(!Me&&(Hn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){de(n,t,i)}At(e,t,n);break;case 21:At(e,t,n);break;case 22:n.mode&1?(Me=(r=Me)||n.memoizedState!==null,At(e,t,n),Me=r):At(e,t,n);break;default:At(e,t,n)}}function du(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Dp),t.forEach(function(r){var o=Up.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function ft(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var l=e,s=t,i=s;e:for(;i!==null;){switch(i.tag){case 5:je=i.stateNode,gt=!1;break e;case 3:je=i.stateNode.containerInfo,gt=!0;break e;case 4:je=i.stateNode.containerInfo,gt=!0;break e}i=i.return}if(je===null)throw Error(E(160));Td(l,s,o),je=null,gt=!1;var u=o.alternate;u!==null&&(u.return=null),o.return=null}catch(c){de(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pd(t,e),t=t.sibling}function Pd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ft(t,e),Nt(e),r&4){try{Dr(3,e,e.return),yl(3,e)}catch(k){de(e,e.return,k)}try{Dr(5,e,e.return)}catch(k){de(e,e.return,k)}}break;case 1:ft(t,e),Nt(e),r&512&&n!==null&&Hn(n,n.return);break;case 5:if(ft(t,e),Nt(e),r&512&&n!==null&&Hn(n,n.return),e.flags&32){var o=e.stateNode;try{zr(o,"")}catch(k){de(e,e.return,k)}}if(r&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,s=n!==null?n.memoizedProps:l,i=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{i==="input"&&l.type==="radio"&&l.name!=null&&Zu(o,l),Ss(i,s);var c=Ss(i,l);for(s=0;s<u.length;s+=2){var f=u[s],v=u[s+1];f==="style"?nc(o,v):f==="dangerouslySetInnerHTML"?ec(o,v):f==="children"?zr(o,v):fa(o,f,v,c)}switch(i){case"input":xs(o,l);break;case"textarea":Ju(o,l);break;case"select":var x=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var p=l.value;p!=null?Xn(o,!!l.multiple,p,!1):x!==!!l.multiple&&(l.defaultValue!=null?Xn(o,!!l.multiple,l.defaultValue,!0):Xn(o,!!l.multiple,l.multiple?[]:"",!1))}o[Xr]=l}catch(k){de(e,e.return,k)}}break;case 6:if(ft(t,e),Nt(e),r&4){if(e.stateNode===null)throw Error(E(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(k){de(e,e.return,k)}}break;case 3:if(ft(t,e),Nt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ar(t.containerInfo)}catch(k){de(e,e.return,k)}break;case 4:ft(t,e),Nt(e);break;case 13:ft(t,e),Nt(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(Va=he())),r&4&&du(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Me=(c=Me)||f,ft(t,e),Me=c):ft(t,e),Nt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(R=e,f=e.child;f!==null;){for(v=R=f;R!==null;){switch(x=R,p=x.child,x.tag){case 0:case 11:case 14:case 15:Dr(4,x,x.return);break;case 1:Hn(x,x.return);var b=x.stateNode;if(typeof b.componentWillUnmount=="function"){r=x,n=x.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(k){de(r,n,k)}}break;case 5:Hn(x,x.return);break;case 22:if(x.memoizedState!==null){hu(v);continue}}p!==null?(p.return=x,R=p):hu(v)}f=f.sibling}e:for(f=null,v=e;;){if(v.tag===5){if(f===null){f=v;try{o=v.stateNode,c?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(i=v.stateNode,u=v.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,i.style.display=tc("display",s))}catch(k){de(e,e.return,k)}}}else if(v.tag===6){if(f===null)try{v.stateNode.nodeValue=c?"":v.memoizedProps}catch(k){de(e,e.return,k)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;f===v&&(f=null),v=v.return}f===v&&(f=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:ft(t,e),Nt(e),r&4&&du(e);break;case 21:break;default:ft(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ed(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(zr(o,""),r.flags&=-33);var l=cu(e);Js(e,l,o);break;case 3:case 4:var s=r.stateNode.containerInfo,i=cu(e);Zs(e,i,s);break;default:throw Error(E(161))}}catch(u){de(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rp(e,t,n){R=e,Id(e)}function Id(e,t,n){for(var r=(e.mode&1)!==0;R!==null;){var o=R,l=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||bo;if(!s){var i=o.alternate,u=i!==null&&i.memoizedState!==null||Me;i=bo;var c=Me;if(bo=s,(Me=u)&&!c)for(R=o;R!==null;)s=R,u=s.child,s.tag===22&&s.memoizedState!==null?pu(o):u!==null?(u.return=s,R=u):pu(o);for(;l!==null;)R=l,Id(l),l=l.sibling;R=o,bo=i,Me=c}fu(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,R=l):fu(e)}}function fu(e){for(;R!==null;){var t=R;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Me||yl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Me)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:mt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Ki(t,l,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ki(t,s,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var v=f.dehydrated;v!==null&&Ar(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Me||t.flags&512&&Ks(t)}catch(x){de(t,t.return,x)}}if(t===e){R=null;break}if(n=t.sibling,n!==null){n.return=t.return,R=n;break}R=t.return}}function hu(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var n=t.sibling;if(n!==null){n.return=t.return,R=n;break}R=t.return}}function pu(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{yl(4,t)}catch(u){de(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(u){de(t,o,u)}}var l=t.return;try{Ks(t)}catch(u){de(t,l,u)}break;case 5:var s=t.return;try{Ks(t)}catch(u){de(t,s,u)}}}catch(u){de(t,t.return,u)}if(t===e){R=null;break}var i=t.sibling;if(i!==null){i.return=t.return,R=i;break}R=t.return}}var Op=Math.ceil,ll=Ft.ReactCurrentDispatcher,Ua=Ft.ReactCurrentOwner,it=Ft.ReactCurrentBatchConfig,V=0,ke=null,pe=null,Ce=0,Ke=0,Un=un(0),ye=0,Jr=null,Sn=0,wl=0,Ba=0,Lr=null,Ue=null,Va=0,or=1/0,_t=null,sl=!1,qs=null,nn=null,So=!1,Kt=null,al=0,Rr=0,ea=null,zo=-1,Wo=0;function $e(){return V&6?he():zo!==-1?zo:zo=he()}function rn(e){return e.mode&1?V&2&&Ce!==0?Ce&-Ce:yp.transition!==null?(Wo===0&&(Wo=pc()),Wo):(e=Y,e!==0||(e=window.event,e=e===void 0?16:bc(e.type)),e):1}function yt(e,t,n,r){if(50<Rr)throw Rr=0,ea=null,Error(E(185));eo(e,n,r),(!(V&2)||e!==ke)&&(e===ke&&(!(V&2)&&(wl|=n),ye===4&&Gt(e,Ce)),Ye(e,r),n===1&&V===0&&!(t.mode&1)&&(or=he()+500,gl&&cn()))}function Ye(e,t){var n=e.callbackNode;yh(e,t);var r=Bo(e,e===ke?Ce:0);if(r===0)n!==null&&ki(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ki(n),t===1)e.tag===0?vp(mu.bind(null,e)):Fc(mu.bind(null,e)),pp(function(){!(V&6)&&cn()}),n=null;else{switch(mc(r)){case 1:n=xa;break;case 4:n=fc;break;case 16:n=Uo;break;case 536870912:n=hc;break;default:n=Uo}n=Wd(n,_d.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function _d(e,t){if(zo=-1,Wo=0,V&6)throw Error(E(327));var n=e.callbackNode;if(Zn()&&e.callbackNode!==n)return null;var r=Bo(e,e===ke?Ce:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=il(e,r);else{t=r;var o=V;V|=2;var l=Dd();(ke!==e||Ce!==t)&&(_t=null,or=he()+500,xn(e,t));do try{$p();break}catch(i){Md(e,i)}while(!0);Ia(),ll.current=l,V=o,pe!==null?t=0:(ke=null,Ce=0,t=ye)}if(t!==0){if(t===2&&(o=Es(e),o!==0&&(r=o,t=ta(e,o))),t===1)throw n=Jr,xn(e,0),Gt(e,r),Ye(e,he()),n;if(t===6)Gt(e,r);else{if(o=e.current.alternate,!(r&30)&&!zp(o)&&(t=il(e,r),t===2&&(l=Es(e),l!==0&&(r=l,t=ta(e,l))),t===1))throw n=Jr,xn(e,0),Gt(e,r),Ye(e,he()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(E(345));case 2:hn(e,Ue,_t);break;case 3:if(Gt(e,r),(r&130023424)===r&&(t=Va+500-he(),10<t)){if(Bo(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){$e(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Rs(hn.bind(null,e,Ue,_t),t);break}hn(e,Ue,_t);break;case 4:if(Gt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-vt(r);l=1<<s,s=t[s],s>o&&(o=s),r&=~l}if(r=o,r=he()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Op(r/1960))-r,10<r){e.timeoutHandle=Rs(hn.bind(null,e,Ue,_t),r);break}hn(e,Ue,_t);break;case 5:hn(e,Ue,_t);break;default:throw Error(E(329))}}}return Ye(e,he()),e.callbackNode===n?_d.bind(null,e):null}function ta(e,t){var n=Lr;return e.current.memoizedState.isDehydrated&&(xn(e,t).flags|=256),e=il(e,t),e!==2&&(t=Ue,Ue=n,t!==null&&na(t)),e}function na(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function zp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],l=o.getSnapshot;o=o.value;try{if(!wt(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gt(e,t){for(t&=~Ba,t&=~wl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vt(t),r=1<<n;e[n]=-1,t&=~r}}function mu(e){if(V&6)throw Error(E(327));Zn();var t=Bo(e,0);if(!(t&1))return Ye(e,he()),null;var n=il(e,t);if(e.tag!==0&&n===2){var r=Es(e);r!==0&&(t=r,n=ta(e,r))}if(n===1)throw n=Jr,xn(e,0),Gt(e,t),Ye(e,he()),n;if(n===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hn(e,Ue,_t),Ye(e,he()),null}function Xa(e,t){var n=V;V|=1;try{return e(t)}finally{V=n,V===0&&(or=he()+500,gl&&cn())}}function kn(e){Kt!==null&&Kt.tag===0&&!(V&6)&&Zn();var t=V;V|=1;var n=it.transition,r=Y;try{if(it.transition=null,Y=1,e)return e()}finally{Y=r,it.transition=n,V=t,!(V&6)&&cn()}}function Ya(){Ke=Un.current,te(Un)}function xn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hp(n)),pe!==null)for(n=pe.return;n!==null;){var r=n;switch(Ea(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qo();break;case 3:nr(),te(Ve),te(De),Oa();break;case 5:Ra(r);break;case 4:nr();break;case 13:te(oe);break;case 19:te(oe);break;case 10:_a(r.type._context);break;case 22:case 23:Ya()}n=n.return}if(ke=e,pe=e=on(e.current,null),Ce=Ke=t,ye=0,Jr=null,Ba=wl=Sn=0,Ue=Lr=null,mn!==null){for(t=0;t<mn.length;t++)if(n=mn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,l=n.pending;if(l!==null){var s=l.next;l.next=o,r.next=s}n.pending=r}mn=null}return e}function Md(e,t){do{var n=pe;try{if(Ia(),Lo.current=ol,rl){for(var r=le.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}rl=!1}if(bn=0,Se=ve=le=null,Mr=!1,Qr=0,Ua.current=null,n===null||n.return===null){ye=1,Jr=t,pe=null;break}e:{var l=e,s=n.return,i=n,u=t;if(t=Ce,i.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=i,v=f.tag;if(!(f.mode&1)&&(v===0||v===11||v===15)){var x=f.alternate;x?(f.updateQueue=x.updateQueue,f.memoizedState=x.memoizedState,f.lanes=x.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=nu(s);if(p!==null){p.flags&=-257,ru(p,s,i,l,t),p.mode&1&&tu(l,c,t),t=p,u=c;var b=t.updateQueue;if(b===null){var k=new Set;k.add(u),t.updateQueue=k}else b.add(u);break e}else{if(!(t&1)){tu(l,c,t),Ga();break e}u=Error(E(426))}}else if(ne&&i.mode&1){var T=nu(s);if(T!==null){!(T.flags&65536)&&(T.flags|=256),ru(T,s,i,l,t),Ta(rr(u,i));break e}}l=u=rr(u,i),ye!==4&&(ye=2),Lr===null?Lr=[l]:Lr.push(l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var h=md(l,u,t);Qi(l,h);break e;case 1:i=u;var d=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof d.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(nn===null||!nn.has(g)))){l.flags|=65536,t&=-t,l.lanes|=t;var w=gd(l,i,t);Qi(l,w);break e}}l=l.return}while(l!==null)}Rd(n)}catch(m){t=m,pe===n&&n!==null&&(pe=n=n.return);continue}break}while(!0)}function Dd(){var e=ll.current;return ll.current=ol,e===null?ol:e}function Ga(){(ye===0||ye===3||ye===2)&&(ye=4),ke===null||!(Sn&268435455)&&!(wl&268435455)||Gt(ke,Ce)}function il(e,t){var n=V;V|=2;var r=Dd();(ke!==e||Ce!==t)&&(_t=null,xn(e,t));do try{Wp();break}catch(o){Md(e,o)}while(!0);if(Ia(),V=n,ll.current=r,pe!==null)throw Error(E(261));return ke=null,Ce=0,ye}function Wp(){for(;pe!==null;)Ld(pe)}function $p(){for(;pe!==null&&!ch();)Ld(pe)}function Ld(e){var t=zd(e.alternate,e,Ke);e.memoizedProps=e.pendingProps,t===null?Rd(e):pe=t,Ua.current=null}function Rd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Mp(n,t),n!==null){n.flags&=32767,pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ye=6,pe=null;return}}else if(n=_p(n,t,Ke),n!==null){pe=n;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);ye===0&&(ye=5)}function hn(e,t,n){var r=Y,o=it.transition;try{it.transition=null,Y=1,Fp(e,t,n,r)}finally{it.transition=o,Y=r}return null}function Fp(e,t,n,r){do Zn();while(Kt!==null);if(V&6)throw Error(E(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(wh(e,l),e===ke&&(pe=ke=null,Ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||So||(So=!0,Wd(Uo,function(){return Zn(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=it.transition,it.transition=null;var s=Y;Y=1;var i=V;V|=4,Ua.current=null,Lp(e,n),Pd(n,e),sp(Ds),Vo=!!Ms,Ds=Ms=null,e.current=n,Rp(n),dh(),V=i,Y=s,it.transition=l}else e.current=n;if(So&&(So=!1,Kt=e,al=o),l=e.pendingLanes,l===0&&(nn=null),ph(n.stateNode),Ye(e,he()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(sl)throw sl=!1,e=qs,qs=null,e;return al&1&&e.tag!==0&&Zn(),l=e.pendingLanes,l&1?e===ea?Rr++:(Rr=0,ea=e):Rr=0,cn(),null}function Zn(){if(Kt!==null){var e=mc(al),t=it.transition,n=Y;try{if(it.transition=null,Y=16>e?16:e,Kt===null)var r=!1;else{if(e=Kt,Kt=null,al=0,V&6)throw Error(E(331));var o=V;for(V|=4,R=e.current;R!==null;){var l=R,s=l.child;if(R.flags&16){var i=l.deletions;if(i!==null){for(var u=0;u<i.length;u++){var c=i[u];for(R=c;R!==null;){var f=R;switch(f.tag){case 0:case 11:case 15:Dr(8,f,l)}var v=f.child;if(v!==null)v.return=f,R=v;else for(;R!==null;){f=R;var x=f.sibling,p=f.return;if(Cd(f),f===c){R=null;break}if(x!==null){x.return=p,R=x;break}R=p}}}var b=l.alternate;if(b!==null){var k=b.child;if(k!==null){b.child=null;do{var T=k.sibling;k.sibling=null,k=T}while(k!==null)}}R=l}}if(l.subtreeFlags&2064&&s!==null)s.return=l,R=s;else e:for(;R!==null;){if(l=R,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Dr(9,l,l.return)}var h=l.sibling;if(h!==null){h.return=l.return,R=h;break e}R=l.return}}var d=e.current;for(R=d;R!==null;){s=R;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,R=g;else e:for(s=d;R!==null;){if(i=R,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:yl(9,i)}}catch(m){de(i,i.return,m)}if(i===s){R=null;break e}var w=i.sibling;if(w!==null){w.return=i.return,R=w;break e}R=i.return}}if(V=o,cn(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(dl,e)}catch{}r=!0}return r}finally{Y=n,it.transition=t}}return!1}function gu(e,t,n){t=rr(n,t),t=md(e,t,1),e=tn(e,t,1),t=$e(),e!==null&&(eo(e,1,t),Ye(e,t))}function de(e,t,n){if(e.tag===3)gu(e,e,n);else for(;t!==null;){if(t.tag===3){gu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nn===null||!nn.has(r))){e=rr(n,e),e=gd(t,e,1),t=tn(t,e,1),e=$e(),t!==null&&(eo(t,1,e),Ye(t,e));break}}t=t.return}}function Ap(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&n,ke===e&&(Ce&n)===n&&(ye===4||ye===3&&(Ce&130023424)===Ce&&500>he()-Va?xn(e,0):Ba|=n),Ye(e,t)}function Od(e,t){t===0&&(e.mode&1?(t=fo,fo<<=1,!(fo&130023424)&&(fo=4194304)):t=1);var n=$e();e=Wt(e,t),e!==null&&(eo(e,t,n),Ye(e,n))}function Hp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Od(e,n)}function Up(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(t),Od(e,n)}var zd;zd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ve.current)Be=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Be=!1,Ip(e,t,n);Be=!!(e.flags&131072)}else Be=!1,ne&&t.flags&1048576&&Ac(t,Jo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Oo(e,t),e=t.pendingProps;var o=qn(t,De.current);Kn(t,n),o=Wa(null,t,r,e,o,n);var l=$a();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xe(r)?(l=!0,Ko(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Da(t),o.updater=vl,t.stateNode=o,o._reactInternals=t,Hs(t,r,e,n),t=Vs(null,t,r,!0,l,n)):(t.tag=0,ne&&l&&Ca(t),We(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Oo(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Vp(r),e=mt(r,e),o){case 0:t=Bs(null,t,r,e,n);break e;case 1:t=su(null,t,r,e,n);break e;case 11:t=ou(null,t,r,e,n);break e;case 14:t=lu(null,t,r,mt(r.type,e),n);break e}throw Error(E(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:mt(r,o),Bs(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:mt(r,o),su(e,t,r,o,n);case 3:e:{if(wd(t),e===null)throw Error(E(387));r=t.pendingProps,l=t.memoizedState,o=l.element,Yc(e,t),tl(t,r,null,n);var s=t.memoizedState;if(r=s.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=rr(Error(E(423)),t),t=au(e,t,r,n,o);break e}else if(r!==o){o=rr(Error(E(424)),t),t=au(e,t,r,n,o);break e}else for(Ze=en(t.stateNode.containerInfo.firstChild),Je=t,ne=!0,xt=null,n=Vc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(er(),r===o){t=$t(e,t,n);break e}We(e,t,r,n)}t=t.child}return t;case 5:return Gc(t),e===null&&$s(t),r=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,s=o.children,Ls(r,o)?s=null:l!==null&&Ls(r,l)&&(t.flags|=32),yd(e,t),We(e,t,s,n),t.child;case 6:return e===null&&$s(t),null;case 13:return bd(e,t,n);case 4:return La(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=tr(t,null,r,n):We(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:mt(r,o),ou(e,t,r,o,n);case 7:return We(e,t,t.pendingProps,n),t.child;case 8:return We(e,t,t.pendingProps.children,n),t.child;case 12:return We(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,l=t.memoizedProps,s=o.value,J(qo,r._currentValue),r._currentValue=s,l!==null)if(wt(l.value,s)){if(l.children===o.children&&!Ve.current){t=$t(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var i=l.dependencies;if(i!==null){s=l.child;for(var u=i.firstContext;u!==null;){if(u.context===r){if(l.tag===1){u=Rt(-1,n&-n),u.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Fs(l.return,n,t),i.lanes|=n;break}u=u.next}}else if(l.tag===10)s=l.type===t.type?null:l.child;else if(l.tag===18){if(s=l.return,s===null)throw Error(E(341));s.lanes|=n,i=s.alternate,i!==null&&(i.lanes|=n),Fs(s,n,t),s=l.sibling}else s=l.child;if(s!==null)s.return=l;else for(s=l;s!==null;){if(s===t){s=null;break}if(l=s.sibling,l!==null){l.return=s.return,s=l;break}s=s.return}l=s}We(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Kn(t,n),o=ut(o),r=r(o),t.flags|=1,We(e,t,r,n),t.child;case 14:return r=t.type,o=mt(r,t.pendingProps),o=mt(r.type,o),lu(e,t,r,o,n);case 15:return xd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:mt(r,o),Oo(e,t),t.tag=1,Xe(r)?(e=!0,Ko(t)):e=!1,Kn(t,n),pd(t,r,o),Hs(t,r,o,n),Vs(null,t,r,!0,e,n);case 19:return Sd(e,t,n);case 22:return vd(e,t,n)}throw Error(E(156,t.tag))};function Wd(e,t){return dc(e,t)}function Bp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function at(e,t,n,r){return new Bp(e,t,n,r)}function Qa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vp(e){if(typeof e=="function")return Qa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pa)return 11;if(e===ma)return 14}return 2}function on(e,t){var n=e.alternate;return n===null?(n=at(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $o(e,t,n,r,o,l){var s=2;if(r=e,typeof e=="function")Qa(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Dn:return vn(n.children,o,l,t);case ha:s=8,o|=8;break;case fs:return e=at(12,n,t,o|2),e.elementType=fs,e.lanes=l,e;case hs:return e=at(13,n,t,o),e.elementType=hs,e.lanes=l,e;case ps:return e=at(19,n,t,o),e.elementType=ps,e.lanes=l,e;case Gu:return bl(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Xu:s=10;break e;case Yu:s=9;break e;case pa:s=11;break e;case ma:s=14;break e;case Bt:s=16,r=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=at(s,n,t,o),t.elementType=e,t.type=r,t.lanes=l,t}function vn(e,t,n,r){return e=at(7,e,r,t),e.lanes=n,e}function bl(e,t,n,r){return e=at(22,e,r,t),e.elementType=Gu,e.lanes=n,e.stateNode={isHidden:!1},e}function rs(e,t,n){return e=at(6,e,null,t),e.lanes=n,e}function os(e,t,n){return t=at(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xp(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wl(0),this.expirationTimes=Wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Ka(e,t,n,r,o,l,s,i,u){return e=new Xp(e,t,n,i,u),t===1?(t=1,l===!0&&(t|=8)):t=0,l=at(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(l),e}function Yp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $d(e){if(!e)return sn;e=e._reactInternals;e:{if(jn(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var n=e.type;if(Xe(n))return $c(e,n,t)}return t}function Fd(e,t,n,r,o,l,s,i,u){return e=Ka(n,r,!0,e,o,l,s,i,u),e.context=$d(null),n=e.current,r=$e(),o=rn(n),l=Rt(r,o),l.callback=t??null,tn(n,l,o),e.current.lanes=o,eo(e,o,r),Ye(e,r),e}function Sl(e,t,n,r){var o=t.current,l=$e(),s=rn(o);return n=$d(n),t.context===null?t.context=n:t.pendingContext=n,t=Rt(l,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=tn(o,t,s),e!==null&&(yt(e,o,s,l),Do(e,o,s)),s}function ul(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Za(e,t){xu(e,t),(e=e.alternate)&&xu(e,t)}function Gp(){return null}var Ad=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ja(e){this._internalRoot=e}kl.prototype.render=Ja.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));Sl(e,t,null,null)};kl.prototype.unmount=Ja.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kn(function(){Sl(null,e,null,null)}),t[zt]=null}};function kl(e){this._internalRoot=e}kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=vc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yt.length&&t!==0&&t<Yt[n].priority;n++);Yt.splice(n,0,e),n===0&&wc(e)}};function qa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vu(){}function Qp(e,t,n,r,o){if(o){if(typeof r=="function"){var l=r;r=function(){var c=ul(s);l.call(c)}}var s=Fd(t,r,e,0,null,!1,!1,"",vu);return e._reactRootContainer=s,e[zt]=s.current,Br(e.nodeType===8?e.parentNode:e),kn(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var i=r;r=function(){var c=ul(u);i.call(c)}}var u=Ka(e,0,!1,null,null,!1,!1,"",vu);return e._reactRootContainer=u,e[zt]=u.current,Br(e.nodeType===8?e.parentNode:e),kn(function(){Sl(t,u,n,r)}),u}function jl(e,t,n,r,o){var l=n._reactRootContainer;if(l){var s=l;if(typeof o=="function"){var i=o;o=function(){var u=ul(s);i.call(u)}}Sl(t,s,e,o)}else s=Qp(n,t,e,o,r);return ul(s)}gc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=jr(t.pendingLanes);n!==0&&(va(t,n|1),Ye(t,he()),!(V&6)&&(or=he()+500,cn()))}break;case 13:kn(function(){var r=Wt(e,1);if(r!==null){var o=$e();yt(r,e,1,o)}}),Za(e,1)}};ya=function(e){if(e.tag===13){var t=Wt(e,134217728);if(t!==null){var n=$e();yt(t,e,134217728,n)}Za(e,134217728)}};xc=function(e){if(e.tag===13){var t=rn(e),n=Wt(e,t);if(n!==null){var r=$e();yt(n,e,t,r)}Za(e,t)}};vc=function(){return Y};yc=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};Ns=function(e,t,n){switch(t){case"input":if(xs(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=ml(r);if(!o)throw Error(E(90));Ku(r),xs(r,o)}}}break;case"textarea":Ju(e,n);break;case"select":t=n.value,t!=null&&Xn(e,!!n.multiple,t,!1)}};lc=Xa;sc=kn;var Kp={usingClientEntryPoint:!1,Events:[no,zn,ml,rc,oc,Xa]},wr={findFiberByHostInstance:pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zp={bundleType:wr.bundleType,version:wr.version,rendererPackageName:wr.rendererPackageName,rendererConfig:wr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uc(e),e===null?null:e.stateNode},findFiberByHostInstance:wr.findFiberByHostInstance||Gp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ko.isDisabled&&ko.supportsFiber)try{dl=ko.inject(Zp),Et=ko}catch{}}tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kp;tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qa(t))throw Error(E(200));return Yp(e,t,null,n)};tt.createRoot=function(e,t){if(!qa(e))throw Error(E(299));var n=!1,r="",o=Ad;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Ka(e,1,!1,null,null,n,!1,r,o),e[zt]=t.current,Br(e.nodeType===8?e.parentNode:e),new Ja(t)};tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=uc(t),e=e===null?null:e.stateNode,e};tt.flushSync=function(e){return kn(e)};tt.hydrate=function(e,t,n){if(!Nl(t))throw Error(E(200));return jl(null,e,t,!0,n)};tt.hydrateRoot=function(e,t,n){if(!qa(e))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,o=!1,l="",s=Ad;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Fd(t,null,e,1,n??null,o,!1,l,s),e[zt]=t.current,Br(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new kl(t)};tt.render=function(e,t,n){if(!Nl(t))throw Error(E(200));return jl(null,e,t,!1,n)};tt.unmountComponentAtNode=function(e){if(!Nl(e))throw Error(E(40));return e._reactRootContainer?(kn(function(){jl(null,null,e,!1,function(){e._reactRootContainer=null,e[zt]=null})}),!0):!1};tt.unstable_batchedUpdates=Xa;tt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Nl(n))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return jl(e,t,n,!1,r)};tt.version="18.3.1-next-f1338f8080-20240426";function Hd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hd)}catch(e){console.error(e)}}Hd(),Hu.exports=tt;var oo=Hu.exports,yu=oo;cs.createRoot=yu.createRoot,cs.hydrateRoot=yu.hydrateRoot;const Jp={},wu=e=>{let t;const n=new Set,r=(f,v)=>{const x=typeof f=="function"?f(t):f;if(!Object.is(x,t)){const p=t;t=v??(typeof x!="object"||x===null)?x:Object.assign({},t,x),n.forEach(b=>b(t,p))}},o=()=>t,u={setState:r,getState:o,getInitialState:()=>c,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(Jp?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,o,u);return u},qp=e=>e?wu(e):wu;var Ud={exports:{}},Bd={},Vd={exports:{}},Xd={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lr=_;function em(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tm=typeof Object.is=="function"?Object.is:em,nm=lr.useState,rm=lr.useEffect,om=lr.useLayoutEffect,lm=lr.useDebugValue;function sm(e,t){var n=t(),r=nm({inst:{value:n,getSnapshot:t}}),o=r[0].inst,l=r[1];return om(function(){o.value=n,o.getSnapshot=t,ls(o)&&l({inst:o})},[e,n,t]),rm(function(){return ls(o)&&l({inst:o}),e(function(){ls(o)&&l({inst:o})})},[e]),lm(n),n}function ls(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tm(e,n)}catch{return!0}}function am(e,t){return t()}var im=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?am:sm;Xd.useSyncExternalStore=lr.useSyncExternalStore!==void 0?lr.useSyncExternalStore:im;Vd.exports=Xd;var um=Vd.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cl=_,cm=um;function dm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fm=typeof Object.is=="function"?Object.is:dm,hm=cm.useSyncExternalStore,pm=Cl.useRef,mm=Cl.useEffect,gm=Cl.useMemo,xm=Cl.useDebugValue;Bd.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var l=pm(null);if(l.current===null){var s={hasValue:!1,value:null};l.current=s}else s=l.current;l=gm(function(){function u(p){if(!c){if(c=!0,f=p,p=r(p),o!==void 0&&s.hasValue){var b=s.value;if(o(b,p))return v=b}return v=p}if(b=v,fm(f,p))return b;var k=r(p);return o!==void 0&&o(b,k)?(f=p,b):(f=p,v=k)}var c=!1,f,v,x=n===void 0?null:n;return[function(){return u(t())},x===null?void 0:function(){return u(x())}]},[t,n,r,o]);var i=hm(e,l[0],l[1]);return mm(function(){s.hasValue=!0,s.value=i},[i]),xm(i),i};Ud.exports=Bd;var vm=Ud.exports;const ym=la(vm),Yd={},{useDebugValue:wm}=Fu,{useSyncExternalStoreWithSelector:bm}=ym;let bu=!1;const Sm=e=>e;function km(e,t=Sm,n){(Yd?"production":void 0)!=="production"&&n&&!bu&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),bu=!0);const r=bm(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return wm(r),r}const Su=e=>{(Yd?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?qp(e):e,n=(r,o)=>km(t,r,o);return Object.assign(n,t),n},ei=e=>e?Su(e):Su;let No;const Nm=new Uint8Array(16);function jm(){if(!No&&(No=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!No))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return No(Nm)}const Ne=[];for(let e=0;e<256;++e)Ne.push((e+256).toString(16).slice(1));function Cm(e,t=0){return Ne[e[t+0]]+Ne[e[t+1]]+Ne[e[t+2]]+Ne[e[t+3]]+"-"+Ne[e[t+4]]+Ne[e[t+5]]+"-"+Ne[e[t+6]]+Ne[e[t+7]]+"-"+Ne[e[t+8]]+Ne[e[t+9]]+"-"+Ne[e[t+10]]+Ne[e[t+11]]+Ne[e[t+12]]+Ne[e[t+13]]+Ne[e[t+14]]+Ne[e[t+15]]}const Em=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ku={randomUUID:Em};function Xt(e,t,n){if(ku.randomUUID&&!e)return ku.randomUUID();e=e||{};const r=e.random||(e.rng||jm)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Cm(r)}function br(e){const t=e.sheets.find(n=>n.id===e.activeSheetId);return(t==null?void 0:t.widgets)||[]}function ht(e,t){return{...e,sheets:e.sheets.map(n=>n.id===e.activeSheetId?{...n,widgets:t(n.widgets)}:n)}}function Tm(e){if(e.sheets&&e.sheets.length>0)return e;const t={id:Xt(),name:"Main",widgets:e.widgets||[]};return{id:e.id,name:e.name,theme:e.theme,sheets:[t],activeSheetId:t.id}}const F=ei(e=>{const t=(()=>{try{const l=localStorage.getItem("ucs:store");if(!l)return null;const s=JSON.parse(l);return{characters:s.characters.map(Tm),activeCharacterId:s.activeCharacterId}}catch(l){return console.error("Failed to load persisted store",l),null}})(),n=(t==null?void 0:t.characters)??[],r=(t==null?void 0:t.activeCharacterId)??null;return{characters:n,activeCharacterId:r,mode:"play",editingWidgetId:null,selectedWidgetId:null,createCharacter:l=>e(s=>{const i={id:Xt(),name:"Main",widgets:[]},u={id:Xt(),name:l,sheets:[i],activeSheetId:i.id};return{characters:[...s.characters,u],activeCharacterId:u.id}}),selectCharacter:l=>e({activeCharacterId:l}),deleteCharacter:l=>e(s=>({characters:s.characters.filter(i=>i.id!==l),activeCharacterId:s.activeCharacterId===l?null:s.activeCharacterId})),updateCharacterName:(l,s)=>e(i=>({characters:i.characters.map(u=>u.id===l?{...u,name:s}:u)})),updateCharacterTheme:(l,s)=>e(i=>({characters:i.characters.map(u=>u.id===l?{...u,theme:s}:u)})),setMode:l=>e({mode:l,selectedWidgetId:null}),setEditingWidgetId:l=>e({editingWidgetId:l}),setSelectedWidgetId:l=>e({selectedWidgetId:l}),createSheet:l=>e(s=>{if(!s.activeCharacterId)return s;const i={id:Xt(),name:l,widgets:[]};return{characters:s.characters.map(u=>u.id===s.activeCharacterId?{...u,sheets:[...u.sheets,i],activeSheetId:i.id}:u)}}),selectSheet:l=>e(s=>s.activeCharacterId?{characters:s.characters.map(i=>i.id===s.activeCharacterId?{...i,activeSheetId:l}:i)}:s),deleteSheet:l=>e(s=>s.activeCharacterId?{characters:s.characters.map(i=>{if(i.id!==s.activeCharacterId||i.sheets.length<=1)return i;const u=i.sheets.filter(f=>f.id!==l),c=i.activeSheetId===l?u[0].id:i.activeSheetId;return{...i,sheets:u,activeSheetId:c}})}:s),renameSheet:(l,s)=>e(i=>i.activeCharacterId?{characters:i.characters.map(u=>u.id!==i.activeCharacterId?u:{...u,sheets:u.sheets.map(c=>c.id===l?{...c,name:s}:c)})}:i),addWidget:(l,s,i)=>e(u=>{if(!u.activeCharacterId)return u;const c=u.characters.find(d=>d.id===u.activeCharacterId);if(!c)return u;const f=br(c);let v=s,x=i;const p=10,b=200,k=120,T=20;if(f.length===0)v=Math.round(400/p)*p,x=Math.round(300/p)*p;else{const d=Math.min(...f.map(y=>y.x)),g=Math.max(...f.map(y=>y.x+(y.w||b))),w=Math.min(...f.map(y=>y.y)),m=Math.max(...f.map(y=>y.y+(y.h||k)));v=Math.round((g+T)/p)*p,x=Math.round(w/p)*p,v>1500&&(v=Math.round(d/p)*p,x=Math.round((m+T)/p)*p)}const h={id:Xt(),type:l,x:v,y:x,w:b,h:k,data:{label:"New Widget",value:0,items:[],text:""}};return{characters:u.characters.map(d=>d.id===u.activeCharacterId?ht(d,g=>[...g,h]):d)}}),updateWidgetPosition:(l,s,i)=>e(u=>({characters:u.characters.map(c=>c.id===u.activeCharacterId?ht(c,f=>f.map(v=>v.id===l?{...v,x:s,y:i}:v)):c)})),updateWidgetSize:(l,s,i)=>e(u=>({characters:u.characters.map(c=>c.id===u.activeCharacterId?ht(c,f=>f.map(v=>v.id===l?{...v,w:s,h:i}:v)):c)})),updateWidgetData:(l,s)=>e(i=>({characters:i.characters.map(u=>u.id===i.activeCharacterId?ht(u,c=>c.map(f=>f.id===l?{...f,data:{...f.data,...s}}:f)):u)})),removeWidget:l=>e(s=>({characters:s.characters.map(i=>i.id===s.activeCharacterId?ht(i,u=>u.filter(c=>c.id!==l)):i)})),attachWidgets:(l,s)=>e(i=>i.activeCharacterId?{characters:i.characters.map(u=>{var p;if(u.id!==i.activeCharacterId)return u;const c=br(u),f=c.find(b=>b.id===l),v=c.find(b=>b.id===s);if(!f||!v||(p=f.attachedTo)!=null&&p.includes(s))return u;let x;if(f.groupId&&v.groupId&&f.groupId!==v.groupId){x=f.groupId;const b=v.groupId;return ht(u,k=>k.map(T=>T.groupId===b?{...T,groupId:x}:T.id===l?{...T,attachedTo:[...T.attachedTo||[],s]}:T.id===s?{...T,attachedTo:[...T.attachedTo||[],l]}:T))}else f.groupId?x=f.groupId:v.groupId?x=v.groupId:x=Xt();return ht(u,b=>b.map(k=>k.id===l?{...k,groupId:x,attachedTo:[...k.attachedTo||[],s]}:k.id===s?{...k,groupId:x,attachedTo:[...k.attachedTo||[],l]}:k))})}:i),detachWidgets:(l,s)=>e(i=>i.activeCharacterId?{characters:i.characters.map(u=>{var w;if(u.id!==i.activeCharacterId)return u;const c=br(u),f=c.find(m=>m.id===l);if(!f||!f.groupId)return u;const v=f.groupId,x=f.attachedTo||[];let p=c.map(m=>m.id===l?{...m,groupId:void 0,attachedTo:void 0}:x.includes(m.id)?{...m,attachedTo:(m.attachedTo||[]).filter(y=>y!==l)}:m);const b=p.filter(m=>m.groupId===v).map(m=>m.id);if(b.length===0)return ht(u,()=>p);const k=new Map;for(const m of b){const y=p.find(S=>S.id===m);k.set(m,((w=y==null?void 0:y.attachedTo)==null?void 0:w.filter(S=>b.includes(S)))||[])}const T=new Set,h=[];for(const m of b){if(T.has(m))continue;const y=[],S=[m];for(;S.length>0;){const j=S.shift();if(T.has(j))continue;T.add(j),y.push(j);const P=k.get(j)||[];for(const I of P)T.has(I)||S.push(I)}h.push(y)}const d=h.map((m,y)=>{if(!(m.length<=1))return y===0&&h.filter(S=>S.length>1).length<=1?v:Xt()}),g=new Map;return h.forEach((m,y)=>{for(const S of m)g.set(S,d[y])}),p=p.map(m=>{if(g.has(m.id)){const y=g.get(m.id);return y?{...m,groupId:y}:{...m,groupId:void 0,attachedTo:void 0}}return m}),ht(u,()=>p)})}:i),getWidgetsInGroup:l=>{const s=F.getState(),i=s.characters.find(c=>c.id===s.activeCharacterId);return i?br(i).filter(c=>c.groupId===l):[]},moveWidgetGroup:(l,s,i)=>e(u=>{if(!u.activeCharacterId)return u;const c=u.characters.find(p=>p.id===u.activeCharacterId);if(!c)return u;const v=br(c).find(p=>p.id===l);if(!v||!v.groupId)return{characters:u.characters.map(p=>p.id===u.activeCharacterId?ht(p,b=>b.map(k=>k.id===l?{...k,x:k.x+s,y:k.y+i}:k)):p)};const x=v.groupId;return{characters:u.characters.map(p=>p.id===u.activeCharacterId?ht(p,b=>b.map(k=>k.groupId===x?{...k,x:k.x+s,y:k.y+i}:k)):p)}})}});{let e=null;F.subscribe(()=>{e&&window.clearTimeout(e),e=window.setTimeout(()=>{try{const t=F.getState(),n={characters:t.characters,activeCharacterId:t.activeCharacterId};localStorage.setItem("ucs:store",JSON.stringify(n))}catch(t){console.error("Failed to persist store",t)}},150)})}const Oe={none:"none",parchment:`repeating-linear-gradient(
    120deg,
    transparent 0px,
    transparent 2px,
    rgba(139, 115, 85, 0.03) 2px,
    rgba(139, 115, 85, 0.03) 4px
  ), repeating-linear-gradient(
    60deg,
    transparent 0px,
    transparent 2px,
    rgba(139, 115, 85, 0.02) 2px,
    rgba(139, 115, 85, 0.02) 4px
  )`,darkGrain:`repeating-linear-gradient(
    45deg,
    transparent 0px,
    transparent 1px,
    rgba(255, 255, 255, 0.02) 1px,
    rgba(255, 255, 255, 0.02) 2px
  ), repeating-linear-gradient(
    -45deg,
    transparent 0px,
    transparent 1px,
    rgba(255, 255, 255, 0.015) 1px,
    rgba(255, 255, 255, 0.015) 2px
  )`,scanlines:`repeating-linear-gradient(
    0deg,
    transparent 0px,
    transparent 2px,
    rgba(0, 255, 255, 0.04) 2px,
    rgba(0, 255, 255, 0.04) 4px
  )`,holographic:`linear-gradient(
    135deg,
    rgba(0, 255, 255, 0.08) 0%,
    transparent 25%,
    rgba(0, 255, 136, 0.06) 50%,
    transparent 75%,
    rgba(0, 200, 255, 0.08) 100%
  )`,arcaneRunes:`radial-gradient(
    circle at 50% 50%,
    transparent 30%,
    rgba(191, 127, 255, 0.06) 31%,
    rgba(191, 127, 255, 0.06) 32%,
    transparent 33%,
    transparent 60%,
    rgba(191, 127, 255, 0.04) 61%,
    rgba(191, 127, 255, 0.04) 62%,
    transparent 63%
  )`,brassPlate:`repeating-linear-gradient(
    0deg,
    transparent 0px,
    transparent 18px,
    rgba(205, 127, 50, 0.08) 18px,
    rgba(205, 127, 50, 0.08) 20px
  )`,neonGrid:`repeating-linear-gradient(
    0deg,
    transparent 0px,
    transparent 48px,
    rgba(255, 0, 255, 0.1) 48px,
    rgba(255, 0, 255, 0.1) 50px
  ), repeating-linear-gradient(
    90deg,
    transparent 0px,
    transparent 48px,
    rgba(255, 0, 255, 0.1) 48px,
    rgba(255, 0, 255, 0.1) 50px
  )`,leafPattern:`radial-gradient(
    ellipse 20px 10px at 25% 75%,
    rgba(74, 124, 89, 0.12) 0%,
    transparent 100%
  ), radial-gradient(
    ellipse 15px 8px at 75% 25%,
    rgba(74, 124, 89, 0.1) 0%,
    transparent 100%
  )`,sketchLines:`repeating-linear-gradient(
    0deg,
    transparent 0px,
    transparent 26px,
    rgba(153, 194, 255, 0.25) 26px,
    rgba(153, 194, 255, 0.25) 28px
  )`,necroticMist:`radial-gradient(
    ellipse at 30% 70%,
    rgba(74, 170, 0, 0.1) 0%,
    transparent 50%
  ), radial-gradient(
    ellipse at 80% 20%,
    rgba(74, 170, 0, 0.08) 0%,
    transparent 40%
  )`},Pm=[{value:"none",label:"None"},{value:"parchment",label:"Parchment"},{value:"darkGrain",label:"Dark Grain"},{value:"scanlines",label:"Scanlines"},{value:"holographic",label:"Holographic"},{value:"arcaneRunes",label:"Arcane Runes"},{value:"brassPlate",label:"Brass Plate"},{value:"neonGrid",label:"Neon Grid"},{value:"leafPattern",label:"Leaf Pattern"},{value:"sketchLines",label:"Sketch Lines"},{value:"necroticMist",label:"Necrotic Mist"}],Im=[{value:"hard",label:"Hard Offset"},{value:"soft",label:"Soft Drop"},{value:"glow",label:"Glow"},{value:"inset",label:"Inset"},{value:"layered",label:"Layered"},{value:"none",label:"None"}],_m=[{value:"solid",label:"Solid"},{value:"dashed",label:"Dashed"},{value:"dotted",label:"Dotted"},{value:"double",label:"Double"}];function ti(e){return Oe[e]||Oe.none}function ni(e,t="transparent"){switch(e){case"hard":return"4px 4px 0 0 var(--color-shadow)";case"soft":return"0 4px 12px var(--color-shadow)";case"glow":return`0 0 12px ${t}, 0 0 24px var(--color-shadow)`;case"inset":return"inset 0 2px 8px var(--color-shadow)";case"layered":return"2px 2px 0 var(--color-border), 4px 4px 8px var(--color-shadow)";case"none":return"none";default:return"4px 4px 0 0 var(--color-shadow)"}}const sr=[{id:"default",name:"Classic",icon:"",description:"Clean black & white with hard shadows",colors:{background:"#e5e7eb",paper:"#ffffff",ink:"#000000",accent:"#000000",accentHover:"#374151",border:"#000000",shadow:"#000000",muted:"#6b7280",glow:"transparent"},fonts:{heading:'"Courier New", Courier, monospace',body:'"Courier New", Courier, monospace'},borderRadius:"0px",borderWidth:"2px",shadowStyle:"4px 4px 0 0 var(--color-shadow)",cardTexture:Oe.none,borderStyle:"solid"},{id:"pen-and-paper",name:"Pen & Paper",icon:"",description:"Handwritten style with lined paper feel",colors:{background:"#f5f0e6",paper:"#fffef9",ink:"#2c3e50",accent:"#8b4513",accentHover:"#a0522d",border:"#8b7355",shadow:"#8b7355",muted:"#7f8c8d",glow:"transparent"},fonts:{heading:'"Comic Sans MS", "Segoe Print", cursive',body:'"Segoe Print", "Comic Sans MS", cursive'},borderRadius:"2px",borderWidth:"1px",shadowStyle:"2px 2px 0 0 var(--color-shadow)",cardTexture:Oe.sketchLines,borderStyle:"solid"},{id:"medieval",name:"Medieval",icon:"",description:"Aged parchment with ornate styling",colors:{background:"#3d2914",paper:"#d4c4a8",ink:"#2c1810",accent:"#8b0000",accentHover:"#a52a2a",border:"#5c4033",shadow:"#2c1810",muted:"#6b5344",glow:"transparent"},fonts:{heading:'"Times New Roman", "Palatino Linotype", serif',body:'"Palatino Linotype", "Book Antiqua", serif'},borderRadius:"0px",borderWidth:"3px",shadowStyle:"3px 3px 6px 0 var(--color-shadow)",cardTexture:Oe.parchment,borderStyle:"double"},{id:"scifi",name:"Sci-Fi",icon:"",description:"Futuristic holographic interface",colors:{background:"#0a0a1a",paper:"#141428",ink:"#00ffff",accent:"#00ff88",accentHover:"#00cc6a",border:"#00ffff",shadow:"#00ffff40",muted:"#4a9eff",glow:"#00ffff"},fonts:{heading:'"Orbitron", "Segoe UI", sans-serif',body:'"Roboto Mono", "Consolas", monospace'},borderRadius:"4px",borderWidth:"1px",shadowStyle:"0 0 8px var(--color-glow), 0 0 16px var(--color-shadow)",cardTexture:`${Oe.scanlines}, ${Oe.holographic}`,borderStyle:"solid"},{id:"classic-dark",name:"Classic Dark",icon:"",description:"Traditional dark theme with warm accents",colors:{background:"#1a1a1a",paper:"#2d2d2d",ink:"#e0e0e0",accent:"#d4a574",accentHover:"#c49464",border:"#404040",shadow:"#00000080",muted:"#888888",glow:"transparent"},fonts:{heading:'"Georgia", "Times New Roman", serif',body:'"Georgia", "Times New Roman", serif'},borderRadius:"4px",borderWidth:"1px",shadowStyle:"0 4px 12px var(--color-shadow)",cardTexture:Oe.none,borderStyle:"solid"},{id:"modern-dark",name:"Modern Dark",icon:"",description:"Sleek contemporary dark interface",colors:{background:"#0f172a",paper:"#1e293b",ink:"#f1f5f9",accent:"#3b82f6",accentHover:"#2563eb",border:"#334155",shadow:"#00000060",muted:"#94a3b8",glow:"#3b82f6"},fonts:{heading:'"Inter", "Segoe UI", sans-serif',body:'"Inter", "Segoe UI", sans-serif'},borderRadius:"8px",borderWidth:"1px",shadowStyle:"0 4px 20px var(--color-shadow)",cardTexture:Oe.darkGrain,borderStyle:"solid"},{id:"high-magic",name:"High Magic",icon:"",description:"Arcane glyphs and mystical energy",colors:{background:"#1a0a2e",paper:"#2d1b4e",ink:"#e8d5ff",accent:"#bf7fff",accentHover:"#9966cc",border:"#bf7fff",shadow:"#bf7fff40",muted:"#9b8ab8",glow:"#bf7fff"},fonts:{heading:'"Cinzel", "Times New Roman", serif',body:'"Crimson Text", "Georgia", serif'},borderRadius:"8px",borderWidth:"2px",shadowStyle:"0 0 12px var(--color-glow), 0 0 24px var(--color-shadow)",cardTexture:Oe.arcaneRunes,borderStyle:"solid"},{id:"necrotic",name:"Necrotic",icon:"",description:"Dark and sinister undead aesthetic",colors:{background:"#0d0d0d",paper:"#1a1a1a",ink:"#c8c8c8",accent:"#4a0",accentHover:"#5b0",border:"#333333",shadow:"#00000080",muted:"#666666",glow:"#4a0"},fonts:{heading:'"Nosifer", "Impact", sans-serif',body:'"Courier New", monospace'},borderRadius:"0px",borderWidth:"1px",shadowStyle:"0 0 10px var(--color-shadow), inset 0 0 30px rgba(74, 170, 0, 0.05)",cardTexture:Oe.necroticMist,borderStyle:"solid"},{id:"modern",name:"Modern",icon:"",description:"Sleek contemporary design",colors:{background:"#f8fafc",paper:"#ffffff",ink:"#1e293b",accent:"#3b82f6",accentHover:"#2563eb",border:"#e2e8f0",shadow:"#64748b20",muted:"#64748b",glow:"transparent"},fonts:{heading:'"Inter", "Segoe UI", sans-serif',body:'"Inter", "Segoe UI", sans-serif'},borderRadius:"8px",borderWidth:"1px",shadowStyle:"0 4px 16px var(--color-shadow)",cardTexture:Oe.none,borderStyle:"solid"},{id:"steampunk",name:"Steampunk",icon:"",description:"Victorian brass and gears",colors:{background:"#2a1f1a",paper:"#3d2b1f",ink:"#d4a574",accent:"#cd7f32",accentHover:"#b8860b",border:"#cd7f32",shadow:"#00000060",muted:"#8b7355",glow:"#cd7f32"},fonts:{heading:'"Spectral SC", "Georgia", serif',body:'"Cutive Mono", "Courier New", monospace'},borderRadius:"2px",borderWidth:"2px",shadowStyle:"2px 2px 0 var(--color-border), 4px 4px 8px var(--color-shadow)",cardTexture:Oe.brassPlate,borderStyle:"solid"},{id:"cyberpunk",name:"Cyberpunk",icon:"",description:"Neon lights in a dark future",colors:{background:"#0f0f23",paper:"#1a1a2e",ink:"#eeff00",accent:"#ff00ff",accentHover:"#cc00cc",border:"#ff00ff",shadow:"#ff00ff40",muted:"#00ffff",glow:"#ff00ff"},fonts:{heading:'"Audiowide", "Impact", sans-serif',body:'"Share Tech Mono", "Consolas", monospace'},borderRadius:"0px",borderWidth:"2px",shadowStyle:"0 0 10px var(--color-glow), 0 0 20px var(--color-shadow), 4px 4px 0 var(--color-border)",cardTexture:Oe.neonGrid,borderStyle:"solid"},{id:"nature",name:"Nature",icon:"",description:"Organic earthy woodland feel",colors:{background:"#2d4a3e",paper:"#f4f1e0",ink:"#2d3b2d",accent:"#4a7c59",accentHover:"#3d6b4f",border:"#5a7247",shadow:"#2d3b2d40",muted:"#6b7c5a",glow:"transparent"},fonts:{heading:'"Amatic SC", "Trebuchet MS", sans-serif',body:'"Nunito", "Verdana", sans-serif'},borderRadius:"12px",borderWidth:"2px",shadowStyle:"0 4px 12px var(--color-shadow)",cardTexture:Oe.none,borderStyle:"solid"}];ei(e=>({currentTheme:(()=>{try{const n=localStorage.getItem("ucs:theme");return n?JSON.parse(n):"default"}catch{return"default"}})(),setTheme:n=>{e({currentTheme:n}),localStorage.setItem("ucs:theme",JSON.stringify(n)),ar(n)}}));function ar(e){const t=sr.find(r=>r.id===e)||sr[0],n=document.documentElement;n.style.setProperty("--color-background",t.colors.background),n.style.setProperty("--color-paper",t.colors.paper),n.style.setProperty("--color-ink",t.colors.ink),n.style.setProperty("--color-accent",t.colors.accent),n.style.setProperty("--color-accent-hover",t.colors.accentHover),n.style.setProperty("--color-border",t.colors.border),n.style.setProperty("--color-shadow",t.colors.shadow),n.style.setProperty("--color-muted",t.colors.muted),n.style.setProperty("--color-glow",t.colors.glow),n.style.setProperty("--font-heading",t.fonts.heading),n.style.setProperty("--font-body",t.fonts.body),n.style.setProperty("--border-radius",t.borderRadius),n.style.setProperty("--border-width",t.borderWidth),n.style.setProperty("--shadow-style",t.shadowStyle),n.style.setProperty("--card-texture",t.cardTexture),n.style.setProperty("--border-style",t.borderStyle)}function ra(e){const t=document.documentElement;t.style.setProperty("--color-background",e.colors.background),t.style.setProperty("--color-paper",e.colors.paper),t.style.setProperty("--color-ink",e.colors.ink),t.style.setProperty("--color-accent",e.colors.accent),t.style.setProperty("--color-accent-hover",e.colors.accentHover),t.style.setProperty("--color-border",e.colors.border),t.style.setProperty("--color-shadow",e.colors.shadow),t.style.setProperty("--color-muted",e.colors.muted),t.style.setProperty("--color-glow",e.colors.glow||"transparent"),t.style.setProperty("--font-heading",e.fonts.heading),t.style.setProperty("--font-body",e.fonts.body),t.style.setProperty("--border-radius",e.borderRadius),t.style.setProperty("--border-width",e.borderWidth);const n=ni(e.shadowStyle||"hard",e.colors.glow||"transparent");t.style.setProperty("--shadow-style",n);const r=ti(e.cardTexture||"none");t.style.setProperty("--card-texture",r),t.style.setProperty("--border-style",e.borderStyle||"solid")}const Nu=[{value:'"Courier New", Courier, monospace',label:"Courier New"},{value:'"Times New Roman", "Palatino Linotype", serif',label:"Times New Roman"},{value:'"Arial", "Helvetica Neue", sans-serif',label:"Arial"},{value:'"Georgia", "Palatino", serif',label:"Georgia"},{value:'"Comic Sans MS", "Segoe Print", cursive',label:"Comic Sans"},{value:'"Segoe Print", "Comic Sans MS", cursive',label:"Segoe Print"},{value:'"Trebuchet MS", "Lucida Sans", sans-serif',label:"Trebuchet MS"},{value:'"Verdana", "Geneva", sans-serif',label:"Verdana"},{value:'"Impact", "Charcoal", sans-serif',label:"Impact"},{value:'"Lucida Console", "Monaco", monospace',label:"Lucida Console"}],Mm=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Gd="ucs:custom-themes";function Dm(){try{const e=localStorage.getItem(Gd);return e?JSON.parse(e):[]}catch{return[]}}function ss(e){localStorage.setItem(Gd,JSON.stringify(e))}const Bn=ei((e,t)=>({customThemes:Dm(),addCustomTheme:n=>{const r=[...t().customThemes,n];ss(r),e({customThemes:r})},updateCustomTheme:(n,r)=>{const o=t().customThemes.map(l=>l.id===n?r:l);ss(o),e({customThemes:o})},deleteCustomTheme:n=>{const r=t().customThemes.filter(o=>o.id!==n);ss(r),e({customThemes:r})}}));function ri(e){return Bn.getState().customThemes.find(t=>t.id===e)}function Lm(){return{name:"My Custom Theme",icon:"",description:"A personalized theme",colors:{background:"#e5e7eb",paper:"#ffffff",ink:"#000000",accent:"#3b82f6",accentHover:"#2563eb",border:"#374151",shadow:"#1f2937",muted:"#6b7280",glow:"transparent"},fonts:{heading:'"Arial", "Helvetica Neue", sans-serif',body:'"Arial", "Helvetica Neue", sans-serif'},borderRadius:"4px",borderWidth:"2px",shadowStyle:"hard",cardTexture:"none",borderStyle:"solid"}}function Rm(e){const t=e?ri(e):void 0;if(t){const r=ni(t.shadowStyle||"hard",t.colors.glow||"transparent"),o=ti(t.cardTexture||"none");return{"--card-background":t.colors.paper,"--card-ink":t.colors.ink,"--card-border":t.colors.border,"--card-shadow":t.colors.shadow,"--card-muted":t.colors.muted,"--card-accent":t.colors.accent,"--card-glow":t.colors.glow||"transparent","--card-radius":t.borderRadius,"--card-border-width":t.borderWidth,"--card-border-style":t.borderStyle||"solid","--card-shadow-style":r,"--card-texture":o,fontFamily:t.fonts.body}}const n=sr.find(r=>r.id===(e||"default"))||sr[0];return{"--card-background":n.colors.paper,"--card-ink":n.colors.ink,"--card-border":n.colors.border,"--card-shadow":n.colors.shadow,"--card-muted":n.colors.muted,"--card-accent":n.colors.accent,"--card-glow":n.colors.glow,"--card-radius":n.borderRadius,"--card-border-width":n.borderWidth,"--card-border-style":n.borderStyle,"--card-shadow-style":n.shadowStyle,"--card-texture":n.cardTexture,fontFamily:n.fonts.body}}function Om(){var c;Bn(f=>f.customThemes);const e=F(f=>f.characters),t=F(f=>f.createCharacter),n=F(f=>f.selectCharacter),r=F(f=>f.deleteCharacter),[o,l]=_.useState(""),[s,i]=_.useState(null),u=f=>{f.preventDefault(),o.trim()&&(t(o),l(""))};return a.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-8 h-full overflow-auto",children:[a.jsx("h1",{className:"text-2xl sm:text-4xl font-bold mb-4 sm:mb-8 border-b-[length:var(--border-width)] border-theme-border pb-2 sm:pb-4 uppercase tracking-wider text-theme-ink font-heading",children:"Character Select"}),a.jsxs("form",{onSubmit:u,className:"mb-6 sm:mb-12 flex flex-col sm:flex-row gap-2 sm:gap-4",children:[a.jsx("input",{type:"text",value:o,onChange:f=>l(f.target.value),placeholder:"New Character Name",className:"flex-1 p-3 sm:p-4 text-base border-[length:var(--border-width)] border-theme-border shadow-theme focus:outline-none focus:translate-x-[2px] focus:translate-y-[2px] focus:shadow-none transition-all bg-theme-paper text-theme-ink rounded-theme font-body"}),a.jsx("button",{type:"submit",className:"bg-theme-accent text-theme-paper px-6 sm:px-8 py-3 sm:py-4 font-bold hover:bg-theme-accent-hover transition-colors shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme font-heading",children:"CREATE"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 pb-4",children:[e.map(f=>{const v=Rm(f.theme);return a.jsxs("div",{style:v,className:"p-4 sm:p-6 active:translate-x-[2px] active:translate-y-[2px] sm:hover:-translate-y-1 transition-transform cursor-pointer relative group",onClick:()=>n(f.id),children:[a.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundColor:"var(--card-background)",backgroundImage:"var(--card-texture)",borderRadius:"var(--card-radius)",border:"var(--card-border-width) var(--card-border-style) var(--card-border)",boxShadow:"var(--card-shadow-style)"}}),a.jsxs("div",{className:"relative",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-2 pr-12",style:{color:"var(--card-ink)"},children:f.name}),a.jsxs("p",{className:"text-sm sm:text-base mb-2 sm:mb-4",style:{color:"var(--card-muted)"},children:[f.sheets.reduce((x,p)=>x+p.widgets.length,0)," Widgets  ",f.sheets.length," Sheet",f.sheets.length!==1?"s":""]}),a.jsx("button",{onClick:x=>{x.stopPropagation(),i(f.id)},className:"absolute top-0 right-0 w-10 h-10 sm:w-auto sm:h-auto sm:opacity-0 sm:group-hover:opacity-100 text-red-500 font-bold hover:text-red-700 flex items-center justify-center",children:"DEL"})]})]},f.id)}),e.length===0&&a.jsx("div",{className:"col-span-full text-center py-8 sm:py-12 text-theme-muted border-[length:var(--border-width)] border-dashed border-theme-border/50 text-sm sm:text-base rounded-theme font-body",children:"No characters found. Create one to begin."})]}),s&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>i(null)}),a.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme p-4 z-50 min-w-[250px]",children:[a.jsx("h3",{className:"font-heading text-theme-ink font-bold mb-2",children:"Delete Character?"}),a.jsxs("p",{className:"text-sm text-theme-muted font-body mb-4",children:['Are you sure you want to delete "',(c=e.find(f=>f.id===s))==null?void 0:c.name,'"? This will delete all sheets and widgets.']}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx("button",{onClick:()=>i(null),className:"px-3 py-1.5 text-sm font-body text-theme-ink hover:bg-theme-accent/20 rounded-theme transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>{r(s),i(null)},className:"px-3 py-1.5 text-sm font-body bg-red-500 text-white hover:bg-red-600 rounded-theme transition-colors",children:"Delete"})]})]})]})]})}const zm=[{type:"NUMBER",label:"Number Tracker"},{type:"LIST",label:"List"},{type:"TEXT",label:"Text Area"},{type:"CHECKBOX",label:"Checkbox"},{type:"HEALTH_BAR",label:"Health Bar"},{type:"DICE_ROLLER",label:"Dice Roller"},{type:"SPELL_SLOT",label:"Spell Slots"},{type:"IMAGE",label:"Image"},{type:"POOL",label:"Resource Pool"},{type:"TOGGLE_GROUP",label:"Conditions"},{type:"TABLE",label:"Table"},{type:"TIME_TRACKER",label:"Time Tracker"}];function Wm({collapsed:e,onToggle:t}){const n=F(l=>l.addWidget),r=l=>{n(l,100,100)},o=(l,s)=>{l.dataTransfer.setData("widgetType",s),l.dataTransfer.effectAllowed="copy"};return a.jsxs(a.Fragment,{children:[!e&&a.jsx("div",{className:"fixed inset-0 bg-black/30 z-40 md:hidden",onClick:t}),a.jsxs("div",{className:`fixed left-0 top-0 bottom-0 w-[80vw] max-w-[280px] md:w-64 bg-theme-paper border-r-[length:var(--border-width)] border-theme-border z-50 flex flex-col p-3 sm:p-4 shadow-theme overflow-y-auto transition-transform duration-300 ease-in-out safe-area-bottom ${e?"-translate-x-full":"translate-x-0"}`,children:[a.jsx("button",{onClick:t,className:"hidden md:flex absolute -right-10 top-20 w-10 h-10 bg-theme-paper border-[length:var(--border-width)] border-theme-border border-l-0 font-bold shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all items-center justify-center text-theme-ink",title:e?"Show Toolbox":"Hide Toolbox",children:e?"":""}),a.jsx("button",{onClick:t,className:"md:hidden absolute top-3 right-3 w-8 h-8 bg-theme-accent text-theme-paper font-bold flex items-center justify-center rounded-theme",children:""}),a.jsx("div",{className:"mb-4 sm:mb-8",children:a.jsx("h2",{className:"text-xl sm:text-2xl font-bold uppercase tracking-wider border-b-[length:var(--border-width)] border-theme-border pb-2 text-theme-ink font-heading",children:"Toolbox"})}),a.jsx("div",{className:"flex flex-col gap-2 sm:gap-3",children:zm.map(({type:l,label:s})=>a.jsx("div",{draggable:!0,onDragStart:i=>o(i,l),onClick:()=>r(l),className:"p-2 sm:p-3 border-[length:var(--border-width)] border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-all text-left font-bold shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none cursor-pointer flex items-center gap-2 bg-theme-paper text-theme-ink rounded-theme",children:a.jsxs("span",{className:"text-xs sm:text-sm font-body",children:["+ ",s]})},l))}),a.jsxs("div",{className:"mt-auto pt-4 text-[10px] sm:text-xs text-theme-muted border-t border-theme-border/50 font-body",children:[a.jsx("p",{className:"hidden sm:block",children:"Drag widgets to arrange."}),a.jsx("p",{className:"sm:hidden",children:"Tap to add widgets."}),a.jsx("p",{children:"Pan with finger/mouse."}),a.jsx("p",{children:"Pinch/scroll to zoom."}),a.jsx("p",{className:"mt-2 text-theme-ink font-bold",children:"Edit Mode Active"})]})]})]})}function $m({theme:e,onSave:t,onCancel:n,onDelete:r}){const o=!!e,l=Lm(),[s,i]=_.useState((e==null?void 0:e.name)||l.name),[u,c]=_.useState((e==null?void 0:e.icon)||l.icon),[f,v]=_.useState((e==null?void 0:e.description)||l.description),[x,p]=_.useState((e==null?void 0:e.colors)||l.colors),[b,k]=_.useState((e==null?void 0:e.fonts.heading)||l.fonts.heading),[T,h]=_.useState((e==null?void 0:e.fonts.body)||l.fonts.body),[d,g]=_.useState((e==null?void 0:e.borderRadius)||l.borderRadius),[w,m]=_.useState((e==null?void 0:e.borderWidth)||l.borderWidth),[y,S]=_.useState((e==null?void 0:e.shadowStyle)||l.shadowStyle),[j,P]=_.useState((e==null?void 0:e.cardTexture)||l.cardTexture),[I,G]=_.useState((e==null?void 0:e.borderStyle)||l.borderStyle),[ae,me]=_.useState(!1),ie=(M,C)=>{p(O=>({...O,[M]:C}))},dt=()=>{const M={id:(e==null?void 0:e.id)||`custom-${Xt()}`,name:s,icon:u,description:f,colors:x,fonts:{heading:b,body:T},borderRadius:d,borderWidth:w,shadowStyle:y,cardTexture:j,borderStyle:I};t(M)},ue=[{key:"background",label:"Background"},{key:"paper",label:"Paper/Card"},{key:"ink",label:"Text/Ink"},{key:"accent",label:"Accent"},{key:"accentHover",label:"Accent Hover"},{key:"border",label:"Border"},{key:"shadow",label:"Shadow"},{key:"muted",label:"Muted Text"},{key:"glow",label:"Glow"}];return a.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:M=>M.stopPropagation(),children:[a.jsx("div",{className:"p-4 border-b-[length:var(--border-width)] border-theme-border sticky top-0 bg-theme-paper z-10",children:a.jsx("h2",{className:"text-xl font-bold text-theme-ink font-heading",children:o?" Edit Custom Theme":" Create Custom Theme"})}),a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("section",{children:[a.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Basic Info"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Theme Name"}),a.jsx("input",{type:"text",value:s,onChange:M=>i(M.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",placeholder:"My Custom Theme"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Icon"}),a.jsxs("button",{onClick:()=>me(!ae),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body text-left flex items-center gap-2",children:[a.jsx("span",{className:"text-xl",children:u}),a.jsx("span",{className:"text-xs text-theme-muted",children:"Click to change"})]}),ae&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 p-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme z-20 grid grid-cols-10 gap-1 max-h-40 overflow-y-auto",children:Mm.map(M=>a.jsx("button",{onClick:()=>{c(M),me(!1)},className:`p-1 text-lg hover:bg-theme-accent hover:text-theme-paper rounded ${u===M?"bg-theme-accent text-theme-paper":""}`,children:M},M))})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Description"}),a.jsx("input",{type:"text",value:f,onChange:M=>v(M.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",placeholder:"A personalized theme"})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Colors"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:ue.map(({key:M,label:C})=>a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:C}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"color",value:x[M],onChange:O=>ie(M,O.target.value),className:"w-10 h-10 border-[length:var(--border-width)] border-theme-border rounded cursor-pointer"}),a.jsx("input",{type:"text",value:x[M],onChange:O=>ie(M,O.target.value),className:"flex-1 p-1 text-xs border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded font-mono",placeholder:"#000000"})]})]},M))})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Fonts"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Heading Font"}),a.jsx("select",{value:b,onChange:M=>k(M.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:Nu.map(M=>a.jsx("option",{value:M.value,style:{fontFamily:M.value},children:M.label},M.value))}),a.jsx("p",{className:"text-xs text-theme-muted mt-1",style:{fontFamily:b},children:"Preview: The quick brown fox"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Body Font"}),a.jsx("select",{value:T,onChange:M=>h(M.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:Nu.map(M=>a.jsx("option",{value:M.value,style:{fontFamily:M.value},children:M.label},M.value))}),a.jsx("p",{className:"text-xs text-theme-muted mt-1",style:{fontFamily:T},children:"Preview: The quick brown fox"})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Style"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Border Radius"}),a.jsxs("select",{value:d,onChange:M=>g(M.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:[a.jsx("option",{value:"0px",children:"Sharp (0px)"}),a.jsx("option",{value:"2px",children:"Subtle (2px)"}),a.jsx("option",{value:"4px",children:"Small (4px)"}),a.jsx("option",{value:"8px",children:"Medium (8px)"}),a.jsx("option",{value:"12px",children:"Large (12px)"}),a.jsx("option",{value:"16px",children:"Extra Large (16px)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Border Width"}),a.jsxs("select",{value:w,onChange:M=>m(M.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:[a.jsx("option",{value:"1px",children:"Thin (1px)"}),a.jsx("option",{value:"2px",children:"Medium (2px)"}),a.jsx("option",{value:"3px",children:"Thick (3px)"}),a.jsx("option",{value:"4px",children:"Extra Thick (4px)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Border Style"}),a.jsx("select",{value:I,onChange:M=>G(M.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:_m.map(M=>a.jsx("option",{value:M.value,children:M.label},M.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Shadow Style"}),a.jsx("select",{value:y,onChange:M=>S(M.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:Im.map(M=>a.jsx("option",{value:M.value,children:M.label},M.value))})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Card Texture"}),a.jsx("select",{value:j,onChange:M=>P(M.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:Pm.map(M=>a.jsx("option",{value:M.value,children:M.label},M.value))})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Preview"}),a.jsx("div",{className:"p-4",style:{backgroundColor:x.background,borderRadius:d},children:a.jsxs("div",{className:"p-4",style:{backgroundColor:x.paper,backgroundImage:ti(j),border:`${w} ${I} ${x.border}`,borderRadius:d,boxShadow:ni(y,x.glow).replace(/var\(--color-shadow\)/g,x.shadow).replace(/var\(--color-border\)/g,x.border).replace(/var\(--color-glow\)/g,x.glow)},children:[a.jsxs("h4",{className:"text-lg font-bold mb-2",style:{color:x.ink,fontFamily:b},children:[u," ",s]}),a.jsx("p",{className:"text-sm mb-3",style:{color:x.muted,fontFamily:T},children:f}),a.jsx("button",{className:"px-4 py-2 font-bold transition-colors",style:{backgroundColor:x.accent,color:x.paper,borderRadius:d,fontFamily:b},children:"Sample Button"})]})})]})]}),a.jsxs("div",{className:"p-4 border-t-[length:var(--border-width)] border-theme-border sticky bottom-0 bg-theme-paper flex flex-wrap gap-2 justify-between",children:[a.jsx("div",{children:o&&r&&a.jsx("button",{onClick:()=>{confirm("Are you sure you want to delete this custom theme?")&&r()},className:"px-4 py-2 bg-red-500 text-white font-bold rounded-theme hover:bg-red-600 transition-colors font-heading",children:" Delete"})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:n,className:"px-4 py-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink font-bold rounded-theme hover:bg-theme-accent hover:text-theme-paper transition-colors font-heading",children:"Cancel"}),a.jsx("button",{onClick:dt,className:"px-4 py-2 bg-theme-accent text-theme-paper font-bold rounded-theme hover:bg-theme-accent-hover transition-colors font-heading",children:o?" Save Changes":" Create Theme"})]})]})]})})}function Fm({collapsed:e,onToggle:t}){const n=F(m=>m.activeCharacterId),r=F(m=>m.characters),o=F(m=>m.updateCharacterTheme),l=r.find(m=>m.id===n),s=(l==null?void 0:l.theme)||"default",i=Bn(m=>m.customThemes),u=Bn(m=>m.addCustomTheme),c=Bn(m=>m.updateCustomTheme),f=Bn(m=>m.deleteCustomTheme),[v,x]=_.useState(!1),[p,b]=_.useState(void 0),k=m=>{if(n){o(n,m);const y=ri(m);y?ra(y):ar(m)}},T=()=>{b(void 0),x(!0)},h=(m,y)=>{y.stopPropagation(),b(m),x(!0)},d=m=>{p?(c(m.id,m),s===m.id&&ra(m)):u(m),x(!1),b(void 0)},g=()=>{p&&(s===p.id&&n&&(o(n,"default"),ar("default")),f(p.id)),x(!1),b(void 0)},w=()=>{const m=sr.find(S=>S.id===s);if(m)return m.name;const y=i.find(S=>S.id===s);return y?y.name:"Unknown"};return a.jsxs(a.Fragment,{children:[v&&a.jsx($m,{theme:p,onSave:d,onCancel:()=>{x(!1),b(void 0)},onDelete:p?g:void 0}),!e&&a.jsx("div",{className:"fixed inset-0 bg-black/30 z-40 md:hidden",onClick:t}),a.jsxs("div",{className:`fixed right-0 top-0 bottom-0 w-[80vw] max-w-[280px] md:w-64 bg-theme-paper border-l-[length:var(--border-width)] border-theme-border z-50 flex flex-col p-3 sm:p-4 shadow-theme overflow-y-auto transition-transform duration-300 ease-in-out safe-area-bottom ${e?"translate-x-full":"translate-x-0"}`,children:[a.jsx("button",{onClick:t,className:"hidden md:flex absolute -left-10 top-20 w-10 h-10 bg-theme-paper border-[length:var(--border-width)] border-theme-border border-r-0 font-bold shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all items-center justify-center text-theme-ink",title:e?"Show Themes":"Hide Themes",children:e?"":""}),a.jsx("button",{onClick:t,className:"md:hidden absolute top-3 right-3 w-8 h-8 bg-theme-accent text-theme-paper font-bold flex items-center justify-center rounded-theme",children:""}),a.jsx("div",{className:"mb-4 sm:mb-6",children:a.jsx("h2",{className:"text-xl sm:text-2xl font-bold uppercase tracking-wider border-b-[length:var(--border-width)] border-theme-border pb-2 text-theme-ink font-heading",children:" Themes"})}),a.jsx("div",{className:"flex flex-col gap-2 sm:gap-3",children:sr.map(m=>a.jsxs("button",{onClick:()=>k(m.id),style:{backgroundColor:s===m.id?m.colors.accent:m.colors.paper,color:s===m.id?m.colors.paper:m.colors.ink,borderColor:m.colors.border,borderRadius:m.borderRadius,borderWidth:m.borderWidth,fontFamily:m.fonts.body,boxShadow:`3px 3px 0 ${m.colors.shadow}`},className:"p-2 sm:p-3 border-solid transition-all text-left font-bold active:translate-x-[2px] active:translate-y-[2px] active:shadow-none",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-base sm:text-lg",children:m.icon}),a.jsx("span",{className:"text-xs sm:text-sm",style:{fontFamily:m.fonts.heading},children:m.name})]}),a.jsx("p",{className:"text-[10px] sm:text-xs mt-1 opacity-70",children:m.description}),a.jsxs("div",{className:"flex gap-1 mt-2",children:[a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:m.colors.paper},title:"Paper"}),a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:m.colors.ink},title:"Ink"}),a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:m.colors.accent},title:"Accent"}),a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:m.colors.background},title:"Background"})]})]},m.id))}),a.jsxs("div",{className:"mt-6 pt-4 border-t border-theme-border/50",children:[a.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:" Custom Themes"}),a.jsxs("button",{onClick:T,className:"w-full p-2 sm:p-3 border-[length:var(--border-width)] border-dashed border-theme-border transition-all text-left font-bold rounded-theme bg-theme-paper text-theme-ink hover:bg-theme-accent hover:text-theme-paper hover:border-solid mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-base sm:text-lg",children:""}),a.jsx("span",{className:"text-xs sm:text-sm font-heading",children:"Create Custom Theme"})]}),a.jsx("p",{className:"text-[10px] sm:text-xs mt-1 opacity-70 font-body",children:"Design your own unique theme"})]}),a.jsx("div",{className:"flex flex-col gap-2 sm:gap-3 mt-3",children:i.map(m=>a.jsxs("div",{style:{backgroundColor:s===m.id?m.colors.accent:m.colors.paper,color:s===m.id?m.colors.paper:m.colors.ink,borderColor:m.colors.border,borderRadius:m.borderRadius,borderWidth:m.borderWidth,fontFamily:m.fonts.body,boxShadow:`3px 3px 0 ${m.colors.shadow}`},className:"p-2 sm:p-3 border-solid transition-all text-left font-bold relative",children:[a.jsxs("button",{onClick:()=>k(m.id),className:"w-full text-left",children:[a.jsxs("div",{className:"flex items-center gap-2 pr-8",children:[a.jsx("span",{className:"text-base sm:text-lg",children:m.icon}),a.jsx("span",{className:"text-xs sm:text-sm",style:{fontFamily:m.fonts.heading},children:m.name})]}),a.jsx("p",{className:"text-[10px] sm:text-xs mt-1 opacity-70",children:m.description}),a.jsxs("div",{className:"flex gap-1 mt-2",children:[a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:m.colors.paper},title:"Paper"}),a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:m.colors.ink},title:"Ink"}),a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:m.colors.accent},title:"Accent"}),a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border border-black/20",style:{backgroundColor:m.colors.background},title:"Background"})]})]}),a.jsx("button",{onClick:y=>h(m,y),style:{backgroundColor:s===m.id?`${m.colors.paper}33`:`${m.colors.accent}1a`,color:s===m.id?m.colors.paper:m.colors.accent},className:"absolute top-2 right-2 w-6 h-6 flex items-center justify-center rounded text-xs hover:scale-110 transition-transform",title:"Edit theme",children:""})]},m.id))}),i.length===0&&a.jsx("p",{className:"text-[10px] sm:text-xs text-theme-muted mt-2 font-body",children:"No custom themes yet. Create one above!"})]}),a.jsxs("div",{className:"mt-auto pt-4 text-[10px] sm:text-xs text-theme-muted border-t border-theme-border/50 font-body",children:[a.jsx("p",{children:"Select a theme to change the appearance of your character sheet."}),a.jsxs("p",{className:"mt-2 text-theme-ink font-bold",children:["Current: ",w()]})]})]})]})}var El={exports:{}},Qd={},Kd={exports:{}},Am="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Hm=Am,Um=Hm;function Zd(){}function Jd(){}Jd.resetWarningCache=Zd;var Bm=function(){function e(r,o,l,s,i,u){if(u!==Um){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Jd,resetWarningCache:Zd};return n.PropTypes=n,n};Kd.exports=Bm();var qd=Kd.exports,oa={exports:{}};function ef(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=ef(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ju(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=ef(e))&&(r&&(r+=" "),r+=t);return r}oa.exports=ju,oa.exports.clsx=ju;var Vm=oa.exports,fe={},Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.dontSetMe=Km;Pt.findInArray=Xm;Pt.int=Qm;Pt.isFunction=Ym;Pt.isNum=Gm;function Xm(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function Ym(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function Gm(e){return typeof e=="number"&&!isNaN(e)}function Qm(e){return parseInt(e,10)}function Km(e,t,n){if(e[t])return new Error(`Invalid prop ${t} passed to ${n} - do not set this, set it on the child.`)}var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.browserPrefixToKey=nf;Cn.browserPrefixToStyle=Zm;Cn.default=void 0;Cn.getPrefix=tf;const as=["Moz","Webkit","O","ms"];function tf(){var n,r;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const t=(r=(n=window.document)==null?void 0:n.documentElement)==null?void 0:r.style;if(!t||e in t)return"";for(let o=0;o<as.length;o++)if(nf(e,as[o])in t)return as[o];return""}function nf(e,t){return t?`${t}${Jm(e)}`:e}function Zm(e,t){return t?`-${t.toLowerCase()}-${e}`:e}function Jm(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}Cn.default=tf();Object.defineProperty(fe,"__esModule",{value:!0});fe.addClassName=lf;fe.addEvent=eg;fe.addUserSelectStyles=dg;fe.createCSSTransform=ag;fe.createSVGTransform=ig;fe.getTouch=ug;fe.getTouchIdentifier=cg;fe.getTranslation=oi;fe.innerHeight=og;fe.innerWidth=lg;fe.matchesSelector=of;fe.matchesSelectorAndParentsTo=qm;fe.offsetXYFromParent=sg;fe.outerHeight=ng;fe.outerWidth=rg;fe.removeClassName=sf;fe.removeEvent=tg;fe.scheduleRemoveUserSelectStyles=fg;var qe=Pt,Cu=rf(Cn);function rf(e,t){if(typeof WeakMap=="function")var n=new WeakMap,r=new WeakMap;return(rf=function(o,l){if(!l&&o&&o.__esModule)return o;var s,i,u={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return u;if(s=l?r:n){if(s.has(o))return s.get(o);s.set(o,u)}for(const c in o)c!=="default"&&{}.hasOwnProperty.call(o,c)&&((i=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,c))&&(i.get||i.set)?s(u,c,i):u[c]=o[c]);return u})(e,t)}let jo="";function of(e,t){return jo||(jo=(0,qe.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,qe.isFunction)(e[n])})),(0,qe.isFunction)(e[jo])?e[jo](t):!1}function qm(e,t,n){let r=e;do{if(of(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function eg(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function tg(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function ng(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,qe.int)(n.borderTopWidth),t+=(0,qe.int)(n.borderBottomWidth),t}function rg(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,qe.int)(n.borderLeftWidth),t+=(0,qe.int)(n.borderRightWidth),t}function og(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,qe.int)(n.paddingTop),t-=(0,qe.int)(n.paddingBottom),t}function lg(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,qe.int)(n.paddingLeft),t-=(0,qe.int)(n.paddingRight),t}function sg(e,t,n){const o=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),l=(e.clientX+t.scrollLeft-o.left)/n,s=(e.clientY+t.scrollTop-o.top)/n;return{x:l,y:s}}function ag(e,t){const n=oi(e,t,"px");return{[(0,Cu.browserPrefixToKey)("transform",Cu.default)]:n}}function ig(e,t){return oi(e,t,"")}function oi(e,t,n){let{x:r,y:o}=e,l=`translate(${r}${n},${o}${n})`;if(t){const s=`${typeof t.x=="string"?t.x:t.x+n}`,i=`${typeof t.y=="string"?t.y:t.y+n}`;l=`translate(${s}, ${i})`+l}return l}function ug(e,t){return e.targetTouches&&(0,qe.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,qe.findInArray)(e.changedTouches,n=>t===n.identifier)}function cg(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function dg(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&lf(e.body,"react-draggable-transparent-selection")}function fg(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{Eu(e)}):Eu(e)}function Eu(e){if(e)try{if(e.body&&sf(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function lf(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function sf(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}var It={};Object.defineProperty(It,"__esModule",{value:!0});It.canDragX=mg;It.canDragY=gg;It.createCoreData=vg;It.createDraggableData=yg;It.getBoundPosition=hg;It.getControlPosition=xg;It.snapToGrid=pg;var Qe=Pt,Vn=fe;function hg(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:r}=e.props;r=typeof r=="string"?r:wg(r);const o=li(e);if(typeof r=="string"){const{ownerDocument:l}=o,s=l.defaultView;let i;if(r==="parent"?i=o.parentNode:i=o.getRootNode().querySelector(r),!(i instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const u=i,c=s.getComputedStyle(o),f=s.getComputedStyle(u);r={left:-o.offsetLeft+(0,Qe.int)(f.paddingLeft)+(0,Qe.int)(c.marginLeft),top:-o.offsetTop+(0,Qe.int)(f.paddingTop)+(0,Qe.int)(c.marginTop),right:(0,Vn.innerWidth)(u)-(0,Vn.outerWidth)(o)-o.offsetLeft+(0,Qe.int)(f.paddingRight)-(0,Qe.int)(c.marginRight),bottom:(0,Vn.innerHeight)(u)-(0,Vn.outerHeight)(o)-o.offsetTop+(0,Qe.int)(f.paddingBottom)-(0,Qe.int)(c.marginBottom)}}return(0,Qe.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,Qe.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Qe.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,Qe.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function pg(e,t,n){const r=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[r,o]}function mg(e){return e.props.axis==="both"||e.props.axis==="x"}function gg(e){return e.props.axis==="both"||e.props.axis==="y"}function xg(e,t,n){const r=typeof t=="number"?(0,Vn.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;const o=li(n),l=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,Vn.offsetXYFromParent)(r||e,l,n.props.scale)}function vg(e,t,n){const r=!(0,Qe.isNum)(e.lastX),o=li(e);return r?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function yg(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function wg(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function li(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var Tl={},Pl={};Object.defineProperty(Pl,"__esModule",{value:!0});Pl.default=bg;function bg(){}Object.defineProperty(Tl,"__esModule",{value:!0});Tl.default=void 0;var is=af(_),Re=si(qd),Sg=si(oo),_e=fe,Ht=It,us=Pt,Sr=si(Pl);function si(e){return e&&e.__esModule?e:{default:e}}function af(e,t){if(typeof WeakMap=="function")var n=new WeakMap,r=new WeakMap;return(af=function(o,l){if(!l&&o&&o.__esModule)return o;var s,i,u={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return u;if(s=l?r:n){if(s.has(o))return s.get(o);s.set(o,u)}for(const c in o)c!=="default"&&{}.hasOwnProperty.call(o,c)&&((i=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,c))&&(i.get||i.set)?s(u,c,i):u[c]=o[c]);return u})(e,t)}function ze(e,t,n){return(t=kg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kg(e){var t=Ng(e,"string");return typeof t=="symbol"?t:t+""}function Ng(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const pt={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Ut=pt.mouse,Il=class extends is.Component{constructor(){super(...arguments),ze(this,"dragging",!1),ze(this,"lastX",NaN),ze(this,"lastY",NaN),ze(this,"touchIdentifier",null),ze(this,"mounted",!1),ze(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(t.target instanceof r.defaultView.Node)||this.props.handle&&!(0,_e.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,_e.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&!this.props.allowMobileScroll&&t.preventDefault();const o=(0,_e.getTouchIdentifier)(t);this.touchIdentifier=o;const l=(0,Ht.getControlPosition)(t,o,this);if(l==null)return;const{x:s,y:i}=l,u=(0,Ht.createCoreData)(this,s,i);(0,Sr.default)("DraggableCore: handleDragStart: %j",u),(0,Sr.default)("calling",this.props.onStart),!(this.props.onStart(t,u)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,_e.addUserSelectStyles)(r),this.dragging=!0,this.lastX=s,this.lastY=i,(0,_e.addEvent)(r,Ut.move,this.handleDrag),(0,_e.addEvent)(r,Ut.stop,this.handleDragStop))}),ze(this,"handleDrag",t=>{const n=(0,Ht.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let i=r-this.lastX,u=o-this.lastY;if([i,u]=(0,Ht.snapToGrid)(this.props.grid,i,u),!i&&!u)return;r=this.lastX+i,o=this.lastY+u}const l=(0,Ht.createCoreData)(this,r,o);if((0,Sr.default)("DraggableCore: handleDrag: %j",l),this.props.onDrag(t,l)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const u=document.createEvent("MouseEvents");u.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(u)}return}this.lastX=r,this.lastY=o}),ze(this,"handleDragStop",t=>{if(!this.dragging)return;const n=(0,Ht.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let u=r-this.lastX||0,c=o-this.lastY||0;[u,c]=(0,Ht.snapToGrid)(this.props.grid,u,c),r=this.lastX+u,o=this.lastY+c}const l=(0,Ht.createCoreData)(this,r,o);if(this.props.onStop(t,l)===!1||this.mounted===!1)return!1;const i=this.findDOMNode();i&&this.props.enableUserSelectHack&&(0,_e.scheduleRemoveUserSelectStyles)(i.ownerDocument),(0,Sr.default)("DraggableCore: handleDragStop: %j",l),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,i&&((0,Sr.default)("DraggableCore: Removing handlers"),(0,_e.removeEvent)(i.ownerDocument,Ut.move,this.handleDrag),(0,_e.removeEvent)(i.ownerDocument,Ut.stop,this.handleDragStop))}),ze(this,"onMouseDown",t=>(Ut=pt.mouse,this.handleDragStart(t))),ze(this,"onMouseUp",t=>(Ut=pt.mouse,this.handleDragStop(t))),ze(this,"onTouchStart",t=>(Ut=pt.touch,this.handleDragStart(t))),ze(this,"onTouchEnd",t=>(Ut=pt.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,_e.addEvent)(t,pt.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:n}=t;(0,_e.removeEvent)(n,pt.mouse.move,this.handleDrag),(0,_e.removeEvent)(n,pt.touch.move,this.handleDrag),(0,_e.removeEvent)(n,pt.mouse.stop,this.handleDragStop),(0,_e.removeEvent)(n,pt.touch.stop,this.handleDragStop),(0,_e.removeEvent)(t,pt.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,_e.scheduleRemoveUserSelectStyles)(n)}}findDOMNode(){var t,n,r;return(t=this.props)!=null&&t.nodeRef?(r=(n=this.props)==null?void 0:n.nodeRef)==null?void 0:r.current:Sg.default.findDOMNode(this)}render(){return is.cloneElement(is.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Tl.default=Il;ze(Il,"displayName","DraggableCore");ze(Il,"propTypes",{allowAnyClick:Re.default.bool,allowMobileScroll:Re.default.bool,children:Re.default.node.isRequired,disabled:Re.default.bool,enableUserSelectHack:Re.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Re.default.arrayOf(Re.default.number),handle:Re.default.string,cancel:Re.default.string,nodeRef:Re.default.object,onStart:Re.default.func,onDrag:Re.default.func,onStop:Re.default.func,onMouseDown:Re.default.func,scale:Re.default.number,className:us.dontSetMe,style:us.dontSetMe,transform:us.dontSetMe});ze(Il,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),e.default=void 0;var t=v(_),n=f(qd),r=f(oo),o=Vm,l=fe,s=It,i=Pt,u=f(Tl),c=f(Pl);function f(h){return h&&h.__esModule?h:{default:h}}function v(h,d){if(typeof WeakMap=="function")var g=new WeakMap,w=new WeakMap;return(v=function(m,y){if(!y&&m&&m.__esModule)return m;var S,j,P={__proto__:null,default:m};if(m===null||typeof m!="object"&&typeof m!="function")return P;if(S=y?w:g){if(S.has(m))return S.get(m);S.set(m,P)}for(const I in m)I!=="default"&&{}.hasOwnProperty.call(m,I)&&((j=(S=Object.defineProperty)&&Object.getOwnPropertyDescriptor(m,I))&&(j.get||j.set)?S(P,I,j):P[I]=m[I]);return P})(h,d)}function x(){return x=Object.assign?Object.assign.bind():function(h){for(var d=1;d<arguments.length;d++){var g=arguments[d];for(var w in g)({}).hasOwnProperty.call(g,w)&&(h[w]=g[w])}return h},x.apply(null,arguments)}function p(h,d,g){return(d=b(d))in h?Object.defineProperty(h,d,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[d]=g,h}function b(h){var d=k(h,"string");return typeof d=="symbol"?d:d+""}function k(h,d){if(typeof h!="object"||!h)return h;var g=h[Symbol.toPrimitive];if(g!==void 0){var w=g.call(h,d);if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(h)}class T extends t.Component{static getDerivedStateFromProps(d,g){let{position:w}=d,{prevPropsPosition:m}=g;return w&&(!m||w.x!==m.x||w.y!==m.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:w,prevPropsPosition:m}),{x:w.x,y:w.y,prevPropsPosition:{...w}}):null}constructor(d){super(d),p(this,"onDragStart",(g,w)=>{if((0,c.default)("Draggable: onDragStart: %j",w),this.props.onStart(g,(0,s.createDraggableData)(this,w))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),p(this,"onDrag",(g,w)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",w);const m=(0,s.createDraggableData)(this,w),y={x:m.x,y:m.y,slackX:0,slackY:0};if(this.props.bounds){const{x:j,y:P}=y;y.x+=this.state.slackX,y.y+=this.state.slackY;const[I,G]=(0,s.getBoundPosition)(this,y.x,y.y);y.x=I,y.y=G,y.slackX=this.state.slackX+(j-y.x),y.slackY=this.state.slackY+(P-y.y),m.x=y.x,m.y=y.y,m.deltaX=y.x-this.state.x,m.deltaY=y.y-this.state.y}if(this.props.onDrag(g,m)===!1)return!1;this.setState(y)}),p(this,"onDragStop",(g,w)=>{if(!this.state.dragging||this.props.onStop(g,(0,s.createDraggableData)(this,w))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",w);const y={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:j,y:P}=this.props.position;y.x=j,y.y=P}this.setState(y)}),this.state={dragging:!1,dragged:!1,x:d.position?d.position.x:d.defaultPosition.x,y:d.position?d.position.y:d.defaultPosition.y,prevPropsPosition:{...d.position},slackX:0,slackY:0,isElementSVG:!1},d.position&&!(d.onDrag||d.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var d,g;return((g=(d=this.props)==null?void 0:d.nodeRef)==null?void 0:g.current)??r.default.findDOMNode(this)}render(){const{axis:d,bounds:g,children:w,defaultPosition:m,defaultClassName:y,defaultClassNameDragging:S,defaultClassNameDragged:j,position:P,positionOffset:I,scale:G,...ae}=this.props;let me={},ie=null;const ue=!!!P||this.state.dragging,M=P||m,C={x:(0,s.canDragX)(this)&&ue?this.state.x:M.x,y:(0,s.canDragY)(this)&&ue?this.state.y:M.y};this.state.isElementSVG?ie=(0,l.createSVGTransform)(C,I):me=(0,l.createCSSTransform)(C,I);const O=(0,o.clsx)(w.props.className||"",y,{[S]:this.state.dragging,[j]:this.state.dragged});return t.createElement(u.default,x({},ae,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(w),{className:O,style:{...w.props.style,...me},transform:ie}))}}e.default=T,p(T,"displayName","Draggable"),p(T,"propTypes",{...u.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:i.dontSetMe,style:i.dontSetMe,transform:i.dontSetMe}),p(T,"defaultProps",{...u.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Qd);const{default:uf,DraggableCore:jg}=Qd;El.exports=uf;El.exports.default=uf;El.exports.DraggableCore=jg;var Cg=El.exports;const Eg=la(Cg);function cf({widget:e,width:t,height:n}){const r=F(g=>g.updateWidgetData),{label:o,numberItems:l=[]}=e.data,s=t<180,i=t>=300,u=s?"text-xs":i?"text-base":"text-sm",c=s?"text-xs":i?"text-base":"text-sm",f=s?"w-5 h-5 text-xs":i?"w-8 h-8 text-base":"w-6 h-6 text-sm",v=s?"text-sm w-8":i?"text-xl w-14":"text-base w-10",x=s?"gap-1":"gap-2",p=s?16:i?24:20,b=s?4:8,k=s?8:16,T=Math.max(30,n-p-b-k*2),h=(g,w)=>{const m=[...l];m[g]={...m[g],value:m[g].value+w},r(e.id,{numberItems:m})},d=s?"w-[62px]":i?"w-[94px]":"w-[74px]";return a.jsxs("div",{className:`flex flex-col ${x} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${u} text-theme-ink font-heading flex-shrink-0`,children:o||"Trackers"}),a.jsxs("div",{className:`flex flex-col ${s?"gap-0.5":"gap-1"} overflow-y-auto overflow-x-hidden flex-1 pr-4`,style:{maxHeight:`${T}px`},onWheel:g=>g.stopPropagation(),children:[l.map((g,w)=>a.jsxs("div",{className:`flex items-center ${x}`,children:[a.jsx("span",{className:`flex-1 ${c} text-theme-ink font-body truncate`,children:g.name}),a.jsxs("div",{className:`flex items-center justify-center gap-0.5 flex-shrink-0 ${d}`,children:[a.jsx("button",{onClick:()=>h(w,-1),onMouseDown:m=>m.stopPropagation(),className:`${f} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors flex items-center justify-center text-theme-ink rounded-theme flex-shrink-0`,children:"-"}),a.jsx("span",{className:`${v} text-center font-bold text-theme-ink flex-shrink-0`,children:g.value}),a.jsx("button",{onClick:()=>h(w,1),onMouseDown:m=>m.stopPropagation(),className:`${f} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors flex items-center justify-center text-theme-ink rounded-theme flex-shrink-0`,children:"+"})]})]},w)),l.length===0&&a.jsx("div",{className:`${c} text-theme-muted italic`,children:"No items yet"})]})]})}function df({widget:e,width:t,height:n}){const r=F(g=>g.updateWidgetData),{label:o,items:l=[],itemCount:s=5}=e.data,i=t<160,u=t>=300,c=i?"text-xs":u?"text-base":"text-sm",f=i?"text-xs py-0.5":u?"text-base py-1":"text-sm py-0.5",v=i?"gap-1":"gap-2",x=i?16:u?24:20,p=i?4:8,b=i?8:16,k=Math.max(40,n-x-p-b*2),T=Array.from({length:s},(g,w)=>l[w]||""),h=(g,w)=>{const m=[...T];m[g]=w,r(e.id,{items:m})},d=g=>{const w=[...T];w[g]="",r(e.id,{items:w})};return a.jsxs("div",{className:`flex flex-col ${v} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${c} text-theme-ink font-heading flex-shrink-0`,children:o||"List"}),a.jsx("div",{className:"space-y-1 overflow-y-auto flex-1",style:{maxHeight:`${k}px`},onWheel:g=>g.stopPropagation(),children:T.map((g,w)=>a.jsxs("div",{className:"flex items-center gap-1 group",children:[a.jsx("span",{className:"text-theme-ink",children:""}),a.jsx("input",{className:`flex-1 border-b border-theme-border/50 focus:border-theme-border focus:outline-none ${f} min-w-0 bg-transparent text-theme-ink font-body`,value:g,onChange:m=>h(w,m.target.value),placeholder:"...",onMouseDown:m=>m.stopPropagation()}),a.jsx("button",{onClick:()=>d(w),className:"opacity-0 group-hover:opacity-100 text-theme-muted hover:text-theme-ink px-1 flex-shrink-0",onMouseDown:m=>m.stopPropagation(),children:""})]},w))})]})}function ff({widget:e,width:t,height:n}){const r=F(T=>T.updateWidgetData),{label:o,text:l=""}=e.data,s=t<160,i=t>=300,u=s?"text-xs":i?"text-base":"text-sm",c=s?"text-xs p-1":i?"text-base p-3":"text-sm p-2",f=s?"gap-1":"gap-2",v=s?16:i?24:20,x=s?4:8,p=s?8:16,b=Math.max(32,n-v-x-p*2),k=T=>{r(e.id,{text:T.target.value})};return a.jsxs("div",{className:`flex flex-col ${f} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${u} text-theme-ink font-heading flex-shrink-0`,children:o||"Notes"}),a.jsx("textarea",{className:`w-full flex-1 ${c} border border-theme-border/50 focus:border-theme-border focus:outline-none resize-none bg-transparent text-theme-ink font-body rounded-theme`,style:{height:`${b}px`},value:l,onChange:k,placeholder:"Enter text here...",onMouseDown:T=>T.stopPropagation()})]})}function hf({widget:e,width:t,height:n}){const r=F(d=>d.updateWidgetData),{label:o,checkboxItems:l=[]}=e.data,s=t<160,i=t>=300,u=s?"text-xs":i?"text-base":"text-sm",c=s?"text-xs":i?"text-base":"text-sm",f=s?"w-4 h-4":i?"w-6 h-6":"w-5 h-5",v=s?"text-xs":i?"text-base":"text-sm",x=s?"gap-1":"gap-2",p=s?16:i?24:20,b=s?4:8,k=s?8:16,T=Math.max(30,n-p-b-k*2),h=d=>{const g=[...l];g[d]={...g[d],checked:!g[d].checked},r(e.id,{checkboxItems:g})};return a.jsxs("div",{className:`flex flex-col ${x} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${u} text-theme-ink font-heading flex-shrink-0`,children:o||"Checklist"}),a.jsxs("div",{className:`flex flex-col ${s?"gap-0.5":"gap-1"} overflow-y-auto flex-1`,style:{maxHeight:`${T}px`},onWheel:d=>d.stopPropagation(),children:[l.map((d,g)=>a.jsxs("div",{className:`flex items-center ${x}`,children:[a.jsx("button",{onClick:()=>h(g),onMouseDown:w=>w.stopPropagation(),className:`${f} border-[length:var(--border-width)] border-theme-border flex items-center justify-center transition-colors flex-shrink-0 rounded-theme ${d.checked?"bg-theme-accent text-theme-paper":"bg-theme-paper hover:opacity-80"}`,children:d.checked&&a.jsx("span",{className:v,children:""})}),a.jsx("span",{className:`flex-1 ${c} font-body text-theme-ink ${d.checked?"line-through text-theme-muted":""}`,children:d.name})]},g)),l.length===0&&a.jsx("div",{className:`${c} text-theme-muted italic`,children:"No items yet"})]})]})}function pf({widget:e,width:t,height:n}){const r=F(k=>k.updateWidgetData),{label:o,currentValue:l=10,maxValue:s=10}=e.data,i=t<180,u=t>=350,c=n<100,f=i?"text-xs":u?"text-base":"text-sm",v=i||c?"text-xs":u?"text-lg":"text-sm",x=i||c?"px-1 py-0.5 text-[10px]":u?"px-3 py-2 text-sm":"px-2 py-1 text-xs",p=i||c?"gap-1":"gap-2",b=k=>{const T=Math.max(0,Math.min(s,l+k));r(e.id,{currentValue:T})};return a.jsxs("div",{className:`flex flex-col ${p} w-full h-full justify-between`,children:[a.jsx("div",{className:`font-bold ${f} text-theme-ink font-heading flex-shrink-0`,children:o||"Health"}),a.jsxs("div",{className:`flex items-center justify-center font-bold ${v} text-theme-ink flex-1`,children:[l," / ",s]}),a.jsxs("div",{className:"flex items-center justify-between gap-1 flex-shrink-0",children:[a.jsx("button",{onClick:()=>b(-5),onMouseDown:k=>k.stopPropagation(),className:`${x} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme`,children:"-5"}),a.jsx("button",{onClick:()=>b(-1),onMouseDown:k=>k.stopPropagation(),className:`${x} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme`,children:"-1"}),a.jsx("button",{onClick:()=>b(1),onMouseDown:k=>k.stopPropagation(),className:`${x} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme`,children:"+1"}),a.jsx("button",{onClick:()=>b(5),onMouseDown:k=>k.stopPropagation(),className:`${x} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme`,children:"+5"})]})]})}function mf({widget:e,width:t,height:n}){const{label:r,diceGroups:o=[{count:1,faces:20}],modifier:l=0}=e.data,[s,i]=_.useState(null),[u,c]=_.useState(!1),f=t<180,v=t>=350,x=n<150,p=f?"text-xs":v?"text-base":"text-sm",b=f||x?"py-1 px-2 text-xs":v?"py-3 px-6 text-lg":"py-2 px-4 text-sm",k=f||x?"text-xl":v?"text-5xl":"text-3xl",T=f||x?"text-[10px]":v?"text-sm":"text-xs",h=f||x?"gap-1":"gap-2",d=()=>{c(!0),setTimeout(()=>{const m=[];let y=0;for(const S of o){const j=[];for(let P=0;P<S.count;P++){const I=Math.floor(Math.random()*S.faces)+1;j.push(I),y+=I}m.push({faces:S.faces,rolls:j})}i({groups:m,modifier:l,total:y+l}),c(!1)},300)},w=(()=>{let y=o.map(S=>`${S.count}d${S.faces}`).join(" + ");return l!==0&&(y+=l>=0?` + ${l}`:` - ${Math.abs(l)}`),y})();return a.jsxs("div",{className:`flex flex-col ${h} w-full h-full`,children:[a.jsx("div",{className:`font-bold text-center ${p} text-theme-ink font-heading flex-shrink-0`,children:r||"Dice Roller"}),a.jsxs("button",{onClick:d,onMouseDown:m=>m.stopPropagation(),className:`${b} border-[length:var(--border-width)] border-theme-border font-bold transition-all rounded-theme flex-shrink-0 ${u?"bg-theme-muted animate-pulse text-theme-paper":"bg-theme-paper text-theme-ink hover:bg-theme-accent hover:text-theme-paper"}`,disabled:u,children:[" Roll ",w]}),a.jsx("div",{className:`text-center border-t border-theme-border/50 ${f||x?"pt-1":"pt-2"} flex-1 flex flex-col justify-center`,children:s&&!u?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`${k} font-bold text-theme-ink font-heading`,children:s.total}),a.jsxs("div",{className:`${T} text-theme-muted font-body`,children:[s.groups.map((m,y)=>a.jsxs("span",{children:[y>0&&" + ",a.jsxs("span",{title:`d${m.faces}`,children:["[",m.rolls.join(", "),"]"]})]},y)),s.modifier!==0&&a.jsxs("span",{children:[" ",s.modifier>=0?"+":"",s.modifier]})]}),s.groups.length===1&&s.groups[0].rolls.length===1&&s.groups[0].faces===20&&a.jsxs(a.Fragment,{children:[s.groups[0].rolls[0]===20&&a.jsx("div",{className:`text-green-600 font-bold ${T}`,children:"NAT 20!"}),s.groups[0].rolls[0]===1&&a.jsx("div",{className:`text-red-600 font-bold ${T}`,children:"NAT 1!"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`${k} font-bold text-theme-muted font-heading`,children:""}),a.jsx("div",{className:`${T} text-theme-muted font-body`,children:""})]})})]})}function gf({widget:e,width:t,height:n}){const r=F(y=>y.updateWidgetData),{label:o,spellLevels:l=[{level:1,max:4,used:0}]}=e.data,s=t<180,i=t>=350,u=n<120,c=s?"text-xs":i?"text-base":"text-sm",f=s||u?"w-6 text-[10px]":i?"w-12 text-sm":"w-8 text-xs",v=s||u?"w-4 h-4":i?"w-7 h-7":"w-5 h-5",x=s||u?"text-[10px] px-1 py-0.5":i?"text-sm px-3 py-1.5":"text-xs px-2 py-1",p=s||u?"gap-1":"gap-2",b=s?16:i?24:20,k=s||u?28:i?40:32,T=s||u?4:8,h=s?8:16,d=Math.max(30,n-b-k-T*3-h*2),g=(y,S)=>{const j=[...l],P=j[y];S<P.used?j[y]={...P,used:S}:j[y]={...P,used:S+1},r(e.id,{spellLevels:j})},w=()=>{const y=l.map(S=>({...S,used:0}));r(e.id,{spellLevels:y})},m=y=>{const S=["th","st","nd","rd"],j=y%100;return y+(S[(j-20)%10]||S[j]||S[0])};return a.jsxs("div",{className:`flex flex-col ${p} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${c} text-theme-ink font-heading flex-shrink-0`,children:o||"Spell Slots"}),a.jsxs("div",{className:`flex flex-col ${p} overflow-y-auto flex-1`,style:{maxHeight:`${d}px`},onWheel:y=>y.stopPropagation(),children:[l.map((y,S)=>a.jsxs("div",{className:`flex items-center ${p}`,children:[a.jsx("span",{className:`${f} font-bold text-center text-theme-ink`,children:m(y.level)}),a.jsx("div",{className:"flex gap-1 flex-1 flex-wrap",children:Array.from({length:y.max}).map((j,P)=>a.jsx("button",{onClick:()=>g(S,P),onMouseDown:I=>I.stopPropagation(),className:`${v} rounded-full border-[length:var(--border-width)] border-theme-border transition-all ${P<y.used?"bg-theme-accent":"bg-theme-paper hover:opacity-80"}`,title:P<y.used?"Click to restore":"Click to use"},P))})]},S)),l.length===0&&a.jsx("div",{className:`${f} text-theme-muted italic`,children:"No spell levels configured"})]}),a.jsx("div",{className:`flex items-center justify-end ${p} border-t border-theme-border/50 pt-2 flex-shrink-0`,children:a.jsx("button",{onClick:w,onMouseDown:y=>y.stopPropagation(),className:`${x} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme`,children:"Reset All"})})]})}function xf({widget:e,width:t,height:n}){const{label:r,imageUrl:o=""}=e.data,l=t<160,s=t>=300,i=l?"text-xs":s?"text-base":"text-sm",u=l?"text-2xl":s?"text-6xl":"text-4xl",c=l?"text-[10px]":s?"text-base":"text-sm",f=l?"gap-1":"gap-2",v=l?16:s?24:20,x=l?4:8,p=l?8:16,b=Math.max(40,n-v-x-p*2);return a.jsxs("div",{className:`flex flex-col ${f} w-full h-full`,children:[a.jsx("div",{className:`font-bold text-center ${i} text-theme-ink font-heading flex-shrink-0`,children:r||"Portrait"}),a.jsx("div",{className:"border-[length:var(--border-width)] border-theme-border bg-theme-background flex items-center justify-center overflow-hidden rounded-theme flex-1",style:{height:`${b}px`},children:o?a.jsx("img",{src:o,alt:r||"Character",className:"w-full h-full object-cover",onError:k=>{k.target.style.display="none"}}):a.jsxs("div",{className:`text-theme-muted text-center ${l?"p-1":"p-2"}`,children:[a.jsx("div",{className:`${u} mb-1`,children:""}),a.jsx("span",{className:`${c} font-body`,children:"No image"})]})})]})}function vf({widget:e,width:t,height:n}){const r=F(d=>d.updateWidgetData),{label:o,maxPool:l=5,currentPool:s=5,poolStyle:i="dots"}=e.data,u=t<160,c=t>=300,f=n<100,v=u?"text-xs":c?"text-base":"text-sm",x=u||f?"w-5 h-5 text-sm":c?"w-8 h-8 text-xl":"w-6 h-6 text-base",p=u||f?"text-[10px]":c?"text-sm":"text-xs",b=u||f?"gap-1":"gap-2",k=d=>{d<s?r(e.id,{currentPool:d}):r(e.id,{currentPool:d+1})},T=d=>{switch(i){case"hearts":return d?"":"";case"boxes":return d?"":"";case"dots":default:return d?"":""}},h=d=>{const g=`${x} flex items-center justify-center transition-all cursor-pointer hover:scale-125`;return i==="hearts"?g:`${g} ${d?"text-theme-ink":"text-theme-muted"}`};return a.jsxs("div",{className:`flex flex-col ${b} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${v} text-theme-ink font-heading flex-shrink-0`,children:o||"Resource Pool"}),a.jsx("div",{className:`flex flex-wrap ${u||f?"gap-0.5":"gap-1"} flex-1 content-start overflow-y-auto`,onWheel:d=>d.stopPropagation(),children:Array.from({length:l}).map((d,g)=>a.jsx("button",{onClick:()=>k(g),onMouseDown:w=>w.stopPropagation(),className:h(g<s),title:g<s?"Click to use":"Click to restore",children:T(g<s)},g))}),a.jsxs("div",{className:`${p} text-center text-theme-muted font-body flex-shrink-0`,children:[s," / ",l]})]})}function yf({widget:e,width:t,height:n}){const r=F(p=>p.updateWidgetData),{label:o,toggleItems:l=[]}=e.data,s=t<180,i=t>=350,u=n<100,c=s?"text-xs":i?"text-base":"text-sm",f=s||u?"px-1.5 py-0.5 text-[10px]":i?"px-3 py-1.5 text-sm":"px-2 py-1 text-xs",v=s||u?"gap-1":"gap-2",x=p=>{const b=[...l];b[p]={...b[p],active:!b[p].active},r(e.id,{toggleItems:b})};return a.jsxs("div",{className:`flex flex-col ${v} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${c} text-theme-ink font-heading flex-shrink-0`,children:o||"Conditions"}),a.jsxs("div",{className:`flex flex-wrap ${v} overflow-y-auto flex-1 content-start`,onWheel:p=>p.stopPropagation(),children:[l.map((p,b)=>a.jsx("button",{onClick:()=>x(b),onMouseDown:k=>k.stopPropagation(),className:`${f} border border-theme-border transition-all rounded-theme font-body ${p.active?"bg-theme-accent text-theme-paper":"bg-theme-paper text-theme-ink hover:opacity-80"}`,children:p.name},b)),l.length===0&&a.jsx("div",{className:`${f} text-theme-muted italic`,children:"No conditions configured"})]})]})}function wf({widget:e,width:t,height:n}){const r=F(m=>m.updateWidgetData),{label:o,columns:l=["Item","Qty","Weight"],rows:s=[]}=e.data,[i,u]=_.useState(null),c=t<200,f=t>=400,v=n<120,x=c?"text-xs":f?"text-base":"text-sm",p=c||v?"text-[10px] p-0.5":f?"text-base p-2":"text-sm p-1",b=c||v?"gap-1":"gap-2",k=c?16:f?24:20,T=c||v?4:8,h=c?8:16,d=Math.max(40,n-k-T-h*2),g=(m,y,S)=>{const j=[...s];j[m]={...j[m],cells:[...j[m].cells]},j[m].cells[y]=S,r(e.id,{rows:j})},w=m=>{const y=[...s];y[m]={cells:l.map(()=>"")},r(e.id,{rows:y})};return a.jsxs("div",{className:`flex flex-col ${b} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${x} text-theme-ink font-heading flex-shrink-0`,children:o||"Table"}),a.jsx("div",{className:"overflow-auto flex-1",style:{maxHeight:`${d}px`},onWheel:m=>m.stopPropagation(),children:a.jsxs("table",{className:`w-full border-collapse ${p}`,children:[a.jsx("thead",{className:"sticky top-0",children:a.jsxs("tr",{children:[l.map((m,y)=>a.jsx("th",{className:`border border-theme-border bg-theme-background ${p} text-theme-ink font-heading`,children:m},y)),a.jsx("th",{className:c||v?"w-4":"w-6"})]})}),a.jsx("tbody",{children:s.map((m,y)=>a.jsxs("tr",{className:"group",children:[m.cells.map((S,j)=>a.jsx("td",{className:`border border-theme-border ${p} text-theme-ink`,children:(i==null?void 0:i.row)===y&&(i==null?void 0:i.col)===j?a.jsx("input",{autoFocus:!0,value:S,onChange:P=>g(y,j,P.target.value),onBlur:()=>u(null),onKeyDown:P=>P.key==="Enter"&&u(null),className:`w-full bg-transparent focus:outline-none ${c||v?"text-[10px]":f?"text-base":"text-sm"} text-theme-ink font-body`,onMouseDown:P=>P.stopPropagation()}):a.jsx("div",{onClick:()=>u({row:y,col:j}),onMouseDown:P=>P.stopPropagation(),className:`${c||v?"min-h-[1em]":"min-h-[1.5em]"} cursor-text hover:opacity-70 font-body`,children:S||a.jsx("span",{className:"text-theme-muted",children:"-"})})},j)),a.jsx("td",{className:`${c||v?"w-4":"w-6"} p-0`,children:a.jsx("button",{onClick:()=>w(y),onMouseDown:S=>S.stopPropagation(),className:"w-full h-full text-theme-muted hover:text-theme-ink opacity-0 group-hover:opacity-100",children:""})})]},y))})]})})]})}function Tu({title:e,onClose:t,children:n}){return oo.createPortal(a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999]",onClick:t,onMouseDown:r=>r.stopPropagation(),children:a.jsxs("div",{className:"bg-theme-paper border border-theme-border rounded-theme shadow-xl p-4 min-w-[280px] max-w-[400px]",onClick:r=>r.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"font-bold text-theme-ink font-heading",children:e}),a.jsx("button",{onClick:t,className:"text-theme-muted hover:text-theme-ink text-xl leading-none",children:""})]}),n]})}),document.body)}function Tg(e){if(e<=0)return"Expired";const t=Math.floor(e/(365*24*60*60)),n=Math.floor(e%(365*24*60*60)/(30*24*60*60)),r=Math.floor(e%(30*24*60*60)/(24*60*60)),o=Math.floor(e%(24*60*60)/(60*60)),l=Math.floor(e%(60*60)/60),s=e%60,i=[];return t>0&&i.push(`${t}y`),n>0&&i.push(`${n}mo`),r>0&&i.push(`${r}d`),o>0&&i.push(`${o}h`),l>0&&i.push(`${l}m`),(s>0||i.length===0)&&i.push(`${s}s`),i.slice(0,3).join(" ")}function Pu(e,t){switch(t){case"seconds":return e;case"minutes":return e*60;case"hours":return e*60*60;case"days":return e*24*60*60;case"months":return e*30*24*60*60;case"years":return e*365*24*60*60;default:return e}}function bf({widget:e,width:t,height:n}){const r=F(L=>L.updateWidgetData),{label:o,timedEffects:l=[]}=e.data,[s,i]=_.useState(!1),[u,c]=_.useState(!1),[f,v]=_.useState(""),[x,p]=_.useState(1),[b,k]=_.useState("minutes"),[T,h]=_.useState(1),[d,g]=_.useState("minutes"),w=t<200,m=t>=350,y=n<180,S=w?"text-xs":m?"text-base":"text-sm",j=w||y?"text-xs":m?"text-sm":"text-xs",P=w||y?"text-xs px-2 py-1":m?"text-sm px-3 py-1.5":"text-xs px-2 py-1",I=w||y?"gap-1":"gap-2",G=()=>{if(f.trim()){const L=Pu(x,b),H={name:f.trim(),remainingSeconds:L};r(e.id,{timedEffects:[...l,H]}),v(""),p(1),i(!1)}},ae=()=>{v(""),p(1),i(!1)},me=L=>{const H=[...l];H.splice(L,1),r(e.id,{timedEffects:H})},ie=()=>{const L=Pu(T,d),H=l.map(re=>({...re,remainingSeconds:Math.max(0,re.remainingSeconds-L)}));r(e.id,{timedEffects:H}),c(!1)},dt=()=>{h(1),c(!1)},ue=w?16:m?24:20,M=w||y?32:m?44:36,C=w||y?4:8,O=w?8:16,A=Math.max(60,n-ue-M-C*3-O*2);return a.jsxs("div",{className:`flex flex-col ${I} w-full h-full`,children:[a.jsx("div",{className:`font-bold ${S} text-theme-ink font-heading flex-shrink-0`,children:o||"Time Tracker"}),a.jsxs("div",{className:`space-y-1 overflow-y-auto flex-1 ${j}`,style:{maxHeight:`${A}px`},onWheel:L=>L.stopPropagation(),children:[l.map((L,H)=>a.jsxs("div",{className:`flex justify-between items-center group p-1.5 rounded-theme border ${L.remainingSeconds<=0?"bg-theme-accent/20 border-theme-accent animate-pulse":"border-theme-border/30 hover:border-theme-border"}`,children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("span",{className:`font-medium ${L.remainingSeconds<=0?"text-theme-accent":"text-theme-ink"}`,children:L.name}),a.jsx("div",{className:`${L.remainingSeconds<=0?"text-theme-accent font-bold":"text-theme-muted"}`,children:Tg(L.remainingSeconds)})]}),a.jsx("button",{onClick:()=>me(H),className:"opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 px-1 flex-shrink-0",onMouseDown:re=>re.stopPropagation(),children:""})]},H)),l.length===0&&!s&&a.jsx("div",{className:"text-theme-muted italic text-center py-2",children:"No active effects"})]}),a.jsxs("div",{className:`flex ${I} border-t border-theme-border/50 pt-2 flex-shrink-0`,children:[a.jsx("button",{onClick:()=>i(!0),className:`${P} flex-1 border border-theme-border text-theme-ink rounded-theme hover:bg-theme-accent hover:text-theme-paper transition-colors font-bold`,onMouseDown:L=>L.stopPropagation(),children:"+ Add Effect"}),l.length>0&&a.jsx("button",{onClick:()=>c(!0),className:`${P} flex-1 border border-theme-border text-theme-ink rounded-theme hover:bg-theme-accent hover:text-theme-paper transition-colors font-bold`,onMouseDown:L=>L.stopPropagation(),children:" Pass Time"})]}),s&&a.jsx(Tu,{title:"Add Effect",onClose:ae,children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{className:"w-full border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme",value:f,onChange:L=>v(L.target.value),placeholder:"Effect name...",autoFocus:!0,onKeyDown:L=>{L.key==="Enter"&&G(),L.key==="Escape"&&ae()}}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",min:"1",className:"w-20 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme text-center",value:x,onChange:L=>p(L.target.value===""?"":parseInt(L.target.value)||1),onBlur:L=>p(Math.max(1,parseInt(L.target.value)||1))}),a.jsxs("select",{className:"flex-1 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme",value:b,onChange:L=>k(L.target.value),children:[a.jsx("option",{value:"seconds",children:"Seconds"}),a.jsx("option",{value:"minutes",children:"Minutes"}),a.jsx("option",{value:"hours",children:"Hours"}),a.jsx("option",{value:"days",children:"Days"}),a.jsx("option",{value:"months",children:"Months"}),a.jsx("option",{value:"years",children:"Years"})]})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx("button",{onClick:G,className:"flex-1 py-2 px-4 bg-theme-accent text-theme-paper rounded-theme hover:opacity-90 transition-colors font-bold",children:"Add Effect"}),a.jsx("button",{onClick:ae,className:"flex-1 py-2 px-4 border border-theme-border text-theme-muted rounded-theme hover:bg-theme-border hover:text-theme-ink transition-colors",children:"Cancel"})]})]})}),u&&a.jsx(Tu,{title:"Pass Time",onClose:dt,children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-theme-muted text-sm",children:"How much time passes for all effects?"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",min:"1",className:"w-20 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme text-center",value:T,onChange:L=>h(L.target.value===""?"":parseInt(L.target.value)||1),onBlur:L=>h(Math.max(1,parseInt(L.target.value)||1)),autoFocus:!0,onKeyDown:L=>{L.key==="Enter"&&ie(),L.key==="Escape"&&dt()}}),a.jsxs("select",{className:"flex-1 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme",value:d,onChange:L=>g(L.target.value),children:[a.jsx("option",{value:"seconds",children:"Seconds"}),a.jsx("option",{value:"minutes",children:"Minutes"}),a.jsx("option",{value:"hours",children:"Hours"}),a.jsx("option",{value:"days",children:"Days"}),a.jsx("option",{value:"months",children:"Months"}),a.jsx("option",{value:"years",children:"Years"})]})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx("button",{onClick:ie,className:"flex-1 py-2 px-4 bg-theme-accent text-theme-paper rounded-theme hover:opacity-90 transition-colors font-bold",children:"Confirm"}),a.jsx("button",{onClick:dt,className:"flex-1 py-2 px-4 border border-theme-border text-theme-muted rounded-theme hover:bg-theme-border hover:text-theme-ink transition-colors",children:"Cancel"})]})]})})]})}function Pg({widget:e,updateData:t}){const{label:n,numberItems:r=[]}=e.data,[o,l]=_.useState(""),s=f=>{f.preventDefault(),o.trim()&&(t({numberItems:[...r,{name:o.trim(),value:0}]}),l(""))},i=f=>{const v=[...r];v.splice(f,1),t({numberItems:v})},u=(f,v)=>{const x=[...r];x[f]={...x[f],name:v},t({numberItems:x})},c=(f,v)=>{const x=[...r];x[f]={...x[f],value:v},t({numberItems:x})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:f=>t({label:f.target.value}),placeholder:"Trackers"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Items"}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:r.map((f,v)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm",value:f.name,onChange:x=>u(v,x.target.value),placeholder:"Name"}),a.jsx("input",{type:"number",className:"w-20 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center",value:f.value,onChange:x=>c(v,parseInt(x.target.value)||0)}),a.jsx("button",{onClick:()=>i(v),className:"text-red-500 hover:text-red-700 px-2",children:""})]},v))}),a.jsxs("form",{onSubmit:s,className:"flex gap-2 mt-2",children:[a.jsx("input",{type:"text",value:o,onChange:f=>l(f.target.value),placeholder:"Add new item...",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm"}),a.jsx("button",{type:"submit",className:"px-3 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90",children:"Add"})]})]})]})}function Ig({widget:e,updateData:t}){const{label:n,itemCount:r=5}=e.data;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:o=>t({label:o.target.value}),placeholder:"List Title"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Number of Item Slots"}),a.jsx("input",{type:"number",min:"1",max:"50",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:r,onChange:o=>t({itemCount:o.target.value===""?"":parseInt(o.target.value)||""}),onBlur:o=>t({itemCount:Math.max(1,Math.min(50,parseInt(o.target.value)||1))})}),a.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Items can be filled in during play mode"})]})]})}function _g({widget:e,updateData:t}){const{label:n}=e.data;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:r=>t({label:r.target.value}),placeholder:"Title"})]}),a.jsx("p",{className:"text-xs text-theme-muted",children:"Use the resize handle on the widget in edit mode to adjust the size."})]})}function Mg({widget:e,updateData:t}){const{label:n,checkboxItems:r=[]}=e.data,[o,l]=_.useState(""),s=u=>{u.preventDefault(),o.trim()&&(t({checkboxItems:[...r,{name:o.trim(),checked:!1}]}),l(""))},i=u=>{const c=[...r];c.splice(u,1),t({checkboxItems:c})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:u=>t({label:u.target.value}),placeholder:"Checklist Title"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Checkbox Items"}),a.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:r.map((u,c)=>a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{className:"flex-1 text-theme-ink",children:u.name}),a.jsx("button",{onClick:()=>i(c),className:"text-red-500 hover:text-red-700 px-2",children:""})]},c))}),a.jsxs("form",{onSubmit:s,className:"flex gap-2 mt-2",children:[a.jsx("input",{type:"text",value:o,onChange:u=>l(u.target.value),placeholder:"Add new item...",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm"}),a.jsx("button",{type:"submit",className:"px-3 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90",children:"Add"})]})]})]})}function Dg({widget:e,updateData:t}){const{label:n,maxValue:r=10}=e.data;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:o=>t({label:o.target.value}),placeholder:"Health"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Maximum Value"}),a.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:r,onChange:o=>{t({maxValue:o.target.value===""?"":parseInt(o.target.value)||""})},onBlur:o=>{const l=parseInt(o.target.value)||1;t({maxValue:Math.max(1,l)})},min:1})]})]})}function Lg({widget:e,updateData:t}){const{label:n,diceGroups:r=[{count:1,faces:20}],modifier:o=0}=e.data,l=(u,c,f)=>{const v=[...r];v[u]={...v[u],[c]:f},t({diceGroups:v})},s=()=>{t({diceGroups:[...r,{count:1,faces:6}]})},i=u=>{if(r.length>1){const c=r.filter((f,v)=>v!==u);t({diceGroups:c})}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:u=>t({label:u.target.value}),placeholder:"Roll Name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Dice Groups"}),a.jsx("div",{className:"space-y-2",children:r.map((u,c)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",min:"1",value:u.count,onChange:f=>l(c,"count",f.target.value===""?"":parseInt(f.target.value)||""),onBlur:f=>l(c,"count",Math.max(1,parseInt(f.target.value)||1)),className:"w-16 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center"}),a.jsx("span",{className:"text-theme-ink",children:"d"}),a.jsx("input",{type:"number",min:"1",value:u.faces,onChange:f=>l(c,"faces",f.target.value===""?"":parseInt(f.target.value)||""),onBlur:f=>l(c,"faces",Math.max(1,parseInt(f.target.value)||1)),className:"w-16 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center"}),r.length>1&&a.jsx("button",{onClick:()=>i(c),className:"text-red-500 hover:text-red-700 px-2",children:""})]},c))}),a.jsx("button",{onClick:s,className:"mt-2 px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Dice"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Modifier"}),a.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:o,onChange:u=>t({modifier:parseInt(u.target.value)||0})})]})]})}function Rg({widget:e,updateData:t}){const{label:n,spellLevels:r=[{level:1,max:4,used:0}]}=e.data,o=()=>{const u=r.map(f=>f.level),c=Math.min(9,Math.max(...u,0)+1);c<=9&&!u.includes(c)&&t({spellLevels:[...r,{level:c,max:2,used:0}]})},l=u=>{const c=[...r];c.splice(u,1),t({spellLevels:c})},s=(u,c)=>{const f=[...r];if(typeof c=="string")f[u]={...f[u],max:c};else{const v=Math.max(1,Math.min(10,c));f[u]={...f[u],max:v,used:Math.min(f[u].used,v)}}t({spellLevels:f})},i=(u,c)=>{const f=[...r];typeof c=="string"?f[u]={...f[u],level:c}:f[u]={...f[u],level:Math.max(1,Math.min(9,c))},t({spellLevels:f})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:u=>t({label:u.target.value}),placeholder:"Spell Slots"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Spell Levels"}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:r.map((u,c)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-theme-ink text-sm",children:"Level"}),a.jsx("input",{type:"number",value:u.level,onChange:f=>i(c,f.target.value===""?"":parseInt(f.target.value)||""),onBlur:f=>i(c,Math.max(1,Math.min(9,parseInt(f.target.value)||1))),className:"w-12 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center",min:1,max:9}),a.jsx("span",{className:"text-theme-ink text-sm",children:"Max Slots"}),a.jsx("input",{type:"number",value:u.max,onChange:f=>s(c,f.target.value===""?"":parseInt(f.target.value)||""),onBlur:f=>s(c,Math.max(1,Math.min(10,parseInt(f.target.value)||1))),className:"w-12 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center",min:1,max:10}),a.jsx("button",{onClick:()=>l(c),className:"text-red-500 hover:text-red-700 px-2",children:""})]},c))}),r.length<9&&a.jsx("button",{onClick:o,className:"mt-2 px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Level"})]})]})}function Og({widget:e,updateData:t}){const{label:n,imageUrl:r=""}=e.data,o=s=>{var u;const i=(u=s.target.files)==null?void 0:u[0];if(i){const c=new FileReader;c.onload=f=>{var x;const v=(x=f.target)==null?void 0:x.result;t({imageUrl:v})},c.readAsDataURL(i)}},l=()=>{t({imageUrl:""})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:s=>t({label:s.target.value}),placeholder:"Portrait"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Image"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("label",{className:"flex-1 px-3 py-2 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90 cursor-pointer text-center",children:["Upload Image",a.jsx("input",{type:"file",accept:"image/*",onChange:o,className:"hidden"})]}),r&&a.jsx("button",{onClick:l,className:"px-3 py-2 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-red-500 hover:text-white hover:border-red-500",children:"Clear"})]}),r&&a.jsx("div",{className:"mt-2 border border-theme-border rounded-theme overflow-hidden",children:a.jsx("img",{src:r,alt:"Preview",className:"w-full h-32 object-cover"})})]})]})}function zg({widget:e,updateData:t}){const{label:n,maxPool:r=5,poolStyle:o="dots"}=e.data;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:l=>t({label:l.target.value}),placeholder:"Resource Pool"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Maximum Pool"}),a.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:r,onChange:l=>{t({maxPool:l.target.value===""?"":parseInt(l.target.value)||""})},onBlur:l=>{const s=Math.max(1,Math.min(20,parseInt(l.target.value)||1));t({maxPool:s})},min:1,max:20})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Style"}),a.jsxs("select",{value:o,onChange:l=>t({poolStyle:l.target.value}),className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",children:[a.jsx("option",{value:"dots",children:"Dots"}),a.jsx("option",{value:"boxes",children:"Boxes"}),a.jsx("option",{value:"hearts",children:"Hearts"})]})]})]})}function Wg({widget:e,updateData:t}){const{label:n,toggleItems:r=[]}=e.data,[o,l]=_.useState(""),s=["Blinded","Charmed","Frightened","Poisoned","Stunned","Prone","Invisible","Paralyzed","Unconscious","Exhausted","Afraid","Angry","Confused","Wounded","Dazed"],i=x=>{x.trim()&&!r.some(p=>p.name.toLowerCase()===x.trim().toLowerCase())&&t({toggleItems:[...r,{name:x.trim(),active:!1}]}),l("")},u=x=>{x.preventDefault(),i(o)},c=x=>{const p=[...r];p.splice(x,1),t({toggleItems:p})},f=r.map(x=>x.name.toLowerCase()),v=s.filter(x=>!f.includes(x.toLowerCase()));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:x=>t({label:x.target.value}),placeholder:"Conditions"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Conditions"}),a.jsx("div",{className:"flex flex-wrap gap-1 max-h-32 overflow-y-auto",children:r.map((x,p)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-theme-background rounded-theme text-sm",children:[a.jsx("span",{className:"text-theme-ink",children:x.name}),a.jsx("button",{onClick:()=>c(p),className:"text-red-500 hover:text-red-700",children:""})]},p))}),a.jsxs("form",{onSubmit:u,className:"flex gap-2 mt-2",children:[a.jsx("input",{type:"text",value:o,onChange:x=>l(x.target.value),placeholder:"Add condition...",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm"}),a.jsx("button",{type:"submit",className:"px-3 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90",children:"Add"})]}),v.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx("span",{className:"text-xs text-theme-muted",children:"Quick add:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:v.slice(0,8).map(x=>a.jsx("button",{onClick:()=>i(x),className:"px-2 py-0.5 text-xs border border-theme-border rounded-theme text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:x},x))})]})]})]})}function $g({widget:e,updateData:t}){const{label:n}=e.data;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:r=>t({label:r.target.value}),placeholder:"Time Tracker"})]}),a.jsxs("div",{className:"text-sm text-theme-muted",children:[a.jsx("p",{children:"Use this widget to track timed effects in your game."}),a.jsxs("ul",{className:"list-disc ml-4 mt-2 space-y-1",children:[a.jsx("li",{children:"Add effects with their remaining duration"}),a.jsx("li",{children:'Use the "Pass Time" controls to advance all timers at once'}),a.jsx("li",{children:"Expired effects will be highlighted"})]})]})]})}function Fg({widget:e,updateData:t}){const{label:n,columns:r=["Item","Qty","Weight"],rows:o=[]}=e.data,l=(f,v)=>{const x=[...r];x[f]=v,t({columns:x})},s=()=>{t({columns:[...r,"New"]})},i=f=>{if(r.length<=1)return;const v=[...r];v.splice(f,1),t({columns:v})},u=()=>{const f={cells:r.map(()=>"")};t({rows:[...o,f]})},c=f=>{if(o.length<=1)return;const v=[...o];v.splice(f,1),t({rows:v})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:f=>t({label:f.target.value}),placeholder:"Inventory"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Columns"}),a.jsx("div",{className:"space-y-2",children:r.map((f,v)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm",value:f,onChange:x=>l(v,x.target.value),placeholder:"Column name"}),r.length>1&&a.jsx("button",{onClick:()=>i(v),className:"text-red-500 hover:text-red-700 px-2",children:""})]},v))}),a.jsx("button",{onClick:s,className:"mt-2 px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Column"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:["Rows (",o.length,")"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:u,className:"px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Row"}),o.length>1&&a.jsx("button",{onClick:()=>c(o.length-1),className:"px-3 py-1 border border-theme-border rounded-theme text-sm text-red-500 hover:bg-red-500 hover:text-white",children:"- Remove Row"})]}),a.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Row contents can be edited in play mode"})]})]})}function Ag(e){return{NUMBER:"Number Tracker",LIST:"List",TEXT:"Text",CHECKBOX:"Checkbox",HEALTH_BAR:"Health Bar",DICE_ROLLER:"Dice Roller",SPELL_SLOT:"Spell Slots",IMAGE:"Image",POOL:"Resource Pool",TOGGLE_GROUP:"Conditions",TABLE:"Table",TIME_TRACKER:"Time Tracker"}[e]||"Widget"}function Hg({widget:e,onClose:t}){const n=F(p=>p.updateWidgetData),r=F(p=>p.updateWidgetSize),[o,l]=_.useState({...e.data}),[s,i]=_.useState(e.w||200),u=p=>{const b={...o,...p};l(b),n(e.id,p)},c=p=>{i(p),r(e.id,p,e.h||0)},f={...e,data:o,w:s},v=()=>{const p={widget:f,updateData:u,updateWidth:c};switch(e.type){case"NUMBER":return a.jsx(Pg,{...p});case"LIST":return a.jsx(Ig,{...p});case"TEXT":return a.jsx(_g,{...p});case"CHECKBOX":return a.jsx(Mg,{...p});case"HEALTH_BAR":return a.jsx(Dg,{...p});case"DICE_ROLLER":return a.jsx(Lg,{...p});case"SPELL_SLOT":return a.jsx(Rg,{...p});case"IMAGE":return a.jsx(Og,{...p});case"POOL":return a.jsx(zg,{...p});case"TOGGLE_GROUP":return a.jsx(Wg,{...p});case"TABLE":return a.jsx(Fg,{...p});case"TIME_TRACKER":return a.jsx($g,{...p});default:return null}},x=()=>{const p={widget:f,mode:"play",width:200,height:200};switch(e.type){case"NUMBER":return a.jsx(cf,{...p});case"LIST":return a.jsx(df,{...p});case"TEXT":return a.jsx(ff,{...p});case"CHECKBOX":return a.jsx(hf,{...p});case"HEALTH_BAR":return a.jsx(pf,{...p});case"DICE_ROLLER":return a.jsx(mf,{...p});case"SPELL_SLOT":return a.jsx(gf,{...p});case"IMAGE":return a.jsx(xf,{...p});case"POOL":return a.jsx(vf,{...p});case"TOGGLE_GROUP":return a.jsx(yf,{...p});case"TABLE":return a.jsx(wf,{...p});case"TIME_TRACKER":return a.jsx(bf,{...p});default:return null}};return _.useEffect(()=>{const p=b=>{b.key==="Escape"&&t()};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[t]),oo.createPortal(a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-0 sm:p-4",onClick:p=>{p.target===p.currentTarget&&t()},onMouseDown:p=>p.stopPropagation(),onMouseUp:p=>p.stopPropagation(),onMouseMove:p=>p.stopPropagation(),onWheel:p=>p.stopPropagation(),onTouchStart:p=>p.stopPropagation(),onTouchMove:p=>p.stopPropagation(),onTouchEnd:p=>p.stopPropagation(),children:a.jsxs("div",{className:"bg-theme-paper border-[length:var(--border-width)] border-theme-border rounded-none sm:rounded-theme shadow-theme sm:max-w-2xl w-full h-full sm:h-auto sm:max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-theme-border",children:[a.jsxs("h2",{className:"text-lg font-bold text-theme-ink font-heading",children:["Edit ",Ag(e.type)]}),a.jsx("button",{onClick:t,className:"w-8 h-8 flex items-center justify-center text-theme-muted hover:text-theme-ink hover:bg-theme-background rounded-theme transition-colors",children:""})]}),a.jsx("div",{className:"flex-1 overflow-auto p-4",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-sm font-medium text-theme-muted mb-3",children:"Settings"}),v()]}),a.jsxs("div",{className:"lg:w-72 flex-shrink-0",children:[a.jsx("h3",{className:"text-sm font-medium text-theme-muted mb-3",children:"Preview"}),a.jsx("div",{className:"bg-theme-paper border-[length:var(--border-width)] border-theme-border rounded-theme p-2 sm:p-4 shadow-theme",style:{width:"200px"},children:x()})]})]})}),a.jsx("div",{className:"px-4 py-3 border-t border-theme-border flex justify-end",children:a.jsx("button",{onClick:t,className:"px-4 py-2 bg-theme-accent text-theme-paper rounded-theme hover:opacity-90 font-medium",children:"Done"})})]})}),document.body)}const _n=10,Ug={NUMBER:{width:140,height:60},LIST:{width:140,height:80},TEXT:{width:120,height:60},CHECKBOX:{width:140,height:60},HEALTH_BAR:{width:160,height:80},DICE_ROLLER:{width:160,height:120},SPELL_SLOT:{width:160,height:80},IMAGE:{width:100,height:100},POOL:{width:120,height:80},TOGGLE_GROUP:{width:140,height:60},TABLE:{width:180,height:80},TIME_TRACKER:{width:180,height:140}};function Bg({widget:e,scale:t}){const n=F(D=>D.updateWidgetPosition),r=F(D=>D.updateWidgetSize),o=F(D=>D.moveWidgetGroup),l=F(D=>D.removeWidget),s=F(D=>D.detachWidgets),i=F(D=>D.mode),u=F(D=>D.setEditingWidgetId),c=F(D=>D.selectedWidgetId),f=F(D=>D.setSelectedWidgetId),v=_.useRef(null),x=_.useRef(null),[p,b]=_.useState(!1),[k,T]=_.useState(!1),[h,d]=_.useState(null),g=_.useRef({x:0,y:0}),[w,m]=_.useState(!1),y=_.useRef({mouseX:0,mouseY:0,width:0,height:0}),S=c===e.id,j=Ug[e.type]||{width:120,height:60};_.useEffect(()=>{if(e.h&&e.h>0){d(e.h);return}if(v.current){const D=new ResizeObserver(K=>{for(const be of K){const Ge=be.target.scrollHeight,He=Math.ceil(Ge/_n)*_n;d(He)}});return D.observe(v.current),()=>D.disconnect()}},[e.data,e.h]);const P=D=>{i==="edit"&&(S||(D.preventDefault(),D.stopPropagation(),f(e.id)))},I=D=>{i==="edit"&&!G&&(D.preventDefault(),D.stopPropagation(),f(e.id))},G=k||S,ae=()=>{b(!0),u(e.id)},me=()=>{b(!1),u(null)},ie=D=>Math.round(D/_n)*_n,ue=(()=>{if(e.w)return e.w;if(e.type==="TABLE"){const K=(e.data.columns||["Item","Qty","Weight"]).length,He=Math.max(200,K*80+40);return ie(He)}return 200})(),M=_.useCallback(D=>{D.preventDefault(),D.stopPropagation(),e.groupId&&s(e.id,e.id);const K="touches"in D?D.touches[0].clientX:D.clientX,be="touches"in D?D.touches[0].clientY:D.clientY,Ge=e.w||200,He=e.h||120;y.current={mouseX:K,mouseY:be,width:Ge,height:He},m(!0)},[e.w,e.h,e.groupId,e.id,s]),C=_.useCallback(D=>{if(!w)return;const K="touches"in D?D.touches[0].clientX:D.clientX,be="touches"in D?D.touches[0].clientY:D.clientY,Ge=(K-y.current.mouseX)/t,He=(be-y.current.mouseY)/t,bt=ie(Math.max(j.width,y.current.width+Ge)),dn=ie(Math.max(j.height,y.current.height+He));r(e.id,bt,dn)},[w,t,j,e.id,r]),O=_.useCallback(()=>{m(!1)},[]);_.useEffect(()=>{if(w)return window.addEventListener("mousemove",C),window.addEventListener("mouseup",O),window.addEventListener("touchmove",C),window.addEventListener("touchend",O),()=>{window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",O),window.removeEventListener("touchmove",C),window.removeEventListener("touchend",O)}},[w,C,O]);const A=(D,K)=>{g.current={x:K.x,y:K.y}},L=(D,K)=>{if(e.groupId){const be=K.x-g.current.x,Ge=K.y-g.current.y;document.querySelectorAll(`[data-group-id="${e.groupId}"]`).forEach(bt=>{const dn=bt.getAttribute("data-widget-id");if(dn&&dn!==e.id){const dr=F.getState().getWidgetsInGroup(e.groupId).find(_l=>_l.id===dn);dr&&(bt.style.transform=`translate(${dr.x+be}px, ${dr.y+Ge}px)`)}})}},H=(D,K)=>{const be=ie(K.x),Ge=ie(K.y);if(e.groupId){const He=be-e.x,bt=Ge-e.y;(He!==0||bt!==0)&&o(e.id,He,bt)}else n(e.id,be,Ge)},re=e.h&&e.h>0?e.h:h,we=()=>{const D={widget:e,mode:"play",width:ue,height:re||120};switch(e.type){case"NUMBER":return a.jsx(cf,{...D});case"LIST":return a.jsx(df,{...D});case"TEXT":return a.jsx(ff,{...D});case"CHECKBOX":return a.jsx(hf,{...D});case"HEALTH_BAR":return a.jsx(pf,{...D});case"DICE_ROLLER":return a.jsx(mf,{...D});case"SPELL_SLOT":return a.jsx(gf,{...D});case"IMAGE":return a.jsx(xf,{...D});case"POOL":return a.jsx(vf,{...D});case"TOGGLE_GROUP":return a.jsx(yf,{...D});case"TABLE":return a.jsx(wf,{...D});case"TIME_TRACKER":return a.jsx(bf,{...D});default:return null}};return a.jsxs(a.Fragment,{children:[a.jsx(Eg,{nodeRef:v,position:{x:e.x,y:e.y},onStart:A,onDrag:L,onStop:H,scale:t,grid:[_n,_n],handle:".drag-handle",disabled:i==="play",children:a.jsxs("div",{ref:v,"data-widget-id":e.id,"data-group-id":e.groupId||"",className:`react-draggable absolute bg-theme-paper border-[length:var(--border-width)] border-theme-border p-2 sm:p-4 cursor-default group touch-manipulation rounded-theme ${e.groupId&&i==="edit"?"ring-2 ring-green-500 ring-opacity-50":""} ${w?"select-none":""}`,style:{width:`${ue}px`,minWidth:`${j.width}px`,height:re?`${re}px`:"auto",minHeight:re?`${re}px`:h?`${h}px`:"auto",zIndex:G&&i==="edit"?100:void 0},onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),onTouchStart:P,onClick:I,children:[i==="edit"&&a.jsx("div",{className:"drag-handle absolute top-0 left-0 right-0 h-6 sm:h-4 bg-transparent cursor-move hover:opacity-70 active:opacity-50 flex justify-end pr-1 touch-none rounded-t-theme",children:a.jsx("div",{className:"w-full h-full"})}),i==="edit"&&G&&a.jsx("button",{className:"absolute -top-3 -left-3 w-8 h-8 sm:w-6 sm:h-6 bg-theme-accent text-theme-paper rounded-full flex items-center justify-center transition-opacity z-50 hover:bg-blue-600 text-sm",onClick:ae,onMouseDown:D=>D.stopPropagation(),onTouchStart:D=>D.stopPropagation(),title:"Edit widget",children:""}),i==="edit"&&G&&a.jsx("button",{className:"absolute -top-3 -right-3 w-8 h-8 sm:w-6 sm:h-6 bg-theme-accent text-theme-paper rounded-full flex items-center justify-center transition-opacity z-50 hover:bg-red-600 text-lg sm:text-base",onClick:()=>l(e.id),onMouseDown:D=>D.stopPropagation(),onTouchStart:D=>D.stopPropagation(),children:""}),i==="edit"&&S&&a.jsx("div",{className:"absolute inset-0 z-40 bg-theme-accent/10 rounded-theme",onTouchStart:D=>D.stopPropagation()}),i==="edit"&&G&&a.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 cursor-se-resize z-50 flex items-center justify-center",onMouseDown:M,onTouchStart:M,title:"Drag to resize",children:a.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",className:"text-theme-muted hover:text-theme-ink transition-colors",children:a.jsx("path",{d:"M10 2L2 10M10 6L6 10M10 10L10 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),a.jsx("div",{ref:x,className:"h-full overflow-hidden",children:we()})]})}),p&&a.jsx(Hg,{widget:e,onClose:me})]})}const Co=10,Eo=20;function Vg({widgets:e,scale:t}){const n=F(h=>h.attachWidgets),r=F(h=>h.detachWidgets),o=F(h=>h.selectedWidgetId),[l,s]=_.useState(0),[i,u]=_.useState(!1),[c,f]=_.useState(null),v=o||c,x=e.map(h=>`${h.id}:${h.x}:${h.y}:${h.groupId||""}`).join("|");_.useEffect(()=>{const h=()=>{const g=document.querySelector(".react-draggable-dragging");u(!!g)},d=new MutationObserver(h);return d.observe(document.body,{subtree:!0,attributes:!0,attributeFilter:["class"]}),()=>d.disconnect()},[]),_.useEffect(()=>{const h=g=>{const w=g.target;if(w.closest("[data-attach-widget-ids]"))return;const y=w.closest("[data-widget-id]");f(y?y.getAttribute("data-widget-id"):null)},d=g=>{const w=g.target;if(w.closest("[data-attach-widget-ids]"))return;const y=w.closest("[data-widget-id]");f(y?y.getAttribute("data-widget-id"):null)};return document.addEventListener("mouseover",h),document.addEventListener("touchstart",d),()=>{document.removeEventListener("mouseover",h),document.removeEventListener("touchstart",d)}},[]),_.useEffect(()=>{const h=setTimeout(()=>{s(d=>d+1)},100);return()=>clearTimeout(h)},[x,t]);const p=_.useMemo(()=>{const h=[];return e.forEach(d=>{const g=document.querySelector(`[data-widget-id="${d.id}"]`);if(g){const w=g.getBoundingClientRect();h.push({id:d.id,groupId:d.groupId,attachedTo:d.attachedTo,left:d.x,right:d.x+w.width/t,top:d.y,bottom:d.y+w.height/t})}}),h},[e,t,l]),b=_.useMemo(()=>{var d,g;const h=[];for(let w=0;w<p.length;w++)for(let m=w+1;m<p.length;m++){const y=p[w],S=p[m],j=!!((d=y.attachedTo)!=null&&d.includes(S.id)||(g=S.attachedTo)!=null&&g.includes(y.id));if(Math.abs(y.right-S.left)<=Co){const P=Math.max(y.top,S.top),I=Math.min(y.bottom,S.bottom);I-P>=Eo&&h.push({widget1Id:y.id,widget2Id:S.id,x:y.right,y:(P+I)/2,orientation:"vertical",isAttached:j})}if(Math.abs(y.left-S.right)<=Co){const P=Math.max(y.top,S.top),I=Math.min(y.bottom,S.bottom);I-P>=Eo&&h.push({widget1Id:y.id,widget2Id:S.id,x:y.left,y:(P+I)/2,orientation:"vertical",isAttached:j})}if(Math.abs(y.bottom-S.top)<=Co){const P=Math.max(y.left,S.left),I=Math.min(y.right,S.right);I-P>=Eo&&h.push({widget1Id:y.id,widget2Id:S.id,x:(P+I)/2,y:y.bottom,orientation:"horizontal",isAttached:j})}if(Math.abs(y.top-S.bottom)<=Co){const P=Math.max(y.left,S.left),I=Math.min(y.right,S.right);I-P>=Eo&&h.push({widget1Id:y.id,widget2Id:S.id,x:(P+I)/2,y:y.top,orientation:"horizontal",isAttached:j})}}return h},[p]),k=h=>{if(h.isAttached){const d=v===h.widget1Id?h.widget1Id:v===h.widget2Id?h.widget2Id:h.widget1Id;r(d,h.widget2Id)}else{const d=p.find(S=>S.id===h.widget1Id),g=p.find(S=>S.id===h.widget2Id);if(!d||!g){n(h.widget1Id,h.widget2Id);return}let w,m;if(g.groupId&&!d.groupId)w=d.id,m=g.groupId;else if(d.groupId&&!g.groupId)w=g.id,m=d.groupId;else if(d.groupId&&g.groupId&&d.groupId!==g.groupId){n(h.widget1Id,h.widget2Id);return}else{n(h.widget1Id,h.widget2Id);return}const y=b.filter(S=>{if(S.isAttached)return!1;const j=p.find(I=>I.id===S.widget1Id),P=p.find(I=>I.id===S.widget2Id);return!j||!P?!1:S.widget1Id===w&&P.groupId===m||S.widget2Id===w&&j.groupId===m});for(const S of y)n(S.widget1Id,S.widget2Id)}};if(i)return null;const T=v?b.filter(h=>h.widget1Id===v||h.widget2Id===v):[];return a.jsx(a.Fragment,{children:T.map((h,d)=>a.jsx("button",{"data-attach-widget-ids":`${h.widget1Id},${h.widget2Id}`,className:`absolute w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all transform -translate-x-1/2 -translate-y-1/2 hover:scale-125 ${h.isAttached?"bg-green-500 hover:bg-red-500 text-white":"bg-blue-500 hover:bg-green-500 text-white"}`,style:{left:`${h.x}px`,top:`${h.y}px`,zIndex:150},onClick:()=>k(h),onMouseDown:g=>g.stopPropagation(),onTouchStart:g=>g.stopPropagation(),title:h.isAttached?"Click to detach widgets":"Click to attach widgets",children:h.isAttached?"":""},`${h.widget1Id}-${h.widget2Id}-${d}`))})}function Xg({widgets:e,scale:t}){const[n,r]=_.useState([]),[o,l]=_.useState(!1),s=e.map(i=>`${i.id}:${i.x}:${i.y}`).join("|");return _.useEffect(()=>{const i=()=>{const c=document.querySelector(".react-draggable-dragging");l(!!c)},u=new MutationObserver(i);return u.observe(document.body,{subtree:!0,attributes:!0,attributeFilter:["class"]}),()=>u.disconnect()},[]),_.useEffect(()=>{const i=setTimeout(()=>{const u=[];e.forEach(c=>{const f=document.querySelector(`[data-widget-id="${c.id}"]`);if(f){const v=f.getBoundingClientRect();u.push({id:c.id,x:c.x,y:c.y,width:v.width/t,height:v.height/t})}}),r(u)},50);return()=>clearTimeout(i)},[e,t,s]),o?null:a.jsx("div",{className:"pointer-events-none",children:n.map(i=>a.jsx("div",{className:"absolute shadow-theme rounded-theme",style:{left:`${i.x}px`,top:`${i.y}px`,width:`${i.width}px`,height:`${i.height}px`}},`shadow-${i.id}`))})}function Yg(e){const t=e.sheets.find(n=>n.id===e.activeSheetId);return(t==null?void 0:t.widgets)||[]}function Gg(){var ii,ui;const e=F(N=>N.activeCharacterId),t=F(N=>N.characters),n=F(N=>N.addWidget),r=F(N=>N.mode),o=F(N=>N.setMode),l=F(N=>N.selectCharacter),s=F(N=>N.updateCharacterName),i=F(N=>N.editingWidgetId),u=F(N=>N.updateWidgetPosition),c=F(N=>N.createSheet),f=F(N=>N.selectSheet),v=F(N=>N.deleteSheet),x=F(N=>N.renameSheet),p=t.find(N=>N.id===e),b=p?Yg(p):[],[k,T]=_.useState(()=>window.innerWidth<768),[h,d]=_.useState(!0),[g,w]=_.useState(!1),[m,y]=_.useState(""),[S,j]=_.useState(null),[P,I]=_.useState(""),[G,ae]=_.useState(!1),[me,ie]=_.useState(null),dt=()=>{if(!p||b.length===0)return;const N=10,$=10,X=document.querySelectorAll(".react-draggable[data-widget-id]"),ge=[];X.forEach(W=>{const U=W.getAttribute("data-widget-id");if(U){const q=W.getBoundingClientRect();ge.push({id:U,w:Math.ceil(q.width/C/N)*N,h:Math.ceil(q.height/C/N)*N})}});const xe=b.map(W=>{const U=ge.find(q=>q.id===W.id);return{id:W.id,groupId:W.groupId,x:W.x,y:W.y,w:U?U.w:W.w||200,h:U?U.h:W.h||120}}),Te=new Map,St=[];for(const W of xe)if(W.groupId){const U=Te.get(W.groupId)||[];U.push(W),Te.set(W.groupId,U)}else St.push(W);const rt=[];for(const[W,U]of Te){if(U.length===0)continue;const q=Math.min(...U.map(Q=>Q.x)),ce=Math.min(...U.map(Q=>Q.y)),Z=Math.max(...U.map(Q=>Q.x+Q.w)),z=Math.max(...U.map(Q=>Q.y+Q.h));rt.push({type:"group",id:W,widgets:U,boundingBox:{x:q,y:ce,w:Z-q,h:z-ce},originalOffset:{x:q,y:ce}})}for(const W of St)rt.push({type:"single",id:W.id,widgets:[W],boundingBox:{x:W.x,y:W.y,w:W.w,h:W.h},originalOffset:{x:W.x,y:W.y}});const kt=rt.reduce((W,U)=>W+(U.boundingBox.w+$)*(U.boundingBox.h+$),0),En=Math.max(800,Math.ceil(Math.sqrt(kt*1.5)/N)*N),Tn=[...rt].sort((W,U)=>{const ce=Math.floor(W.boundingBox.y/50),Z=Math.floor(U.boundingBox.y/50);return ce!==Z?ce-Z:W.boundingBox.x-U.boundingBox.x});let fr=[{x:0,y:0,w:En,h:1e5}];const Pn=[],Ml=(W,U)=>{let q=1/0,ce=0,Z=0,z=!1;for(const Q of fr)if(W<=Q.w&&U<=Q.h){const ot=Q.w-W,Le=Q.h-U,Cf=Math.min(ot,Le),ci=Q.y*1e4+Cf;ci<q&&(q=ci,ce=Q.x,Z=Q.y,z=!0)}return z?{x:ce,y:Z}:null},lo=(W,U,q,ce)=>{const Z=[];for(const z of fr){if(W>=z.x+z.w||W+q<=z.x||U>=z.y+z.h||U+ce<=z.y){Z.push(z);continue}W>z.x&&Z.push({x:z.x,y:z.y,w:W-z.x,h:z.h}),W+q<z.x+z.w&&Z.push({x:W+q,y:z.y,w:z.x+z.w-(W+q),h:z.h}),U>z.y&&Z.push({x:z.x,y:z.y,w:z.w,h:U-z.y}),U+ce<z.y+z.h&&Z.push({x:z.x,y:U+ce,w:z.w,h:z.y+z.h-(U+ce)})}fr=Z.filter((z,Q)=>{for(let ot=0;ot<Z.length;ot++){if(Q===ot)continue;const Le=Z[ot];if(z.x>=Le.x&&z.y>=Le.y&&z.x+z.w<=Le.x+Le.w&&z.y+z.h<=Le.y+Le.h)return!1}return!0})};for(const W of Tn){const U=W.boundingBox.w+$,q=W.boundingBox.h+$,ce=Ml(U,q);if(ce){const Z=Math.round(ce.x/N)*N,z=Math.round(ce.y/N)*N;Pn.push({item:W,x:Z,y:z}),lo(Z,z,U,q)}else{const Z=Pn.reduce((z,Q)=>Math.max(z,Q.y+Q.item.boundingBox.h+$),0);Pn.push({item:W,x:0,y:Z}),lo(0,Z,U,q)}}for(const W of Pn){const{item:U,x:q,y:ce}=W,Z=q-U.originalOffset.x,z=ce-U.originalOffset.y;for(const Q of U.widgets){const ot=Math.round((Q.x+Z)/N)*N,Le=Math.round((Q.y+z)/N)*N;u(Q.id,ot,Le)}}},[ue,M]=_.useState({x:0,y:0}),[C,O]=_.useState(1),[A,L]=_.useState(!1),H=_.useRef({x:0,y:0}),re=_.useRef(null),we=_.useRef(null),D=()=>{if(!p||b.length===0){O(1),M({x:0,y:0});return}const N=document.querySelectorAll(".react-draggable[data-widget-id]"),$=[];if(N.forEach(z=>{const Q=z.getAttribute("data-widget-id"),ot=b.find(Le=>Le.id===Q);if(ot){const Le=z.getBoundingClientRect();$.push({x:ot.x,y:ot.y,w:Le.width/C,h:Le.height/C})}}),$.length===0){O(1),M({x:0,y:0});return}const X=Math.min(...$.map(z=>z.x)),ge=Math.min(...$.map(z=>z.y)),xe=Math.max(...$.map(z=>z.x+z.w)),Te=Math.max(...$.map(z=>z.y+z.h)),St=xe-X,rt=Te-ge,kt=window.innerWidth,En=window.innerHeight,Tn=60,fr=kt-Tn*2,Pn=En-Tn*2,Ml=fr/St,lo=Pn/rt,W=Math.min(Math.max(Math.min(Ml,lo),.1),5),U=(X+xe)/2,q=(ge+Te)/2,ce=kt/2-U*W,Z=En/2-q*W;O(W),M({x:ce,y:Z})};_.useEffect(()=>{if(p){const N=p.theme||"default",$=ri(N);$?ra($):ar(N)}return()=>{ar("default")}},[p==null?void 0:p.theme,p==null?void 0:p.id]);const K=N=>{i||N.target.closest(".react-draggable")||(r==="play"?N.button===0&&(N.preventDefault(),L(!0),H.current={x:N.clientX,y:N.clientY}):(N.button===0||N.button===1)&&(N.preventDefault(),L(!0),H.current={x:N.clientX,y:N.clientY}))},be=N=>{if(A){const $=N.clientX-H.current.x,X=N.clientY-H.current.y;M(ge=>({x:ge.x+$,y:ge.y+X})),H.current={x:N.clientX,y:N.clientY}}},Ge=()=>{L(!1)},He=N=>{const $=N[0].clientX-N[1].clientX,X=N[0].clientY-N[1].clientY;return Math.sqrt($*$+X*X)},bt=N=>({x:(N[0].clientX+N[1].clientX)/2,y:(N[0].clientY+N[1].clientY)/2}),dn=N=>{if(!i&&!N.target.closest(".react-draggable"))if(N.touches.length===1){const $=N.touches[0];L(!0),H.current={x:$.clientX,y:$.clientY},re.current=null,we.current=null}else N.touches.length===2&&(N.preventDefault(),L(!1),re.current=He(N.touches),we.current=bt(N.touches))},ai=N=>{if(N.touches.length===1&&A){const $=N.touches[0],X=$.clientX-H.current.x,ge=$.clientY-H.current.y;M(xe=>({x:xe.x+X,y:xe.y+ge})),H.current={x:$.clientX,y:$.clientY}}else if(N.touches.length===2&&re.current!==null&&we.current!==null){N.preventDefault();const $=He(N.touches),X=bt(N.touches),ge=$/re.current,xe=Math.min(Math.max(C*ge,.1),5),Te=(X.x-ue.x)/C,St=(X.y-ue.y)/C,rt=X.x-Te*xe,kt=X.y-St*xe,En=X.x-we.current.x,Tn=X.y-we.current.y;O(xe),M({x:rt+En,y:kt+Tn}),re.current=$,we.current=X}},dr=N=>{if(N.touches.length===0)L(!1),re.current=null,we.current=null;else if(N.touches.length===1){const $=N.touches[0];L(!0),H.current={x:$.clientX,y:$.clientY},re.current=null,we.current=null}},_l=N=>{if(i)return;const $=Math.exp(-N.deltaY*.001),X=Math.min(Math.max(C*$,.1),5),ge=N.clientX,xe=N.clientY,Te=(ge-ue.x)/C,St=(xe-ue.y)/C,rt=ge-Te*X,kt=xe-St*X;O(X),M({x:rt,y:kt})},Sf=N=>{N.preventDefault(),N.dataTransfer.dropEffect="copy"},kf=N=>{N.preventDefault();const $=N.dataTransfer.getData("widgetType");if($){const X=(N.clientX-ue.x)/C,ge=(N.clientY-ue.y)/C,xe=10,Te=kt=>Math.round(kt/xe)*xe,St=Te(X),rt=Te(ge);n($,St,rt)}};if(_.useEffect(()=>{const N=()=>L(!1),$=X=>{if(A){const ge=X.clientX-H.current.x,xe=X.clientY-H.current.y;M(Te=>({x:Te.x+ge,y:Te.y+xe})),H.current={x:X.clientX,y:X.clientY}}};return window.addEventListener("mouseup",N),window.addEventListener("mousemove",$),()=>{window.removeEventListener("mouseup",N),window.removeEventListener("mousemove",$)}},[A]),!p)return null;const Nf=typeof window<"u"&&window.innerWidth<768,jf=r==="edit"&&!k&&!Nf?"md:left-72":"";return a.jsxs("div",{className:"w-full h-screen overflow-hidden relative bg-theme-background touch-none",children:[r==="edit"&&a.jsx(Wm,{collapsed:k,onToggle:()=>T(!k)}),r==="edit"&&a.jsx(Fm,{collapsed:h,onToggle:()=>d(!h)}),a.jsx("div",{className:`absolute inset-0 ${A?"cursor-grabbing":"cursor-default"}`,onMouseDown:K,onMouseMove:be,onMouseUp:Ge,onTouchStart:dn,onTouchMove:ai,onTouchEnd:dr,onWheel:_l,onDragOver:Sf,onDrop:kf,children:a.jsxs("div",{className:"absolute top-0 left-0 w-full h-full origin-top-left",style:{transform:`translate(${ue.x}px, ${ue.y}px) scale(${C})`},children:[a.jsx("div",{className:"absolute -top-[50000px] -left-[50000px] w-[100000px] h-[100000px] pattern-grid opacity-20 pointer-events-none"}),a.jsx(Xg,{widgets:b,scale:C}),b.map(N=>a.jsx(Bg,{widget:N,scale:C},N.id)),r==="edit"&&a.jsx(Vg,{widgets:b,scale:C})]})}),a.jsxs("div",{className:"absolute top-2 right-2 sm:top-4 sm:right-4 flex flex-col gap-2 pointer-events-auto z-30",children:[a.jsx("div",{className:`bg-theme-paper border-[length:var(--border-width)] border-theme-border p-1.5 sm:p-2 shadow-theme rounded-theme ${r==="edit"&&!g?"cursor-pointer hover:opacity-90":""}`,children:g?a.jsx("input",{type:"text",value:m,onChange:N=>y(N.target.value),onBlur:()=>{m.trim()&&s(p.id,m.trim()),w(!1)},onKeyDown:N=>{N.key==="Enter"?(m.trim()&&s(p.id,m.trim()),w(!1)):N.key==="Escape"&&w(!1)},autoFocus:!0,className:"font-bold text-sm sm:text-xl bg-transparent border-b-[length:var(--border-width)] border-theme-border outline-none w-full text-theme-ink font-heading"}):a.jsx("h1",{className:"font-bold text-sm sm:text-xl text-theme-ink font-heading",onClick:()=>{r==="edit"&&(y(p.name),w(!0))},children:p.name})}),a.jsxs("div",{className:"relative w-full",children:[a.jsxs("button",{onClick:()=>ae(!G),className:"w-full bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme px-3 py-1.5 flex items-center justify-between gap-2 hover:bg-theme-accent/10 transition-colors",children:[a.jsx("span",{className:"text-xs sm:text-sm font-body text-theme-ink",children:((ii=p.sheets.find(N=>N.id===p.activeSheetId))==null?void 0:ii.name)||"Sheet"}),a.jsx("span",{className:"text-theme-muted text-xs",children:""})]}),G&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>ae(!1)}),a.jsxs("div",{className:"absolute top-full right-0 mt-1 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme overflow-hidden z-50 min-w-[150px]",children:[p.sheets.map(N=>a.jsx("div",{className:"group relative",children:S===N.id?a.jsx("input",{type:"text",value:P,onChange:$=>I($.target.value),onBlur:()=>{P.trim()&&x(N.id,P.trim()),j(null)},onKeyDown:$=>{$.key==="Enter"?(P.trim()&&x(N.id,P.trim()),j(null)):$.key==="Escape"&&j(null)},autoFocus:!0,onClick:$=>$.stopPropagation(),className:"w-full px-3 py-2 text-xs sm:text-sm bg-transparent border-b border-theme-border outline-none text-theme-ink font-body"}):a.jsxs("button",{onClick:()=>{f(N.id),ae(!1)},className:`w-full px-3 py-2 text-xs sm:text-sm text-left font-body transition-colors flex items-center justify-between ${N.id===p.activeSheetId?"bg-theme-accent text-theme-paper":"text-theme-ink hover:bg-theme-accent/20"}`,children:[a.jsx("span",{children:N.name}),r==="edit"&&a.jsxs("span",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("span",{onClick:$=>{$.stopPropagation(),I(N.name),j(N.id)},className:`w-5 h-5 rounded-full text-xs flex items-center justify-center ${N.id===p.activeSheetId?"bg-theme-paper/30 text-theme-paper hover:bg-theme-paper/50":"bg-theme-accent/20 text-theme-ink hover:bg-theme-accent/40"}`,title:"Rename sheet",children:""}),p.sheets.length>1&&a.jsx("span",{onClick:$=>{$.stopPropagation(),ie(N.id)},className:"w-5 h-5 bg-red-500 text-white rounded-full text-xs flex items-center justify-center hover:bg-red-600",title:"Delete sheet",children:""})]})]})},N.id)),r==="edit"&&a.jsx("button",{onClick:()=>{c(`Sheet ${p.sheets.length+1}`),ae(!1)},className:"w-full px-3 py-2 text-xs sm:text-sm text-theme-muted hover:text-theme-ink hover:bg-theme-accent/20 text-left font-body border-t border-theme-border/50 transition-colors",children:"+ Add New Sheet"})]})]}),me&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>ie(null)}),a.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme p-4 z-50 min-w-[250px]",children:[a.jsx("h3",{className:"font-heading text-theme-ink font-bold mb-2",children:"Delete Sheet?"}),a.jsxs("p",{className:"text-sm text-theme-muted font-body mb-4",children:['Are you sure you want to delete "',(ui=p.sheets.find(N=>N.id===me))==null?void 0:ui.name,'"? This will delete all widgets on this sheet.']}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx("button",{onClick:()=>ie(null),className:"px-3 py-1.5 text-sm font-body text-theme-ink hover:bg-theme-accent/20 rounded-theme transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>{v(me),ie(null),ae(!1)},className:"px-3 py-1.5 text-sm font-body bg-red-500 text-white hover:bg-red-600 rounded-theme transition-colors",children:"Delete"})]})]})]})]}),a.jsxs("div",{className:"flex gap-1 justify-end",children:[a.jsx("button",{onClick:()=>O(N=>Math.min(5,N*1.3)),className:"w-8 h-8 sm:w-10 sm:h-10 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-base sm:text-xl shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none flex items-center justify-center rounded-theme text-theme-ink",children:"+"}),a.jsx("button",{onClick:()=>O(N=>Math.max(.1,N/1.3)),className:"w-8 h-8 sm:w-10 sm:h-10 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-base sm:text-xl shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none flex items-center justify-center rounded-theme text-theme-ink",children:""}),a.jsx("button",{onClick:D,className:"px-2 h-8 sm:h-10 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none flex items-center justify-center rounded-theme text-theme-ink",children:"Fit"})]})]}),a.jsxs("div",{className:`absolute top-2 left-2 sm:top-4 sm:left-4 ${jf} pointer-events-auto transition-all duration-300 flex flex-col gap-1.5 sm:gap-2 z-30`,children:[a.jsxs("button",{onClick:()=>l(null),className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs sm:text-base shadow-theme hover:bg-red-500 hover:text-white hover:border-red-700 transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme text-theme-ink",children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:" Exit to Menu"})]}),a.jsx("button",{onClick:()=>o(r==="play"?"edit":"play"),className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs sm:text-base shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme text-theme-ink",children:r==="play"?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:" Edit Mode"})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:" Play Mode"})]})}),r==="edit"&&a.jsx("button",{onClick:()=>T(!k),className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs sm:text-base shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme text-theme-ink",children:k?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:" Show Toolbox"})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:" Hide Toolbox"})]})}),r==="edit"&&a.jsx("button",{onClick:()=>d(!h),className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs sm:text-base shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme text-theme-ink",children:h?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:" Change Theme"})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:" Hide Themes"})]})}),r==="edit"&&a.jsxs("button",{onClick:dt,className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border font-bold text-xs sm:text-base shadow-theme hover:bg-theme-accent hover:text-theme-paper transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme text-theme-ink",children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:" Auto Stack"})]})]})]})}function Qg(){const e=F(t=>t.activeCharacterId);return a.jsx("div",{className:"h-full bg-gray-100 text-ink font-mono overflow-hidden",children:e?a.jsx(Gg,{}):a.jsx(Om,{})})}ar("default");cs.createRoot(document.getElementById("root")).render(a.jsx(Fu.StrictMode,{children:a.jsx(Qg,{})}));
