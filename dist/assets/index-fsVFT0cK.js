(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Jl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xc={exports:{}},ta={},Kc={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vr=Symbol.for("react.element"),lf=Symbol.for("react.portal"),sf=Symbol.for("react.fragment"),cf=Symbol.for("react.strict_mode"),uf=Symbol.for("react.profiler"),df=Symbol.for("react.provider"),hf=Symbol.for("react.context"),ff=Symbol.for("react.forward_ref"),mf=Symbol.for("react.suspense"),pf=Symbol.for("react.memo"),xf=Symbol.for("react.lazy"),ji=Symbol.iterator;function gf(e){return e===null||typeof e!="object"?null:(e=ji&&e[ji]||e["@@iterator"],typeof e=="function"?e:null)}var Qc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zc=Object.assign,Jc={};function Jn(e,t,n){this.props=e,this.context=t,this.refs=Jc,this.updater=n||Qc}Jn.prototype.isReactComponent={};Jn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Jn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qc(){}qc.prototype=Jn.prototype;function ql(e,t,n){this.props=e,this.context=t,this.refs=Jc,this.updater=n||Qc}var es=ql.prototype=new qc;es.constructor=ql;Zc(es,Jn.prototype);es.isPureReactComponent=!0;var Ni=Array.isArray,eu=Object.prototype.hasOwnProperty,ts={current:null},tu={key:!0,ref:!0,__self:!0,__source:!0};function nu(e,t,n){var r,o={},l=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(l=""+t.key),t)eu.call(t,r)&&!tu.hasOwnProperty(r)&&(o[r]=t[r]);var i=arguments.length-2;if(i===1)o.children=n;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)o[r]===void 0&&(o[r]=i[r]);return{$$typeof:Vr,type:e,key:l,ref:s,props:o,_owner:ts.current}}function vf(e,t){return{$$typeof:Vr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ns(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vr}function bf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ci=/\/+/g;function Ca(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bf(""+e.key):t.toString(36)}function bo(e,t,n,r,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Vr:case lf:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Ca(s,0):r,Ni(o)?(n="",e!=null&&(n=e.replace(Ci,"$&/")+"/"),bo(o,t,n,"",function(u){return u})):o!=null&&(ns(o)&&(o=vf(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Ci,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Ni(e))for(var i=0;i<e.length;i++){l=e[i];var c=r+Ca(l,i);s+=bo(l,t,n,c,o)}else if(c=gf(e),typeof c=="function")for(e=c.call(e),i=0;!(l=e.next()).done;)l=l.value,c=r+Ca(l,i++),s+=bo(l,t,n,c,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Zr(e,t,n){if(e==null)return e;var r=[],o=0;return bo(e,r,"","",function(l){return t.call(n,l,o++)}),r}function yf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Te={current:null},yo={transition:null},wf={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:yo,ReactCurrentOwner:ts};function ru(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Zr,forEach:function(e,t,n){Zr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zr(e,function(){t++}),t},toArray:function(e){return Zr(e,function(t){return t})||[]},only:function(e){if(!ns(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=Jn;V.Fragment=sf;V.Profiler=uf;V.PureComponent=ql;V.StrictMode=cf;V.Suspense=mf;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wf;V.act=ru;V.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Zc({},e.props),o=e.key,l=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,s=ts.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)eu.call(t,c)&&!tu.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){i=Array(c);for(var u=0;u<c;u++)i[u]=arguments[u+2];r.children=i}return{$$typeof:Vr,type:e.type,key:o,ref:l,props:r,_owner:s}};V.createContext=function(e){return e={$$typeof:hf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:df,_context:e},e.Consumer=e};V.createElement=nu;V.createFactory=function(e){var t=nu.bind(null,e);return t.type=e,t};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:ff,render:e}};V.isValidElement=ns;V.lazy=function(e){return{$$typeof:xf,_payload:{_status:-1,_result:e},_init:yf}};V.memo=function(e,t){return{$$typeof:pf,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=yo.transition;yo.transition={};try{e()}finally{yo.transition=t}};V.unstable_act=ru;V.useCallback=function(e,t){return Te.current.useCallback(e,t)};V.useContext=function(e){return Te.current.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e){return Te.current.useDeferredValue(e)};V.useEffect=function(e,t){return Te.current.useEffect(e,t)};V.useId=function(){return Te.current.useId()};V.useImperativeHandle=function(e,t,n){return Te.current.useImperativeHandle(e,t,n)};V.useInsertionEffect=function(e,t){return Te.current.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return Te.current.useLayoutEffect(e,t)};V.useMemo=function(e,t){return Te.current.useMemo(e,t)};V.useReducer=function(e,t,n){return Te.current.useReducer(e,t,n)};V.useRef=function(e){return Te.current.useRef(e)};V.useState=function(e){return Te.current.useState(e)};V.useSyncExternalStore=function(e,t,n){return Te.current.useSyncExternalStore(e,t,n)};V.useTransition=function(){return Te.current.useTransition()};V.version="18.3.1";Kc.exports=V;var E=Kc.exports;const na=Jl(E);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kf=E,Sf=Symbol.for("react.element"),jf=Symbol.for("react.fragment"),Nf=Object.prototype.hasOwnProperty,Cf=kf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tf={key:!0,ref:!0,__self:!0,__source:!0};function ou(e,t,n){var r,o={},l=null,s=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Nf.call(t,r)&&!Tf.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Sf,type:e,key:l,ref:s,props:o,_owner:Cf.current}}ta.Fragment=jf;ta.jsx=ou;ta.jsxs=ou;Xc.exports=ta;var a=Xc.exports,rl={},au={exports:{}},Xe={},lu={exports:{}},su={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,P){var A=I.length;I.push(P);e:for(;0<A;){var D=A-1>>>1,Y=I[D];if(0<o(Y,P))I[D]=P,I[A]=Y,A=D;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var P=I[0],A=I.pop();if(A!==P){I[0]=A;e:for(var D=0,Y=I.length,ie=Y>>>1;D<ie;){var Qe=2*(D+1)-1,ot=I[Qe],ke=Qe+1,Ie=I[ke];if(0>o(ot,A))ke<Y&&0>o(Ie,ot)?(I[D]=Ie,I[ke]=A,D=ke):(I[D]=ot,I[Qe]=A,D=Qe);else if(ke<Y&&0>o(Ie,A))I[D]=Ie,I[ke]=A,D=ke;else break e}}return P}function o(I,P){var A=I.sortIndex-P.sortIndex;return A!==0?A:I.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var s=Date,i=s.now();e.unstable_now=function(){return s.now()-i}}var c=[],u=[],f=1,x=null,p=3,y=!1,b=!1,k=!1,N=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(I){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=I)r(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=n(u)}}function w(I){if(k=!1,m(I),!b)if(n(c)!==null)b=!0,U(g);else{var P=n(u);P!==null&&H(w,P.startTime-I)}}function g(I,P){b=!1,k&&(k=!1,h(C),C=-1),y=!0;var A=p;try{for(m(P),x=n(c);x!==null&&(!(x.expirationTime>P)||I&&!R());){var D=x.callback;if(typeof D=="function"){x.callback=null,p=x.priorityLevel;var Y=D(x.expirationTime<=P);P=e.unstable_now(),typeof Y=="function"?x.callback=Y:x===n(c)&&r(c),m(P)}else r(c);x=n(c)}if(x!==null)var ie=!0;else{var Qe=n(u);Qe!==null&&H(w,Qe.startTime-P),ie=!1}return ie}finally{x=null,p=A,y=!1}}var v=!1,S=null,C=-1,j=5,T=-1;function R(){return!(e.unstable_now()-T<j)}function $(){if(S!==null){var I=e.unstable_now();T=I;var P=!0;try{P=S(!0,I)}finally{P?M():(v=!1,S=null)}}else v=!1}var M;if(typeof d=="function")M=function(){d($)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,F=B.port2;B.port1.onmessage=$,M=function(){F.postMessage(null)}}else M=function(){N($,0)};function U(I){S=I,v||(v=!0,M())}function H(I,P){C=N(function(){I(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){b||y||(b=!0,U(g))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(I){switch(p){case 1:case 2:case 3:var P=3;break;default:P=p}var A=p;p=P;try{return I()}finally{p=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,P){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var A=p;p=I;try{return P()}finally{p=A}},e.unstable_scheduleCallback=function(I,P,A){var D=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?D+A:D):A=D,I){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=A+Y,I={id:f++,callback:P,priorityLevel:I,startTime:A,expirationTime:Y,sortIndex:-1},A>D?(I.sortIndex=A,t(u,I),n(c)===null&&I===n(u)&&(k?(h(C),C=-1):k=!0,H(w,A-D))):(I.sortIndex=Y,t(c,I),b||y||(b=!0,U(g))),I},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(I){var P=p;return function(){var A=p;p=P;try{return I.apply(this,arguments)}finally{p=A}}}})(su);lu.exports=su;var Ef=lu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var If=E,Ye=Ef;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iu=new Set,Er={};function gn(e,t){Hn(e,t),Hn(e+"Capture",t)}function Hn(e,t){for(Er[e]=t,e=0;e<t.length;e++)iu.add(t[e])}var Tt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ol=Object.prototype.hasOwnProperty,Pf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ti={},Ei={};function Mf(e){return ol.call(Ei,e)?!0:ol.call(Ti,e)?!1:Pf.test(e)?Ei[e]=!0:(Ti[e]=!0,!1)}function Rf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Df(e,t,n,r){if(t===null||typeof t>"u"||Rf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ee(e,t,n,r,o,l,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=s}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xe[e]=new Ee(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xe[t]=new Ee(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xe[e]=new Ee(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xe[e]=new Ee(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xe[e]=new Ee(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xe[e]=new Ee(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xe[e]=new Ee(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xe[e]=new Ee(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xe[e]=new Ee(e,5,!1,e.toLowerCase(),null,!1,!1)});var rs=/[\-:]([a-z])/g;function os(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rs,os);xe[t]=new Ee(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rs,os);xe[t]=new Ee(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rs,os);xe[t]=new Ee(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xe[e]=new Ee(e,1,!1,e.toLowerCase(),null,!1,!1)});xe.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xe[e]=new Ee(e,1,!1,e.toLowerCase(),null,!0,!0)});function as(e,t,n,r){var o=xe.hasOwnProperty(t)?xe[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Df(t,n,o,r)&&(n=null),r||o===null?Mf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Mt=If.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jr=Symbol.for("react.element"),kn=Symbol.for("react.portal"),Sn=Symbol.for("react.fragment"),ls=Symbol.for("react.strict_mode"),al=Symbol.for("react.profiler"),cu=Symbol.for("react.provider"),uu=Symbol.for("react.context"),ss=Symbol.for("react.forward_ref"),ll=Symbol.for("react.suspense"),sl=Symbol.for("react.suspense_list"),is=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),du=Symbol.for("react.offscreen"),Ii=Symbol.iterator;function or(e){return e===null||typeof e!="object"?null:(e=Ii&&e[Ii]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,Ta;function pr(e){if(Ta===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ta=t&&t[1]||""}return`
`+Ta+e}var Ea=!1;function Ia(e,t){if(!e||Ea)return"";Ea=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),l=r.stack.split(`
`),s=o.length-1,i=l.length-1;1<=s&&0<=i&&o[s]!==l[i];)i--;for(;1<=s&&0<=i;s--,i--)if(o[s]!==l[i]){if(s!==1||i!==1)do if(s--,i--,0>i||o[s]!==l[i]){var c=`
`+o[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=i);break}}}finally{Ea=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?pr(e):""}function _f(e){switch(e.tag){case 5:return pr(e.type);case 16:return pr("Lazy");case 13:return pr("Suspense");case 19:return pr("SuspenseList");case 0:case 2:case 15:return e=Ia(e.type,!1),e;case 11:return e=Ia(e.type.render,!1),e;case 1:return e=Ia(e.type,!0),e;default:return""}}function il(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sn:return"Fragment";case kn:return"Portal";case al:return"Profiler";case ls:return"StrictMode";case ll:return"Suspense";case sl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uu:return(e.displayName||"Context")+".Consumer";case cu:return(e._context.displayName||"Context")+".Provider";case ss:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case is:return t=e.displayName||null,t!==null?t:il(e.type)||"Memo";case Ot:t=e._payload,e=e._init;try{return il(e(t))}catch{}}return null}function Lf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return il(t);case 8:return t===ls?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Of(e){var t=hu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,l.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qr(e){e._valueTracker||(e._valueTracker=Of(e))}function fu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=hu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Mo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cl(e,t){var n=t.checked;return te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Pi(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Qt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mu(e,t){t=t.checked,t!=null&&as(e,"checked",t,!1)}function ul(e,t){mu(e,t);var n=Qt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dl(e,t.type,n):t.hasOwnProperty("defaultValue")&&dl(e,t.type,Qt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Mi(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function dl(e,t,n){(t!=="number"||Mo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var xr=Array.isArray;function $n(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Qt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function hl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ri(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_(92));if(xr(n)){if(1<n.length)throw Error(_(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Qt(n)}}function pu(e,t){var n=Qt(t.value),r=Qt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Di(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var eo,gu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(eo=eo||document.createElement("div"),eo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=eo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ir(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$f=["Webkit","ms","Moz","O"];Object.keys(br).forEach(function(e){$f.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),br[t]=br[e]})});function vu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||br.hasOwnProperty(e)&&br[e]?(""+t).trim():t+"px"}function bu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=vu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Af=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ml(e,t){if(t){if(Af[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function pl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xl=null;function cs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gl=null,An=null,zn=null;function _i(e){if(e=Xr(e)){if(typeof gl!="function")throw Error(_(280));var t=e.stateNode;t&&(t=sa(t),gl(e.stateNode,e.type,t))}}function yu(e){An?zn?zn.push(e):zn=[e]:An=e}function wu(){if(An){var e=An,t=zn;if(zn=An=null,_i(e),t)for(e=0;e<t.length;e++)_i(t[e])}}function ku(e,t){return e(t)}function Su(){}var Pa=!1;function ju(e,t,n){if(Pa)return e(t,n);Pa=!0;try{return ku(e,t,n)}finally{Pa=!1,(An!==null||zn!==null)&&(Su(),wu())}}function Pr(e,t){var n=e.stateNode;if(n===null)return null;var r=sa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_(231,t,typeof n));return n}var vl=!1;if(Tt)try{var ar={};Object.defineProperty(ar,"passive",{get:function(){vl=!0}}),window.addEventListener("test",ar,ar),window.removeEventListener("test",ar,ar)}catch{vl=!1}function zf(e,t,n,r,o,l,s,i,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var yr=!1,Ro=null,Do=!1,bl=null,Wf={onError:function(e){yr=!0,Ro=e}};function Bf(e,t,n,r,o,l,s,i,c){yr=!1,Ro=null,zf.apply(Wf,arguments)}function Ff(e,t,n,r,o,l,s,i,c){if(Bf.apply(this,arguments),yr){if(yr){var u=Ro;yr=!1,Ro=null}else throw Error(_(198));Do||(Do=!0,bl=u)}}function vn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Nu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Li(e){if(vn(e)!==e)throw Error(_(188))}function Hf(e){var t=e.alternate;if(!t){if(t=vn(e),t===null)throw Error(_(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return Li(o),e;if(l===r)return Li(o),t;l=l.sibling}throw Error(_(188))}if(n.return!==r.return)n=o,r=l;else{for(var s=!1,i=o.child;i;){if(i===n){s=!0,n=o,r=l;break}if(i===r){s=!0,r=o,n=l;break}i=i.sibling}if(!s){for(i=l.child;i;){if(i===n){s=!0,n=l,r=o;break}if(i===r){s=!0,r=l,n=o;break}i=i.sibling}if(!s)throw Error(_(189))}}if(n.alternate!==r)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?e:t}function Cu(e){return e=Hf(e),e!==null?Tu(e):null}function Tu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Tu(e);if(t!==null)return t;e=e.sibling}return null}var Eu=Ye.unstable_scheduleCallback,Oi=Ye.unstable_cancelCallback,Uf=Ye.unstable_shouldYield,Vf=Ye.unstable_requestPaint,oe=Ye.unstable_now,Gf=Ye.unstable_getCurrentPriorityLevel,us=Ye.unstable_ImmediatePriority,Iu=Ye.unstable_UserBlockingPriority,_o=Ye.unstable_NormalPriority,Yf=Ye.unstable_LowPriority,Pu=Ye.unstable_IdlePriority,ra=null,gt=null;function Xf(e){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(ra,e,void 0,(e.current.flags&128)===128)}catch{}}var ut=Math.clz32?Math.clz32:Zf,Kf=Math.log,Qf=Math.LN2;function Zf(e){return e>>>=0,e===0?32:31-(Kf(e)/Qf|0)|0}var to=64,no=4194304;function gr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Lo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,l=e.pingedLanes,s=n&268435455;if(s!==0){var i=s&~o;i!==0?r=gr(i):(l&=s,l!==0&&(r=gr(l)))}else s=n&~o,s!==0?r=gr(s):l!==0&&(r=gr(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ut(t),o=1<<n,r|=e[n],t&=~o;return r}function Jf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var s=31-ut(l),i=1<<s,c=o[s];c===-1?(!(i&n)||i&r)&&(o[s]=Jf(i,t)):c<=t&&(e.expiredLanes|=i),l&=~i}}function yl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mu(){var e=to;return to<<=1,!(to&4194240)&&(to=64),e}function Ma(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ut(t),e[t]=n}function em(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-ut(n),l=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~l}}function ds(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ut(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var X=0;function Ru(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Du,hs,_u,Lu,Ou,wl=!1,ro=[],Ft=null,Ht=null,Ut=null,Mr=new Map,Rr=new Map,At=[],tm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $i(e,t){switch(e){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":Ut=null;break;case"pointerover":case"pointerout":Mr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rr.delete(t.pointerId)}}function lr(e,t,n,r,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[o]},t!==null&&(t=Xr(t),t!==null&&hs(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function nm(e,t,n,r,o){switch(t){case"focusin":return Ft=lr(Ft,e,t,n,r,o),!0;case"dragenter":return Ht=lr(Ht,e,t,n,r,o),!0;case"mouseover":return Ut=lr(Ut,e,t,n,r,o),!0;case"pointerover":var l=o.pointerId;return Mr.set(l,lr(Mr.get(l)||null,e,t,n,r,o)),!0;case"gotpointercapture":return l=o.pointerId,Rr.set(l,lr(Rr.get(l)||null,e,t,n,r,o)),!0}return!1}function $u(e){var t=ln(e.target);if(t!==null){var n=vn(t);if(n!==null){if(t=n.tag,t===13){if(t=Nu(n),t!==null){e.blockedOn=t,Ou(e.priority,function(){_u(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=kl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);xl=r,n.target.dispatchEvent(r),xl=null}else return t=Xr(n),t!==null&&hs(t),e.blockedOn=n,!1;t.shift()}return!0}function Ai(e,t,n){wo(e)&&n.delete(t)}function rm(){wl=!1,Ft!==null&&wo(Ft)&&(Ft=null),Ht!==null&&wo(Ht)&&(Ht=null),Ut!==null&&wo(Ut)&&(Ut=null),Mr.forEach(Ai),Rr.forEach(Ai)}function sr(e,t){e.blockedOn===t&&(e.blockedOn=null,wl||(wl=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,rm)))}function Dr(e){function t(o){return sr(o,e)}if(0<ro.length){sr(ro[0],e);for(var n=1;n<ro.length;n++){var r=ro[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ft!==null&&sr(Ft,e),Ht!==null&&sr(Ht,e),Ut!==null&&sr(Ut,e),Mr.forEach(t),Rr.forEach(t),n=0;n<At.length;n++)r=At[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&(n=At[0],n.blockedOn===null);)$u(n),n.blockedOn===null&&At.shift()}var Wn=Mt.ReactCurrentBatchConfig,Oo=!0;function om(e,t,n,r){var o=X,l=Wn.transition;Wn.transition=null;try{X=1,fs(e,t,n,r)}finally{X=o,Wn.transition=l}}function am(e,t,n,r){var o=X,l=Wn.transition;Wn.transition=null;try{X=4,fs(e,t,n,r)}finally{X=o,Wn.transition=l}}function fs(e,t,n,r){if(Oo){var o=kl(e,t,n,r);if(o===null)Ba(e,t,r,$o,n),$i(e,r);else if(nm(o,e,t,n,r))r.stopPropagation();else if($i(e,r),t&4&&-1<tm.indexOf(e)){for(;o!==null;){var l=Xr(o);if(l!==null&&Du(l),l=kl(e,t,n,r),l===null&&Ba(e,t,r,$o,n),l===o)break;o=l}o!==null&&r.stopPropagation()}else Ba(e,t,r,null,n)}}var $o=null;function kl(e,t,n,r){if($o=null,e=cs(r),e=ln(e),e!==null)if(t=vn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Nu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $o=e,null}function Au(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gf()){case us:return 1;case Iu:return 4;case _o:case Yf:return 16;case Pu:return 536870912;default:return 16}default:return 16}}var Wt=null,ms=null,ko=null;function zu(){if(ko)return ko;var e,t=ms,n=t.length,r,o="value"in Wt?Wt.value:Wt.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[l-r];r++);return ko=o.slice(e,1<r?1-r:void 0)}function So(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oo(){return!0}function zi(){return!1}function Ke(e){function t(n,r,o,l,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=l,this.target=s,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(l):l[i]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?oo:zi,this.isPropagationStopped=zi,this}return te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oo)},persist:function(){},isPersistent:oo}),t}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ps=Ke(qn),Yr=te({},qn,{view:0,detail:0}),lm=Ke(Yr),Ra,Da,ir,oa=te({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ir&&(ir&&e.type==="mousemove"?(Ra=e.screenX-ir.screenX,Da=e.screenY-ir.screenY):Da=Ra=0,ir=e),Ra)},movementY:function(e){return"movementY"in e?e.movementY:Da}}),Wi=Ke(oa),sm=te({},oa,{dataTransfer:0}),im=Ke(sm),cm=te({},Yr,{relatedTarget:0}),_a=Ke(cm),um=te({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),dm=Ke(um),hm=te({},qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fm=Ke(hm),mm=te({},qn,{data:0}),Bi=Ke(mm),pm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gm[e])?!!t[e]:!1}function xs(){return vm}var bm=te({},Yr,{key:function(e){if(e.key){var t=pm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=So(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(e){return e.type==="keypress"?So(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?So(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ym=Ke(bm),wm=te({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=Ke(wm),km=te({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),Sm=Ke(km),jm=te({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nm=Ke(jm),Cm=te({},oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tm=Ke(Cm),Em=[9,13,27,32],gs=Tt&&"CompositionEvent"in window,wr=null;Tt&&"documentMode"in document&&(wr=document.documentMode);var Im=Tt&&"TextEvent"in window&&!wr,Wu=Tt&&(!gs||wr&&8<wr&&11>=wr),Hi=" ",Ui=!1;function Bu(e,t){switch(e){case"keyup":return Em.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jn=!1;function Pm(e,t){switch(e){case"compositionend":return Fu(t);case"keypress":return t.which!==32?null:(Ui=!0,Hi);case"textInput":return e=t.data,e===Hi&&Ui?null:e;default:return null}}function Mm(e,t){if(jn)return e==="compositionend"||!gs&&Bu(e,t)?(e=zu(),ko=ms=Wt=null,jn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wu&&t.locale!=="ko"?null:t.data;default:return null}}var Rm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rm[e.type]:t==="textarea"}function Hu(e,t,n,r){yu(r),t=Ao(t,"onChange"),0<t.length&&(n=new ps("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var kr=null,_r=null;function Dm(e){ed(e,0)}function aa(e){var t=Tn(e);if(fu(t))return e}function _m(e,t){if(e==="change")return t}var Uu=!1;if(Tt){var La;if(Tt){var Oa="oninput"in document;if(!Oa){var Gi=document.createElement("div");Gi.setAttribute("oninput","return;"),Oa=typeof Gi.oninput=="function"}La=Oa}else La=!1;Uu=La&&(!document.documentMode||9<document.documentMode)}function Yi(){kr&&(kr.detachEvent("onpropertychange",Vu),_r=kr=null)}function Vu(e){if(e.propertyName==="value"&&aa(_r)){var t=[];Hu(t,_r,e,cs(e)),ju(Dm,t)}}function Lm(e,t,n){e==="focusin"?(Yi(),kr=t,_r=n,kr.attachEvent("onpropertychange",Vu)):e==="focusout"&&Yi()}function Om(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return aa(_r)}function $m(e,t){if(e==="click")return aa(t)}function Am(e,t){if(e==="input"||e==="change")return aa(t)}function zm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ht=typeof Object.is=="function"?Object.is:zm;function Lr(e,t){if(ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ol.call(t,o)||!ht(e[o],t[o]))return!1}return!0}function Xi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ki(e,t){var n=Xi(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xi(n)}}function Gu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yu(){for(var e=window,t=Mo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Mo(e.document)}return t}function vs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Wm(e){var t=Yu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Gu(n.ownerDocument.documentElement,n)){if(r!==null&&vs(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(r.start,o);r=r.end===void 0?l:Math.min(r.end,o),!e.extend&&l>r&&(o=r,r=l,l=o),o=Ki(n,l);var s=Ki(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bm=Tt&&"documentMode"in document&&11>=document.documentMode,Nn=null,Sl=null,Sr=null,jl=!1;function Qi(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jl||Nn==null||Nn!==Mo(r)||(r=Nn,"selectionStart"in r&&vs(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sr&&Lr(Sr,r)||(Sr=r,r=Ao(Sl,"onSelect"),0<r.length&&(t=new ps("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Nn)))}function ao(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cn={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionend:ao("Transition","TransitionEnd")},$a={},Xu={};Tt&&(Xu=document.createElement("div").style,"AnimationEvent"in window||(delete Cn.animationend.animation,delete Cn.animationiteration.animation,delete Cn.animationstart.animation),"TransitionEvent"in window||delete Cn.transitionend.transition);function la(e){if($a[e])return $a[e];if(!Cn[e])return e;var t=Cn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Xu)return $a[e]=t[n];return e}var Ku=la("animationend"),Qu=la("animationiteration"),Zu=la("animationstart"),Ju=la("transitionend"),qu=new Map,Zi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function en(e,t){qu.set(e,t),gn(t,[e])}for(var Aa=0;Aa<Zi.length;Aa++){var za=Zi[Aa],Fm=za.toLowerCase(),Hm=za[0].toUpperCase()+za.slice(1);en(Fm,"on"+Hm)}en(Ku,"onAnimationEnd");en(Qu,"onAnimationIteration");en(Zu,"onAnimationStart");en("dblclick","onDoubleClick");en("focusin","onFocus");en("focusout","onBlur");en(Ju,"onTransitionEnd");Hn("onMouseEnter",["mouseout","mouseover"]);Hn("onMouseLeave",["mouseout","mouseover"]);Hn("onPointerEnter",["pointerout","pointerover"]);Hn("onPointerLeave",["pointerout","pointerover"]);gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Um=new Set("cancel close invalid load scroll toggle".split(" ").concat(vr));function Ji(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ff(r,t,void 0,e),e.currentTarget=null}function ed(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==l&&o.isPropagationStopped())break e;Ji(o,i,u),l=c}else for(s=0;s<r.length;s++){if(i=r[s],c=i.instance,u=i.currentTarget,i=i.listener,c!==l&&o.isPropagationStopped())break e;Ji(o,i,u),l=c}}}if(Do)throw e=bl,Do=!1,bl=null,e}function Q(e,t){var n=t[Il];n===void 0&&(n=t[Il]=new Set);var r=e+"__bubble";n.has(r)||(td(t,e,2,!1),n.add(r))}function Wa(e,t,n){var r=0;t&&(r|=4),td(n,e,r,t)}var lo="_reactListening"+Math.random().toString(36).slice(2);function Or(e){if(!e[lo]){e[lo]=!0,iu.forEach(function(n){n!=="selectionchange"&&(Um.has(n)||Wa(n,!1,e),Wa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[lo]||(t[lo]=!0,Wa("selectionchange",!1,t))}}function td(e,t,n,r){switch(Au(t)){case 1:var o=om;break;case 4:o=am;break;default:o=fs}n=o.bind(null,t,n,e),o=void 0,!vl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ba(e,t,n,r,o){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var i=r.stateNode.containerInfo;if(i===o||i.nodeType===8&&i.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;s=s.return}for(;i!==null;){if(s=ln(i),s===null)return;if(c=s.tag,c===5||c===6){r=l=s;continue e}i=i.parentNode}}r=r.return}ju(function(){var u=l,f=cs(n),x=[];e:{var p=qu.get(e);if(p!==void 0){var y=ps,b=e;switch(e){case"keypress":if(So(n)===0)break e;case"keydown":case"keyup":y=ym;break;case"focusin":b="focus",y=_a;break;case"focusout":b="blur",y=_a;break;case"beforeblur":case"afterblur":y=_a;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Wi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=im;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Sm;break;case Ku:case Qu:case Zu:y=dm;break;case Ju:y=Nm;break;case"scroll":y=lm;break;case"wheel":y=Tm;break;case"copy":case"cut":case"paste":y=fm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Fi}var k=(t&4)!==0,N=!k&&e==="scroll",h=k?p!==null?p+"Capture":null:p;k=[];for(var d=u,m;d!==null;){m=d;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,h!==null&&(w=Pr(d,h),w!=null&&k.push($r(d,w,m)))),N)break;d=d.return}0<k.length&&(p=new y(p,b,null,n,f),x.push({event:p,listeners:k}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",p&&n!==xl&&(b=n.relatedTarget||n.fromElement)&&(ln(b)||b[Et]))break e;if((y||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,y?(b=n.relatedTarget||n.toElement,y=u,b=b?ln(b):null,b!==null&&(N=vn(b),b!==N||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=u),y!==b)){if(k=Wi,w="onMouseLeave",h="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(k=Fi,w="onPointerLeave",h="onPointerEnter",d="pointer"),N=y==null?p:Tn(y),m=b==null?p:Tn(b),p=new k(w,d+"leave",y,n,f),p.target=N,p.relatedTarget=m,w=null,ln(f)===u&&(k=new k(h,d+"enter",b,n,f),k.target=m,k.relatedTarget=N,w=k),N=w,y&&b)t:{for(k=y,h=b,d=0,m=k;m;m=yn(m))d++;for(m=0,w=h;w;w=yn(w))m++;for(;0<d-m;)k=yn(k),d--;for(;0<m-d;)h=yn(h),m--;for(;d--;){if(k===h||h!==null&&k===h.alternate)break t;k=yn(k),h=yn(h)}k=null}else k=null;y!==null&&qi(x,p,y,k,!1),b!==null&&N!==null&&qi(x,N,b,k,!0)}}e:{if(p=u?Tn(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var g=_m;else if(Vi(p))if(Uu)g=Am;else{g=Om;var v=Lm}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(g=$m);if(g&&(g=g(e,u))){Hu(x,g,n,f);break e}v&&v(e,p,u),e==="focusout"&&(v=p._wrapperState)&&v.controlled&&p.type==="number"&&dl(p,"number",p.value)}switch(v=u?Tn(u):window,e){case"focusin":(Vi(v)||v.contentEditable==="true")&&(Nn=v,Sl=u,Sr=null);break;case"focusout":Sr=Sl=Nn=null;break;case"mousedown":jl=!0;break;case"contextmenu":case"mouseup":case"dragend":jl=!1,Qi(x,n,f);break;case"selectionchange":if(Bm)break;case"keydown":case"keyup":Qi(x,n,f)}var S;if(gs)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else jn?Bu(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Wu&&n.locale!=="ko"&&(jn||C!=="onCompositionStart"?C==="onCompositionEnd"&&jn&&(S=zu()):(Wt=f,ms="value"in Wt?Wt.value:Wt.textContent,jn=!0)),v=Ao(u,C),0<v.length&&(C=new Bi(C,e,null,n,f),x.push({event:C,listeners:v}),S?C.data=S:(S=Fu(n),S!==null&&(C.data=S)))),(S=Im?Pm(e,n):Mm(e,n))&&(u=Ao(u,"onBeforeInput"),0<u.length&&(f=new Bi("onBeforeInput","beforeinput",null,n,f),x.push({event:f,listeners:u}),f.data=S))}ed(x,t)})}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ao(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=Pr(e,n),l!=null&&r.unshift($r(e,l,o)),l=Pr(e,t),l!=null&&r.push($r(e,l,o))),e=e.return}return r}function yn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qi(e,t,n,r,o){for(var l=t._reactName,s=[];n!==null&&n!==r;){var i=n,c=i.alternate,u=i.stateNode;if(c!==null&&c===r)break;i.tag===5&&u!==null&&(i=u,o?(c=Pr(n,l),c!=null&&s.unshift($r(n,c,i))):o||(c=Pr(n,l),c!=null&&s.push($r(n,c,i)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Vm=/\r\n?/g,Gm=/\u0000|\uFFFD/g;function ec(e){return(typeof e=="string"?e:""+e).replace(Vm,`
`).replace(Gm,"")}function so(e,t,n){if(t=ec(t),ec(e)!==t&&n)throw Error(_(425))}function zo(){}var Nl=null,Cl=null;function Tl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var El=typeof setTimeout=="function"?setTimeout:void 0,Ym=typeof clearTimeout=="function"?clearTimeout:void 0,tc=typeof Promise=="function"?Promise:void 0,Xm=typeof queueMicrotask=="function"?queueMicrotask:typeof tc<"u"?function(e){return tc.resolve(null).then(e).catch(Km)}:El;function Km(e){setTimeout(function(){throw e})}function Fa(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Dr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Dr(t)}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var er=Math.random().toString(36).slice(2),xt="__reactFiber$"+er,Ar="__reactProps$"+er,Et="__reactContainer$"+er,Il="__reactEvents$"+er,Qm="__reactListeners$"+er,Zm="__reactHandles$"+er;function ln(e){var t=e[xt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Et]||n[xt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=nc(e);e!==null;){if(n=e[xt])return n;e=nc(e)}return t}e=n,n=e.parentNode}return null}function Xr(e){return e=e[xt]||e[Et],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function sa(e){return e[Ar]||null}var Pl=[],En=-1;function tn(e){return{current:e}}function Z(e){0>En||(e.current=Pl[En],Pl[En]=null,En--)}function K(e,t){En++,Pl[En]=e.current,e.current=t}var Zt={},we=tn(Zt),_e=tn(!1),hn=Zt;function Un(e,t){var n=e.type.contextTypes;if(!n)return Zt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Le(e){return e=e.childContextTypes,e!=null}function Wo(){Z(_e),Z(we)}function rc(e,t,n){if(we.current!==Zt)throw Error(_(168));K(we,t),K(_e,n)}function nd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(_(108,Lf(e)||"Unknown",o));return te({},n,r)}function Bo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zt,hn=we.current,K(we,e),K(_e,_e.current),!0}function oc(e,t,n){var r=e.stateNode;if(!r)throw Error(_(169));n?(e=nd(e,t,hn),r.__reactInternalMemoizedMergedChildContext=e,Z(_e),Z(we),K(we,e)):Z(_e),K(_e,n)}var kt=null,ia=!1,Ha=!1;function rd(e){kt===null?kt=[e]:kt.push(e)}function Jm(e){ia=!0,rd(e)}function nn(){if(!Ha&&kt!==null){Ha=!0;var e=0,t=X;try{var n=kt;for(X=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}kt=null,ia=!1}catch(o){throw kt!==null&&(kt=kt.slice(e+1)),Eu(us,nn),o}finally{X=t,Ha=!1}}return null}var In=[],Pn=0,Fo=null,Ho=0,Ze=[],Je=0,fn=null,St=1,jt="";function on(e,t){In[Pn++]=Ho,In[Pn++]=Fo,Fo=e,Ho=t}function od(e,t,n){Ze[Je++]=St,Ze[Je++]=jt,Ze[Je++]=fn,fn=e;var r=St;e=jt;var o=32-ut(r)-1;r&=~(1<<o),n+=1;var l=32-ut(t)+o;if(30<l){var s=o-o%5;l=(r&(1<<s)-1).toString(32),r>>=s,o-=s,St=1<<32-ut(t)+o|n<<o|r,jt=l+e}else St=1<<l|n<<o|r,jt=e}function bs(e){e.return!==null&&(on(e,1),od(e,1,0))}function ys(e){for(;e===Fo;)Fo=In[--Pn],In[Pn]=null,Ho=In[--Pn],In[Pn]=null;for(;e===fn;)fn=Ze[--Je],Ze[Je]=null,jt=Ze[--Je],Ze[Je]=null,St=Ze[--Je],Ze[Je]=null}var Ve=null,Ue=null,J=!1,ct=null;function ad(e,t){var n=qe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ac(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ve=e,Ue=Vt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ve=e,Ue=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fn!==null?{id:St,overflow:jt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=qe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ve=e,Ue=null,!0):!1;default:return!1}}function Ml(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Rl(e){if(J){var t=Ue;if(t){var n=t;if(!ac(e,t)){if(Ml(e))throw Error(_(418));t=Vt(n.nextSibling);var r=Ve;t&&ac(e,t)?ad(r,n):(e.flags=e.flags&-4097|2,J=!1,Ve=e)}}else{if(Ml(e))throw Error(_(418));e.flags=e.flags&-4097|2,J=!1,Ve=e}}}function lc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ve=e}function io(e){if(e!==Ve)return!1;if(!J)return lc(e),J=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Tl(e.type,e.memoizedProps)),t&&(t=Ue)){if(Ml(e))throw ld(),Error(_(418));for(;t;)ad(e,t),t=Vt(t.nextSibling)}if(lc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ue=Vt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ue=null}}else Ue=Ve?Vt(e.stateNode.nextSibling):null;return!0}function ld(){for(var e=Ue;e;)e=Vt(e.nextSibling)}function Vn(){Ue=Ve=null,J=!1}function ws(e){ct===null?ct=[e]:ct.push(e)}var qm=Mt.ReactCurrentBatchConfig;function cr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var r=n.stateNode}if(!r)throw Error(_(147,e));var o=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(s){var i=o.refs;s===null?delete i[l]:i[l]=s},t._stringRef=l,t)}if(typeof e!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,e))}return e}function co(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sc(e){var t=e._init;return t(e._payload)}function sd(e){function t(h,d){if(e){var m=h.deletions;m===null?(h.deletions=[d],h.flags|=16):m.push(d)}}function n(h,d){if(!e)return null;for(;d!==null;)t(h,d),d=d.sibling;return null}function r(h,d){for(h=new Map;d!==null;)d.key!==null?h.set(d.key,d):h.set(d.index,d),d=d.sibling;return h}function o(h,d){return h=Kt(h,d),h.index=0,h.sibling=null,h}function l(h,d,m){return h.index=m,e?(m=h.alternate,m!==null?(m=m.index,m<d?(h.flags|=2,d):m):(h.flags|=2,d)):(h.flags|=1048576,d)}function s(h){return e&&h.alternate===null&&(h.flags|=2),h}function i(h,d,m,w){return d===null||d.tag!==6?(d=Qa(m,h.mode,w),d.return=h,d):(d=o(d,m),d.return=h,d)}function c(h,d,m,w){var g=m.type;return g===Sn?f(h,d,m.props.children,w,m.key):d!==null&&(d.elementType===g||typeof g=="object"&&g!==null&&g.$$typeof===Ot&&sc(g)===d.type)?(w=o(d,m.props),w.ref=cr(h,d,m),w.return=h,w):(w=Po(m.type,m.key,m.props,null,h.mode,w),w.ref=cr(h,d,m),w.return=h,w)}function u(h,d,m,w){return d===null||d.tag!==4||d.stateNode.containerInfo!==m.containerInfo||d.stateNode.implementation!==m.implementation?(d=Za(m,h.mode,w),d.return=h,d):(d=o(d,m.children||[]),d.return=h,d)}function f(h,d,m,w,g){return d===null||d.tag!==7?(d=dn(m,h.mode,w,g),d.return=h,d):(d=o(d,m),d.return=h,d)}function x(h,d,m){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Qa(""+d,h.mode,m),d.return=h,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Jr:return m=Po(d.type,d.key,d.props,null,h.mode,m),m.ref=cr(h,null,d),m.return=h,m;case kn:return d=Za(d,h.mode,m),d.return=h,d;case Ot:var w=d._init;return x(h,w(d._payload),m)}if(xr(d)||or(d))return d=dn(d,h.mode,m,null),d.return=h,d;co(h,d)}return null}function p(h,d,m,w){var g=d!==null?d.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return g!==null?null:i(h,d,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Jr:return m.key===g?c(h,d,m,w):null;case kn:return m.key===g?u(h,d,m,w):null;case Ot:return g=m._init,p(h,d,g(m._payload),w)}if(xr(m)||or(m))return g!==null?null:f(h,d,m,w,null);co(h,m)}return null}function y(h,d,m,w,g){if(typeof w=="string"&&w!==""||typeof w=="number")return h=h.get(m)||null,i(d,h,""+w,g);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Jr:return h=h.get(w.key===null?m:w.key)||null,c(d,h,w,g);case kn:return h=h.get(w.key===null?m:w.key)||null,u(d,h,w,g);case Ot:var v=w._init;return y(h,d,m,v(w._payload),g)}if(xr(w)||or(w))return h=h.get(m)||null,f(d,h,w,g,null);co(d,w)}return null}function b(h,d,m,w){for(var g=null,v=null,S=d,C=d=0,j=null;S!==null&&C<m.length;C++){S.index>C?(j=S,S=null):j=S.sibling;var T=p(h,S,m[C],w);if(T===null){S===null&&(S=j);break}e&&S&&T.alternate===null&&t(h,S),d=l(T,d,C),v===null?g=T:v.sibling=T,v=T,S=j}if(C===m.length)return n(h,S),J&&on(h,C),g;if(S===null){for(;C<m.length;C++)S=x(h,m[C],w),S!==null&&(d=l(S,d,C),v===null?g=S:v.sibling=S,v=S);return J&&on(h,C),g}for(S=r(h,S);C<m.length;C++)j=y(S,h,C,m[C],w),j!==null&&(e&&j.alternate!==null&&S.delete(j.key===null?C:j.key),d=l(j,d,C),v===null?g=j:v.sibling=j,v=j);return e&&S.forEach(function(R){return t(h,R)}),J&&on(h,C),g}function k(h,d,m,w){var g=or(m);if(typeof g!="function")throw Error(_(150));if(m=g.call(m),m==null)throw Error(_(151));for(var v=g=null,S=d,C=d=0,j=null,T=m.next();S!==null&&!T.done;C++,T=m.next()){S.index>C?(j=S,S=null):j=S.sibling;var R=p(h,S,T.value,w);if(R===null){S===null&&(S=j);break}e&&S&&R.alternate===null&&t(h,S),d=l(R,d,C),v===null?g=R:v.sibling=R,v=R,S=j}if(T.done)return n(h,S),J&&on(h,C),g;if(S===null){for(;!T.done;C++,T=m.next())T=x(h,T.value,w),T!==null&&(d=l(T,d,C),v===null?g=T:v.sibling=T,v=T);return J&&on(h,C),g}for(S=r(h,S);!T.done;C++,T=m.next())T=y(S,h,C,T.value,w),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?C:T.key),d=l(T,d,C),v===null?g=T:v.sibling=T,v=T);return e&&S.forEach(function($){return t(h,$)}),J&&on(h,C),g}function N(h,d,m,w){if(typeof m=="object"&&m!==null&&m.type===Sn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Jr:e:{for(var g=m.key,v=d;v!==null;){if(v.key===g){if(g=m.type,g===Sn){if(v.tag===7){n(h,v.sibling),d=o(v,m.props.children),d.return=h,h=d;break e}}else if(v.elementType===g||typeof g=="object"&&g!==null&&g.$$typeof===Ot&&sc(g)===v.type){n(h,v.sibling),d=o(v,m.props),d.ref=cr(h,v,m),d.return=h,h=d;break e}n(h,v);break}else t(h,v);v=v.sibling}m.type===Sn?(d=dn(m.props.children,h.mode,w,m.key),d.return=h,h=d):(w=Po(m.type,m.key,m.props,null,h.mode,w),w.ref=cr(h,d,m),w.return=h,h=w)}return s(h);case kn:e:{for(v=m.key;d!==null;){if(d.key===v)if(d.tag===4&&d.stateNode.containerInfo===m.containerInfo&&d.stateNode.implementation===m.implementation){n(h,d.sibling),d=o(d,m.children||[]),d.return=h,h=d;break e}else{n(h,d);break}else t(h,d);d=d.sibling}d=Za(m,h.mode,w),d.return=h,h=d}return s(h);case Ot:return v=m._init,N(h,d,v(m._payload),w)}if(xr(m))return b(h,d,m,w);if(or(m))return k(h,d,m,w);co(h,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,d!==null&&d.tag===6?(n(h,d.sibling),d=o(d,m),d.return=h,h=d):(n(h,d),d=Qa(m,h.mode,w),d.return=h,h=d),s(h)):n(h,d)}return N}var Gn=sd(!0),id=sd(!1),Uo=tn(null),Vo=null,Mn=null,ks=null;function Ss(){ks=Mn=Vo=null}function js(e){var t=Uo.current;Z(Uo),e._currentValue=t}function Dl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bn(e,t){Vo=e,ks=Mn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(De=!0),e.firstContext=null)}function nt(e){var t=e._currentValue;if(ks!==e)if(e={context:e,memoizedValue:t,next:null},Mn===null){if(Vo===null)throw Error(_(308));Mn=e,Vo.dependencies={lanes:0,firstContext:e}}else Mn=Mn.next=e;return t}var sn=null;function Ns(e){sn===null?sn=[e]:sn.push(e)}function cd(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Ns(t)):(n.next=o.next,o.next=n),t.interleaved=n,It(e,r)}function It(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $t=!1;function Cs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ud(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,G&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,It(e,n)}return o=r.interleaved,o===null?(t.next=t,Ns(r)):(t.next=o.next,o.next=t),r.interleaved=t,It(e,n)}function jo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ds(e,n)}}function ic(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=s:l=l.next=s,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Go(e,t,n,r){var o=e.updateQueue;$t=!1;var l=o.firstBaseUpdate,s=o.lastBaseUpdate,i=o.shared.pending;if(i!==null){o.shared.pending=null;var c=i,u=c.next;c.next=null,s===null?l=u:s.next=u,s=c;var f=e.alternate;f!==null&&(f=f.updateQueue,i=f.lastBaseUpdate,i!==s&&(i===null?f.firstBaseUpdate=u:i.next=u,f.lastBaseUpdate=c))}if(l!==null){var x=o.baseState;s=0,f=u=c=null,i=l;do{var p=i.lane,y=i.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:y,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var b=e,k=i;switch(p=t,y=n,k.tag){case 1:if(b=k.payload,typeof b=="function"){x=b.call(y,x,p);break e}x=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=k.payload,p=typeof b=="function"?b.call(y,x,p):b,p==null)break e;x=te({},x,p);break e;case 2:$t=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[i]:p.push(i))}else y={eventTime:y,lane:p,tag:i.tag,payload:i.payload,callback:i.callback,next:null},f===null?(u=f=y,c=x):f=f.next=y,s|=p;if(i=i.next,i===null){if(i=o.shared.pending,i===null)break;p=i,i=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(!0);if(f===null&&(c=x),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=f,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);pn|=s,e.lanes=s,e.memoizedState=x}}function cc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(_(191,o));o.call(r)}}}var Kr={},vt=tn(Kr),zr=tn(Kr),Wr=tn(Kr);function cn(e){if(e===Kr)throw Error(_(174));return e}function Ts(e,t){switch(K(Wr,t),K(zr,e),K(vt,Kr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fl(t,e)}Z(vt),K(vt,t)}function Yn(){Z(vt),Z(zr),Z(Wr)}function dd(e){cn(Wr.current);var t=cn(vt.current),n=fl(t,e.type);t!==n&&(K(zr,e),K(vt,n))}function Es(e){zr.current===e&&(Z(vt),Z(zr))}var q=tn(0);function Yo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=[];function Is(){for(var e=0;e<Ua.length;e++)Ua[e]._workInProgressVersionPrimary=null;Ua.length=0}var No=Mt.ReactCurrentDispatcher,Va=Mt.ReactCurrentBatchConfig,mn=0,ee=null,le=null,de=null,Xo=!1,jr=!1,Br=0,ep=0;function ge(){throw Error(_(321))}function Ps(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ht(e[n],t[n]))return!1;return!0}function Ms(e,t,n,r,o,l){if(mn=l,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,No.current=e===null||e.memoizedState===null?op:ap,e=n(r,o),jr){l=0;do{if(jr=!1,Br=0,25<=l)throw Error(_(301));l+=1,de=le=null,t.updateQueue=null,No.current=lp,e=n(r,o)}while(jr)}if(No.current=Ko,t=le!==null&&le.next!==null,mn=0,de=le=ee=null,Xo=!1,t)throw Error(_(300));return e}function Rs(){var e=Br!==0;return Br=0,e}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?ee.memoizedState=de=e:de=de.next=e,de}function rt(){if(le===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=le.next;var t=de===null?ee.memoizedState:de.next;if(t!==null)de=t,le=e;else{if(e===null)throw Error(_(310));le=e,e={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},de===null?ee.memoizedState=de=e:de=de.next=e}return de}function Fr(e,t){return typeof t=="function"?t(e):t}function Ga(e){var t=rt(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=le,o=r.baseQueue,l=n.pending;if(l!==null){if(o!==null){var s=o.next;o.next=l.next,l.next=s}r.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,r=r.baseState;var i=s=null,c=null,u=l;do{var f=u.lane;if((mn&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var x={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(i=c=x,s=r):c=c.next=x,ee.lanes|=f,pn|=f}u=u.next}while(u!==null&&u!==l);c===null?s=r:c.next=i,ht(r,t.memoizedState)||(De=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do l=o.lane,ee.lanes|=l,pn|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ya(e){var t=rt(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do l=e(l,s.action),s=s.next;while(s!==o);ht(l,t.memoizedState)||(De=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function hd(){}function fd(e,t){var n=ee,r=rt(),o=t(),l=!ht(r.memoizedState,o);if(l&&(r.memoizedState=o,De=!0),r=r.queue,Ds(xd.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||de!==null&&de.memoizedState.tag&1){if(n.flags|=2048,Hr(9,pd.bind(null,n,r,o,t),void 0,null),he===null)throw Error(_(349));mn&30||md(n,t,o)}return o}function md(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function pd(e,t,n,r){t.value=n,t.getSnapshot=r,gd(t)&&vd(e)}function xd(e,t,n){return n(function(){gd(t)&&vd(e)})}function gd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ht(e,n)}catch{return!0}}function vd(e){var t=It(e,1);t!==null&&dt(t,e,1,-1)}function uc(e){var t=pt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:e},t.queue=e,e=e.dispatch=rp.bind(null,ee,e),[t.memoizedState,e]}function Hr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function bd(){return rt().memoizedState}function Co(e,t,n,r){var o=pt();ee.flags|=e,o.memoizedState=Hr(1|t,n,void 0,r===void 0?null:r)}function ca(e,t,n,r){var o=rt();r=r===void 0?null:r;var l=void 0;if(le!==null){var s=le.memoizedState;if(l=s.destroy,r!==null&&Ps(r,s.deps)){o.memoizedState=Hr(t,n,l,r);return}}ee.flags|=e,o.memoizedState=Hr(1|t,n,l,r)}function dc(e,t){return Co(8390656,8,e,t)}function Ds(e,t){return ca(2048,8,e,t)}function yd(e,t){return ca(4,2,e,t)}function wd(e,t){return ca(4,4,e,t)}function kd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Sd(e,t,n){return n=n!=null?n.concat([e]):null,ca(4,4,kd.bind(null,t,e),n)}function _s(){}function jd(e,t){var n=rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ps(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Nd(e,t){var n=rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ps(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Cd(e,t,n){return mn&21?(ht(n,t)||(n=Mu(),ee.lanes|=n,pn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,De=!0),e.memoizedState=n)}function tp(e,t){var n=X;X=n!==0&&4>n?n:4,e(!0);var r=Va.transition;Va.transition={};try{e(!1),t()}finally{X=n,Va.transition=r}}function Td(){return rt().memoizedState}function np(e,t,n){var r=Xt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ed(e))Id(t,n);else if(n=cd(e,t,n,r),n!==null){var o=Ce();dt(n,e,r,o),Pd(n,t,r)}}function rp(e,t,n){var r=Xt(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ed(e))Id(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var s=t.lastRenderedState,i=l(s,n);if(o.hasEagerState=!0,o.eagerState=i,ht(i,s)){var c=t.interleaved;c===null?(o.next=o,Ns(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=cd(e,t,o,r),n!==null&&(o=Ce(),dt(n,e,r,o),Pd(n,t,r))}}function Ed(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function Id(e,t){jr=Xo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Pd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ds(e,n)}}var Ko={readContext:nt,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},op={readContext:nt,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:dc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Co(4194308,4,kd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Co(4194308,4,e,t)},useInsertionEffect:function(e,t){return Co(4,2,e,t)},useMemo:function(e,t){var n=pt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=pt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=np.bind(null,ee,e),[r.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:uc,useDebugValue:_s,useDeferredValue:function(e){return pt().memoizedState=e},useTransition:function(){var e=uc(!1),t=e[0];return e=tp.bind(null,e[1]),pt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ee,o=pt();if(J){if(n===void 0)throw Error(_(407));n=n()}else{if(n=t(),he===null)throw Error(_(349));mn&30||md(r,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,dc(xd.bind(null,r,l,e),[e]),r.flags|=2048,Hr(9,pd.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=pt(),t=he.identifierPrefix;if(J){var n=jt,r=St;n=(r&~(1<<32-ut(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Br++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ep++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ap={readContext:nt,useCallback:jd,useContext:nt,useEffect:Ds,useImperativeHandle:Sd,useInsertionEffect:yd,useLayoutEffect:wd,useMemo:Nd,useReducer:Ga,useRef:bd,useState:function(){return Ga(Fr)},useDebugValue:_s,useDeferredValue:function(e){var t=rt();return Cd(t,le.memoizedState,e)},useTransition:function(){var e=Ga(Fr)[0],t=rt().memoizedState;return[e,t]},useMutableSource:hd,useSyncExternalStore:fd,useId:Td,unstable_isNewReconciler:!1},lp={readContext:nt,useCallback:jd,useContext:nt,useEffect:Ds,useImperativeHandle:Sd,useInsertionEffect:yd,useLayoutEffect:wd,useMemo:Nd,useReducer:Ya,useRef:bd,useState:function(){return Ya(Fr)},useDebugValue:_s,useDeferredValue:function(e){var t=rt();return le===null?t.memoizedState=e:Cd(t,le.memoizedState,e)},useTransition:function(){var e=Ya(Fr)[0],t=rt().memoizedState;return[e,t]},useMutableSource:hd,useSyncExternalStore:fd,useId:Td,unstable_isNewReconciler:!1};function st(e,t){if(e&&e.defaultProps){t=te({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _l(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:te({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ua={isMounted:function(e){return(e=e._reactInternals)?vn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ce(),o=Xt(e),l=Nt(r,o);l.payload=t,n!=null&&(l.callback=n),t=Gt(e,l,o),t!==null&&(dt(t,e,o,r),jo(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ce(),o=Xt(e),l=Nt(r,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Gt(e,l,o),t!==null&&(dt(t,e,o,r),jo(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ce(),r=Xt(e),o=Nt(n,r);o.tag=2,t!=null&&(o.callback=t),t=Gt(e,o,r),t!==null&&(dt(t,e,r,n),jo(t,e,r))}};function hc(e,t,n,r,o,l,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,s):t.prototype&&t.prototype.isPureReactComponent?!Lr(n,r)||!Lr(o,l):!0}function Md(e,t,n){var r=!1,o=Zt,l=t.contextType;return typeof l=="object"&&l!==null?l=nt(l):(o=Le(t)?hn:we.current,r=t.contextTypes,l=(r=r!=null)?Un(e,o):Zt),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ua,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function fc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ua.enqueueReplaceState(t,t.state,null)}function Ll(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Cs(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=nt(l):(l=Le(t)?hn:we.current,o.context=Un(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(_l(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&ua.enqueueReplaceState(o,o.state,null),Go(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Xn(e,t){try{var n="",r=t;do n+=_f(r),r=r.return;while(r);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function Xa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ol(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var sp=typeof WeakMap=="function"?WeakMap:Map;function Rd(e,t,n){n=Nt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zo||(Zo=!0,Gl=r),Ol(e,t)},n}function Dd(e,t,n){n=Nt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Ol(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Ol(e,t),typeof r!="function"&&(Yt===null?Yt=new Set([this]):Yt.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function mc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new sp;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=wp.bind(null,e,t,n),t.then(e,e))}function pc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xc(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Nt(-1,1),t.tag=2,Gt(n,t,1))),n.lanes|=1),e)}var ip=Mt.ReactCurrentOwner,De=!1;function Ne(e,t,n,r){t.child=e===null?id(t,null,n,r):Gn(t,e.child,n,r)}function gc(e,t,n,r,o){n=n.render;var l=t.ref;return Bn(t,o),r=Ms(e,t,n,r,l,o),n=Rs(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Pt(e,t,o)):(J&&n&&bs(t),t.flags|=1,Ne(e,t,r,o),t.child)}function vc(e,t,n,r,o){if(e===null){var l=n.type;return typeof l=="function"&&!Fs(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,_d(e,t,l,r,o)):(e=Po(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var s=l.memoizedProps;if(n=n.compare,n=n!==null?n:Lr,n(s,r)&&e.ref===t.ref)return Pt(e,t,o)}return t.flags|=1,e=Kt(l,r),e.ref=t.ref,e.return=t,t.child=e}function _d(e,t,n,r,o){if(e!==null){var l=e.memoizedProps;if(Lr(l,r)&&e.ref===t.ref)if(De=!1,t.pendingProps=r=l,(e.lanes&o)!==0)e.flags&131072&&(De=!0);else return t.lanes=e.lanes,Pt(e,t,o)}return $l(e,t,n,r,o)}function Ld(e,t,n){var r=t.pendingProps,o=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(Dn,Fe),Fe|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,K(Dn,Fe),Fe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,K(Dn,Fe),Fe|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,K(Dn,Fe),Fe|=r;return Ne(e,t,o,n),t.child}function Od(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $l(e,t,n,r,o){var l=Le(n)?hn:we.current;return l=Un(t,l),Bn(t,o),n=Ms(e,t,n,r,l,o),r=Rs(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Pt(e,t,o)):(J&&r&&bs(t),t.flags|=1,Ne(e,t,n,o),t.child)}function bc(e,t,n,r,o){if(Le(n)){var l=!0;Bo(t)}else l=!1;if(Bn(t,o),t.stateNode===null)To(e,t),Md(t,n,r),Ll(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,i=t.memoizedProps;s.props=i;var c=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=nt(u):(u=Le(n)?hn:we.current,u=Un(t,u));var f=n.getDerivedStateFromProps,x=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";x||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==r||c!==u)&&fc(t,s,r,u),$t=!1;var p=t.memoizedState;s.state=p,Go(t,r,s,o),c=t.memoizedState,i!==r||p!==c||_e.current||$t?(typeof f=="function"&&(_l(t,n,f,r),c=t.memoizedState),(i=$t||hc(t,n,i,r,p,c,u))?(x||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=u,r=i):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ud(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:st(t.type,i),s.props=u,x=t.pendingProps,p=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=nt(c):(c=Le(n)?hn:we.current,c=Un(t,c));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==x||p!==c)&&fc(t,s,r,c),$t=!1,p=t.memoizedState,s.state=p,Go(t,r,s,o);var b=t.memoizedState;i!==x||p!==b||_e.current||$t?(typeof y=="function"&&(_l(t,n,y,r),b=t.memoizedState),(u=$t||hc(t,n,u,r,p,b,c)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,b,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,b,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),s.props=r,s.state=b,s.context=c,r=u):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Al(e,t,n,r,l,o)}function Al(e,t,n,r,o,l){Od(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&oc(t,n,!1),Pt(e,t,l);r=t.stateNode,ip.current=t;var i=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Gn(t,e.child,null,l),t.child=Gn(t,null,i,l)):Ne(e,t,i,l),t.memoizedState=r.state,o&&oc(t,n,!0),t.child}function $d(e){var t=e.stateNode;t.pendingContext?rc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rc(e,t.context,!1),Ts(e,t.containerInfo)}function yc(e,t,n,r,o){return Vn(),ws(o),t.flags|=256,Ne(e,t,n,r),t.child}var zl={dehydrated:null,treeContext:null,retryLane:0};function Wl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ad(e,t,n){var r=t.pendingProps,o=q.current,l=!1,s=(t.flags&128)!==0,i;if((i=s)||(i=e!==null&&e.memoizedState===null?!1:(o&2)!==0),i?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),K(q,o&1),e===null)return Rl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,l?(r=t.mode,l=t.child,s={mode:"hidden",children:s},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=s):l=fa(s,r,0,null),e=dn(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Wl(n),t.memoizedState=zl,e):Ls(t,s));if(o=e.memoizedState,o!==null&&(i=o.dehydrated,i!==null))return cp(e,t,s,r,i,o,n);if(l){l=r.fallback,s=t.mode,o=e.child,i=o.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Kt(o,c),r.subtreeFlags=o.subtreeFlags&14680064),i!==null?l=Kt(i,l):(l=dn(l,s,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,s=e.child.memoizedState,s=s===null?Wl(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},l.memoizedState=s,l.childLanes=e.childLanes&~n,t.memoizedState=zl,r}return l=e.child,e=l.sibling,r=Kt(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ls(e,t){return t=fa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function uo(e,t,n,r){return r!==null&&ws(r),Gn(t,e.child,null,n),e=Ls(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cp(e,t,n,r,o,l,s){if(n)return t.flags&256?(t.flags&=-257,r=Xa(Error(_(422))),uo(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,o=t.mode,r=fa({mode:"visible",children:r.children},o,0,null),l=dn(l,o,s,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Gn(t,e.child,null,s),t.child.memoizedState=Wl(s),t.memoizedState=zl,l);if(!(t.mode&1))return uo(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var i=r.dgst;return r=i,l=Error(_(419)),r=Xa(l,r,void 0),uo(e,t,s,r)}if(i=(s&e.childLanes)!==0,De||i){if(r=he,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,It(e,o),dt(r,e,o,-1))}return Bs(),r=Xa(Error(_(421))),uo(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=kp.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,Ue=Vt(o.nextSibling),Ve=t,J=!0,ct=null,e!==null&&(Ze[Je++]=St,Ze[Je++]=jt,Ze[Je++]=fn,St=e.id,jt=e.overflow,fn=t),t=Ls(t,r.children),t.flags|=4096,t)}function wc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Dl(e.return,t,n)}function Ka(e,t,n,r,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o)}function zd(e,t,n){var r=t.pendingProps,o=r.revealOrder,l=r.tail;if(Ne(e,t,r.children,n),r=q.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wc(e,n,t);else if(e.tag===19)wc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(K(q,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Yo(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ka(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Yo(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ka(t,!0,n,null,l);break;case"together":Ka(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function To(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,n=Kt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Kt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function up(e,t,n){switch(t.tag){case 3:$d(t),Vn();break;case 5:dd(t);break;case 1:Le(t.type)&&Bo(t);break;case 4:Ts(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;K(Uo,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(K(q,q.current&1),t.flags|=128,null):n&t.child.childLanes?Ad(e,t,n):(K(q,q.current&1),e=Pt(e,t,n),e!==null?e.sibling:null);K(q,q.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return zd(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),K(q,q.current),r)break;return null;case 22:case 23:return t.lanes=0,Ld(e,t,n)}return Pt(e,t,n)}var Wd,Bl,Bd,Fd;Wd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bl=function(){};Bd=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,cn(vt.current);var l=null;switch(n){case"input":o=cl(e,o),r=cl(e,r),l=[];break;case"select":o=te({},o,{value:void 0}),r=te({},r,{value:void 0}),l=[];break;case"textarea":o=hl(e,o),r=hl(e,r),l=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=zo)}ml(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var i=o[u];for(s in i)i.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Er.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in r){var c=r[u];if(i=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&c!==i&&(c!=null||i!=null))if(u==="style")if(i){for(s in i)!i.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&i[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(l||(l=[]),l.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(l=l||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Er.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Q("scroll",e),l||i===c||(l=[])):(l=l||[]).push(u,c))}n&&(l=l||[]).push("style",n);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};Fd=function(e,t,n,r){n!==r&&(t.flags|=4)};function ur(e,t){if(!J)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function dp(e,t,n){var r=t.pendingProps;switch(ys(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(t),null;case 1:return Le(t.type)&&Wo(),ve(t),null;case 3:return r=t.stateNode,Yn(),Z(_e),Z(we),Is(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(io(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ct!==null&&(Kl(ct),ct=null))),Bl(e,t),ve(t),null;case 5:Es(t);var o=cn(Wr.current);if(n=t.type,e!==null&&t.stateNode!=null)Bd(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_(166));return ve(t),null}if(e=cn(vt.current),io(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[xt]=t,r[Ar]=l,e=(t.mode&1)!==0,n){case"dialog":Q("cancel",r),Q("close",r);break;case"iframe":case"object":case"embed":Q("load",r);break;case"video":case"audio":for(o=0;o<vr.length;o++)Q(vr[o],r);break;case"source":Q("error",r);break;case"img":case"image":case"link":Q("error",r),Q("load",r);break;case"details":Q("toggle",r);break;case"input":Pi(r,l),Q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Q("invalid",r);break;case"textarea":Ri(r,l),Q("invalid",r)}ml(n,l),o=null;for(var s in l)if(l.hasOwnProperty(s)){var i=l[s];s==="children"?typeof i=="string"?r.textContent!==i&&(l.suppressHydrationWarning!==!0&&so(r.textContent,i,e),o=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(l.suppressHydrationWarning!==!0&&so(r.textContent,i,e),o=["children",""+i]):Er.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&Q("scroll",r)}switch(n){case"input":qr(r),Mi(r,l,!0);break;case"textarea":qr(r),Di(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=zo)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[xt]=t,e[Ar]=r,Wd(e,t,!1,!1),t.stateNode=e;e:{switch(s=pl(n,r),n){case"dialog":Q("cancel",e),Q("close",e),o=r;break;case"iframe":case"object":case"embed":Q("load",e),o=r;break;case"video":case"audio":for(o=0;o<vr.length;o++)Q(vr[o],e);o=r;break;case"source":Q("error",e),o=r;break;case"img":case"image":case"link":Q("error",e),Q("load",e),o=r;break;case"details":Q("toggle",e),o=r;break;case"input":Pi(e,r),o=cl(e,r),Q("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=te({},r,{value:void 0}),Q("invalid",e);break;case"textarea":Ri(e,r),o=hl(e,r),Q("invalid",e);break;default:o=r}ml(n,o),i=o;for(l in i)if(i.hasOwnProperty(l)){var c=i[l];l==="style"?bu(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&gu(e,c)):l==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ir(e,c):typeof c=="number"&&Ir(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Er.hasOwnProperty(l)?c!=null&&l==="onScroll"&&Q("scroll",e):c!=null&&as(e,l,c,s))}switch(n){case"input":qr(e),Mi(e,r,!1);break;case"textarea":qr(e),Di(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Qt(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?$n(e,!!r.multiple,l,!1):r.defaultValue!=null&&$n(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=zo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ve(t),null;case 6:if(e&&t.stateNode!=null)Fd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_(166));if(n=cn(Wr.current),cn(vt.current),io(t)){if(r=t.stateNode,n=t.memoizedProps,r[xt]=t,(l=r.nodeValue!==n)&&(e=Ve,e!==null))switch(e.tag){case 3:so(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&so(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xt]=t,t.stateNode=r}return ve(t),null;case 13:if(Z(q),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(J&&Ue!==null&&t.mode&1&&!(t.flags&128))ld(),Vn(),t.flags|=98560,l=!1;else if(l=io(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(_(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(_(317));l[xt]=t}else Vn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ve(t),l=!1}else ct!==null&&(Kl(ct),ct=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||q.current&1?se===0&&(se=3):Bs())),t.updateQueue!==null&&(t.flags|=4),ve(t),null);case 4:return Yn(),Bl(e,t),e===null&&Or(t.stateNode.containerInfo),ve(t),null;case 10:return js(t.type._context),ve(t),null;case 17:return Le(t.type)&&Wo(),ve(t),null;case 19:if(Z(q),l=t.memoizedState,l===null)return ve(t),null;if(r=(t.flags&128)!==0,s=l.rendering,s===null)if(r)ur(l,!1);else{if(se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Yo(e),s!==null){for(t.flags|=128,ur(l,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,s=l.alternate,s===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,l.type=s.type,e=s.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return K(q,q.current&1|2),t.child}e=e.sibling}l.tail!==null&&oe()>Kn&&(t.flags|=128,r=!0,ur(l,!1),t.lanes=4194304)}else{if(!r)if(e=Yo(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ur(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!J)return ve(t),null}else 2*oe()-l.renderingStartTime>Kn&&n!==1073741824&&(t.flags|=128,r=!0,ur(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(n=l.last,n!==null?n.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=oe(),t.sibling=null,n=q.current,K(q,r?n&1|2:n&1),t):(ve(t),null);case 22:case 23:return Ws(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Fe&1073741824&&(ve(t),t.subtreeFlags&6&&(t.flags|=8192)):ve(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function hp(e,t){switch(ys(t),t.tag){case 1:return Le(t.type)&&Wo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yn(),Z(_e),Z(we),Is(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Es(t),null;case 13:if(Z(q),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));Vn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(q),null;case 4:return Yn(),null;case 10:return js(t.type._context),null;case 22:case 23:return Ws(),null;case 24:return null;default:return null}}var ho=!1,ye=!1,fp=typeof WeakSet=="function"?WeakSet:Set,z=null;function Rn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ne(e,t,r)}else n.current=null}function Fl(e,t,n){try{n()}catch(r){ne(e,t,r)}}var kc=!1;function mp(e,t){if(Nl=Oo,e=Yu(),vs(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var s=0,i=-1,c=-1,u=0,f=0,x=e,p=null;t:for(;;){for(var y;x!==n||o!==0&&x.nodeType!==3||(i=s+o),x!==l||r!==0&&x.nodeType!==3||(c=s+r),x.nodeType===3&&(s+=x.nodeValue.length),(y=x.firstChild)!==null;)p=x,x=y;for(;;){if(x===e)break t;if(p===n&&++u===o&&(i=s),p===l&&++f===r&&(c=s),(y=x.nextSibling)!==null)break;x=p,p=x.parentNode}x=y}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cl={focusedElem:e,selectionRange:n},Oo=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var k=b.memoizedProps,N=b.memoizedState,h=t.stateNode,d=h.getSnapshotBeforeUpdate(t.elementType===t.type?k:st(t.type,k),N);h.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(w){ne(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return b=kc,kc=!1,b}function Nr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&Fl(t,n,l)}o=o.next}while(o!==r)}}function da(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Hl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Hd(e){var t=e.alternate;t!==null&&(e.alternate=null,Hd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xt],delete t[Ar],delete t[Il],delete t[Qm],delete t[Zm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ud(e){return e.tag===5||e.tag===3||e.tag===4}function Sc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ud(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ul(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zo));else if(r!==4&&(e=e.child,e!==null))for(Ul(e,t,n),e=e.sibling;e!==null;)Ul(e,t,n),e=e.sibling}function Vl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Vl(e,t,n),e=e.sibling;e!==null;)Vl(e,t,n),e=e.sibling}var me=null,it=!1;function Dt(e,t,n){for(n=n.child;n!==null;)Vd(e,t,n),n=n.sibling}function Vd(e,t,n){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(ra,n)}catch{}switch(n.tag){case 5:ye||Rn(n,t);case 6:var r=me,o=it;me=null,Dt(e,t,n),me=r,it=o,me!==null&&(it?(e=me,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):me.removeChild(n.stateNode));break;case 18:me!==null&&(it?(e=me,n=n.stateNode,e.nodeType===8?Fa(e.parentNode,n):e.nodeType===1&&Fa(e,n),Dr(e)):Fa(me,n.stateNode));break;case 4:r=me,o=it,me=n.stateNode.containerInfo,it=!0,Dt(e,t,n),me=r,it=o;break;case 0:case 11:case 14:case 15:if(!ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var l=o,s=l.destroy;l=l.tag,s!==void 0&&(l&2||l&4)&&Fl(n,t,s),o=o.next}while(o!==r)}Dt(e,t,n);break;case 1:if(!ye&&(Rn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){ne(n,t,i)}Dt(e,t,n);break;case 21:Dt(e,t,n);break;case 22:n.mode&1?(ye=(r=ye)||n.memoizedState!==null,Dt(e,t,n),ye=r):Dt(e,t,n);break;default:Dt(e,t,n)}}function jc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new fp),t.forEach(function(r){var o=Sp.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function at(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var l=e,s=t,i=s;e:for(;i!==null;){switch(i.tag){case 5:me=i.stateNode,it=!1;break e;case 3:me=i.stateNode.containerInfo,it=!0;break e;case 4:me=i.stateNode.containerInfo,it=!0;break e}i=i.return}if(me===null)throw Error(_(160));Vd(l,s,o),me=null,it=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){ne(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Gd(t,e),t=t.sibling}function Gd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(at(t,e),mt(e),r&4){try{Nr(3,e,e.return),da(3,e)}catch(k){ne(e,e.return,k)}try{Nr(5,e,e.return)}catch(k){ne(e,e.return,k)}}break;case 1:at(t,e),mt(e),r&512&&n!==null&&Rn(n,n.return);break;case 5:if(at(t,e),mt(e),r&512&&n!==null&&Rn(n,n.return),e.flags&32){var o=e.stateNode;try{Ir(o,"")}catch(k){ne(e,e.return,k)}}if(r&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,s=n!==null?n.memoizedProps:l,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&l.type==="radio"&&l.name!=null&&mu(o,l),pl(i,s);var u=pl(i,l);for(s=0;s<c.length;s+=2){var f=c[s],x=c[s+1];f==="style"?bu(o,x):f==="dangerouslySetInnerHTML"?gu(o,x):f==="children"?Ir(o,x):as(o,f,x,u)}switch(i){case"input":ul(o,l);break;case"textarea":pu(o,l);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var y=l.value;y!=null?$n(o,!!l.multiple,y,!1):p!==!!l.multiple&&(l.defaultValue!=null?$n(o,!!l.multiple,l.defaultValue,!0):$n(o,!!l.multiple,l.multiple?[]:"",!1))}o[Ar]=l}catch(k){ne(e,e.return,k)}}break;case 6:if(at(t,e),mt(e),r&4){if(e.stateNode===null)throw Error(_(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(k){ne(e,e.return,k)}}break;case 3:if(at(t,e),mt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dr(t.containerInfo)}catch(k){ne(e,e.return,k)}break;case 4:at(t,e),mt(e);break;case 13:at(t,e),mt(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(As=oe())),r&4&&jc(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(ye=(u=ye)||f,at(t,e),ye=u):at(t,e),mt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(z=e,f=e.child;f!==null;){for(x=z=f;z!==null;){switch(p=z,y=p.child,p.tag){case 0:case 11:case 14:case 15:Nr(4,p,p.return);break;case 1:Rn(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(k){ne(r,n,k)}}break;case 5:Rn(p,p.return);break;case 22:if(p.memoizedState!==null){Cc(x);continue}}y!==null?(y.return=p,z=y):Cc(x)}f=f.sibling}e:for(f=null,x=e;;){if(x.tag===5){if(f===null){f=x;try{o=x.stateNode,u?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(i=x.stateNode,c=x.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=vu("display",s))}catch(k){ne(e,e.return,k)}}}else if(x.tag===6){if(f===null)try{x.stateNode.nodeValue=u?"":x.memoizedProps}catch(k){ne(e,e.return,k)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;f===x&&(f=null),x=x.return}f===x&&(f=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:at(t,e),mt(e),r&4&&jc(e);break;case 21:break;default:at(t,e),mt(e)}}function mt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ud(n)){var r=n;break e}n=n.return}throw Error(_(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ir(o,""),r.flags&=-33);var l=Sc(e);Vl(e,l,o);break;case 3:case 4:var s=r.stateNode.containerInfo,i=Sc(e);Ul(e,i,s);break;default:throw Error(_(161))}}catch(c){ne(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pp(e,t,n){z=e,Yd(e)}function Yd(e,t,n){for(var r=(e.mode&1)!==0;z!==null;){var o=z,l=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||ho;if(!s){var i=o.alternate,c=i!==null&&i.memoizedState!==null||ye;i=ho;var u=ye;if(ho=s,(ye=c)&&!u)for(z=o;z!==null;)s=z,c=s.child,s.tag===22&&s.memoizedState!==null?Tc(o):c!==null?(c.return=s,z=c):Tc(o);for(;l!==null;)z=l,Yd(l),l=l.sibling;z=o,ho=i,ye=u}Nc(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,z=l):Nc(e)}}function Nc(e){for(;z!==null;){var t=z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ye||da(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ye)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:st(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&cc(t,l,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}cc(t,s,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var x=f.dehydrated;x!==null&&Dr(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}ye||t.flags&512&&Hl(t)}catch(p){ne(t,t.return,p)}}if(t===e){z=null;break}if(n=t.sibling,n!==null){n.return=t.return,z=n;break}z=t.return}}function Cc(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,z=n;break}z=t.return}}function Tc(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{da(4,t)}catch(c){ne(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){ne(t,o,c)}}var l=t.return;try{Hl(t)}catch(c){ne(t,l,c)}break;case 5:var s=t.return;try{Hl(t)}catch(c){ne(t,s,c)}}}catch(c){ne(t,t.return,c)}if(t===e){z=null;break}var i=t.sibling;if(i!==null){i.return=t.return,z=i;break}z=t.return}}var xp=Math.ceil,Qo=Mt.ReactCurrentDispatcher,Os=Mt.ReactCurrentOwner,et=Mt.ReactCurrentBatchConfig,G=0,he=null,ae=null,pe=0,Fe=0,Dn=tn(0),se=0,Ur=null,pn=0,ha=0,$s=0,Cr=null,Re=null,As=0,Kn=1/0,wt=null,Zo=!1,Gl=null,Yt=null,fo=!1,Bt=null,Jo=0,Tr=0,Yl=null,Eo=-1,Io=0;function Ce(){return G&6?oe():Eo!==-1?Eo:Eo=oe()}function Xt(e){return e.mode&1?G&2&&pe!==0?pe&-pe:qm.transition!==null?(Io===0&&(Io=Mu()),Io):(e=X,e!==0||(e=window.event,e=e===void 0?16:Au(e.type)),e):1}function dt(e,t,n,r){if(50<Tr)throw Tr=0,Yl=null,Error(_(185));Gr(e,n,r),(!(G&2)||e!==he)&&(e===he&&(!(G&2)&&(ha|=n),se===4&&zt(e,pe)),Oe(e,r),n===1&&G===0&&!(t.mode&1)&&(Kn=oe()+500,ia&&nn()))}function Oe(e,t){var n=e.callbackNode;qf(e,t);var r=Lo(e,e===he?pe:0);if(r===0)n!==null&&Oi(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Oi(n),t===1)e.tag===0?Jm(Ec.bind(null,e)):rd(Ec.bind(null,e)),Xm(function(){!(G&6)&&nn()}),n=null;else{switch(Ru(r)){case 1:n=us;break;case 4:n=Iu;break;case 16:n=_o;break;case 536870912:n=Pu;break;default:n=_o}n=th(n,Xd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Xd(e,t){if(Eo=-1,Io=0,G&6)throw Error(_(327));var n=e.callbackNode;if(Fn()&&e.callbackNode!==n)return null;var r=Lo(e,e===he?pe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=qo(e,r);else{t=r;var o=G;G|=2;var l=Qd();(he!==e||pe!==t)&&(wt=null,Kn=oe()+500,un(e,t));do try{bp();break}catch(i){Kd(e,i)}while(!0);Ss(),Qo.current=l,G=o,ae!==null?t=0:(he=null,pe=0,t=se)}if(t!==0){if(t===2&&(o=yl(e),o!==0&&(r=o,t=Xl(e,o))),t===1)throw n=Ur,un(e,0),zt(e,r),Oe(e,oe()),n;if(t===6)zt(e,r);else{if(o=e.current.alternate,!(r&30)&&!gp(o)&&(t=qo(e,r),t===2&&(l=yl(e),l!==0&&(r=l,t=Xl(e,l))),t===1))throw n=Ur,un(e,0),zt(e,r),Oe(e,oe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(_(345));case 2:an(e,Re,wt);break;case 3:if(zt(e,r),(r&130023424)===r&&(t=As+500-oe(),10<t)){if(Lo(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ce(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=El(an.bind(null,e,Re,wt),t);break}an(e,Re,wt);break;case 4:if(zt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-ut(r);l=1<<s,s=t[s],s>o&&(o=s),r&=~l}if(r=o,r=oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xp(r/1960))-r,10<r){e.timeoutHandle=El(an.bind(null,e,Re,wt),r);break}an(e,Re,wt);break;case 5:an(e,Re,wt);break;default:throw Error(_(329))}}}return Oe(e,oe()),e.callbackNode===n?Xd.bind(null,e):null}function Xl(e,t){var n=Cr;return e.current.memoizedState.isDehydrated&&(un(e,t).flags|=256),e=qo(e,t),e!==2&&(t=Re,Re=n,t!==null&&Kl(t)),e}function Kl(e){Re===null?Re=e:Re.push.apply(Re,e)}function gp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],l=o.getSnapshot;o=o.value;try{if(!ht(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zt(e,t){for(t&=~$s,t&=~ha,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ut(t),r=1<<n;e[n]=-1,t&=~r}}function Ec(e){if(G&6)throw Error(_(327));Fn();var t=Lo(e,0);if(!(t&1))return Oe(e,oe()),null;var n=qo(e,t);if(e.tag!==0&&n===2){var r=yl(e);r!==0&&(t=r,n=Xl(e,r))}if(n===1)throw n=Ur,un(e,0),zt(e,t),Oe(e,oe()),n;if(n===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,an(e,Re,wt),Oe(e,oe()),null}function zs(e,t){var n=G;G|=1;try{return e(t)}finally{G=n,G===0&&(Kn=oe()+500,ia&&nn())}}function xn(e){Bt!==null&&Bt.tag===0&&!(G&6)&&Fn();var t=G;G|=1;var n=et.transition,r=X;try{if(et.transition=null,X=1,e)return e()}finally{X=r,et.transition=n,G=t,!(G&6)&&nn()}}function Ws(){Fe=Dn.current,Z(Dn)}function un(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ym(n)),ae!==null)for(n=ae.return;n!==null;){var r=n;switch(ys(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wo();break;case 3:Yn(),Z(_e),Z(we),Is();break;case 5:Es(r);break;case 4:Yn();break;case 13:Z(q);break;case 19:Z(q);break;case 10:js(r.type._context);break;case 22:case 23:Ws()}n=n.return}if(he=e,ae=e=Kt(e.current,null),pe=Fe=t,se=0,Ur=null,$s=ha=pn=0,Re=Cr=null,sn!==null){for(t=0;t<sn.length;t++)if(n=sn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,l=n.pending;if(l!==null){var s=l.next;l.next=o,r.next=s}n.pending=r}sn=null}return e}function Kd(e,t){do{var n=ae;try{if(Ss(),No.current=Ko,Xo){for(var r=ee.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Xo=!1}if(mn=0,de=le=ee=null,jr=!1,Br=0,Os.current=null,n===null||n.return===null){se=1,Ur=t,ae=null;break}e:{var l=e,s=n.return,i=n,c=t;if(t=pe,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=i,x=f.tag;if(!(f.mode&1)&&(x===0||x===11||x===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=pc(s);if(y!==null){y.flags&=-257,xc(y,s,i,l,t),y.mode&1&&mc(l,u,t),t=y,c=u;var b=t.updateQueue;if(b===null){var k=new Set;k.add(c),t.updateQueue=k}else b.add(c);break e}else{if(!(t&1)){mc(l,u,t),Bs();break e}c=Error(_(426))}}else if(J&&i.mode&1){var N=pc(s);if(N!==null){!(N.flags&65536)&&(N.flags|=256),xc(N,s,i,l,t),ws(Xn(c,i));break e}}l=c=Xn(c,i),se!==4&&(se=2),Cr===null?Cr=[l]:Cr.push(l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var h=Rd(l,c,t);ic(l,h);break e;case 1:i=c;var d=l.type,m=l.stateNode;if(!(l.flags&128)&&(typeof d.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Yt===null||!Yt.has(m)))){l.flags|=65536,t&=-t,l.lanes|=t;var w=Dd(l,i,t);ic(l,w);break e}}l=l.return}while(l!==null)}Jd(n)}catch(g){t=g,ae===n&&n!==null&&(ae=n=n.return);continue}break}while(!0)}function Qd(){var e=Qo.current;return Qo.current=Ko,e===null?Ko:e}function Bs(){(se===0||se===3||se===2)&&(se=4),he===null||!(pn&268435455)&&!(ha&268435455)||zt(he,pe)}function qo(e,t){var n=G;G|=2;var r=Qd();(he!==e||pe!==t)&&(wt=null,un(e,t));do try{vp();break}catch(o){Kd(e,o)}while(!0);if(Ss(),G=n,Qo.current=r,ae!==null)throw Error(_(261));return he=null,pe=0,se}function vp(){for(;ae!==null;)Zd(ae)}function bp(){for(;ae!==null&&!Uf();)Zd(ae)}function Zd(e){var t=eh(e.alternate,e,Fe);e.memoizedProps=e.pendingProps,t===null?Jd(e):ae=t,Os.current=null}function Jd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=hp(n,t),n!==null){n.flags&=32767,ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{se=6,ae=null;return}}else if(n=dp(n,t,Fe),n!==null){ae=n;return}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);se===0&&(se=5)}function an(e,t,n){var r=X,o=et.transition;try{et.transition=null,X=1,yp(e,t,n,r)}finally{et.transition=o,X=r}return null}function yp(e,t,n,r){do Fn();while(Bt!==null);if(G&6)throw Error(_(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(em(e,l),e===he&&(ae=he=null,pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fo||(fo=!0,th(_o,function(){return Fn(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=et.transition,et.transition=null;var s=X;X=1;var i=G;G|=4,Os.current=null,mp(e,n),Gd(n,e),Wm(Cl),Oo=!!Nl,Cl=Nl=null,e.current=n,pp(n),Vf(),G=i,X=s,et.transition=l}else e.current=n;if(fo&&(fo=!1,Bt=e,Jo=o),l=e.pendingLanes,l===0&&(Yt=null),Xf(n.stateNode),Oe(e,oe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Zo)throw Zo=!1,e=Gl,Gl=null,e;return Jo&1&&e.tag!==0&&Fn(),l=e.pendingLanes,l&1?e===Yl?Tr++:(Tr=0,Yl=e):Tr=0,nn(),null}function Fn(){if(Bt!==null){var e=Ru(Jo),t=et.transition,n=X;try{if(et.transition=null,X=16>e?16:e,Bt===null)var r=!1;else{if(e=Bt,Bt=null,Jo=0,G&6)throw Error(_(331));var o=G;for(G|=4,z=e.current;z!==null;){var l=z,s=l.child;if(z.flags&16){var i=l.deletions;if(i!==null){for(var c=0;c<i.length;c++){var u=i[c];for(z=u;z!==null;){var f=z;switch(f.tag){case 0:case 11:case 15:Nr(8,f,l)}var x=f.child;if(x!==null)x.return=f,z=x;else for(;z!==null;){f=z;var p=f.sibling,y=f.return;if(Hd(f),f===u){z=null;break}if(p!==null){p.return=y,z=p;break}z=y}}}var b=l.alternate;if(b!==null){var k=b.child;if(k!==null){b.child=null;do{var N=k.sibling;k.sibling=null,k=N}while(k!==null)}}z=l}}if(l.subtreeFlags&2064&&s!==null)s.return=l,z=s;else e:for(;z!==null;){if(l=z,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Nr(9,l,l.return)}var h=l.sibling;if(h!==null){h.return=l.return,z=h;break e}z=l.return}}var d=e.current;for(z=d;z!==null;){s=z;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,z=m;else e:for(s=d;z!==null;){if(i=z,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:da(9,i)}}catch(g){ne(i,i.return,g)}if(i===s){z=null;break e}var w=i.sibling;if(w!==null){w.return=i.return,z=w;break e}z=i.return}}if(G=o,nn(),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(ra,e)}catch{}r=!0}return r}finally{X=n,et.transition=t}}return!1}function Ic(e,t,n){t=Xn(n,t),t=Rd(e,t,1),e=Gt(e,t,1),t=Ce(),e!==null&&(Gr(e,1,t),Oe(e,t))}function ne(e,t,n){if(e.tag===3)Ic(e,e,n);else for(;t!==null;){if(t.tag===3){Ic(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yt===null||!Yt.has(r))){e=Xn(n,e),e=Dd(t,e,1),t=Gt(t,e,1),e=Ce(),t!==null&&(Gr(t,1,e),Oe(t,e));break}}t=t.return}}function wp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ce(),e.pingedLanes|=e.suspendedLanes&n,he===e&&(pe&n)===n&&(se===4||se===3&&(pe&130023424)===pe&&500>oe()-As?un(e,0):$s|=n),Oe(e,t)}function qd(e,t){t===0&&(e.mode&1?(t=no,no<<=1,!(no&130023424)&&(no=4194304)):t=1);var n=Ce();e=It(e,t),e!==null&&(Gr(e,t,n),Oe(e,n))}function kp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qd(e,n)}function Sp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_(314))}r!==null&&r.delete(t),qd(e,n)}var eh;eh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||_e.current)De=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return De=!1,up(e,t,n);De=!!(e.flags&131072)}else De=!1,J&&t.flags&1048576&&od(t,Ho,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;To(e,t),e=t.pendingProps;var o=Un(t,we.current);Bn(t,n),o=Ms(null,t,r,e,o,n);var l=Rs();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Le(r)?(l=!0,Bo(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Cs(t),o.updater=ua,t.stateNode=o,o._reactInternals=t,Ll(t,r,e,n),t=Al(null,t,r,!0,l,n)):(t.tag=0,J&&l&&bs(t),Ne(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(To(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Np(r),e=st(r,e),o){case 0:t=$l(null,t,r,e,n);break e;case 1:t=bc(null,t,r,e,n);break e;case 11:t=gc(null,t,r,e,n);break e;case 14:t=vc(null,t,r,st(r.type,e),n);break e}throw Error(_(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:st(r,o),$l(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:st(r,o),bc(e,t,r,o,n);case 3:e:{if($d(t),e===null)throw Error(_(387));r=t.pendingProps,l=t.memoizedState,o=l.element,ud(e,t),Go(t,r,null,n);var s=t.memoizedState;if(r=s.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=Xn(Error(_(423)),t),t=yc(e,t,r,n,o);break e}else if(r!==o){o=Xn(Error(_(424)),t),t=yc(e,t,r,n,o);break e}else for(Ue=Vt(t.stateNode.containerInfo.firstChild),Ve=t,J=!0,ct=null,n=id(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vn(),r===o){t=Pt(e,t,n);break e}Ne(e,t,r,n)}t=t.child}return t;case 5:return dd(t),e===null&&Rl(t),r=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,s=o.children,Tl(r,o)?s=null:l!==null&&Tl(r,l)&&(t.flags|=32),Od(e,t),Ne(e,t,s,n),t.child;case 6:return e===null&&Rl(t),null;case 13:return Ad(e,t,n);case 4:return Ts(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Gn(t,null,r,n):Ne(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:st(r,o),gc(e,t,r,o,n);case 7:return Ne(e,t,t.pendingProps,n),t.child;case 8:return Ne(e,t,t.pendingProps.children,n),t.child;case 12:return Ne(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,l=t.memoizedProps,s=o.value,K(Uo,r._currentValue),r._currentValue=s,l!==null)if(ht(l.value,s)){if(l.children===o.children&&!_e.current){t=Pt(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var i=l.dependencies;if(i!==null){s=l.child;for(var c=i.firstContext;c!==null;){if(c.context===r){if(l.tag===1){c=Nt(-1,n&-n),c.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),Dl(l.return,n,t),i.lanes|=n;break}c=c.next}}else if(l.tag===10)s=l.type===t.type?null:l.child;else if(l.tag===18){if(s=l.return,s===null)throw Error(_(341));s.lanes|=n,i=s.alternate,i!==null&&(i.lanes|=n),Dl(s,n,t),s=l.sibling}else s=l.child;if(s!==null)s.return=l;else for(s=l;s!==null;){if(s===t){s=null;break}if(l=s.sibling,l!==null){l.return=s.return,s=l;break}s=s.return}l=s}Ne(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Bn(t,n),o=nt(o),r=r(o),t.flags|=1,Ne(e,t,r,n),t.child;case 14:return r=t.type,o=st(r,t.pendingProps),o=st(r.type,o),vc(e,t,r,o,n);case 15:return _d(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:st(r,o),To(e,t),t.tag=1,Le(r)?(e=!0,Bo(t)):e=!1,Bn(t,n),Md(t,r,o),Ll(t,r,o,n),Al(null,t,r,!0,e,n);case 19:return zd(e,t,n);case 22:return Ld(e,t,n)}throw Error(_(156,t.tag))};function th(e,t){return Eu(e,t)}function jp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(e,t,n,r){return new jp(e,t,n,r)}function Fs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Np(e){if(typeof e=="function")return Fs(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ss)return 11;if(e===is)return 14}return 2}function Kt(e,t){var n=e.alternate;return n===null?(n=qe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Po(e,t,n,r,o,l){var s=2;if(r=e,typeof e=="function")Fs(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Sn:return dn(n.children,o,l,t);case ls:s=8,o|=8;break;case al:return e=qe(12,n,t,o|2),e.elementType=al,e.lanes=l,e;case ll:return e=qe(13,n,t,o),e.elementType=ll,e.lanes=l,e;case sl:return e=qe(19,n,t,o),e.elementType=sl,e.lanes=l,e;case du:return fa(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cu:s=10;break e;case uu:s=9;break e;case ss:s=11;break e;case is:s=14;break e;case Ot:s=16,r=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=qe(s,n,t,o),t.elementType=e,t.type=r,t.lanes=l,t}function dn(e,t,n,r){return e=qe(7,e,r,t),e.lanes=n,e}function fa(e,t,n,r){return e=qe(22,e,r,t),e.elementType=du,e.lanes=n,e.stateNode={isHidden:!1},e}function Qa(e,t,n){return e=qe(6,e,null,t),e.lanes=n,e}function Za(e,t,n){return t=qe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cp(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ma(0),this.expirationTimes=Ma(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Hs(e,t,n,r,o,l,s,i,c){return e=new Cp(e,t,n,i,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=qe(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cs(l),e}function Tp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function nh(e){if(!e)return Zt;e=e._reactInternals;e:{if(vn(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Le(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var n=e.type;if(Le(n))return nd(e,n,t)}return t}function rh(e,t,n,r,o,l,s,i,c){return e=Hs(n,r,!0,e,o,l,s,i,c),e.context=nh(null),n=e.current,r=Ce(),o=Xt(n),l=Nt(r,o),l.callback=t??null,Gt(n,l,o),e.current.lanes=o,Gr(e,o,r),Oe(e,r),e}function ma(e,t,n,r){var o=t.current,l=Ce(),s=Xt(o);return n=nh(n),t.context===null?t.context=n:t.pendingContext=n,t=Nt(l,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Gt(o,t,s),e!==null&&(dt(e,o,s,l),jo(e,o,s)),s}function ea(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Us(e,t){Pc(e,t),(e=e.alternate)&&Pc(e,t)}function Ep(){return null}var oh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vs(e){this._internalRoot=e}pa.prototype.render=Vs.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));ma(e,t,null,null)};pa.prototype.unmount=Vs.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xn(function(){ma(null,e,null,null)}),t[Et]=null}};function pa(e){this._internalRoot=e}pa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&t!==0&&t<At[n].priority;n++);At.splice(n,0,e),n===0&&$u(e)}};function Gs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Mc(){}function Ip(e,t,n,r,o){if(o){if(typeof r=="function"){var l=r;r=function(){var u=ea(s);l.call(u)}}var s=rh(t,r,e,0,null,!1,!1,"",Mc);return e._reactRootContainer=s,e[Et]=s.current,Or(e.nodeType===8?e.parentNode:e),xn(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var i=r;r=function(){var u=ea(c);i.call(u)}}var c=Hs(e,0,!1,null,null,!1,!1,"",Mc);return e._reactRootContainer=c,e[Et]=c.current,Or(e.nodeType===8?e.parentNode:e),xn(function(){ma(t,c,n,r)}),c}function ga(e,t,n,r,o){var l=n._reactRootContainer;if(l){var s=l;if(typeof o=="function"){var i=o;o=function(){var c=ea(s);i.call(c)}}ma(t,s,e,o)}else s=Ip(n,t,e,o,r);return ea(s)}Du=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gr(t.pendingLanes);n!==0&&(ds(t,n|1),Oe(t,oe()),!(G&6)&&(Kn=oe()+500,nn()))}break;case 13:xn(function(){var r=It(e,1);if(r!==null){var o=Ce();dt(r,e,1,o)}}),Us(e,1)}};hs=function(e){if(e.tag===13){var t=It(e,134217728);if(t!==null){var n=Ce();dt(t,e,134217728,n)}Us(e,134217728)}};_u=function(e){if(e.tag===13){var t=Xt(e),n=It(e,t);if(n!==null){var r=Ce();dt(n,e,t,r)}Us(e,t)}};Lu=function(){return X};Ou=function(e,t){var n=X;try{return X=e,t()}finally{X=n}};gl=function(e,t,n){switch(t){case"input":if(ul(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=sa(r);if(!o)throw Error(_(90));fu(r),ul(r,o)}}}break;case"textarea":pu(e,n);break;case"select":t=n.value,t!=null&&$n(e,!!n.multiple,t,!1)}};ku=zs;Su=xn;var Pp={usingClientEntryPoint:!1,Events:[Xr,Tn,sa,yu,wu,zs]},dr={findFiberByHostInstance:ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mp={bundleType:dr.bundleType,version:dr.version,rendererPackageName:dr.rendererPackageName,rendererConfig:dr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cu(e),e===null?null:e.stateNode},findFiberByHostInstance:dr.findFiberByHostInstance||Ep,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mo.isDisabled&&mo.supportsFiber)try{ra=mo.inject(Mp),gt=mo}catch{}}Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pp;Xe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gs(t))throw Error(_(200));return Tp(e,t,null,n)};Xe.createRoot=function(e,t){if(!Gs(e))throw Error(_(299));var n=!1,r="",o=oh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Hs(e,1,!1,null,null,n,!1,r,o),e[Et]=t.current,Or(e.nodeType===8?e.parentNode:e),new Vs(t)};Xe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=Cu(t),e=e===null?null:e.stateNode,e};Xe.flushSync=function(e){return xn(e)};Xe.hydrate=function(e,t,n){if(!xa(t))throw Error(_(200));return ga(null,e,t,!0,n)};Xe.hydrateRoot=function(e,t,n){if(!Gs(e))throw Error(_(405));var r=n!=null&&n.hydratedSources||null,o=!1,l="",s=oh;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=rh(t,null,e,1,n??null,o,!1,l,s),e[Et]=t.current,Or(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new pa(t)};Xe.render=function(e,t,n){if(!xa(t))throw Error(_(200));return ga(null,e,t,!1,n)};Xe.unmountComponentAtNode=function(e){if(!xa(e))throw Error(_(40));return e._reactRootContainer?(xn(function(){ga(null,null,e,!1,function(){e._reactRootContainer=null,e[Et]=null})}),!0):!1};Xe.unstable_batchedUpdates=zs;Xe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!xa(n))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return ga(e,t,n,!1,r)};Xe.version="18.3.1-next-f1338f8080-20240426";function ah(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ah)}catch(e){console.error(e)}}ah(),au.exports=Xe;var tr=au.exports,Rc=tr;rl.createRoot=Rc.createRoot,rl.hydrateRoot=Rc.hydrateRoot;const Rp={},Dc=e=>{let t;const n=new Set,r=(f,x)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const y=t;t=x??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(b=>b(t,y))}},o=()=>t,c={setState:r,getState:o,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(Rp?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,c);return c},Dp=e=>e?Dc(e):Dc;var lh={exports:{}},sh={},ih={exports:{}},ch={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qn=E;function _p(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lp=typeof Object.is=="function"?Object.is:_p,Op=Qn.useState,$p=Qn.useEffect,Ap=Qn.useLayoutEffect,zp=Qn.useDebugValue;function Wp(e,t){var n=t(),r=Op({inst:{value:n,getSnapshot:t}}),o=r[0].inst,l=r[1];return Ap(function(){o.value=n,o.getSnapshot=t,Ja(o)&&l({inst:o})},[e,n,t]),$p(function(){return Ja(o)&&l({inst:o}),e(function(){Ja(o)&&l({inst:o})})},[e]),zp(n),n}function Ja(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Lp(e,n)}catch{return!0}}function Bp(e,t){return t()}var Fp=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Bp:Wp;ch.useSyncExternalStore=Qn.useSyncExternalStore!==void 0?Qn.useSyncExternalStore:Fp;ih.exports=ch;var Hp=ih.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var va=E,Up=Hp;function Vp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gp=typeof Object.is=="function"?Object.is:Vp,Yp=Up.useSyncExternalStore,Xp=va.useRef,Kp=va.useEffect,Qp=va.useMemo,Zp=va.useDebugValue;sh.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var l=Xp(null);if(l.current===null){var s={hasValue:!1,value:null};l.current=s}else s=l.current;l=Qp(function(){function c(y){if(!u){if(u=!0,f=y,y=r(y),o!==void 0&&s.hasValue){var b=s.value;if(o(b,y))return x=b}return x=y}if(b=x,Gp(f,y))return b;var k=r(y);return o!==void 0&&o(b,k)?(f=y,b):(f=y,x=k)}var u=!1,f,x,p=n===void 0?null:n;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,n,r,o]);var i=Yp(e,l[0],l[1]);return Kp(function(){s.hasValue=!0,s.value=i},[i]),Zp(i),i};lh.exports=sh;var Jp=lh.exports;const qp=Jl(Jp),uh={},{useDebugValue:ex}=na,{useSyncExternalStoreWithSelector:tx}=qp;let _c=!1;const nx=e=>e;function rx(e,t=nx,n){(uh?"production":void 0)!=="production"&&n&&!_c&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),_c=!0);const r=tx(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return ex(r),r}const Lc=e=>{(uh?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Dp(e):e,n=(r,o)=>rx(t,r,o);return Object.assign(n,t),n},Ys=e=>e?Lc(e):Lc;let po;const ox=new Uint8Array(16);function ax(){if(!po&&(po=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!po))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return po(ox)}const fe=[];for(let e=0;e<256;++e)fe.push((e+256).toString(16).slice(1));function lx(e,t=0){return fe[e[t+0]]+fe[e[t+1]]+fe[e[t+2]]+fe[e[t+3]]+"-"+fe[e[t+4]]+fe[e[t+5]]+"-"+fe[e[t+6]]+fe[e[t+7]]+"-"+fe[e[t+8]]+fe[e[t+9]]+"-"+fe[e[t+10]]+fe[e[t+11]]+fe[e[t+12]]+fe[e[t+13]]+fe[e[t+14]]+fe[e[t+15]]}const sx=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Oc={randomUUID:sx};function He(e,t,n){if(Oc.randomUUID&&!e)return Oc.randomUUID();e=e||{};const r=e.random||(e.rng||ax)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,lx(r)}function hr(e){const t=e.sheets.find(n=>n.id===e.activeSheetId);return(t==null?void 0:t.widgets)||[]}function We(e,t){return{...e,sheets:e.sheets.map(n=>n.id===e.activeSheetId?{...n,widgets:t(n.widgets)}:n)}}function $c(e){var l;const t=new Map,n=new Map,r=new Map;e.sheets.forEach(s=>{t.set(s.id,He()),s.widgets.forEach(i=>{n.set(i.id,He()),i.groupId&&!r.has(i.groupId)&&r.set(i.groupId,He())})});const o=e.sheets.map(s=>({...s,id:t.get(s.id),widgets:s.widgets.map(i=>{var c;return{...i,id:n.get(i.id),groupId:i.groupId?r.get(i.groupId):void 0,attachedTo:(c=i.attachedTo)==null?void 0:c.map(u=>n.get(u)||u)}})}));return{sheets:o,activeSheetId:t.get(e.activeSheetId)||((l=o[0])==null?void 0:l.id)}}function ix(e){if(e.sheets&&e.sheets.length>0)return e;const t={id:He(),name:"Main",widgets:e.widgets||[]};return{id:e.id,name:e.name,theme:e.theme,sheets:[t],activeSheetId:t.id}}const W=Ys(e=>{const t=(()=>{try{const s=localStorage.getItem("ucs:store");if(!s)return null;const i=JSON.parse(s);return{characters:i.characters.map(ix),activeCharacterId:i.activeCharacterId,mode:i.mode}}catch(s){return console.error("Failed to load persisted store",s),null}})(),n=(t==null?void 0:t.characters)??[],r=(t==null?void 0:t.activeCharacterId)??null,o=(t==null?void 0:t.mode)??"play";return{characters:n,activeCharacterId:r,mode:o,editingWidgetId:null,selectedWidgetId:null,createCharacter:s=>e(i=>{const c={id:He(),name:"Main",widgets:[]},u={id:He(),name:s,sheets:[c],activeSheetId:c.id};return{characters:[...i.characters,u],activeCharacterId:u.id,mode:i.mode==="vertical"?"vertical":"play"}}),createCharacterFromPreset:(s,i)=>e(c=>{const{sheets:u,activeSheetId:f}=$c(s),x={id:He(),name:i||s.name,theme:s.theme,sheets:u,activeSheetId:f};return{characters:[...c.characters,x],activeCharacterId:x.id,mode:c.mode==="vertical"?"vertical":"play"}}),importCharacter:s=>e(i=>{const{sheets:c,activeSheetId:u}=$c(s),f={...s,id:He(),name:s.name,sheets:c,activeSheetId:u};return{characters:[...i.characters,f]}}),selectCharacter:s=>e(i=>({activeCharacterId:s,mode:i.mode==="vertical"?"vertical":"play"})),deleteCharacter:s=>e(i=>({characters:i.characters.filter(c=>c.id!==s),activeCharacterId:i.activeCharacterId===s?null:i.activeCharacterId})),updateCharacterName:(s,i)=>e(c=>({characters:c.characters.map(u=>u.id===s?{...u,name:i}:u)})),updateCharacterTheme:(s,i)=>e(c=>({characters:c.characters.map(u=>u.id===s?{...u,theme:i}:u)})),setMode:s=>e({mode:s,selectedWidgetId:null}),setEditingWidgetId:s=>e({editingWidgetId:s}),setSelectedWidgetId:s=>e({selectedWidgetId:s}),createSheet:s=>e(i=>{if(!i.activeCharacterId)return i;const c={id:He(),name:s,widgets:[]};return{characters:i.characters.map(u=>u.id===i.activeCharacterId?{...u,sheets:[...u.sheets,c],activeSheetId:c.id}:u)}}),selectSheet:s=>e(i=>i.activeCharacterId?{characters:i.characters.map(c=>c.id===i.activeCharacterId?{...c,activeSheetId:s}:c)}:i),deleteSheet:s=>e(i=>i.activeCharacterId?{characters:i.characters.map(c=>{if(c.id!==i.activeCharacterId||c.sheets.length<=1)return c;const u=c.sheets.filter(x=>x.id!==s),f=c.activeSheetId===s?u[0].id:c.activeSheetId;return{...c,sheets:u,activeSheetId:f}})}:i),renameSheet:(s,i)=>e(c=>c.activeCharacterId?{characters:c.characters.map(u=>u.id!==c.activeCharacterId?u:{...u,sheets:u.sheets.map(f=>f.id===s?{...f,name:i}:f)})}:c),addWidget:(s,i,c)=>e(u=>{if(!u.activeCharacterId)return u;const f=u.characters.find(m=>m.id===u.activeCharacterId);if(!f)return u;const x=hr(f);let p=i,y=c;const b=10,k=200,N=120,h=20;if(x.length===0)p=Math.round(400/b)*b,y=Math.round(300/b)*b;else{const m=Math.min(...x.map(S=>S.x)),w=Math.max(...x.map(S=>S.x+(S.w||k))),g=Math.min(...x.map(S=>S.y)),v=Math.max(...x.map(S=>S.y+(S.h||N)));p=Math.round((w+h)/b)*b,y=Math.round(g/b)*b,p>1500&&(p=Math.round(m/b)*b,y=Math.round((v+h)/b)*b)}const d={id:He(),type:s,x:p,y,w:k,h:N,data:{label:"New Widget",value:0,items:[],text:""}};return{characters:u.characters.map(m=>m.id===u.activeCharacterId?We(m,w=>[...w,d]):m)}}),updateWidgetPosition:(s,i,c)=>e(u=>({characters:u.characters.map(f=>f.id===u.activeCharacterId?We(f,x=>x.map(p=>p.id===s?{...p,x:i,y:c}:p)):f)})),updateWidgetSize:(s,i,c)=>e(u=>({characters:u.characters.map(f=>f.id===u.activeCharacterId?We(f,x=>x.map(p=>p.id===s?{...p,w:i,h:c}:p)):f)})),updateWidgetData:(s,i)=>e(c=>({characters:c.characters.map(u=>u.id===c.activeCharacterId?We(u,f=>f.map(x=>x.id===s?{...x,data:{...x.data,...i}}:x)):u)})),removeWidget:s=>e(i=>({characters:i.characters.map(c=>c.id===i.activeCharacterId?We(c,u=>u.filter(f=>f.id!==s)):c)})),reorderWidget:(s,i)=>e(c=>c.activeCharacterId?{characters:c.characters.map(u=>u.id!==c.activeCharacterId?u:We(u,f=>{const x=f.findIndex(b=>b.id===s);if(x===-1)return f;const p=[...f],[y]=p.splice(x,1);return p.splice(i,0,y),p}))}:c),attachWidgets:(s,i)=>e(c=>c.activeCharacterId?{characters:c.characters.map(u=>{var b;if(u.id!==c.activeCharacterId)return u;const f=hr(u),x=f.find(k=>k.id===s),p=f.find(k=>k.id===i);if(!x||!p||(b=x.attachedTo)!=null&&b.includes(i))return u;let y;if(x.groupId&&p.groupId&&x.groupId!==p.groupId){y=x.groupId;const k=p.groupId;return We(u,N=>N.map(h=>h.groupId===k?{...h,groupId:y}:h.id===s?{...h,attachedTo:[...h.attachedTo||[],i]}:h.id===i?{...h,attachedTo:[...h.attachedTo||[],s]}:h))}else x.groupId?y=x.groupId:p.groupId?y=p.groupId:y=He();return We(u,k=>k.map(N=>N.id===s?{...N,groupId:y,attachedTo:[...N.attachedTo||[],i]}:N.id===i?{...N,groupId:y,attachedTo:[...N.attachedTo||[],s]}:N))})}:c),detachWidgets:(s,i)=>e(c=>c.activeCharacterId?{characters:c.characters.map(u=>{var g;if(u.id!==c.activeCharacterId)return u;const f=hr(u),x=f.find(v=>v.id===s);if(!x||!x.groupId)return u;const p=x.groupId,y=x.attachedTo||[];let b=f.map(v=>v.id===s?{...v,groupId:void 0,attachedTo:void 0}:y.includes(v.id)?{...v,attachedTo:(v.attachedTo||[]).filter(S=>S!==s)}:v);const k=b.filter(v=>v.groupId===p).map(v=>v.id);if(k.length===0)return We(u,()=>b);const N=new Map;for(const v of k){const S=b.find(C=>C.id===v);N.set(v,((g=S==null?void 0:S.attachedTo)==null?void 0:g.filter(C=>k.includes(C)))||[])}const h=new Set,d=[];for(const v of k){if(h.has(v))continue;const S=[],C=[v];for(;C.length>0;){const j=C.shift();if(h.has(j))continue;h.add(j),S.push(j);const T=N.get(j)||[];for(const R of T)h.has(R)||C.push(R)}d.push(S)}const m=d.map((v,S)=>{if(!(v.length<=1))return S===0&&d.filter(C=>C.length>1).length<=1?p:He()}),w=new Map;return d.forEach((v,S)=>{for(const C of v)w.set(C,m[S])}),b=b.map(v=>{if(w.has(v.id)){const S=w.get(v.id);return S?{...v,groupId:S}:{...v,groupId:void 0,attachedTo:void 0}}return v}),We(u,()=>b)})}:c),getWidgetsInGroup:s=>{const i=W.getState(),c=i.characters.find(f=>f.id===i.activeCharacterId);return c?hr(c).filter(f=>f.groupId===s):[]},moveWidgetGroup:(s,i,c)=>e(u=>{if(!u.activeCharacterId)return u;const f=u.characters.find(b=>b.id===u.activeCharacterId);if(!f)return u;const p=hr(f).find(b=>b.id===s);if(!p||!p.groupId)return{characters:u.characters.map(b=>b.id===u.activeCharacterId?We(b,k=>k.map(N=>N.id===s?{...N,x:N.x+i,y:N.y+c}:N)):b)};const y=p.groupId;return{characters:u.characters.map(b=>b.id===u.activeCharacterId?We(b,k=>k.map(N=>N.groupId===y?{...N,x:N.x+i,y:N.y+c}:N)):b)}}),performRest:s=>e(i=>{if(!i.activeCharacterId)return i;const{healAmount:c,clearConditions:u,resetSpellSlots:f,passTimeSeconds:x}=s;return{characters:i.characters.map(p=>p.id===i.activeCharacterId?We(p,y=>y.map(b=>{if(b.type==="HEALTH_BAR"&&c!==void 0){const k=b.data.currentValue??0,N=b.data.maxValue??10;let h;return c==="full"?h=N:h=Math.min(N,k+c),{...b,data:{...b.data,currentValue:h}}}if(b.type==="TOGGLE_GROUP"&&u){const N=(b.data.toggleItems||[]).map(h=>({...h,active:!1}));return{...b,data:{...b.data,toggleItems:N}}}if(b.type==="SPELL_SLOT"&&f){const N=(b.data.spellLevels||[]).map(h=>({...h,used:0}));return{...b,data:{...b.data,spellLevels:N}}}if(b.type==="TIME_TRACKER"&&x!==void 0&&x>0){const k=b.data.timedEffects||[],N=b.data.roundMode||!1,h=x,d=k.map(m=>({...m,remainingSeconds:Math.max(0,m.remainingSeconds-h)}));return{...b,data:{...b.data,timedEffects:d}}}return b})):p)}})}});{let e=null;W.subscribe(()=>{e&&window.clearTimeout(e),e=window.setTimeout(()=>{try{const t=W.getState(),n={characters:t.characters,activeCharacterId:t.activeCharacterId,mode:t.mode};localStorage.setItem("ucs:store",JSON.stringify(n))}catch(t){console.error("Failed to persist store",t)}},150)})}const dh="/UniversalCharacterSheet/assets/paper-BEAu-nxw.jpg",hh="/UniversalCharacterSheet/assets/paper_2-CH9Rkn63.jpg",fh="/UniversalCharacterSheet/assets/paper_3-kMWVO9hc.jpg",mh="/UniversalCharacterSheet/assets/wood-CRUr5oIk.jpg",ph="/UniversalCharacterSheet/assets/arcs-D3YvlcmY.jpg",xh="/UniversalCharacterSheet/assets/circuit_board-DqNmZm31.jpg",gh="/UniversalCharacterSheet/assets/cloth-DQ1UH5v9.jpg",vh="/UniversalCharacterSheet/assets/fire-_GFizR-C.jpg",bh="/UniversalCharacterSheet/assets/fog-DRMbxaR3.jpg",yh="/UniversalCharacterSheet/assets/gears-DmesK-TK.jpg",wh="/UniversalCharacterSheet/assets/glyphs-JJHDyMLG.jpg",kh="/UniversalCharacterSheet/assets/leaf-9JTNOToz.jpg",Sh="/UniversalCharacterSheet/assets/leather-gh3fCG9P.jpg",jh="/UniversalCharacterSheet/assets/metal-IUU3jIEo.jpg",Nh="/UniversalCharacterSheet/assets/smoke-j_Zmmo3C.jpg",Ch="/UniversalCharacterSheet/assets/snow-DoqVdj98.jpg",Th="/UniversalCharacterSheet/assets/soil-DOAx3uxo.jpg",Eh="/UniversalCharacterSheet/assets/solar-BaBFVAiA.jpg",Ih="/UniversalCharacterSheet/assets/stars-DnEgGp3s.jpg",Ph="/UniversalCharacterSheet/assets/stone-tbZqLald.jpg",Mh="/UniversalCharacterSheet/assets/tech-BxDJg7Fw.jpg",Rh="/UniversalCharacterSheet/assets/water-CwLTClza.jpg",Dh="/UniversalCharacterSheet/assets/waves-C9RfNNeY.jpg",_n={none:"none",paper:`url(${dh})`,crumpledPaper:`url(${hh})`,graphPaper:`url(${fh})`,wood:`url(${mh})`,arcs:`url(${ph})`,circuitBoard:`url(${xh})`,cloth:`url(${gh})`,fire:`url(${vh})`,fog:`url(${bh})`,gears:`url(${yh})`,glyphs:`url(${wh})`,leaf:`url(${kh})`,leather:`url(${Sh})`,metal:`url(${jh})`,smoke:`url(${Nh})`,snow:`url(${Ch})`,soil:`url(${Th})`,solar:`url(${Eh})`,stars:`url(${Ih})`,stone:`url(${Ph})`,tech:`url(${Mh})`,water:`url(${Rh})`,waves:`url(${Dh})`},Ct={paper:dh,crumpledPaper:hh,graphPaper:fh,wood:mh,arcs:ph,circuitBoard:xh,cloth:gh,fire:vh,fog:bh,gears:yh,glyphs:wh,leaf:kh,leather:Sh,metal:jh,smoke:Nh,snow:Ch,soil:Th,solar:Eh,stars:Ih,stone:Ph,tech:Mh,water:Rh,waves:Dh};function tt(e){return e in Ct}function ba(e){return Jt.find(t=>t.id===e)}const cx=[{value:"none",label:"None"},{value:"paper",label:"Paper"},{value:"crumpledPaper",label:"Crumpled Paper"},{value:"graphPaper",label:"Graph Paper"},{value:"wood",label:"Wood"},{value:"leather",label:"Leather"},{value:"cloth",label:"Cloth"},{value:"stone",label:"Stone"},{value:"metal",label:"Metal"},{value:"soil",label:"Soil"},{value:"leaf",label:"Leaf"},{value:"water",label:"Water"},{value:"waves",label:"Waves"},{value:"snow",label:"Snow"},{value:"fog",label:"Fog"},{value:"fire",label:"Fire"},{value:"smoke",label:"Smoke"},{value:"stars",label:"Stars"},{value:"solar",label:"Solar"},{value:"tech",label:"Technology"},{value:"circuitBoard",label:"Circuit Board"},{value:"gears",label:"Gears"},{value:"arcs",label:"Arcs"},{value:"glyphs",label:"Glyphs"}],ux=[{value:"hard",label:"Hard Offset"},{value:"soft",label:"Soft Drop"},{value:"glow",label:"Glow"},{value:"inset",label:"Inset"},{value:"layered",label:"Layered"},{value:"none",label:"None"}],dx=[{value:"solid",label:"Solid"},{value:"dashed",label:"Dashed"},{value:"dotted",label:"Dotted"},{value:"double",label:"Double"}];function Xs(e,t,n=.15){return e==="none"||!e||tt(e)?"none":_n[e]||_n.none}function Ks(e,t="transparent"){switch(e){case"hard":return"4px 4px 0 0 var(--color-shadow)";case"soft":return"0 4px 12px var(--color-shadow)";case"glow":return`0 0 12px ${t}, 0 0 24px var(--color-shadow)`;case"inset":return"inset 0 2px 8px var(--color-shadow)";case"layered":return"2px 2px 0 var(--color-border), 4px 4px 8px var(--color-shadow)";case"none":return"none";default:return"4px 4px 0 0 var(--color-shadow)"}}const Jt=[{id:"default",name:"Classic",icon:"",description:"Clean black & white with hard shadows",colors:{background:"#e5e7eb",paper:"#ffffff",ink:"#000000",accent:"#000000",accentHover:"#374151",border:"#000000",shadow:"#000000",muted:"#6b7280",glow:"transparent"},fonts:{heading:'"Courier New", Courier, monospace',body:'"Courier New", Courier, monospace'},borderRadius:"0px",borderWidth:"2px",shadowStyle:"4px 4px 0 0 var(--color-shadow)",cardTexture:_n.none,borderStyle:"solid"},{id:"pen-and-paper",name:"Pen & Paper",icon:"",description:"Handwritten style with lined paper feel",colors:{background:"#d7d7d7",paper:"#d7d7d7",ink:"#2c3e50",accent:"#8b4513",accentHover:"#a0522d",border:"#8b7355",shadow:"#8b7355",muted:"#7f8c8d",glow:"transparent"},fonts:{heading:'"Comic Sans MS", "Segoe Print", cursive',body:'"Segoe Print", "Comic Sans MS", cursive'},borderRadius:"2px",borderWidth:"1px",shadowStyle:"2px 2px 0 0 var(--color-shadow)",cardTexture:"graphPaper",textureOpacity:1,borderStyle:"solid"},{id:"medieval",name:"Medieval",icon:"",description:"Aged parchment with ornate styling",colors:{background:"#3d2914",paper:"#d4c4a8",ink:"#df7d57ff",accent:"#8b0000",accentHover:"#a52a2a",border:"#5c4033",shadow:"#2c1810",muted:"#6b5344",glow:"transparent"},fonts:{heading:'"Times New Roman", "Palatino Linotype", serif',body:'"Palatino Linotype", "Book Antiqua", serif'},borderRadius:"0px",borderWidth:"3px",shadowStyle:"3px 3px 6px 0 var(--color-shadow)",cardTexture:"paper",textureOpacity:1,borderStyle:"double"},{id:"scifi",name:"Sci-Fi",icon:"",description:"Futuristic holographic interface",colors:{background:"#0a0a1a",paper:"#141428",ink:"#00ffff",accent:"#00ff88",accentHover:"#00cc6a",border:"#00ffff",shadow:"#00ffff40",muted:"#4a9eff",glow:"#008cffff"},fonts:{heading:'"Orbitron", "Segoe UI", sans-serif',body:'"Roboto Mono", "Consolas", monospace'},borderRadius:"4px",borderWidth:"1px",shadowStyle:"0 0 8px var(--color-glow), 0 0 16px var(--color-shadow)",cardTexture:"circuitBoard",textureOpacity:.4,borderStyle:"solid"},{id:"classic-dark",name:"Classic Dark",icon:"",description:"Traditional dark theme with warm accents",colors:{background:"#1a1a1a",paper:"#2d2d2d",ink:"#e0e0e0",accent:"#d4a574",accentHover:"#c49464",border:"#404040",shadow:"#00000080",muted:"#888888",glow:"transparent"},fonts:{heading:'"Georgia", "Times New Roman", serif',body:'"Georgia", "Times New Roman", serif'},borderRadius:"4px",borderWidth:"1px",shadowStyle:"0 4px 12px var(--color-shadow)",cardTexture:_n.none,borderStyle:"solid"},{id:"modern-dark",name:"Modern Dark",icon:"",description:"Sleek contemporary dark interface",colors:{background:"#0f172a",paper:"#1e293b",ink:"#f1f5f9",accent:"#3b82f6",accentHover:"#2563eb",border:"#334155",shadow:"#00000060",muted:"#94a3b8",glow:"#3b82f6"},fonts:{heading:'"Inter", "Segoe UI", sans-serif',body:'"Inter", "Segoe UI", sans-serif'},borderRadius:"8px",borderWidth:"1px",shadowStyle:"0 4px 20px var(--color-shadow)",cardTexture:_n.darkGrain,borderStyle:"solid"},{id:"high-magic",name:"High Magic",icon:"",description:"Arcane glyphs and mystical energy",colors:{background:"#1a0a2e",paper:"#2d1b4e",ink:"#e8d5ff",accent:"#bf7fff",accentHover:"#9966cc",border:"#bf7fff",shadow:"#bf7fff40",muted:"#9b8ab8",glow:"#bf7fff"},fonts:{heading:'"Cinzel", "Times New Roman", serif',body:'"Crimson Text", "Georgia", serif'},borderRadius:"8px",borderWidth:"2px",shadowStyle:"0 0 12px var(--color-glow), 0 0 24px var(--color-shadow)",cardTexture:"arcs",textureOpacity:.15,borderStyle:"solid"},{id:"necrotic",name:"Necrotic",icon:"",description:"Dark and sinister undead aesthetic",colors:{background:"#0d0d0d",paper:"#1a1a1a",ink:"#c8c8c8",accent:"#4a0",accentHover:"#5b0",border:"#333333",shadow:"#00000080",muted:"#666666",glow:"#4a0"},fonts:{heading:'"Copperplate", "Copperplate Gothic Light", "Impact", fantasy',body:'"Courier New", monospace'},borderRadius:"0px",borderWidth:"1px",shadowStyle:"0 0 10px var(--color-shadow), inset 0 0 30px rgba(74, 170, 0, 0.05)",cardTexture:"smoke",textureOpacity:.6,borderStyle:"solid"},{id:"modern",name:"Modern",icon:"",description:"Sleek contemporary design",colors:{background:"#f8fafc",paper:"#ffffff",ink:"#1e293b",accent:"#3b82f6",accentHover:"#2563eb",border:"#e2e8f0",shadow:"#64748b20",muted:"#64748b",glow:"transparent"},fonts:{heading:'"Inter", "Segoe UI", sans-serif',body:'"Inter", "Segoe UI", sans-serif'},borderRadius:"8px",borderWidth:"1px",shadowStyle:"0 4px 16px var(--color-shadow)",cardTexture:_n.none,borderStyle:"solid"},{id:"steampunk",name:"Steampunk",icon:"",description:"Victorian brass and gears",colors:{background:"#2a1f1a",paper:"#3d2b1f",ink:"#d4a574",accent:"#cd7f32",accentHover:"#b8860b",border:"#cd7f32",shadow:"#00000060",muted:"#8b7355",glow:"#cd7f32"},fonts:{heading:'"Spectral SC", "Georgia", serif',body:'"Cutive Mono", "Courier New", monospace'},borderRadius:"2px",borderWidth:"2px",shadowStyle:"2px 2px 0 var(--color-border), 4px 4px 8px var(--color-shadow)",cardTexture:"gears",textureOpacity:.25,borderStyle:"solid"},{id:"cyberpunk",name:"Cyberpunk",icon:"",description:"Neon lights in a dark future",colors:{background:"#0f0f23",paper:"#24243fff",ink:"#eeff00",accent:"#ff00ff",accentHover:"#cc00cc",border:"#ff00ff",shadow:"#ff00ff40",muted:"#00ffff",glow:"#ff00ff"},fonts:{heading:'"Consolas", "Lucida Console", "Monaco", monospace',body:'"Consolas", "Lucida Console", "Monaco", monospace'},borderRadius:"0px",borderWidth:"2px",shadowStyle:"0 0 10px var(--color-glow), 0 0 20px var(--color-shadow), 4px 4px 0 var(--color-border)",cardTexture:"tech",textureOpacity:.4,borderStyle:"solid"},{id:"nature",name:"Nature",icon:"",description:"Organic earthy woodland feel",colors:{background:"#2d4a3e",paper:"#f4f1e0cc",ink:"#7e9e7eff",accent:"#2d5a3e",accentHover:"#1e4a30",border:"#5a7247",shadow:"#2d3b2d40",muted:"#6b7c5a",glow:"transparent"},fonts:{heading:'"Amatic SC", "Trebuchet MS", sans-serif',body:'"Nunito", "Verdana", sans-serif'},borderRadius:"12px",borderWidth:"2px",shadowStyle:"0 4px 12px var(--color-shadow)",cardTexture:"leaf",textureOpacity:.3,borderStyle:"solid"}];Ys(e=>({currentTheme:(()=>{try{const n=localStorage.getItem("ucs:theme");return n?JSON.parse(n):"default"}catch{return"default"}})(),setTheme:n=>{e({currentTheme:n}),localStorage.setItem("ucs:theme",JSON.stringify(n)),Zn(n)}}));function Zn(e){const t=Jt.find(o=>o.id===e)||Jt[0],n=document.documentElement;n.style.setProperty("--color-background",t.colors.background),n.style.setProperty("--color-paper",t.colors.paper),n.style.setProperty("--color-ink",t.colors.ink),n.style.setProperty("--color-accent",t.colors.accent),n.style.setProperty("--color-accent-hover",t.colors.accentHover),n.style.setProperty("--color-border",t.colors.border),n.style.setProperty("--color-shadow",t.colors.shadow),n.style.setProperty("--color-muted",t.colors.muted),n.style.setProperty("--color-glow",t.colors.glow),n.style.setProperty("--font-heading",t.fonts.heading),n.style.setProperty("--font-body",t.fonts.body),n.style.setProperty("--border-radius",t.borderRadius),n.style.setProperty("--border-width",t.borderWidth),n.style.setProperty("--shadow-style",t.shadowStyle),n.style.setProperty("--card-texture",t.cardTexture);const r=tt(t.cardTexture)?t.cardTexture:"none";n.style.setProperty("--card-texture-key",r),n.style.setProperty("--card-texture-color","#ffffff"),n.style.setProperty("--card-texture-opacity",String(t.textureOpacity??.15)),n.style.setProperty("--border-style",t.borderStyle)}function Ql(e){const t=document.documentElement;t.style.setProperty("--color-background",e.colors.background),t.style.setProperty("--color-paper",e.colors.paper),t.style.setProperty("--color-ink",e.colors.ink),t.style.setProperty("--color-accent",e.colors.accent),t.style.setProperty("--color-accent-hover",e.colors.accentHover),t.style.setProperty("--color-border",e.colors.border),t.style.setProperty("--color-shadow",e.colors.shadow),t.style.setProperty("--color-muted",e.colors.muted),t.style.setProperty("--color-glow",e.colors.glow||"transparent"),t.style.setProperty("--font-heading",e.fonts.heading),t.style.setProperty("--font-body",e.fonts.body),t.style.setProperty("--border-radius",e.borderRadius),t.style.setProperty("--border-width",e.borderWidth);const n=Ks(e.shadowStyle||"hard",e.colors.glow||"transparent");t.style.setProperty("--shadow-style",n);const r=e.cardTexture||"none";t.style.setProperty("--card-texture-key",r);const o=Xs(r,e.textureColor,e.textureOpacity??.15);t.style.setProperty("--card-texture",o),t.style.setProperty("--card-texture-color",e.textureColor||"#ffffff"),t.style.setProperty("--card-texture-opacity",String(e.textureOpacity??.15)),t.style.setProperty("--border-style",e.borderStyle||"solid")}const Ac=[{value:'"Arial", "Helvetica Neue", "Helvetica", sans-serif',label:"Arial"},{value:'"Arial Black", "Arial Bold", sans-serif',label:"Arial Black"},{value:'"Verdana", "Geneva", sans-serif',label:"Verdana"},{value:'"Trebuchet MS", "Lucida Sans Unicode", sans-serif',label:"Trebuchet MS"},{value:'"Tahoma", "Geneva", sans-serif',label:"Tahoma"},{value:'"Segoe UI", "Helvetica Neue", sans-serif',label:"Segoe UI"},{value:'"Calibri", "Candara", sans-serif',label:"Calibri"},{value:'"Candara", "Calibri", sans-serif',label:"Candara"},{value:'"Optima", "Segoe UI", sans-serif',label:"Optima"},{value:'"Lucida Sans", "Lucida Grande", sans-serif',label:"Lucida Sans"},{value:'"Times New Roman", "Times", serif',label:"Times New Roman"},{value:'"Georgia", "Palatino", serif',label:"Georgia"},{value:'"Palatino Linotype", "Book Antiqua", "Palatino", serif',label:"Palatino"},{value:'"Book Antiqua", "Palatino Linotype", serif',label:"Book Antiqua"},{value:'"Garamond", "Baskerville", serif',label:"Garamond"},{value:'"Baskerville", "Garamond", serif',label:"Baskerville"},{value:'"Cambria", "Georgia", serif',label:"Cambria"},{value:'"Didot", "Bodoni MT", serif',label:"Didot"},{value:'"Rockwell", "Courier Bold", serif',label:"Rockwell"},{value:'"Courier New", "Courier", monospace',label:"Courier New"},{value:'"Consolas", "Lucida Console", monospace',label:"Consolas"},{value:'"Lucida Console", "Monaco", monospace',label:"Lucida Console"},{value:'"Monaco", "Consolas", monospace',label:"Monaco"},{value:'"Andale Mono", "Consolas", monospace',label:"Andale Mono"},{value:'"Impact", "Haettenschweiler", sans-serif',label:"Impact"},{value:'"Copperplate", "Copperplate Gothic Light", fantasy',label:"Copperplate"},{value:'"Papyrus", fantasy',label:"Papyrus"},{value:'"Brush Script MT", cursive',label:"Brush Script"},{value:'"Comic Sans MS", "Segoe Print", cursive',label:"Comic Sans"},{value:'"Segoe Print", "Comic Sans MS", cursive',label:"Segoe Print"},{value:'"Lucida Handwriting", cursive',label:"Lucida Handwriting"}],hx=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_h="ucs:custom-themes";function fx(){try{const e=localStorage.getItem(_h);return e?JSON.parse(e):[]}catch{return[]}}function qa(e){localStorage.setItem(_h,JSON.stringify(e))}const Ln=Ys((e,t)=>({customThemes:fx(),addCustomTheme:n=>{const r=[...t().customThemes,n];qa(r),e({customThemes:r})},updateCustomTheme:(n,r)=>{const o=t().customThemes.map(l=>l.id===n?r:l);qa(o),e({customThemes:o})},deleteCustomTheme:n=>{const r=t().customThemes.filter(o=>o.id!==n);qa(r),e({customThemes:r})}}));function qt(e){return Ln.getState().customThemes.find(t=>t.id===e)}function mx(){return{name:"My Custom Theme",icon:"",description:"A personalized theme",colors:{background:"#e5e7eb",paper:"#ffffff",ink:"#000000",accent:"#3b82f6",accentHover:"#2563eb",border:"#374151",shadow:"#1f2937",muted:"#6b7280",glow:"transparent"},fonts:{heading:'"Arial", "Helvetica Neue", sans-serif',body:'"Arial", "Helvetica Neue", sans-serif'},borderRadius:"4px",borderWidth:"2px",shadowStyle:"hard",cardTexture:"none",textureColor:"#ffffff",textureOpacity:.15,borderStyle:"solid"}}const px="3f834d97-7148-4e93-b6c9-dde1ff490cc1",xx="dnd preset",gx="default",vx=[{id:"8453b811-d0cd-4f81-a8a7-aef11ca7aaae",name:"Main",widgets:[{id:"0ed12bd7-8b3b-4565-86fd-2c446c824cd2",type:"IMAGE",x:0,y:0,w:190,h:220,data:{label:"Name",value:0,items:[],text:""},groupId:"f2b6f235-4b41-40a8-9869-0047b90b3775",attachedTo:["5bd0607a-d32c-4094-a64a-2e0b11f5a7d4","ab749546-cd73-4c12-adaa-1ef22fa875e2","00dd44bd-d941-4edc-96c5-c47a0c320840"]},{id:"ab749546-cd73-4c12-adaa-1ef22fa875e2",type:"HEALTH_BAR",x:0,y:220,w:190,h:100,data:{label:"Health",value:0,items:[],text:"",currentValue:10},groupId:"f2b6f235-4b41-40a8-9869-0047b90b3775",attachedTo:["0ed12bd7-8b3b-4565-86fd-2c446c824cd2","ae8315af-9e02-4750-8160-99e2fe45d03b","00dd44bd-d941-4edc-96c5-c47a0c320840"]},{id:"2a3c42aa-a933-4699-980f-b4ef75d7aa45",type:"DICE_ROLLER",x:470,y:120,w:180,h:120,data:{label:"Damage",value:0,items:[],text:"",diceGroups:[{count:1,faces:6}]},groupId:"f2b6f235-4b41-40a8-9869-0047b90b3775",attachedTo:["ef17b625-4d96-4228-a61a-2cf2afad5b94","00dd44bd-d941-4edc-96c5-c47a0c320840","219a1327-916b-402d-91aa-13ab8217bdf2"]},{id:"999ddc53-5db8-4b1e-80ec-c0e0641a010c",type:"NUMBER",x:190,y:320,w:280,h:440,data:{label:"Skills",value:0,items:[],text:"",numberItems:[{name:"Acrobatics (DEX)",value:0},{name:"Animal Handling (WIS)",value:0},{name:"Arcana (INT)",value:0},{name:"Athletics (STR)",value:0},{name:"Deception (CHA)",value:0},{name:"History (INT)",value:0},{name:"Insight (WIS)",value:0},{name:"Intimidation (CHA)",value:0},{name:"Investigation (INT)",value:0},{name:"Medicine (WIS)",value:0},{name:"Nature (INT)",value:0},{name:"Perception (WIS)",value:0},{name:"Performance (CHA)",value:0},{name:"Persuasion (CHA)",value:0},{name:"Religion (INT)",value:0},{name:"Sleight of Hand (DEX)",value:0},{name:"Stealth (DEX)",value:0},{name:"Survival (WIS)",value:0}]},groupId:"f2b6f235-4b41-40a8-9869-0047b90b3775",attachedTo:["957f216a-eb02-4bdf-af82-3b5f7df4f9d0","6e09d399-6a28-4060-bc63-c615209be46f","00dd44bd-d941-4edc-96c5-c47a0c320840","ae8315af-9e02-4750-8160-99e2fe45d03b","219a1327-916b-402d-91aa-13ab8217bdf2","4eded84b-0623-48e2-bd9e-11d6d0570736","bfd6064b-0512-4875-8a26-6a1e8cb3829a"]},{id:"4eded84b-0623-48e2-bd9e-11d6d0570736",type:"NUMBER",x:0,y:400,w:190,h:110,data:{label:"",value:0,items:[],text:"",numberItems:[{name:"Level",value:1},{name:"AC",value:10},{name:"Init",value:0},{name:"Speed",value:30}]},groupId:"f2b6f235-4b41-40a8-9869-0047b90b3775",attachedTo:["999ddc53-5db8-4b1e-80ec-c0e0641a010c","ae8315af-9e02-4750-8160-99e2fe45d03b","bfd6064b-0512-4875-8a26-6a1e8cb3829a"]},{id:"af24b2e5-bc7d-46cf-9781-7c307b9e9387",type:"TABLE",x:670,y:550,w:650,h:210,data:{label:"Backback",value:0,items:[],text:"",rows:[{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]}]},groupId:"55349067-3fce-40ac-a130-31fffe89be16",attachedTo:["01ca39ba-b98a-4f94-9d20-274ecd291adf","774878f7-e786-4a79-a46f-7ba3b2c37484"]},{id:"957f216a-eb02-4bdf-af82-3b5f7df4f9d0",type:"TIME_TRACKER",x:470,y:570,w:180,h:190,data:{label:"Effects",value:0,items:[],text:"",timedEffects:[]},groupId:"f2b6f235-4b41-40a8-9869-0047b90b3775",attachedTo:["6e09d399-6a28-4060-bc63-c615209be46f","999ddc53-5db8-4b1e-80ec-c0e0641a010c"]},{id:"6e09d399-6a28-4060-bc63-c615209be46f",type:"TOGGLE_GROUP",x:470,y:350,w:180,h:220,data:{label:"Conditions",value:0,items:[],text:"",toggleItems:[{name:"Blinded",active:!1},{name:"Charmed",active:!1},{name:"Deafened",active:!1},{name:"Frightened",active:!1},{name:"Grappled",active:!1},{name:"Incapacitated",active:!1},{name:"Invisible",active:!1},{name:"Paralyzed",active:!1},{name:"Petrified",active:!1},{name:"Poisoned",active:!1},{name:"Prone",active:!1},{name:"Restrained",active:!1},{name:"Stunned",active:!1},{name:"Unconscious",active:!1}]},groupId:"f2b6f235-4b41-40a8-9869-0047b90b3775",attachedTo:["219a1327-916b-402d-91aa-13ab8217bdf2","957f216a-eb02-4bdf-af82-3b5f7df4f9d0","999ddc53-5db8-4b1e-80ec-c0e0641a010c"]},{id:"00dd44bd-d941-4edc-96c5-c47a0c320840",type:"NUMBER",x:190,y:130,w:280,h:190,data:{label:"Attributes",value:0,items:[],text:"",numberItems:[{name:"Strength",value:10},{name:"Dexterity",value:10},{name:"Constitution",value:10},{name:"Intelligence",value:10},{name:"Wisdom",value:10},{name:"Charisma",value:10}]},groupId:"f2b6f235-4b41-40a8-9869-0047b90b3775",attachedTo:["0ed12bd7-8b3b-4565-86fd-2c446c824cd2","ab749546-cd73-4c12-adaa-1ef22fa875e2","2a3c42aa-a933-4699-980f-b4ef75d7aa45","5bd0607a-d32c-4094-a64a-2e0b11f5a7d4","219a1327-916b-402d-91aa-13ab8217bdf2","999ddc53-5db8-4b1e-80ec-c0e0641a010c"]},{id:"bfd6064b-0512-4875-8a26-6a1e8cb3829a",type:"LIST",x:0,y:510,w:190,h:250,data:{label:"Features & Traits",value:0,items:["","","","","","","",""],text:"",itemCount:7},groupId:"f2b6f235-4b41-40a8-9869-0047b90b3775",attachedTo:["999ddc53-5db8-4b1e-80ec-c0e0641a010c","4eded84b-0623-48e2-bd9e-11d6d0570736"]},{id:"ef17b625-4d96-4228-a61a-2cf2afad5b94",type:"DICE_ROLLER",x:470,y:0,w:180,h:120,data:{label:"Attack",value:0,items:[],text:""},groupId:"f2b6f235-4b41-40a8-9869-0047b90b3775",attachedTo:["5bd0607a-d32c-4094-a64a-2e0b11f5a7d4","2a3c42aa-a933-4699-980f-b4ef75d7aa45"]},{id:"01ca39ba-b98a-4f94-9d20-274ecd291adf",type:"NUMBER",x:1180,y:380,w:140,h:170,data:{label:"Wealth",value:0,items:[],text:"",numberItems:[{name:"PP",value:0},{name:"GP",value:0},{name:"EP",value:0},{name:"SP",value:0},{name:"CP",value:0}]},groupId:"55349067-3fce-40ac-a130-31fffe89be16",attachedTo:["774878f7-e786-4a79-a46f-7ba3b2c37484","af24b2e5-bc7d-46cf-9781-7c307b9e9387"]},{id:"db426c1f-a727-432c-a50d-f28f4b648c38",type:"SPELL_SLOT",x:670,y:130,w:170,h:250,data:{label:"Spell Slots",value:0,items:[],text:"",spellLevels:[{level:1,max:4,used:0},{level:2,max:2,used:0}]},groupId:"55349067-3fce-40ac-a130-31fffe89be16",attachedTo:["a9a12c4e-5db4-4c7d-ab1a-7257d0416815","0af67232-d082-4841-8e34-ce26517ffed3","774878f7-e786-4a79-a46f-7ba3b2c37484"]},{id:"5bd0607a-d32c-4094-a64a-2e0b11f5a7d4",type:"FORM",x:190,y:0,w:280,h:130,data:{label:"",value:0,items:[],text:"",formItems:[{name:"Class",value:""},{name:"Background",value:""},{name:"Race",value:""},{name:"Alignment",value:""}]},groupId:"f2b6f235-4b41-40a8-9869-0047b90b3775",attachedTo:["ef17b625-4d96-4228-a61a-2cf2afad5b94","00dd44bd-d941-4edc-96c5-c47a0c320840"]},{id:"774878f7-e786-4a79-a46f-7ba3b2c37484",type:"TEXT",x:670,y:380,w:510,h:170,data:{label:"Notes",value:0,items:[],text:""},groupId:"55349067-3fce-40ac-a130-31fffe89be16",attachedTo:["01ca39ba-b98a-4f94-9d20-274ecd291adf","af24b2e5-bc7d-46cf-9781-7c307b9e9387","0af67232-d082-4841-8e34-ce26517ffed3","db426c1f-a727-432c-a50d-f28f4b648c38"]},{id:"0af67232-d082-4841-8e34-ce26517ffed3",type:"TABLE",x:840,y:130,w:480,h:250,data:{label:"Spells",value:0,items:[],text:"",columns:["Name","Level","Notes"],rows:[{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]},{cells:["","",""]}]},groupId:"55349067-3fce-40ac-a130-31fffe89be16",attachedTo:["db426c1f-a727-432c-a50d-f28f4b648c38","a9a12c4e-5db4-4c7d-ab1a-7257d0416815"]},{id:"a9a12c4e-5db4-4c7d-ab1a-7257d0416815",type:"FORM",x:670,y:0,w:650,h:130,data:{label:"",value:0,items:[],text:"",formItems:[{name:"Spellcasting class",value:""},{name:"Spellcasting ability",value:""},{name:"Spell Save DC",value:""},{name:"Spell Attack Bonus",value:""}]},groupId:"55349067-3fce-40ac-a130-31fffe89be16",attachedTo:["db426c1f-a727-432c-a50d-f28f4b648c38","0af67232-d082-4841-8e34-ce26517ffed3"]},{id:"ae8315af-9e02-4750-8160-99e2fe45d03b",type:"PROGRESS_BAR",x:0,y:320,w:190,h:80,data:{label:"XP",value:0,items:[],text:"",maxValue:300,showPercentage:!1,currentValue:0},groupId:"f2b6f235-4b41-40a8-9869-0047b90b3775",attachedTo:["999ddc53-5db8-4b1e-80ec-c0e0641a010c","4eded84b-0623-48e2-bd9e-11d6d0570736"]},{id:"219a1327-916b-402d-91aa-13ab8217bdf2",type:"POOL",x:470,y:240,w:180,h:110,data:{label:"",value:0,items:[],text:"",poolStyle:"skulls",maxPool:3,currentPool:2,showPoolCount:!1,poolResources:[{name:"Death Save Success",max:3,current:0,style:"checkmarks"},{name:"Death Save Failure",max:3,current:0,style:"skulls"}]},groupId:"f2b6f235-4b41-40a8-9869-0047b90b3775",attachedTo:["6e09d399-6a28-4060-bc63-c615209be46f","2a3c42aa-a933-4699-980f-b4ef75d7aa45","999ddc53-5db8-4b1e-80ec-c0e0641a010c"]}]}],bx="8453b811-d0cd-4f81-a8a7-aef11ca7aaae",yx={id:px,name:xx,theme:gx,sheets:vx,activeSheetId:bx},wx="2e478f30-ed09-423e-9e67-5f76b4935c22",kx="dcc lvl0 preset",Sx=[{id:"5e628031-65ea-4ed7-958d-eed3715907d1",name:"Main",widgets:[{id:"3069cc90-b5cd-4b24-8674-7ed8ed6a5ddc",type:"FORM",x:960,y:360,w:360,h:100,data:{label:"",value:0,items:[],text:"",formItems:[{name:"Name",value:""},{name:"Occupation",value:""},{name:"Alignment",value:""}]},groupId:"e9587685-3094-4efa-b7db-06139b04b684",attachedTo:["d1cd80c5-c859-4911-a5dd-1842cbb3f3fc","0838b4e2-9abc-4e79-97d2-75ab9ca24f30","21f4c3a8-4e21-46c8-a57c-5b34985bf1f0"]},{id:"88a7db76-54ba-4f26-b480-21261f450e44",type:"DICE_TRAY",x:1550,y:360,w:270,h:220,data:{label:"",value:0,items:[],text:"",availableDice:[3,4,5,6,7,8,10,12,14,16,20,24,30,100]}},{id:"d1cd80c5-c859-4911-a5dd-1842cbb3f3fc",type:"NUMBER",x:960,y:460,w:160,h:150,data:{label:"",value:0,items:[],text:"",numberItems:[{name:"STR",value:0},{name:"AGI",value:0},{name:"STA",value:0},{name:"PER",value:0},{name:"INT",value:0},{name:"LCK",value:0}]},groupId:"e9587685-3094-4efa-b7db-06139b04b684",attachedTo:["3069cc90-b5cd-4b24-8674-7ed8ed6a5ddc","279766de-d7e7-47b5-8cf2-905b4c266295","49a71ab5-cc63-490b-93ba-325cbccb0a8a","21f4c3a8-4e21-46c8-a57c-5b34985bf1f0"]},{id:"21f4c3a8-4e21-46c8-a57c-5b34985bf1f0",type:"NUMBER",x:1120,y:460,w:200,h:90,data:{label:"",value:0,items:[],text:"",numberItems:[{name:"Reflex",value:0},{name:"Fortitude",value:0},{name:"Will",value:0}]},groupId:"e9587685-3094-4efa-b7db-06139b04b684",attachedTo:["3069cc90-b5cd-4b24-8674-7ed8ed6a5ddc","d1cd80c5-c859-4911-a5dd-1842cbb3f3fc","279766de-d7e7-47b5-8cf2-905b4c266295","52dcd513-d13a-4792-a9a2-f230389caf39"]},{id:"0838b4e2-9abc-4e79-97d2-75ab9ca24f30",type:"HEALTH_BAR",x:1320,y:360,w:200,h:100,data:{label:"Health",value:0,items:[],text:"",maxValue:5,currentValue:5},groupId:"e9587685-3094-4efa-b7db-06139b04b684",attachedTo:["3069cc90-b5cd-4b24-8674-7ed8ed6a5ddc","52dcd513-d13a-4792-a9a2-f230389caf39"]},{id:"279766de-d7e7-47b5-8cf2-905b4c266295",type:"TEXT",x:1120,y:550,w:400,h:140,data:{label:"Notes",value:0,items:[],text:""},groupId:"e9587685-3094-4efa-b7db-06139b04b684",attachedTo:["d1cd80c5-c859-4911-a5dd-1842cbb3f3fc","49a71ab5-cc63-490b-93ba-325cbccb0a8a","52dcd513-d13a-4792-a9a2-f230389caf39","21f4c3a8-4e21-46c8-a57c-5b34985bf1f0"]},{id:"49a71ab5-cc63-490b-93ba-325cbccb0a8a",type:"PROGRESS_BAR",x:960,y:610,w:160,h:80,data:{label:"XP",value:0,items:[],text:"",maxValue:10,showPercentage:!1},groupId:"e9587685-3094-4efa-b7db-06139b04b684",attachedTo:["d1cd80c5-c859-4911-a5dd-1842cbb3f3fc","279766de-d7e7-47b5-8cf2-905b4c266295"]},{id:"52dcd513-d13a-4792-a9a2-f230389caf39",type:"NUMBER_DISPLAY",x:1320,y:460,w:200,h:90,data:{label:"",value:0,items:[],text:"",displayNumbers:[{label:"AC",value:10},{label:"Init",value:0},{label:"Speed",value:0}]},groupId:"e9587685-3094-4efa-b7db-06139b04b684",attachedTo:["0838b4e2-9abc-4e79-97d2-75ab9ca24f30","279766de-d7e7-47b5-8cf2-905b4c266295","21f4c3a8-4e21-46c8-a57c-5b34985bf1f0"]}]},{id:"c43d96bc-78f2-4a13-85c7-40c9e63d13c0",name:"Tables",widgets:[{id:"6e943b4e-f7ec-4f15-ac27-64861120dc55",type:"TABLE",x:400,y:300,w:510,h:400,data:{label:"Ability Score Modifiers",value:0,items:[],text:"",columns:["Ability Score","Modifier","Wizard Spells Known","Max Spell Level**"],rows:[{cells:["3","-3","No spellcasting possible","No spellcasting possible"]},{cells:["4","-2","-2 spells*","1"]},{cells:["5","-2","-2 spells*","1"]},{cells:["6","-1","-1 spell*","1"]},{cells:["7","-1","-1 spell*","1"]},{cells:["8","-1","No adjustment","2"]},{cells:["9","None","No adjustment","2"]},{cells:["10","None","No adjustment","3"]},{cells:["11","None","No adjustment","3"]},{cells:["12","None","No adjustment","4"]},{cells:["13","+1","No adjustment","4"]},{cells:["14","+1","+1 spell","4"]},{cells:["15","+1","	 +1 spell","5"]},{cells:["16","+2","	 +1 spell","5"]},{cells:["17","+2","	 +2 spells","5"]},{cells:["18","+3","+2 spells","5"]}]},groupId:"63b0d9e8-fe5e-4d2e-98a9-04cdc74d0792",attachedTo:["5f23c535-f23c-4377-bf5a-e73ce686a93d"]},{id:"5f23c535-f23c-4377-bf5a-e73ce686a93d",type:"TEXT",x:400,y:700,w:510,h:100,data:{label:"",value:0,items:[],text:`* Minimum of 1 spell.
** Based on Intelligence for wizards and Personality for clerics.`},groupId:"63b0d9e8-fe5e-4d2e-98a9-04cdc74d0792",attachedTo:["6e943b4e-f7ec-4f15-ac27-64861120dc55"]},{id:"5a2d16eb-3702-4e7f-b3b5-75efdb1f6a56",type:"TABLE",x:930,y:300,w:180,h:300,data:{label:"XP level Thresholds",value:0,items:[],text:"",columns:["Level","XP Required"],rows:[{cells:["0","0"]},{cells:["1","10"]},{cells:["2","50"]},{cells:["3","110"]},{cells:["4","190"]},{cells:["5","290"]},{cells:["6","410"]},{cells:["7","550"]},{cells:["8","710"]},{cells:["9","890"]},{cells:["10","1090"]}]}}]}],jx="5e628031-65ea-4ed7-958d-eed3715907d1",Nx="default",Cx={id:wx,name:kx,sheets:Sx,activeSheetId:jx,theme:Nx},Tx="adf1b615-a045-4a25-8c37-0ce4f0fe984d",Ex="Mothership preset",Ix=[{id:"049aefc1-3522-4907-b34f-1ec1074d7084",name:"Main",widgets:[{id:"886cc172-510c-4785-8886-4efb4750f2bf",type:"IMAGE",x:780,y:200,w:210,h:250,data:{label:"Name",value:0,items:[],text:""},groupId:"5eb4b535-98e0-4a99-900b-dfac8f54c259",attachedTo:["6997f591-11b1-4d95-9e0d-8c3ea4afc67d","9a23a152-a4d1-4056-a5e4-c8dd01e1bd6f","ef500703-4bd6-45c5-9dac-0e8667ffb231","979186c7-3065-4691-97c9-d4fb50057156"]},{id:"9a23a152-a4d1-4056-a5e4-c8dd01e1bd6f",type:"NUMBER_DISPLAY",x:990,y:280,w:300,h:110,data:{label:"",value:0,items:[],text:"",displayNumbers:[{label:"Strength",value:0},{label:"Speed",value:0},{label:"Intellect",value:0},{label:"Combat",value:0}],displayLayout:"horizontal"},groupId:"5eb4b535-98e0-4a99-900b-dfac8f54c259",attachedTo:["979186c7-3065-4691-97c9-d4fb50057156","886cc172-510c-4785-8886-4efb4750f2bf","ef500703-4bd6-45c5-9dac-0e8667ffb231"]},{id:"ef500703-4bd6-45c5-9dac-0e8667ffb231",type:"NUMBER_DISPLAY",x:990,y:390,w:300,h:110,data:{label:"",value:0,items:[],text:"",displayNumbers:[{label:"Sanity",value:0},{label:"Fear",value:0},{label:"Body",value:0}]},groupId:"5eb4b535-98e0-4a99-900b-dfac8f54c259",attachedTo:["886cc172-510c-4785-8886-4efb4750f2bf","9a23a152-a4d1-4056-a5e4-c8dd01e1bd6f","6997f591-11b1-4d95-9e0d-8c3ea4afc67d","1d87cb28-79e5-4f20-b276-7a1aa6f4fe89"]},{id:"979186c7-3065-4691-97c9-d4fb50057156",type:"FORM",x:990,y:200,w:300,h:80,data:{label:"",value:0,items:[],text:"",formItems:[{name:"Class",value:""},{name:"High Score",value:""}]},groupId:"5eb4b535-98e0-4a99-900b-dfac8f54c259",attachedTo:["886cc172-510c-4785-8886-4efb4750f2bf"]},{id:"6997f591-11b1-4d95-9e0d-8c3ea4afc67d",type:"HEALTH_BAR",x:780,y:450,w:210,h:100,data:{label:"Health",value:0,items:[],text:""},groupId:"5eb4b535-98e0-4a99-900b-dfac8f54c259",attachedTo:["886cc172-510c-4785-8886-4efb4750f2bf","3bd49c92-b5d2-4f41-8351-06a21d6dc08a","ef500703-4bd6-45c5-9dac-0e8667ffb231","1d87cb28-79e5-4f20-b276-7a1aa6f4fe89"]},{id:"3bd49c92-b5d2-4f41-8351-06a21d6dc08a",type:"NUMBER",x:780,y:550,w:210,h:80,data:{label:"",value:0,items:[],text:"",numberItems:[{name:"Wounds",value:0},{name:"Stress",value:0}]},groupId:"5eb4b535-98e0-4a99-900b-dfac8f54c259",attachedTo:["6997f591-11b1-4d95-9e0d-8c3ea4afc67d","1d87cb28-79e5-4f20-b276-7a1aa6f4fe89"]},{id:"4a910aa1-2081-43d9-8597-e55af66f362f",type:"DICE_ROLLER",x:1310,y:200,w:200,h:120,data:{label:"New Widget",value:0,items:[],text:"",diceGroups:[{count:1,faces:100}]}},{id:"1d87cb28-79e5-4f20-b276-7a1aa6f4fe89",type:"TEXT",x:990,y:500,w:300,h:130,data:{label:"",value:0,items:[],text:""},groupId:"5eb4b535-98e0-4a99-900b-dfac8f54c259",attachedTo:["ef500703-4bd6-45c5-9dac-0e8667ffb231","6997f591-11b1-4d95-9e0d-8c3ea4afc67d","3bd49c92-b5d2-4f41-8351-06a21d6dc08a"]}]}],Px="049aefc1-3522-4907-b34f-1ec1074d7084",Mx="default",Rx={id:Tx,name:Ex,sheets:Ix,activeSheetId:Px,theme:Mx},Dx="d1314816-deac-414a-aac4-ee8e34f3a43f",_x="Forbidden Lands Preset",Lx=[{id:"24ccc8eb-ccbb-4017-bf4c-c41e1e1c3942",name:"Main",widgets:[{id:"2a4977ab-5bf5-4249-bcbe-f85c98d44a0e",type:"IMAGE",x:0,y:0,w:180,h:220,data:{label:"New Widget",value:0,items:[],text:""},groupId:"24a99c59-bcf1-43c4-81a3-27d1ba361b2b",attachedTo:["77dae175-0c90-4ae9-9bd2-09900b47b452"]},{id:"77dae175-0c90-4ae9-9bd2-09900b47b452",type:"POOL",x:0,y:220,w:180,h:240,data:{label:"Attributes",value:0,items:[],text:"",poolResources:[{name:"Strength",max:4,current:4,style:"dots"},{name:"Agility",max:4,current:4,style:"dots"},{name:"Wits",max:4,current:4,style:"dots"},{name:"Empathy",max:4,current:4,style:"dots"}],showPoolCount:!1},groupId:"24a99c59-bcf1-43c4-81a3-27d1ba361b2b",attachedTo:["2a4977ab-5bf5-4249-bcbe-f85c98d44a0e","b6005e83-2df9-4d9e-899a-c287d6174b61"]},{id:"b6005e83-2df9-4d9e-899a-c287d6174b61",type:"TOGGLE_GROUP",x:0,y:460,w:180,h:150,data:{label:"Conditions",value:0,items:[],text:"",toggleItems:[{name:"Sleepy",active:!1},{name:"Thirsty",active:!1},{name:"Hungry",active:!1},{name:"Cold",active:!1}]},groupId:"24a99c59-bcf1-43c4-81a3-27d1ba361b2b",attachedTo:["77dae175-0c90-4ae9-9bd2-09900b47b452"]},{id:"ebe42a9f-7198-406a-af8c-0ae26471caaf",type:"TIME_TRACKER",x:470,y:380,w:260,h:230,data:{label:"Critical Injuries",value:0,items:[],text:""},groupId:"79947237-61a0-4981-a8b8-da5a29e5a82c",attachedTo:["8944f7d8-d339-4345-a2ee-f0a54745dcd9","4735c60d-3ded-4680-a9dc-58a4d528c26c","8dc758e6-5b01-4c7d-9c6c-09680bcfd46e"]},{id:"89f10e14-d560-43dd-821f-cea26f89c170",type:"DICE_TRAY",x:760,y:0,w:240,h:200,data:{label:"",value:0,items:[],text:"",availableDice:[6,8,10,12]}},{id:"e8466ec2-dba6-467c-bccd-dd6606a39408",type:"FORM",x:180,y:0,w:550,h:180,data:{label:"",value:0,items:[],text:"",formItems:[{name:"Kin",value:""},{name:"Profession",value:""},{name:"Age",value:""},{name:"Reputation",value:""},{name:"Pride",value:""},{name:"Dark Secret",value:""}]},groupId:"79947237-61a0-4981-a8b8-da5a29e5a82c",attachedTo:["8944f7d8-d339-4345-a2ee-f0a54745dcd9","4735c60d-3ded-4680-a9dc-58a4d528c26c"]},{id:"8944f7d8-d339-4345-a2ee-f0a54745dcd9",type:"NUMBER",x:180,y:180,w:290,h:430,data:{label:"Skills",value:0,items:[],text:"",numberItems:[{name:"Might (str)",value:0},{name:"Endurence (str)",value:0},{name:"Melee (str)",value:0},{name:"Crafting (str)",value:0},{name:"Stealth (agi)",value:0},{name:"Sleight of Hand (agi)",value:0},{name:"Move (agi)",value:0},{name:"Marksmanship (agi)",value:0},{name:"Scouting (wits)",value:0},{name:"Lore (wits)",value:0},{name:"Survival (wits)",value:0},{name:"Insight (wits)",value:0},{name:"Manipulation (emp)",value:0},{name:"PErformance (emp)",value:0},{name:"Healing (emp)",value:0},{name:"Healing (emp)",value:0},{name:"Animal Handling (emp)",value:0}]},groupId:"79947237-61a0-4981-a8b8-da5a29e5a82c",attachedTo:["e8466ec2-dba6-467c-bccd-dd6606a39408","4735c60d-3ded-4680-a9dc-58a4d528c26c","ebe42a9f-7198-406a-af8c-0ae26471caaf","8dc758e6-5b01-4c7d-9c6c-09680bcfd46e"]},{id:"4735c60d-3ded-4680-a9dc-58a4d528c26c",type:"LIST",x:470,y:180,w:260,h:200,data:{label:"Talents",value:0,items:[],text:"",itemCount:5},groupId:"79947237-61a0-4981-a8b8-da5a29e5a82c",attachedTo:["e8466ec2-dba6-467c-bccd-dd6606a39408","8944f7d8-d339-4345-a2ee-f0a54745dcd9","ebe42a9f-7198-406a-af8c-0ae26471caaf"]},{id:"8dc758e6-5b01-4c7d-9c6c-09680bcfd46e",type:"LIST",x:0,y:610,w:730,h:230,data:{label:"Equipment",value:0,items:[],text:"",itemCount:6},groupId:"79947237-61a0-4981-a8b8-da5a29e5a82c",attachedTo:["ebe42a9f-7198-406a-af8c-0ae26471caaf","8944f7d8-d339-4345-a2ee-f0a54745dcd9"]}]}],Ox="24ccc8eb-ccbb-4017-bf4c-c41e1e1c3942",$x={id:Dx,name:_x,sheets:Lx,activeSheetId:Ox},Lh={"D&D 5e":yx,"Dungeon Crawl Classics - Level 0":Cx,Mothership:Rx,"Forbidden Lands":$x};function Ax(){return Object.keys(Lh)}function zx(e){return Lh[e]}function Wx(e){const t=e?qt(e):void 0;if(t){const r=Ks(t.shadowStyle||"hard",t.colors.glow||"transparent"),o=t.cardTexture||"none",l=tt(o)?"none":Xs(o,t.textureColor,t.textureOpacity);return{"--card-background":t.colors.paper,"--card-ink":t.colors.ink,"--card-border":t.colors.border,"--card-shadow":t.colors.shadow,"--card-muted":t.colors.muted,"--card-accent":t.colors.accent,"--card-glow":t.colors.glow||"transparent","--card-radius":t.borderRadius,"--card-border-width":t.borderWidth,"--card-border-style":t.borderStyle||"solid","--card-shadow-style":r,"--card-texture":l,"--card-texture-key":o,"--card-texture-color":t.textureColor||"#ffffff","--card-texture-opacity":String(t.textureOpacity??.15),fontFamily:t.fonts.body}}const n=Jt.find(r=>r.id===(e||"default"))||Jt[0];return{"--card-background":n.colors.paper,"--card-ink":n.colors.ink,"--card-border":n.colors.border,"--card-shadow":n.colors.shadow,"--card-muted":n.colors.muted,"--card-accent":n.colors.accent,"--card-glow":n.colors.glow,"--card-radius":n.borderRadius,"--card-border-width":n.borderWidth,"--card-border-style":n.borderStyle,"--card-shadow-style":n.shadowStyle,"--card-texture":n.cardTexture,"--card-texture-key":"none","--card-texture-color":"#ffffff","--card-texture-opacity":"0.15",fontFamily:n.fonts.body}}function Bx(){var $;const e=Ln(M=>M.customThemes),t=W(M=>M.characters),n=W(M=>M.createCharacter),r=W(M=>M.createCharacterFromPreset),o=W(M=>M.updateCharacterTheme),l=W(M=>M.importCharacter),s=W(M=>M.selectCharacter),i=W(M=>M.deleteCharacter),[c,u]=E.useState(null),[f,x]=E.useState(!1),[p,y]=E.useState(!1),[b,k]=E.useState(""),[N,h]=E.useState(""),[d,m]=E.useState("default"),w=E.useRef(null),g=E.useRef(null),v=Ax(),S=()=>{const M=b.trim()||"New Character";if(N&&N!==""){const B=zx(N);if(B){r(B,M);const F=W.getState(),U=F.characters[F.characters.length-1];U&&d!=="default"&&o(U.id,d)}}else{n(M);const B=W.getState(),F=B.characters[B.characters.length-1];F&&d!=="default"&&o(F.id,d)}k(""),h(""),m("default"),x(!1)},C=M=>{const B=JSON.stringify(M,null,2),F=new Blob([B],{type:"application/json"}),U=URL.createObjectURL(F),H=document.createElement("a");H.href=U,H.download=`${M.name.replace(/[^a-z0-9]/gi,"_")}.json`,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(U)},j=M=>{var U;const B=(U=M.target.files)==null?void 0:U[0];if(!B)return;const F=new FileReader;F.onload=H=>{var I;try{const P=JSON.parse((I=H.target)==null?void 0:I.result);if(!P.name||!P.sheets||!Array.isArray(P.sheets)){alert("Invalid character file format");return}l(P)}catch(P){alert("Failed to parse character file"),console.error(P)}},F.readAsText(B),w.current&&(w.current.value="")},T=()=>{const M={version:1,timestamp:new Date().toISOString(),characters:t,customThemes:e},B=JSON.stringify(M,null,2),F=new Blob([B],{type:"application/json"}),U=URL.createObjectURL(F),H=document.createElement("a");H.href=U,H.download=`ucs_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(U)},R=M=>{var U;const B=(U=M.target.files)==null?void 0:U[0];if(!B)return;const F=new FileReader;F.onload=H=>{var I;try{const P=JSON.parse((I=H.target)==null?void 0:I.result);if(!P.characters||!Array.isArray(P.characters)){alert("Invalid backup file format");return}if(!window.confirm(`This will replace all your current data with the backup from ${P.timestamp?new Date(P.timestamp).toLocaleString():"unknown date"}.

Backup contains ${P.characters.length} character(s).

Are you sure you want to continue?`))return;localStorage.setItem("ucs:store",JSON.stringify({characters:P.characters,activeCharacterId:null})),P.customThemes&&localStorage.setItem("ucs:customThemes",JSON.stringify(P.customThemes)),window.location.reload()}catch(P){alert("Failed to parse backup file"),console.error(P)}},F.readAsText(B),g.current&&(g.current.value="")};return a.jsxs("div",{className:"max-w-4xl mx-auto p-4 h-full overflow-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4 border-b-[length:var(--border-width)] border-theme-border pb-2",children:[a.jsx("h1",{className:"text-2xl font-bold uppercase tracking-wider text-theme-ink font-heading",children:"Character Select"}),a.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-3 py-2 text-sm font-body text-theme-ink border-[length:var(--border-width)] border-theme-border bg-theme-paper hover:bg-theme-accent hover:text-theme-paper rounded-theme transition-colors shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none",title:"Backup & Restore",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),a.jsx("span",{children:"Backup"})]})]}),a.jsxs("div",{className:"mb-6 flex gap-2",children:[a.jsx("button",{onClick:()=>x(!0),className:"flex-1 bg-theme-accent text-theme-paper px-6 py-4 text-lg font-bold hover:bg-theme-accent-hover transition-colors shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme font-heading",children:"+ CREATE NEW CHARACTER"}),a.jsxs("label",{className:"bg-theme-paper text-theme-ink px-4 py-4 font-bold hover:bg-theme-accent hover:text-theme-paper transition-colors shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none rounded-theme font-heading cursor-pointer border-[length:var(--border-width)] border-theme-border text-center flex items-center justify-center",children:["IMPORT",a.jsx("input",{ref:w,type:"file",accept:".json",onChange:j,className:"hidden"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 pb-4",children:[t.map(M=>{const B=Wx(M.theme),F=M.theme?qt(M.theme):void 0,U=(F==null?void 0:F.cardTexture)||"none",H=tt(U);return a.jsxs("div",{style:B,className:"p-4 active:translate-x-[2px] active:translate-y-[2px] transition-transform cursor-pointer relative group",onClick:()=>s(M.id),children:[a.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",style:{backgroundColor:"var(--card-background)",backgroundImage:H?"none":"var(--card-texture)",borderRadius:"var(--card-radius)",border:"var(--card-border-width) var(--card-border-style) var(--card-border)",boxShadow:"var(--card-shadow-style)"},children:H&&a.jsx("div",{style:{position:"absolute",inset:0,backgroundColor:"var(--card-background)"},children:a.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:`url(${Ct[U]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:"var(--card-texture-opacity)",mixBlendMode:"overlay"}})})}),a.jsxs("div",{className:"relative",children:[a.jsx("h2",{className:"text-xl font-bold mb-2 pr-12",style:{color:"var(--card-ink)"},children:M.name}),a.jsxs("p",{className:"text-sm mb-2",style:{color:"var(--card-muted)"},children:[M.sheets.reduce((I,P)=>I+P.widgets.length,0)," Widgets  ",M.sheets.length," Sheet",M.sheets.length!==1?"s":""]}),a.jsx("button",{onClick:I=>{I.stopPropagation(),C(M)},className:"absolute top-0 right-0 px-2 py-1 font-bold flex items-center justify-center z-10 text-sm rounded transition-colors",style:{color:"var(--card-accent)",border:"1px solid var(--card-border)",backgroundColor:"var(--card-background)"},onMouseEnter:I=>{I.currentTarget.style.backgroundColor="var(--card-accent)",I.currentTarget.style.color="var(--card-background)"},onMouseLeave:I=>{I.currentTarget.style.backgroundColor="var(--card-background)",I.currentTarget.style.color="var(--card-accent)"},title:"Export character",children:"Export"}),a.jsx("button",{onClick:I=>{I.stopPropagation(),u(M.id)},className:"absolute bottom-0 right-0 px-2 py-1 font-bold flex items-center justify-center z-10 text-sm rounded transition-colors",style:{color:"var(--card-accent)",border:"1px solid var(--card-border)",backgroundColor:"var(--card-background)"},onMouseEnter:I=>{I.currentTarget.style.backgroundColor="var(--card-accent)",I.currentTarget.style.color="var(--card-background)"},onMouseLeave:I=>{I.currentTarget.style.backgroundColor="var(--card-background)",I.currentTarget.style.color="var(--card-accent)"},title:"Delete character",children:"Delete"})]})]},M.id)}),t.length===0&&a.jsx("div",{className:"col-span-full text-center py-8 text-theme-muted border-[length:var(--border-width)] border-dashed border-theme-border/50 text-sm rounded-theme font-body",children:"No characters found. Create one to begin."})]}),c&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>u(null)}),a.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme p-4 z-50 min-w-[250px]",children:[a.jsx("h3",{className:"font-heading text-theme-ink font-bold mb-2",children:"Delete Character?"}),a.jsxs("p",{className:"text-sm text-theme-muted font-body mb-4",children:['Are you sure you want to delete "',($=t.find(M=>M.id===c))==null?void 0:$.name,'"? This will delete all sheets and widgets.']}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx("button",{onClick:()=>u(null),className:"px-3 py-1.5 text-sm font-body text-theme-ink hover:bg-theme-accent/20 rounded-theme transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>{i(c),u(null)},className:"px-3 py-1.5 text-sm font-body bg-red-500 text-white hover:bg-red-600 rounded-theme transition-colors",children:"Delete"})]})]})]}),f&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>x(!1)}),a.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme p-6 z-50 w-[90vw] max-w-[400px]",children:[a.jsx("h3",{className:"font-heading text-theme-ink font-bold text-xl mb-4",children:"Create New Character"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-body text-theme-muted mb-1",children:"Character Name"}),a.jsx("input",{type:"text",value:b,onChange:M=>k(M.target.value),placeholder:"Enter character name...",className:"w-full p-3 text-base border-[length:var(--border-width)] border-theme-border shadow-theme focus:outline-none focus:translate-x-[1px] focus:translate-y-[1px] focus:shadow-none transition-all bg-theme-paper text-theme-ink rounded-theme font-body",autoFocus:!0})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-body text-theme-muted mb-1",children:"Preset"}),a.jsxs("select",{value:N,onChange:M=>h(M.target.value),className:"w-full p-3 text-base border-[length:var(--border-width)] border-theme-border shadow-theme focus:outline-none transition-all bg-theme-paper text-theme-ink rounded-theme font-body cursor-pointer",children:[a.jsx("option",{value:"",children:"No Preset"}),v.map(M=>a.jsx("option",{value:M,children:M},M))]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-body text-theme-muted mb-1",children:"Theme"}),a.jsx("select",{value:d,onChange:M=>m(M.target.value),className:"w-full p-3 text-base border-[length:var(--border-width)] border-theme-border shadow-theme focus:outline-none transition-all bg-theme-paper text-theme-ink rounded-theme font-body cursor-pointer",children:Jt.map(M=>a.jsxs("option",{value:M.id,children:[M.icon," ",M.name]},M.id))})]}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx("button",{onClick:()=>{x(!1),k(""),h(""),m("default")},className:"px-4 py-2 font-body text-theme-ink hover:bg-theme-accent/20 rounded-theme transition-colors border-[length:var(--border-width)] border-theme-border",children:"Cancel"}),a.jsx("button",{onClick:S,className:"px-6 py-2 font-body bg-theme-accent text-theme-paper hover:bg-theme-accent-hover rounded-theme transition-colors font-bold",children:"Create"})]})]})]}),p&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>y(!1)}),a.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme p-6 z-50 w-[90vw] max-w-[450px]",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"font-heading text-theme-ink font-bold text-xl",children:"Backup & Restore"}),a.jsx("button",{onClick:()=>y(!1),className:"text-theme-muted hover:text-theme-ink transition-colors",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-theme p-4 mb-6",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-yellow-600 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-body text-theme-ink text-sm font-semibold mb-1",children:"Your data is stored locally"}),a.jsx("p",{className:"font-body text-theme-muted text-sm",children:"All your characters and settings are stored in your browser's local storage. This data may be lost if you clear your browser cache, use private/incognito mode, or switch browsers."})]})]})}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-body text-theme-ink font-semibold mb-2",children:"Create Backup"}),a.jsx("p",{className:"font-body text-theme-muted text-sm mb-3",children:"Download a backup file containing all your characters and custom themes."}),a.jsxs("button",{onClick:T,className:"w-full flex items-center justify-center gap-2 px-4 py-3 font-body bg-theme-accent text-theme-paper hover:bg-theme-accent-hover rounded-theme transition-colors font-bold",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download Backup"]})]}),a.jsx("div",{className:"border-t border-theme-border my-4"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-body text-theme-ink font-semibold mb-2",children:"Restore from Backup"}),a.jsxs("p",{className:"font-body text-theme-muted text-sm mb-3",children:["Upload a backup file to restore your characters and themes. ",a.jsx("span",{className:"text-red-500 font-semibold",children:"This will replace all current data."})]}),a.jsxs("label",{className:"w-full flex items-center justify-center gap-2 px-4 py-3 font-body border-[length:var(--border-width)] border-theme-border text-theme-ink hover:bg-theme-accent hover:text-theme-paper rounded-theme transition-colors font-bold cursor-pointer",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Upload Backup File",a.jsx("input",{ref:g,type:"file",accept:".json",onChange:R,className:"hidden"})]})]})]})]})]})}function Fx({minScale:e=.1,maxScale:t=5,editingWidgetId:n,mode:r}){const[o,l]=E.useState({x:0,y:0}),[s,i]=E.useState(1),[c,u]=E.useState(!1),f=E.useRef({x:0,y:0});E.useEffect(()=>{const m=()=>u(!1),w=g=>{if(c){const v=g.clientX-f.current.x,S=g.clientY-f.current.y;l(C=>({x:C.x+v,y:C.y+S})),f.current={x:g.clientX,y:g.clientY}}};return window.addEventListener("mouseup",m),window.addEventListener("mousemove",w),()=>{window.removeEventListener("mouseup",m),window.removeEventListener("mousemove",w)}},[c]);const x=E.useCallback(m=>{n||m.target.closest(".react-draggable")||(r==="play"?m.button===0&&(m.preventDefault(),u(!0),f.current={x:m.clientX,y:m.clientY}):(m.button===0||m.button===1)&&(m.preventDefault(),u(!0),f.current={x:m.clientX,y:m.clientY}))},[n,r]),p=E.useCallback(m=>{if(c){const w=m.clientX-f.current.x,g=m.clientY-f.current.y;l(v=>({x:v.x+w,y:v.y+g})),f.current={x:m.clientX,y:m.clientY}}},[c]),y=E.useCallback(()=>{u(!1)},[]),b=E.useCallback(m=>{if(n)return;const w=Math.exp(-m.deltaY*.001),g=Math.min(Math.max(s*w,e),t),v=m.clientX,S=m.clientY,C=(v-o.x)/s,j=(S-o.y)/s,T=v-C*g,R=S-j*g;i(g),l({x:T,y:R})},[n,s,o,e,t]),k=E.useCallback(()=>{i(m=>Math.min(t,m*1.3))},[t]),N=E.useCallback(()=>{i(m=>Math.max(e,m/1.3))},[e]),h=E.useCallback(()=>{i(1),l({x:0,y:0})},[]),d=E.useCallback((m,w)=>{l(m),i(w)},[]);return{pan:o,scale:s,isPanning:c,setPan:l,setScale:i,handleMouseDown:x,handleMouseMove:p,handleMouseUp:y,handleWheel:b,zoomIn:k,zoomOut:N,resetView:h,setView:d}}function Hx({mode:e,onPanChange:t,onScaleChange:n,onPinchingChange:r,getScale:o,getPan:l,minScale:s=.1,maxScale:i=5}){const c=E.useRef(null),u=E.useRef(null),f=E.useRef(new Map),x=E.useRef(!1),p=E.useRef(!1),y=E.useRef(e);return E.useEffect(()=>{y.current=e},[e]),E.useEffect(()=>{const b=g=>{for(;g&&g!==document.body;){const v=window.getComputedStyle(g),S=v.overflowY,C=v.overflowX;if((S==="auto"||S==="scroll"||C==="auto"||C==="scroll")&&(g.scrollHeight>g.clientHeight||g.scrollWidth>g.clientWidth))return!0;g=g.parentElement}return!1},k=g=>{for(;g&&g!==document.body;){if(g.classList.contains("react-draggable"))return!0;g=g.parentElement}return!1},N=g=>{for(;g&&g!==document.body;){if(g.classList.contains("fixed")&&(g.classList.contains("left-0")||g.classList.contains("right-0")))return!0;g=g.parentElement}return!1};let h=null;const d=g=>{g.touches.length===1&&(h=g.target);for(let v=0;v<g.touches.length;v++){const S=g.touches[v];f.current.set(S.identifier,{x:S.clientX,y:S.clientY})}if(!(h&&N(h))){if(g.touches.length===1&&(p.current=b(g.target)),f.current.size>=2){g.preventDefault(),g.stopPropagation(),g.stopImmediatePropagation(),r(!0);const v=Array.from(f.current.values()),S=v[0].x-v[1].x,C=v[0].y-v[1].y;c.current=Math.sqrt(S*S+C*C),u.current={x:(v[0].x+v[1].x)/2,y:(v[0].y+v[1].y)/2},x.current=!1}else if(f.current.size===1){const v=h&&k(h);if(!p.current&&(y.current==="play"?!0:!v)){const j=f.current.values().next().value;j&&(u.current={x:j.x,y:j.y},x.current=!0)}}}},m=g=>{if(h&&N(h))return;for(let S=0;S<g.touches.length;S++){const C=g.touches[S];f.current.set(C.identifier,{x:C.clientX,y:C.clientY})}const v=f.current.size;if(v>=2){const S=Array.from(f.current.values()),C=S[0].x-S[1].x,j=S[0].y-S[1].y,T=Math.sqrt(C*C+j*j),R={x:(S[0].x+S[1].x)/2,y:(S[0].y+S[1].y)/2};if(c.current===null||u.current===null){c.current=T,u.current=R,x.current=!1,g.preventDefault(),g.stopPropagation(),g.stopImmediatePropagation();return}g.preventDefault(),g.stopPropagation(),g.stopImmediatePropagation();const $=o(),M=l(),B=T/c.current,F=Math.min(Math.max($*B,s),i),U=(R.x-M.x)/$,H=(R.y-M.y)/$,I=R.x-U*F,P=R.y-H*F,A=R.x-u.current.x,D=R.y-u.current.y;n(F),t(()=>({x:I+A,y:P+D})),c.current=T,u.current=R}else if(v===1&&x.current&&u.current){const S=f.current.values().next().value;if(S){g.preventDefault();const C=S.x-u.current.x,j=S.y-u.current.y;t(T=>({x:T.x+C,y:T.y+j})),u.current={x:S.x,y:S.y}}}},w=g=>{for(let v=0;v<g.changedTouches.length;v++)f.current.delete(g.changedTouches[v].identifier);f.current.size===0?(c.current=null,u.current=null,x.current=!1,p.current=!1,h=null,r(!1)):f.current.size===1&&(c.current=null,x.current=!1)};return document.addEventListener("touchstart",d,{passive:!1,capture:!0}),document.addEventListener("touchmove",m,{passive:!1,capture:!0}),document.addEventListener("touchend",w,{passive:!0,capture:!0}),document.addEventListener("touchcancel",w,{passive:!0,capture:!0}),()=>{document.removeEventListener("touchstart",d,{capture:!0}),document.removeEventListener("touchmove",m,{capture:!0}),document.removeEventListener("touchend",w,{capture:!0}),document.removeEventListener("touchcancel",w,{capture:!0})}},[t,n,r,o,l,s,i]),{isTouchPanning:x}}const Me=10,fr=10;function Ux({widgets:e,scale:t,updateWidgetPosition:n}){return{handleAutoStack:E.useCallback(()=>{if(e.length===0)return;const o=document.querySelectorAll(".react-draggable[data-widget-id]"),l=[];o.forEach(h=>{const d=h.getAttribute("data-widget-id");if(d){const m=h.getBoundingClientRect();l.push({id:d,w:Math.ceil(m.width/t/Me)*Me,h:Math.ceil(m.height/t/Me)*Me})}});const s=e.map(h=>{const d=l.find(m=>m.id===h.id);return{id:h.id,groupId:h.groupId,x:h.x,y:h.y,w:d?d.w:h.w||200,h:d?d.h:h.h||120}}),i=new Map,c=[];for(const h of s)if(h.groupId){const d=i.get(h.groupId)||[];d.push(h),i.set(h.groupId,d)}else c.push(h);const u=[];for(const[h,d]of i){if(d.length===0)continue;const m=Math.min(...d.map(S=>S.x)),w=Math.min(...d.map(S=>S.y)),g=Math.max(...d.map(S=>S.x+S.w)),v=Math.max(...d.map(S=>S.y+S.h));u.push({type:"group",id:h,widgets:d,boundingBox:{x:m,y:w,w:g-m,h:v-w},originalOffset:{x:m,y:w}})}for(const h of c)u.push({type:"single",id:h.id,widgets:[h],boundingBox:{x:h.x,y:h.y,w:h.w,h:h.h},originalOffset:{x:h.x,y:h.y}});const f=u.reduce((h,d)=>h+(d.boundingBox.w+fr)*(d.boundingBox.h+fr),0),x=Math.max(800,Math.ceil(Math.sqrt(f*1.5)/Me)*Me),p=[...u].sort((h,d)=>{const w=Math.floor(h.boundingBox.y/50),g=Math.floor(d.boundingBox.y/50);return w!==g?w-g:h.boundingBox.x-d.boundingBox.x});let y=[{x:0,y:0,w:x,h:1e5}];const b=[],k=(h,d)=>{let m=1/0,w=0,g=0,v=!1;for(const S of y)if(h<=S.w&&d<=S.h){const C=S.w-h,j=S.h-d,T=Math.min(C,j),R=S.y*1e4+T;R<m&&(m=R,w=S.x,g=S.y,v=!0)}return v?{x:w,y:g}:null},N=(h,d,m,w)=>{const g=[];for(const v of y){if(h>=v.x+v.w||h+m<=v.x||d>=v.y+v.h||d+w<=v.y){g.push(v);continue}h>v.x&&g.push({x:v.x,y:v.y,w:h-v.x,h:v.h}),h+m<v.x+v.w&&g.push({x:h+m,y:v.y,w:v.x+v.w-(h+m),h:v.h}),d>v.y&&g.push({x:v.x,y:v.y,w:v.w,h:d-v.y}),d+w<v.y+v.h&&g.push({x:v.x,y:d+w,w:v.w,h:v.y+v.h-(d+w)})}y=g.filter((v,S)=>{for(let C=0;C<g.length;C++){if(S===C)continue;const j=g[C];if(v.x>=j.x&&v.y>=j.y&&v.x+v.w<=j.x+j.w&&v.y+v.h<=j.y+j.h)return!1}return!0})};for(const h of p){const d=h.boundingBox.w+fr,m=h.boundingBox.h+fr,w=k(d,m);if(w){const g=Math.round(w.x/Me)*Me,v=Math.round(w.y/Me)*Me;b.push({item:h,x:g,y:v}),N(g,v,d,m)}else{const g=b.reduce((v,S)=>Math.max(v,S.y+S.item.boundingBox.h+fr),0);b.push({item:h,x:0,y:g}),N(0,g,d,m)}}for(const h of b){const{item:d,x:m,y:w}=h,g=m-d.originalOffset.x,v=w-d.originalOffset.y;for(const S of d.widgets){const C=Math.round((S.x+g)/Me)*Me,j=Math.round((S.y+v)/Me)*Me;n(S.id,C,j)}}},[e,t,n])}}function Vx({widgets:e,scale:t,setScale:n,setPan:r,minScale:o=.1,maxScale:l=5}){return{handleFitAllWidgets:E.useCallback(()=>{if(e.length===0){n(1),r({x:0,y:0});return}const i=document.querySelectorAll(".react-draggable[data-widget-id]"),c=[];if(i.forEach(R=>{const $=R.getAttribute("data-widget-id"),M=e.find(B=>B.id===$);if(M){const B=R.getBoundingClientRect();c.push({x:M.x,y:M.y,w:B.width/t,h:B.height/t})}}),c.length===0){n(1),r({x:0,y:0});return}const u=Math.min(...c.map(R=>R.x)),f=Math.min(...c.map(R=>R.y)),x=Math.max(...c.map(R=>R.x+R.w)),p=Math.max(...c.map(R=>R.y+R.h)),y=x-u,b=p-f,k=window.innerWidth,N=window.innerHeight,h=60,d=k-h*2,m=N-h*2,w=d/y,g=m/b,v=Math.min(Math.max(Math.min(w,g),o),l),S=(u+x)/2,C=(f+p)/2,j=k/2-S*v,T=N/2-C*v;n(v),r({x:j,y:T})},[e,t,n,r,o,l])}}const Gx=[{type:"CHECKBOX",label:"Checkbox"},{type:"TOGGLE_GROUP",label:"Conditions"},{type:"DICE_ROLLER",label:"Dice Roller"},{type:"DICE_TRAY",label:"Dice Tray"},{type:"FORM",label:"Form"},{type:"HEALTH_BAR",label:"Health Bar"},{type:"IMAGE",label:"Image"},{type:"LIST",label:"List"},{type:"NUMBER_DISPLAY",label:"Number Display"},{type:"NUMBER",label:"Number Tracker"},{type:"POOL",label:"Resource Pool"},{type:"PROGRESS_BAR",label:"Progress Bar"},{type:"REST_BUTTON",label:"Rest Button"},{type:"SPELL_SLOT",label:"Spell Slots"},{type:"TABLE",label:"Table"},{type:"TEXT",label:"Text Area"},{type:"TIME_TRACKER",label:"Time Tracker"}];function Yx({collapsed:e,onToggle:t}){const n=W(p=>p.addWidget),r=W(p=>p.activeCharacterId),l=W(p=>p.characters).find(p=>p.id===r),s=l!=null&&l.theme?qt(l.theme):void 0,i=l!=null&&l.theme?ba(l.theme):void 0,c=(s==null?void 0:s.cardTexture)||(i==null?void 0:i.cardTexture)||"none",u=tt(c),f=p=>{n(p,100,100)},x=(p,y)=>{p.dataTransfer.setData("widgetType",y),p.dataTransfer.effectAllowed="copy"};return a.jsxs(a.Fragment,{children:[!e&&a.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:t}),a.jsxs("div",{className:`fixed left-0 top-0 bottom-0 w-[80vw] max-w-[280px] bg-theme-paper border-r-[length:var(--border-width)] border-theme-border z-50 flex flex-col p-3 shadow-theme overflow-hidden transition-transform duration-300 ease-in-out safe-area-bottom touch-pan-y ${e?"-translate-x-full":"translate-x-0"}`,children:[u&&a.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",style:{backgroundColor:"var(--color-paper)"},children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${Ct[c]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:"var(--card-texture-opacity)",mixBlendMode:"overlay"}})}),a.jsx("button",{onClick:t,className:"absolute top-3 right-3 w-10 h-10 bg-theme-accent text-theme-paper font-bold flex items-center justify-center rounded-theme z-20 shadow-theme",children:""}),a.jsxs("div",{className:"relative z-10 flex flex-col h-full overflow-y-auto touch-pan-y pt-12",children:[a.jsx("div",{className:"mb-4",children:a.jsx("h2",{className:"text-xl font-bold uppercase tracking-wider border-b-[length:var(--border-width)] border-theme-border pb-2 text-theme-ink font-heading",children:"Toolbox"})}),a.jsx("div",{className:"flex flex-col gap-2",children:Gx.map(({type:p,label:y})=>a.jsx("div",{draggable:!0,onDragStart:b=>x(b,p),onClick:()=>f(p),className:"p-2 border-[length:var(--border-width)] border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-all text-left font-bold shadow-theme active:translate-x-[2px] active:translate-y-[2px] active:shadow-none cursor-pointer flex items-center gap-2 bg-theme-paper text-theme-ink rounded-theme",children:a.jsxs("span",{className:"text-xs font-body",children:["+ ",y]})},p))}),a.jsxs("div",{className:"mt-auto pt-4 text-[10px] text-theme-muted border-t border-theme-border/50 font-body",children:[a.jsx("p",{children:"Tap to add widgets."}),a.jsx("p",{children:"Pan with finger/mouse."}),a.jsx("p",{children:"Pinch/scroll to zoom."}),a.jsx("p",{className:"mt-2 text-theme-ink font-bold",children:"Edit Mode Active"})]})]})]})]})}function Xx({theme:e,onSave:t,onCancel:n,onDelete:r}){const o=!!e,l=mx(),[s,i]=E.useState((e==null?void 0:e.name)||l.name),[c,u]=E.useState((e==null?void 0:e.icon)||l.icon),[f,x]=E.useState((e==null?void 0:e.description)||l.description),[p,y]=E.useState((e==null?void 0:e.colors)||l.colors),[b,k]=E.useState((e==null?void 0:e.fonts.heading)||l.fonts.heading),[N,h]=E.useState((e==null?void 0:e.fonts.body)||l.fonts.body),[d,m]=E.useState((e==null?void 0:e.borderRadius)||l.borderRadius),[w,g]=E.useState((e==null?void 0:e.borderWidth)||l.borderWidth),[v,S]=E.useState((e==null?void 0:e.shadowStyle)||l.shadowStyle),[C,j]=E.useState((e==null?void 0:e.cardTexture)||l.cardTexture),T="#ffffff",[R,$]=E.useState((e==null?void 0:e.textureOpacity)??l.textureOpacity),[M,B]=E.useState((e==null?void 0:e.borderStyle)||l.borderStyle),[F,U]=E.useState(!1),H=(D,Y)=>{y(ie=>({...ie,[D]:Y}))},I=()=>{const D={id:(e==null?void 0:e.id)||`custom-${He()}`,name:s,icon:c,description:f,colors:p,fonts:{heading:b,body:N},borderRadius:d,borderWidth:w,shadowStyle:v,cardTexture:C,textureColor:"#ffffff",textureOpacity:R,borderStyle:M};t(D)},P=[{key:"background",label:"Background"},{key:"paper",label:"Paper/Card"},{key:"ink",label:"Text/Ink"},{key:"accent",label:"Accent"},{key:"accentHover",label:"Accent Hover"},{key:"border",label:"Border"},{key:"shadow",label:"Shadow"},{key:"muted",label:"Muted Text"},{key:"glow",label:"Glow"}],A=()=>a.jsx("div",{className:"p-3",style:{backgroundColor:p.background,borderRadius:d},children:a.jsxs("div",{className:"p-3 relative overflow-hidden",style:{backgroundColor:p.paper,backgroundImage:tt(C)?"none":Xs(C,T,R),border:`${w} ${M} ${p.border}`,borderRadius:d,boxShadow:Ks(v,p.glow).replace(/var\(--color-shadow\)/g,p.shadow).replace(/var\(--color-border\)/g,p.border).replace(/var\(--color-glow\)/g,p.glow)},children:[tt(C)&&a.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundColor:p.paper,borderRadius:d},children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${Ct[C]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:R,mixBlendMode:"overlay",borderRadius:d}})}),a.jsxs("h4",{className:"text-base font-bold mb-2 relative",style:{color:p.ink,fontFamily:b},children:[c," ",s]}),a.jsx("p",{className:"text-xs mb-3 relative",style:{color:p.muted,fontFamily:N},children:f}),a.jsx("button",{className:"px-3 py-1.5 text-sm font-bold transition-colors relative",style:{backgroundColor:p.accent,color:p.paper,borderRadius:d,fontFamily:b},children:"Sample Button"})]})});return a.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-2",children:a.jsxs("div",{className:"bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme w-full max-w-4xl max-h-[95vh] flex flex-col",onClick:D=>D.stopPropagation(),children:[a.jsx("div",{className:"p-3 border-b-[length:var(--border-width)] border-theme-border bg-theme-paper flex-shrink-0",children:a.jsx("h2",{className:"text-lg font-bold text-theme-ink font-heading",children:o?" Edit Custom Theme":" Create Custom Theme"})}),a.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[a.jsxs("div",{className:"w-full flex-shrink-0 border-b-[length:var(--border-width)] border-theme-border p-3 bg-theme-background/50 max-h-[40vh] overflow-auto",children:[a.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-2 uppercase tracking-wider font-heading",children:"Preview"}),a.jsx("div",{children:a.jsx(A,{})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-5",children:[a.jsxs("section",{children:[a.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Basic Info"}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Theme Name"}),a.jsx("input",{type:"text",value:s,onChange:D=>i(D.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",placeholder:"My Custom Theme"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Icon"}),a.jsxs("button",{onClick:()=>U(!F),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body text-left flex items-center gap-2",children:[a.jsx("span",{className:"text-xl",children:c}),a.jsx("span",{className:"text-xs text-theme-muted",children:"Click to change"})]}),F&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 p-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme z-20 grid grid-cols-10 gap-1 max-h-40 overflow-y-auto",children:hx.map(D=>a.jsx("button",{onClick:()=>{u(D),U(!1)},className:`p-1 text-lg hover:bg-theme-accent hover:text-theme-paper rounded ${c===D?"bg-theme-accent text-theme-paper":""}`,children:D},D))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Description"}),a.jsx("input",{type:"text",value:f,onChange:D=>x(D.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",placeholder:"A personalized theme"})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Colors"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:P.map(({key:D,label:Y})=>a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("label",{className:"block text-[10px] font-bold text-theme-muted mb-1 font-body text-center",children:Y}),a.jsx("input",{type:"color",value:p[D],onChange:ie=>H(D,ie.target.value),className:"w-10 h-10 border-[length:var(--border-width)] border-theme-border rounded-theme cursor-pointer"})]},D))})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Fonts"}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Heading Font"}),a.jsx("select",{value:b,onChange:D=>k(D.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:Ac.map(D=>a.jsx("option",{value:D.value,style:{fontFamily:D.value},children:D.label},D.value))}),a.jsx("p",{className:"text-xs text-theme-muted mt-1",style:{fontFamily:b},children:"Preview: The quick brown fox"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Body Font"}),a.jsx("select",{value:N,onChange:D=>h(D.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:Ac.map(D=>a.jsx("option",{value:D.value,style:{fontFamily:D.value},children:D.label},D.value))}),a.jsx("p",{className:"text-xs text-theme-muted mt-1",style:{fontFamily:N},children:"Preview: The quick brown fox"})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:"Style"}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Border Radius"}),a.jsxs("select",{value:d,onChange:D=>m(D.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:[a.jsx("option",{value:"0px",children:"Sharp (0px)"}),a.jsx("option",{value:"2px",children:"Subtle (2px)"}),a.jsx("option",{value:"4px",children:"Small (4px)"}),a.jsx("option",{value:"8px",children:"Medium (8px)"}),a.jsx("option",{value:"12px",children:"Large (12px)"}),a.jsx("option",{value:"16px",children:"Extra Large (16px)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Border Width"}),a.jsxs("select",{value:w,onChange:D=>g(D.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:[a.jsx("option",{value:"1px",children:"Thin (1px)"}),a.jsx("option",{value:"2px",children:"Medium (2px)"}),a.jsx("option",{value:"3px",children:"Thick (3px)"}),a.jsx("option",{value:"4px",children:"Extra Thick (4px)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Border Style"}),a.jsx("select",{value:M,onChange:D=>B(D.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:dx.map(D=>a.jsx("option",{value:D.value,children:D.label},D.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Shadow Style"}),a.jsx("select",{value:v,onChange:D=>S(D.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:ux.map(D=>a.jsx("option",{value:D.value,children:D.label},D.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:"Card Texture"}),a.jsx("select",{value:C,onChange:D=>j(D.target.value),className:"w-full p-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink rounded-theme font-body",children:cx.map(D=>a.jsx("option",{value:D.value,children:D.label},D.value))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs font-bold text-theme-muted mb-1 font-body",children:["Texture Opacity: ",Math.round(R*100),"%"]}),a.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:R,onChange:D=>$(parseFloat(D.target.value)),className:"w-full h-2 bg-theme-border rounded-theme appearance-none cursor-pointer",disabled:C==="none"})]})]})]})]})]}),a.jsxs("div",{className:"p-3 border-t-[length:var(--border-width)] border-theme-border bg-theme-paper flex flex-wrap gap-2 justify-between flex-shrink-0",children:[a.jsx("div",{children:o&&r&&a.jsx("button",{onClick:()=>{confirm("Are you sure you want to delete this custom theme?")&&r()},className:"px-3 py-2 bg-red-500 text-white text-sm font-bold rounded-theme hover:bg-red-600 transition-colors font-heading",children:" Delete"})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:n,className:"px-3 py-2 border-[length:var(--border-width)] border-theme-border bg-theme-paper text-theme-ink text-sm font-bold rounded-theme hover:bg-theme-accent hover:text-theme-paper transition-colors font-heading",children:"Cancel"}),a.jsx("button",{onClick:I,className:"px-3 py-2 bg-theme-accent text-theme-paper text-sm font-bold rounded-theme hover:bg-theme-accent-hover transition-colors font-heading",children:o?" Save Changes":" Create Theme"})]})]})]})})}function Kx({collapsed:e,onToggle:t}){const n=W(j=>j.activeCharacterId),r=W(j=>j.characters),o=W(j=>j.updateCharacterTheme),l=r.find(j=>j.id===n),s=(l==null?void 0:l.theme)||"default",i=l!=null&&l.theme?qt(l.theme):void 0,c=l!=null&&l.theme?ba(l.theme):void 0,u=(i==null?void 0:i.cardTexture)||(c==null?void 0:c.cardTexture)||"none",f=tt(u),x=Ln(j=>j.customThemes),p=Ln(j=>j.addCustomTheme),y=Ln(j=>j.updateCustomTheme),b=Ln(j=>j.deleteCustomTheme),[k,N]=E.useState(!1),[h,d]=E.useState(void 0),m=j=>{if(n){o(n,j);const T=qt(j);T?Ql(T):Zn(j)}},w=()=>{d(void 0),N(!0)},g=(j,T)=>{T.stopPropagation(),d(j),N(!0)},v=j=>{h?(y(j.id,j),s===j.id&&Ql(j)):p(j),N(!1),d(void 0)},S=()=>{h&&(s===h.id&&n&&(o(n,"default"),Zn("default")),b(h.id)),N(!1),d(void 0)},C=()=>{const j=Jt.find(R=>R.id===s);if(j)return j.name;const T=x.find(R=>R.id===s);return T?T.name:"Unknown"};return a.jsxs(a.Fragment,{children:[k&&a.jsx(Xx,{theme:h,onSave:v,onCancel:()=>{N(!1),d(void 0)},onDelete:h?S:void 0}),!e&&a.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:t}),a.jsxs("div",{className:`fixed right-0 top-0 bottom-0 w-[80vw] max-w-[280px] bg-theme-paper border-l-[length:var(--border-width)] border-theme-border z-50 flex flex-col p-3 shadow-theme overflow-hidden transition-transform duration-300 ease-in-out safe-area-bottom touch-pan-y ${e?"translate-x-full":"translate-x-0"}`,children:[f&&a.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",style:{backgroundColor:"var(--color-paper)"},children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${Ct[u]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:"var(--card-texture-opacity)",mixBlendMode:"overlay"}})}),a.jsx("button",{onClick:t,className:"absolute top-3 right-3 w-10 h-10 bg-theme-accent text-theme-paper font-bold flex items-center justify-center rounded-theme z-20 shadow-theme",children:""}),a.jsxs("div",{className:"relative z-10 flex flex-col h-full overflow-y-auto touch-pan-y pt-12",children:[a.jsx("div",{className:"mb-4",children:a.jsx("h2",{className:"text-xl font-bold uppercase tracking-wider border-b-[length:var(--border-width)] border-theme-border pb-2 text-theme-ink font-heading",children:" Themes"})}),a.jsx("div",{className:"flex flex-col gap-2",children:Jt.map(j=>{const T=tt(j.cardTexture)?j.cardTexture:null,R=s===j.id;return a.jsxs("button",{onClick:()=>m(j.id),style:{backgroundColor:R?j.colors.accent:j.colors.paper,color:R?j.colors.paper:j.colors.ink,borderColor:j.colors.border,borderRadius:j.borderRadius,borderWidth:j.borderWidth,fontFamily:j.fonts.body,boxShadow:`3px 3px 0 ${j.colors.shadow}`,position:"relative",overflow:"hidden"},className:"p-2 border-solid transition-all text-left font-bold active:translate-x-[2px] active:translate-y-[2px] active:shadow-none",children:[T&&!R&&a.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundColor:j.colors.paper,borderRadius:j.borderRadius},children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${Ct[T]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:j.textureOpacity??.15,mixBlendMode:"overlay",borderRadius:j.borderRadius}})}),a.jsxs("div",{className:"relative flex items-center gap-2",children:[a.jsx("span",{className:"text-base",children:j.icon}),a.jsx("span",{className:"text-xs",style:{fontFamily:j.fonts.heading},children:j.name})]}),a.jsx("p",{className:"relative text-[10px] mt-1 opacity-70",children:j.description}),a.jsxs("div",{className:"relative flex gap-1 mt-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full border border-black/20",style:{backgroundColor:j.colors.paper},title:"Paper"}),a.jsx("div",{className:"w-3 h-3 rounded-full border border-black/20",style:{backgroundColor:j.colors.ink},title:"Ink"}),a.jsx("div",{className:"w-3 h-3 rounded-full border border-black/20",style:{backgroundColor:j.colors.accent},title:"Accent"}),a.jsx("div",{className:"w-3 h-3 rounded-full border border-black/20",style:{backgroundColor:j.colors.background},title:"Background"})]})]},j.id)})}),a.jsxs("div",{className:"mt-6 pt-4 border-t border-theme-border/50",children:[a.jsx("h3",{className:"text-sm font-bold text-theme-ink mb-3 uppercase tracking-wider font-heading",children:" Custom Themes"}),a.jsxs("button",{onClick:w,className:"w-full p-2 border-[length:var(--border-width)] border-dashed border-theme-border transition-all text-left font-bold rounded-theme bg-theme-paper text-theme-ink hover:bg-theme-accent hover:text-theme-paper hover:border-solid mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-base",children:""}),a.jsx("span",{className:"text-xs font-heading",children:"Create Custom Theme"})]}),a.jsx("p",{className:"text-[10px] mt-1 opacity-70 font-body",children:"Design your own unique theme"})]}),a.jsx("div",{className:"flex flex-col gap-2 mt-3",children:x.map(j=>{const T=tt(j.cardTexture||"")?j.cardTexture:null,R=s===j.id;return a.jsxs("div",{style:{backgroundColor:R?j.colors.accent:j.colors.paper,color:R?j.colors.paper:j.colors.ink,borderColor:j.colors.border,borderRadius:j.borderRadius,borderWidth:j.borderWidth,fontFamily:j.fonts.body,boxShadow:`3px 3px 0 ${j.colors.shadow}`,position:"relative",overflow:"hidden"},className:"p-2 border-solid transition-all text-left font-bold",children:[T&&!R&&a.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundColor:j.colors.paper,borderRadius:j.borderRadius},children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${Ct[T]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:j.textureOpacity??.15,mixBlendMode:"overlay",borderRadius:j.borderRadius}})}),a.jsxs("button",{onClick:()=>m(j.id),className:"relative w-full text-left",children:[a.jsxs("div",{className:"flex items-center gap-2 pr-8",children:[a.jsx("span",{className:"text-base",children:j.icon}),a.jsx("span",{className:"text-xs",style:{fontFamily:j.fonts.heading},children:j.name})]}),a.jsx("p",{className:"text-[10px] mt-1 opacity-70",children:j.description}),a.jsxs("div",{className:"flex gap-1 mt-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full border border-black/20",style:{backgroundColor:j.colors.paper},title:"Paper"}),a.jsx("div",{className:"w-3 h-3 rounded-full border border-black/20",style:{backgroundColor:j.colors.ink},title:"Ink"}),a.jsx("div",{className:"w-3 h-3 rounded-full border border-black/20",style:{backgroundColor:j.colors.accent},title:"Accent"}),a.jsx("div",{className:"w-3 h-3 rounded-full border border-black/20",style:{backgroundColor:j.colors.background},title:"Background"})]})]}),a.jsx("button",{onClick:$=>g(j,$),style:{backgroundColor:R?`${j.colors.paper}33`:`${j.colors.accent}1a`,color:R?j.colors.paper:j.colors.accent},className:"absolute top-2 right-2 w-6 h-6 flex items-center justify-center rounded text-xs hover:scale-110 transition-transform z-10",title:"Edit theme",children:""})]},j.id)})}),x.length===0&&a.jsx("p",{className:"text-[10px] text-theme-muted mt-2 font-body",children:"No custom themes yet. Create one above!"})]}),a.jsxs("div",{className:"mt-auto pt-4 text-[10px] text-theme-muted border-t border-theme-border/50 font-body",children:[a.jsx("p",{children:"Select a theme to change the appearance of your character sheet."}),a.jsxs("p",{className:"mt-2 text-theme-ink font-bold",children:["Current: ",C()]})]})]})]})]})}var ya={exports:{}},Oh={},$h={exports:{}},Qx="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Zx=Qx,Jx=Zx;function Ah(){}function zh(){}zh.resetWarningCache=Ah;var qx=function(){function e(r,o,l,s,i,c){if(c!==Jx){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:zh,resetWarningCache:Ah};return n.PropTypes=n,n};$h.exports=qx();var Wh=$h.exports,Zl={exports:{}};function Bh(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Bh(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function zc(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Bh(e))&&(r&&(r+=" "),r+=t);return r}Zl.exports=zc,Zl.exports.clsx=zc;var eg=Zl.exports,re={},bt={};Object.defineProperty(bt,"__esModule",{value:!0});bt.dontSetMe=ag;bt.findInArray=tg;bt.int=og;bt.isFunction=ng;bt.isNum=rg;function tg(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function ng(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function rg(e){return typeof e=="number"&&!isNaN(e)}function og(e){return parseInt(e,10)}function ag(e,t,n){if(e[t])return new Error(`Invalid prop ${t} passed to ${n} - do not set this, set it on the child.`)}var bn={};Object.defineProperty(bn,"__esModule",{value:!0});bn.browserPrefixToKey=Hh;bn.browserPrefixToStyle=lg;bn.default=void 0;bn.getPrefix=Fh;const el=["Moz","Webkit","O","ms"];function Fh(){var n,r;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const t=(r=(n=window.document)==null?void 0:n.documentElement)==null?void 0:r.style;if(!t||e in t)return"";for(let o=0;o<el.length;o++)if(Hh(e,el[o])in t)return el[o];return""}function Hh(e,t){return t?`${t}${sg(e)}`:e}function lg(e,t){return t?`-${t.toLowerCase()}-${e}`:e}function sg(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}bn.default=Fh();Object.defineProperty(re,"__esModule",{value:!0});re.addClassName=Gh;re.addEvent=cg;re.addUserSelectStyles=yg;re.createCSSTransform=xg;re.createSVGTransform=gg;re.getTouch=vg;re.getTouchIdentifier=bg;re.getTranslation=Qs;re.innerHeight=fg;re.innerWidth=mg;re.matchesSelector=Vh;re.matchesSelectorAndParentsTo=ig;re.offsetXYFromParent=pg;re.outerHeight=dg;re.outerWidth=hg;re.removeClassName=Yh;re.removeEvent=ug;re.scheduleRemoveUserSelectStyles=wg;var Ge=bt,Wc=Uh(bn);function Uh(e,t){if(typeof WeakMap=="function")var n=new WeakMap,r=new WeakMap;return(Uh=function(o,l){if(!l&&o&&o.__esModule)return o;var s,i,c={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return c;if(s=l?r:n){if(s.has(o))return s.get(o);s.set(o,c)}for(const u in o)u!=="default"&&{}.hasOwnProperty.call(o,u)&&((i=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,u))&&(i.get||i.set)?s(c,u,i):c[u]=o[u]);return c})(e,t)}let xo="";function Vh(e,t){return xo||(xo=(0,Ge.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Ge.isFunction)(e[n])})),(0,Ge.isFunction)(e[xo])?e[xo](t):!1}function ig(e,t,n){let r=e;do{if(Vh(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function cg(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function ug(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function dg(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Ge.int)(n.borderTopWidth),t+=(0,Ge.int)(n.borderBottomWidth),t}function hg(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Ge.int)(n.borderLeftWidth),t+=(0,Ge.int)(n.borderRightWidth),t}function fg(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Ge.int)(n.paddingTop),t-=(0,Ge.int)(n.paddingBottom),t}function mg(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Ge.int)(n.paddingLeft),t-=(0,Ge.int)(n.paddingRight),t}function pg(e,t,n){const o=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),l=(e.clientX+t.scrollLeft-o.left)/n,s=(e.clientY+t.scrollTop-o.top)/n;return{x:l,y:s}}function xg(e,t){const n=Qs(e,t,"px");return{[(0,Wc.browserPrefixToKey)("transform",Wc.default)]:n}}function gg(e,t){return Qs(e,t,"")}function Qs(e,t,n){let{x:r,y:o}=e,l=`translate(${r}${n},${o}${n})`;if(t){const s=`${typeof t.x=="string"?t.x:t.x+n}`,i=`${typeof t.y=="string"?t.y:t.y+n}`;l=`translate(${s}, ${i})`+l}return l}function vg(e,t){return e.targetTouches&&(0,Ge.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,Ge.findInArray)(e.changedTouches,n=>t===n.identifier)}function bg(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function yg(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&Gh(e.body,"react-draggable-transparent-selection")}function wg(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{Bc(e)}):Bc(e)}function Bc(e){if(e)try{if(e.body&&Yh(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function Gh(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function Yh(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}var yt={};Object.defineProperty(yt,"__esModule",{value:!0});yt.canDragX=jg;yt.canDragY=Ng;yt.createCoreData=Tg;yt.createDraggableData=Eg;yt.getBoundPosition=kg;yt.getControlPosition=Cg;yt.snapToGrid=Sg;var Be=bt,On=re;function kg(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:r}=e.props;r=typeof r=="string"?r:Ig(r);const o=Zs(e);if(typeof r=="string"){const{ownerDocument:l}=o,s=l.defaultView;let i;if(r==="parent"?i=o.parentNode:i=o.getRootNode().querySelector(r),!(i instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const c=i,u=s.getComputedStyle(o),f=s.getComputedStyle(c);r={left:-o.offsetLeft+(0,Be.int)(f.paddingLeft)+(0,Be.int)(u.marginLeft),top:-o.offsetTop+(0,Be.int)(f.paddingTop)+(0,Be.int)(u.marginTop),right:(0,On.innerWidth)(c)-(0,On.outerWidth)(o)-o.offsetLeft+(0,Be.int)(f.paddingRight)-(0,Be.int)(u.marginRight),bottom:(0,On.innerHeight)(c)-(0,On.outerHeight)(o)-o.offsetTop+(0,Be.int)(f.paddingBottom)-(0,Be.int)(u.marginBottom)}}return(0,Be.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,Be.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Be.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,Be.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function Sg(e,t,n){const r=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[r,o]}function jg(e){return e.props.axis==="both"||e.props.axis==="x"}function Ng(e){return e.props.axis==="both"||e.props.axis==="y"}function Cg(e,t,n){const r=typeof t=="number"?(0,On.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;const o=Zs(n),l=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,On.offsetXYFromParent)(r||e,l,n.props.scale)}function Tg(e,t,n){const r=!(0,Be.isNum)(e.lastX),o=Zs(e);return r?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function Eg(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function Ig(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function Zs(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var wa={},ka={};Object.defineProperty(ka,"__esModule",{value:!0});ka.default=Pg;function Pg(){}Object.defineProperty(wa,"__esModule",{value:!0});wa.default=void 0;var tl=Xh(E),Se=Js(Wh),Mg=Js(tr),be=re,_t=yt,nl=bt,mr=Js(ka);function Js(e){return e&&e.__esModule?e:{default:e}}function Xh(e,t){if(typeof WeakMap=="function")var n=new WeakMap,r=new WeakMap;return(Xh=function(o,l){if(!l&&o&&o.__esModule)return o;var s,i,c={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return c;if(s=l?r:n){if(s.has(o))return s.get(o);s.set(o,c)}for(const u in o)u!=="default"&&{}.hasOwnProperty.call(o,u)&&((i=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,u))&&(i.get||i.set)?s(c,u,i):c[u]=o[u]);return c})(e,t)}function je(e,t,n){return(t=Rg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rg(e){var t=Dg(e,"string");return typeof t=="symbol"?t:t+""}function Dg(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const lt={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Lt=lt.mouse,Sa=class extends tl.Component{constructor(){super(...arguments),je(this,"dragging",!1),je(this,"lastX",NaN),je(this,"lastY",NaN),je(this,"touchIdentifier",null),je(this,"mounted",!1),je(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(t.target instanceof r.defaultView.Node)||this.props.handle&&!(0,be.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,be.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&!this.props.allowMobileScroll&&t.preventDefault();const o=(0,be.getTouchIdentifier)(t);this.touchIdentifier=o;const l=(0,_t.getControlPosition)(t,o,this);if(l==null)return;const{x:s,y:i}=l,c=(0,_t.createCoreData)(this,s,i);(0,mr.default)("DraggableCore: handleDragStart: %j",c),(0,mr.default)("calling",this.props.onStart),!(this.props.onStart(t,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,be.addUserSelectStyles)(r),this.dragging=!0,this.lastX=s,this.lastY=i,(0,be.addEvent)(r,Lt.move,this.handleDrag),(0,be.addEvent)(r,Lt.stop,this.handleDragStop))}),je(this,"handleDrag",t=>{const n=(0,_t.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let i=r-this.lastX,c=o-this.lastY;if([i,c]=(0,_t.snapToGrid)(this.props.grid,i,c),!i&&!c)return;r=this.lastX+i,o=this.lastY+c}const l=(0,_t.createCoreData)(this,r,o);if((0,mr.default)("DraggableCore: handleDrag: %j",l),this.props.onDrag(t,l)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=r,this.lastY=o}),je(this,"handleDragStop",t=>{if(!this.dragging)return;const n=(0,_t.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let c=r-this.lastX||0,u=o-this.lastY||0;[c,u]=(0,_t.snapToGrid)(this.props.grid,c,u),r=this.lastX+c,o=this.lastY+u}const l=(0,_t.createCoreData)(this,r,o);if(this.props.onStop(t,l)===!1||this.mounted===!1)return!1;const i=this.findDOMNode();i&&this.props.enableUserSelectHack&&(0,be.scheduleRemoveUserSelectStyles)(i.ownerDocument),(0,mr.default)("DraggableCore: handleDragStop: %j",l),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,i&&((0,mr.default)("DraggableCore: Removing handlers"),(0,be.removeEvent)(i.ownerDocument,Lt.move,this.handleDrag),(0,be.removeEvent)(i.ownerDocument,Lt.stop,this.handleDragStop))}),je(this,"onMouseDown",t=>(Lt=lt.mouse,this.handleDragStart(t))),je(this,"onMouseUp",t=>(Lt=lt.mouse,this.handleDragStop(t))),je(this,"onTouchStart",t=>(Lt=lt.touch,this.handleDragStart(t))),je(this,"onTouchEnd",t=>(Lt=lt.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,be.addEvent)(t,lt.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:n}=t;(0,be.removeEvent)(n,lt.mouse.move,this.handleDrag),(0,be.removeEvent)(n,lt.touch.move,this.handleDrag),(0,be.removeEvent)(n,lt.mouse.stop,this.handleDragStop),(0,be.removeEvent)(n,lt.touch.stop,this.handleDragStop),(0,be.removeEvent)(t,lt.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,be.scheduleRemoveUserSelectStyles)(n)}}findDOMNode(){var t,n,r;return(t=this.props)!=null&&t.nodeRef?(r=(n=this.props)==null?void 0:n.nodeRef)==null?void 0:r.current:Mg.default.findDOMNode(this)}render(){return tl.cloneElement(tl.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};wa.default=Sa;je(Sa,"displayName","DraggableCore");je(Sa,"propTypes",{allowAnyClick:Se.default.bool,allowMobileScroll:Se.default.bool,children:Se.default.node.isRequired,disabled:Se.default.bool,enableUserSelectHack:Se.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Se.default.arrayOf(Se.default.number),handle:Se.default.string,cancel:Se.default.string,nodeRef:Se.default.object,onStart:Se.default.func,onDrag:Se.default.func,onStop:Se.default.func,onMouseDown:Se.default.func,scale:Se.default.number,className:nl.dontSetMe,style:nl.dontSetMe,transform:nl.dontSetMe});je(Sa,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),e.default=void 0;var t=x(E),n=f(Wh),r=f(tr),o=eg,l=re,s=yt,i=bt,c=f(wa),u=f(ka);function f(h){return h&&h.__esModule?h:{default:h}}function x(h,d){if(typeof WeakMap=="function")var m=new WeakMap,w=new WeakMap;return(x=function(g,v){if(!v&&g&&g.__esModule)return g;var S,C,j={__proto__:null,default:g};if(g===null||typeof g!="object"&&typeof g!="function")return j;if(S=v?w:m){if(S.has(g))return S.get(g);S.set(g,j)}for(const T in g)T!=="default"&&{}.hasOwnProperty.call(g,T)&&((C=(S=Object.defineProperty)&&Object.getOwnPropertyDescriptor(g,T))&&(C.get||C.set)?S(j,T,C):j[T]=g[T]);return j})(h,d)}function p(){return p=Object.assign?Object.assign.bind():function(h){for(var d=1;d<arguments.length;d++){var m=arguments[d];for(var w in m)({}).hasOwnProperty.call(m,w)&&(h[w]=m[w])}return h},p.apply(null,arguments)}function y(h,d,m){return(d=b(d))in h?Object.defineProperty(h,d,{value:m,enumerable:!0,configurable:!0,writable:!0}):h[d]=m,h}function b(h){var d=k(h,"string");return typeof d=="symbol"?d:d+""}function k(h,d){if(typeof h!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var w=m.call(h,d);if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(h)}class N extends t.Component{static getDerivedStateFromProps(d,m){let{position:w}=d,{prevPropsPosition:g}=m;return w&&(!g||w.x!==g.x||w.y!==g.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:w,prevPropsPosition:g}),{x:w.x,y:w.y,prevPropsPosition:{...w}}):null}constructor(d){super(d),y(this,"onDragStart",(m,w)=>{if((0,u.default)("Draggable: onDragStart: %j",w),this.props.onStart(m,(0,s.createDraggableData)(this,w))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),y(this,"onDrag",(m,w)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",w);const g=(0,s.createDraggableData)(this,w),v={x:g.x,y:g.y,slackX:0,slackY:0};if(this.props.bounds){const{x:C,y:j}=v;v.x+=this.state.slackX,v.y+=this.state.slackY;const[T,R]=(0,s.getBoundPosition)(this,v.x,v.y);v.x=T,v.y=R,v.slackX=this.state.slackX+(C-v.x),v.slackY=this.state.slackY+(j-v.y),g.x=v.x,g.y=v.y,g.deltaX=v.x-this.state.x,g.deltaY=v.y-this.state.y}if(this.props.onDrag(m,g)===!1)return!1;this.setState(v)}),y(this,"onDragStop",(m,w)=>{if(!this.state.dragging||this.props.onStop(m,(0,s.createDraggableData)(this,w))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",w);const v={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:C,y:j}=this.props.position;v.x=C,v.y=j}this.setState(v)}),this.state={dragging:!1,dragged:!1,x:d.position?d.position.x:d.defaultPosition.x,y:d.position?d.position.y:d.defaultPosition.y,prevPropsPosition:{...d.position},slackX:0,slackY:0,isElementSVG:!1},d.position&&!(d.onDrag||d.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var d,m;return((m=(d=this.props)==null?void 0:d.nodeRef)==null?void 0:m.current)??r.default.findDOMNode(this)}render(){const{axis:d,bounds:m,children:w,defaultPosition:g,defaultClassName:v,defaultClassNameDragging:S,defaultClassNameDragged:C,position:j,positionOffset:T,scale:R,...$}=this.props;let M={},B=null;const U=!!!j||this.state.dragging,H=j||g,I={x:(0,s.canDragX)(this)&&U?this.state.x:H.x,y:(0,s.canDragY)(this)&&U?this.state.y:H.y};this.state.isElementSVG?B=(0,l.createSVGTransform)(I,T):M=(0,l.createCSSTransform)(I,T);const P=(0,o.clsx)(w.props.className||"",v,{[S]:this.state.dragging,[C]:this.state.dragged});return t.createElement(c.default,p({},$,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(w),{className:P,style:{...w.props.style,...M},transform:B}))}}e.default=N,y(N,"displayName","Draggable"),y(N,"propTypes",{...c.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:i.dontSetMe,style:i.dontSetMe,transform:i.dontSetMe}),y(N,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Oh);const{default:Kh,DraggableCore:_g}=Oh;ya.exports=Kh;ya.exports.default=Kh;ya.exports.DraggableCore=_g;var Lg=ya.exports;const Og=Jl(Lg);function qs({widget:e,height:t}){const n=W(C=>C.updateWidgetData),{label:r,numberItems:o=[]}=e.data,[l,s]=E.useState(null),[i,c]=E.useState(""),u="text-xs",f="text-xs",x="w-5 h-5 text-xs",p="text-sm w-8",y="gap-1",h=Math.max(30,t-16-4-0*2),d=(C,j)=>{const T=[...o];T[C]={...T[C],value:T[C].value+j},n(e.id,{numberItems:T})},m=(C,j)=>{s(C),c(String(j))},w=C=>{c(C.target.value)},g=C=>{const j=parseInt(i,10);if(!isNaN(j)){const T=[...o];T[C]={...T[C],value:j},n(e.id,{numberItems:T})}s(null),c("")},v=(C,j)=>{C.key==="Enter"?g(j):C.key==="Escape"&&(s(null),c(""))},S="w-[62px]";return a.jsxs("div",{className:`flex flex-col ${y} w-full h-full`,children:[r&&a.jsx("div",{className:`font-bold ${u} text-theme-ink font-heading flex-shrink-0`,children:r}),a.jsxs("div",{className:"flex flex-col gap-0.5 overflow-y-auto overflow-x-hidden flex-1 pr-4",style:{maxHeight:`${h}px`},onWheel:C=>{const j=C.currentTarget;j.scrollHeight>j.clientHeight&&C.stopPropagation()},children:[o.map((C,j)=>a.jsxs("div",{className:`flex items-center ${y}`,children:[a.jsx("span",{className:`flex-1 ${f} text-theme-ink font-body truncate`,children:C.name}),a.jsxs("div",{className:`flex items-center justify-center gap-0.5 flex-shrink-0 ${S}`,children:[a.jsx("button",{onClick:()=>d(j,-1),onMouseDown:T=>T.stopPropagation(),className:`${x} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors flex items-center justify-center text-theme-ink rounded-theme flex-shrink-0`,children:"-"}),l===j?a.jsx("input",{type:"text",inputMode:"numeric",value:i,onChange:w,onBlur:()=>g(j),onKeyDown:T=>v(T,j),onMouseDown:T=>T.stopPropagation(),autoFocus:!0,className:`${p} text-center font-bold text-theme-ink bg-theme-paper border border-theme-border rounded-theme flex-shrink-0 outline-none focus:border-theme-accent`}):a.jsx("span",{className:`${p} text-center font-bold text-theme-ink flex-shrink-0 cursor-pointer hover:bg-theme-accent/20 rounded-theme`,onClick:()=>m(j,C.value),onMouseDown:T=>T.stopPropagation(),children:C.value}),a.jsx("button",{onClick:()=>d(j,1),onMouseDown:T=>T.stopPropagation(),className:`${x} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors flex items-center justify-center text-theme-ink rounded-theme flex-shrink-0`,children:"+"})]})]},j)),o.length===0&&a.jsx("div",{className:`${f} text-theme-muted italic`,children:"No items yet"})]})]})}function ei({widget:e,width:t,height:n}){const r=W(w=>w.updateWidgetData),{label:o,displayNumbers:l=[],displayLayout:s="horizontal"}=e.data,[i,c]=E.useState(null),[u,f]=E.useState(""),x=(w,g)=>{c(w),f(String(g))},p=w=>{f(w.target.value)},y=w=>{const g=parseInt(u,10);if(!isNaN(g)){const v=[...l];v[w]={...v[w],value:g},r(e.id,{displayNumbers:v})}c(null),f("")},b=(w,g)=>{w.key==="Enter"?y(g):w.key==="Escape"&&(c(null),f(""))},k=s==="horizontal",N=l.length||1,h=Math.min(t/(k?N:1),n/(k?1:N)),d=Math.max(10,Math.min(20,h*.25)),m=Math.max(7,Math.min(10,h*.12));return a.jsxs("div",{className:"w-full h-full flex flex-col overflow-hidden",children:[o&&a.jsx("div",{className:"font-bold text-theme-ink font-heading shrink-0 truncate px-1",style:{fontSize:"11px",lineHeight:"16px"},children:o}),a.jsxs("div",{className:`flex-1 flex ${k?"flex-row":"flex-col"} items-stretch justify-center gap-1 p-1 min-h-0 min-w-0 overflow-hidden`,children:[l.map((w,g)=>a.jsxs("div",{className:`flex flex-col items-center justify-center border-2 border-theme-border rounded-theme bg-theme-paper/50 overflow-hidden ${k?"flex-1 max-w-[70px]":"flex-1 max-h-[55px]"}`,style:{minWidth:k?"30px":void 0,minHeight:k?void 0:"30px"},children:[i===g?a.jsx("input",{type:"text",inputMode:"numeric",value:u,onChange:p,onBlur:()=>y(g),onKeyDown:v=>b(v,g),onMouseDown:v=>v.stopPropagation(),autoFocus:!0,className:"text-center font-bold text-theme-ink bg-transparent border-none outline-none w-full",style:{fontSize:`${d}px`}}):a.jsx("span",{className:"font-bold text-theme-ink cursor-pointer hover:text-theme-accent transition-colors leading-none",style:{fontSize:`${d}px`},onClick:()=>x(g,w.value),onMouseDown:v=>v.stopPropagation(),children:w.value}),a.jsx("span",{className:"text-theme-muted font-body truncate w-full text-center px-1 leading-tight",style:{fontSize:`${m}px`},children:w.label})]},g)),l.length===0&&a.jsx("div",{className:"text-xs text-theme-muted italic",children:"No numbers configured"})]})]})}function ti({widget:e,height:t}){const n=W(N=>N.updateWidgetData),{label:r,items:o=[],itemCount:l=5}=e.data,s="text-xs",i="text-xs py-0.5",c="gap-1",p=Math.max(40,t-16-4-0*2),y=Array.from({length:l},(N,h)=>o[h]||""),b=(N,h)=>{const d=[...y];d[N]=h,n(e.id,{items:d})},k=N=>{const h=[...y];h[N]="",n(e.id,{items:h})};return a.jsxs("div",{className:`flex flex-col ${c} w-full h-full`,children:[r&&a.jsx("div",{className:`font-bold ${s} text-theme-ink font-heading flex-shrink-0`,children:r}),a.jsx("div",{className:"space-y-1 overflow-y-auto flex-1",style:{maxHeight:`${p}px`},onWheel:N=>{const h=N.currentTarget;h.scrollHeight>h.clientHeight&&N.stopPropagation()},children:y.map((N,h)=>a.jsxs("div",{className:"flex items-center gap-1 group",children:[a.jsx("span",{className:"text-theme-ink",children:""}),a.jsx("input",{className:`flex-1 border-b border-theme-border/50 focus:border-theme-border focus:outline-none ${i} min-w-0 bg-transparent text-theme-ink font-body`,value:N,onChange:d=>b(h,d.target.value),placeholder:"...",onMouseDown:d=>d.stopPropagation()}),a.jsx("button",{onClick:()=>k(h),className:"opacity-0 group-hover:opacity-100 text-theme-muted hover:text-theme-ink px-1 flex-shrink-0",onMouseDown:d=>d.stopPropagation(),children:""})]},h))})]})}function ni({widget:e,height:t}){const n=W(k=>k.updateWidgetData),{label:r,text:o=""}=e.data,l=E.useRef(null),s="text-xs",i="text-xs p-1",c="gap-1",u=t>=1e4,y=Math.max(32,t-16-4-0*2);E.useEffect(()=>{u&&l.current&&(l.current.style.height="auto",l.current.style.height=`${Math.max(60,l.current.scrollHeight)}px`)},[o,u]);const b=k=>{n(e.id,{text:k.target.value}),u&&l.current&&(l.current.style.height="auto",l.current.style.height=`${Math.max(60,l.current.scrollHeight)}px`)};return a.jsxs("div",{className:`flex flex-col ${c} w-full ${u?"":"h-full"}`,children:[r&&a.jsx("div",{className:`font-bold ${s} text-theme-ink font-heading flex-shrink-0`,children:r}),a.jsx("textarea",{ref:l,className:`w-full ${u?"":"flex-1"} ${i} border border-theme-border/50 focus:border-theme-border focus:outline-none resize-none bg-transparent text-theme-ink font-body rounded-theme`,style:u?{minHeight:"60px",overflow:"hidden",height:"auto"}:{height:`${y}px`},value:o,onChange:b,placeholder:"Enter text here...",onMouseDown:k=>k.stopPropagation()})]})}function ri({widget:e,height:t}){const n=W(k=>k.updateWidgetData),{label:r,checkboxItems:o=[]}=e.data,l="text-xs",s="text-xs",i="w-4 h-4",c="text-xs",u="gap-1",y=Math.max(30,t-16-4-0*2),b=k=>{const N=[...o];N[k]={...N[k],checked:!N[k].checked},n(e.id,{checkboxItems:N})};return a.jsxs("div",{className:`flex flex-col ${u} w-full h-full`,children:[r&&a.jsx("div",{className:`font-bold ${l} text-theme-ink font-heading flex-shrink-0`,children:r}),a.jsxs("div",{className:"flex flex-col gap-0.5 overflow-y-auto flex-1",style:{maxHeight:`${y}px`},onWheel:k=>{const N=k.currentTarget;N.scrollHeight>N.clientHeight&&k.stopPropagation()},children:[o.map((k,N)=>a.jsxs("div",{className:`flex items-center ${u}`,children:[a.jsx("button",{onClick:()=>b(N),onMouseDown:h=>h.stopPropagation(),className:`${i} border-[length:var(--border-width)] border-theme-border flex items-center justify-center transition-colors flex-shrink-0 rounded-theme ${k.checked?"bg-theme-accent text-theme-paper":"bg-theme-paper hover:opacity-80"}`,children:k.checked&&a.jsx("span",{className:c,children:""})}),a.jsx("span",{className:`flex-1 ${s} font-body text-theme-ink ${k.checked?"line-through text-theme-muted":""}`,children:k.name})]},N)),o.length===0&&a.jsx("div",{className:`${s} text-theme-muted italic`,children:"No items yet"})]})]})}function Fc({title:e,onConfirm:t,onCancel:n,buttonLabel:r,isDamage:o}){const[l,s]=E.useState(1),i=()=>{const c=typeof l=="string"?parseInt(l)||1:l;t(Math.max(1,c))};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:n}),a.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme p-4 z-50 min-w-[200px]",children:[a.jsx("h3",{className:"font-heading text-theme-ink font-bold mb-3",children:e}),a.jsx("input",{type:"number",min:"1",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent mb-3 text-center font-bold text-lg",value:l,onChange:c=>s(c.target.value===""?"":parseInt(c.target.value)||""),onBlur:c=>s(Math.max(1,parseInt(c.target.value)||1)),autoFocus:!0,onKeyDown:c=>{c.key==="Enter"&&i(),c.key==="Escape"&&n()}}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:n,className:"flex-1 px-3 py-1.5 text-sm font-body text-theme-ink hover:bg-theme-accent/20 rounded-theme transition-colors border border-theme-border",children:"Cancel"}),a.jsx("button",{onClick:i,className:"flex-1 px-3 py-1.5 text-sm font-body rounded-theme transition-colors bg-theme-accent text-theme-paper hover:opacity-80",children:r})]})]})]})}function oi({widget:e}){const t=W(d=>d.updateWidgetData),{label:n,currentValue:r=10,maxValue:o=10}=e.data,[l,s]=E.useState(!1),[i,c]=E.useState(!1),u=Math.max(0,Math.min(100,r/o*100)),f="text-xs",x="text-xs",p="px-1.5 py-0.5 text-[10px]",y="gap-1",b="h-4",k=d=>{const m=Math.max(0,r-d);t(e.id,{currentValue:m}),s(!1)},N=d=>{const m=Math.min(o,r+d);t(e.id,{currentValue:m}),c(!1)},h=()=>{t(e.id,{currentValue:o})};return a.jsxs("div",{className:`flex flex-col ${y} w-full h-full justify-between`,children:[n&&a.jsx("div",{className:`font-bold ${f} text-theme-ink font-heading flex-shrink-0`,children:n}),a.jsx("div",{className:"flex-1 flex flex-col justify-center",children:a.jsxs("div",{className:`relative ${b} bg-theme-muted/30 rounded-theme overflow-hidden border border-theme-border`,children:[a.jsx("div",{className:"absolute inset-y-0 left-0 bg-theme-accent transition-all duration-300 ease-out",style:{width:`${u}%`}}),a.jsxs("div",{className:`absolute inset-0 flex items-center justify-center font-bold ${x} text-theme-ink`,style:{textShadow:"0 0 3px var(--color-paper), 0 0 3px var(--color-paper), 0 0 3px var(--color-paper)"},children:[r," / ",o]})]})}),a.jsxs("div",{className:"flex items-center justify-between gap-1 flex-shrink-0",children:[a.jsx("button",{onClick:()=>s(!0),onMouseDown:d=>d.stopPropagation(),className:`${p} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme font-bold`,children:"Damage"}),a.jsx("button",{onClick:()=>c(!0),onMouseDown:d=>d.stopPropagation(),className:`${p} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme font-bold`,children:"Heal"}),a.jsx("button",{onClick:h,onMouseDown:d=>d.stopPropagation(),className:`${p} bg-theme-accent text-theme-paper hover:opacity-80 transition-colors rounded-theme font-bold`,children:"Full"})]}),l&&a.jsx(Fc,{title:"Take Damage",onConfirm:k,onCancel:()=>s(!1),buttonLabel:"Damage",isDamage:!0}),i&&a.jsx(Fc,{title:"Heal",onConfirm:N,onCancel:()=>c(!1),buttonLabel:"Heal",isDamage:!1})]})}function ai({widget:e}){const{label:t,diceGroups:n=[{count:1,faces:20}],modifier:r=0}=e.data,[o,l]=E.useState(null),[s,i]=E.useState(!1),c="text-xs",u="py-1 px-2 text-xs",f="text-xl",x="text-[10px]",p="gap-1",y=()=>{i(!0),setTimeout(()=>{const N=[];let h=0;for(const d of n){const m=[];for(let w=0;w<d.count;w++){const g=Math.floor(Math.random()*d.faces)+1;m.push(g),h+=g}N.push({faces:d.faces,rolls:m})}l({groups:N,modifier:r,total:h+r}),i(!1)},300)},k=(()=>{let h=n.map(d=>`${d.count}d${d.faces}`).join(" + ");return r!==0&&(h+=r>=0?` + ${r}`:` - ${Math.abs(r)}`),h})();return a.jsxs("div",{className:`flex flex-col ${p} w-full h-full`,children:[t&&a.jsx("div",{className:`font-bold text-center ${c} text-theme-ink font-heading flex-shrink-0`,children:t}),a.jsxs("button",{onClick:y,onMouseDown:N=>N.stopPropagation(),className:`${u} border-[length:var(--border-width)] border-theme-border font-bold transition-all rounded-theme flex-shrink-0 ${s?"bg-theme-muted animate-pulse text-theme-paper":"bg-theme-paper text-theme-ink hover:bg-theme-accent hover:text-theme-paper"}`,disabled:s,children:[" Roll ",k]}),a.jsx("div",{className:"text-center border-t border-theme-border/50 pt-1 flex-1 flex flex-col justify-center",children:o&&!s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`${f} font-bold text-theme-ink font-heading`,children:o.total}),a.jsxs("div",{className:`${x} text-theme-muted font-body`,children:[o.groups.map((N,h)=>a.jsxs("span",{children:[h>0&&" + ",a.jsxs("span",{title:`d${N.faces}`,children:["[",N.rolls.join(", "),"]"]})]},h)),o.modifier!==0&&a.jsxs("span",{children:[" ",o.modifier>=0?"+":"",o.modifier]})]}),o.groups.length===1&&o.groups[0].rolls.length===1&&o.groups[0].faces===20&&a.jsxs(a.Fragment,{children:[o.groups[0].rolls[0]===20&&a.jsx("div",{className:`text-green-600 font-bold ${x}`,children:"NAT 20!"}),o.groups[0].rolls[0]===1&&a.jsx("div",{className:`text-red-600 font-bold ${x}`,children:"NAT 1!"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`${f} font-bold text-theme-muted font-heading`,children:""}),a.jsx("div",{className:`${x} text-theme-muted font-body`,children:""})]})})]})}function li({widget:e}){const{label:t,availableDice:n=[4,6,8,10,12,20]}=e.data,[r,o]=E.useState([]),[l,s]=E.useState(null),[i,c]=E.useState(!1),[u,f]=E.useState(1),x="text-xs",p="py-1 px-2 text-xs",y="text-xl",b="text-[10px]",k="gap-1",N=g=>{o(v=>[...v,{faces:g,id:u}]),f(v=>v+1),s(null)},h=()=>{o([]),s(null)},d=()=>{r.length!==0&&(c(!0),setTimeout(()=>{const g=[];let v=0;for(const S of r){const C=Math.floor(Math.random()*S.faces)+1;g.push({faces:S.faces,roll:C}),v+=C}s({dice:g,total:v}),c(!1),o([]),f(1)},300))},m=r.reduce((g,v)=>(g[v.faces]=(g[v.faces]||0)+1,g),{}),w=()=>{const g=Object.entries(m).sort(([v],[S])=>Number(S)-Number(v)).map(([v,S])=>`${S}d${v}`);return g.length>0?g.join(" + "):"Empty"};return a.jsxs("div",{className:`flex flex-col ${k} w-full h-full`,children:[t&&a.jsx("div",{className:`font-bold text-center ${x} text-theme-ink font-heading flex-shrink-0`,children:t}),a.jsx("div",{className:"flex flex-wrap gap-1 justify-center flex-shrink-0",children:n.map(g=>a.jsxs("button",{onClick:()=>N(g),onMouseDown:v=>v.stopPropagation(),className:`${p} border-[length:var(--border-width)] border-theme-border font-bold transition-all rounded-theme bg-theme-paper text-theme-ink hover:bg-theme-accent hover:text-theme-paper min-w-[40px]`,title:`Add d${g}`,children:["d",g]},g))}),a.jsx("div",{className:"flex-1 flex flex-col justify-center",children:a.jsxs("div",{className:"flex gap-1 justify-center flex-shrink-0",children:[a.jsx("button",{onClick:d,onMouseDown:g=>g.stopPropagation(),className:`${p} border-[length:var(--border-width)] border-theme-border font-bold transition-all rounded-theme flex-1 ${i||r.length===0?"bg-theme-muted text-theme-paper cursor-not-allowed":"bg-theme-accent text-theme-paper hover:opacity-90"}`,disabled:i||r.length===0,children:r.length>0?`Roll ${w()}`:"Roll"}),r.length>0&&a.jsx("button",{onClick:h,onMouseDown:g=>g.stopPropagation(),className:`${p} border-[length:var(--border-width)] border-theme-border font-bold transition-all rounded-theme bg-theme-paper text-theme-ink hover:bg-red-500 hover:text-white hover:border-red-500`,children:"Clear"})]})}),a.jsx("div",{className:"text-center border-t border-theme-border/50 pt-1 flex-shrink-0",children:l&&!i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`${y} font-bold text-theme-ink font-heading`,children:l.total}),a.jsx("div",{className:`${b} text-theme-muted font-body`,children:l.dice.map((g,v)=>a.jsxs("span",{children:[v>0&&" + ",a.jsx("span",{title:`d${g.faces}`,children:g.roll})]},v))}),l.dice.length===1&&l.dice[0].faces===20&&a.jsxs(a.Fragment,{children:[l.dice[0].roll===20&&a.jsx("div",{className:`text-green-600 font-bold ${b}`,children:"NAT 20!"}),l.dice[0].roll===1&&a.jsx("div",{className:`text-red-600 font-bold ${b}`,children:"NAT 1!"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`${y} font-bold text-theme-muted font-heading`,children:""}),a.jsx("div",{className:`${b} text-theme-muted font-body`,children:""})]})})]})}function si({widget:e,height:t}){const n=W(d=>d.updateWidgetData),{label:r,spellLevels:o=[{level:1,max:4,used:0}]}=e.data,l="text-xs",s="w-6 text-[10px]",i="w-4 h-4",c="text-[10px] px-1 py-0.5",u="gap-1",b=Math.max(30,t-16-28-4*3-0*2),k=(d,m)=>{const w=[...o],g=w[d];m<g.used?w[d]={...g,used:m}:w[d]={...g,used:m+1},n(e.id,{spellLevels:w})},N=()=>{const d=o.map(m=>({...m,used:0}));n(e.id,{spellLevels:d})},h=d=>{const m=["th","st","nd","rd"],w=d%100;return d+(m[(w-20)%10]||m[w]||m[0])};return a.jsxs("div",{className:`flex flex-col ${u} w-full h-full`,children:[r&&a.jsx("div",{className:`font-bold ${l} text-theme-ink font-heading flex-shrink-0`,children:r}),a.jsxs("div",{className:`flex flex-col ${u} overflow-y-auto flex-1`,style:{maxHeight:`${b}px`},onWheel:d=>{const m=d.currentTarget;m.scrollHeight>m.clientHeight&&d.stopPropagation()},children:[o.map((d,m)=>a.jsxs("div",{className:`flex items-center ${u}`,children:[a.jsx("span",{className:`${s} font-bold text-center text-theme-ink`,children:h(d.level)}),a.jsx("div",{className:"flex gap-1 flex-1 flex-wrap",children:Array.from({length:d.max}).map((w,g)=>a.jsx("button",{onClick:()=>k(m,g),onMouseDown:v=>v.stopPropagation(),className:`${i} rounded-full border-[length:var(--border-width)] border-theme-border transition-all ${g<d.used?"bg-theme-accent":"bg-theme-paper hover:opacity-80"}`,title:g<d.used?"Click to restore":"Click to use"},g))})]},m)),o.length===0&&a.jsx("div",{className:`${s} text-theme-muted italic`,children:"No spell levels configured"})]}),a.jsx("div",{className:`flex items-center justify-end ${u} border-t border-theme-border/50 pt-2 flex-shrink-0`,children:a.jsx("button",{onClick:N,onMouseDown:d=>d.stopPropagation(),className:`${c} border border-theme-border hover:bg-theme-accent hover:text-theme-paper transition-colors text-theme-ink rounded-theme`,children:"Reset All"})})]})}function ii({widget:e,width:t,height:n}){const{label:r,imageUrl:o=""}=e.data,l="text-xs",s="text-2xl",i="text-[10px]",c="gap-1",u=n>1e3,y=u?Math.min(300,t):Math.max(40,n-16-4-0*2);return a.jsxs("div",{className:`flex flex-col ${c} w-full ${u?"":"h-full"}`,children:[r&&a.jsx("div",{className:`font-bold text-center ${l} text-theme-ink font-heading flex-shrink-0`,children:r}),a.jsx("div",{className:`border-[length:var(--border-width)] border-theme-border bg-theme-background flex items-center justify-center overflow-hidden rounded-theme ${u?"":"flex-1"}`,style:{height:`${y}px`},children:o?a.jsx("img",{src:o,alt:r||"Character",className:`w-full h-full ${u?"object-contain":"object-cover"}`,onError:b=>{b.target.style.display="none"}}):a.jsxs("div",{className:"text-theme-muted text-center p-1",children:[a.jsx("div",{className:`${s} mb-1`,children:""}),a.jsx("span",{className:`${i} font-body`,children:"No image"})]})})]})}const Hc=(e,t)=>{switch(t){case"hearts":return e?"":"";case"boxes":return e?"":"";case"stars":return e?"":"";case"diamonds":return e?"":"";case"crosses":return e?"":"";case"checkmarks":return e?"":"";case"flames":return e?"":"";case"skulls":return e?"":"";case"shields":return e?"":"";case"swords":return e?"":"";case"lightning":return e?"":"";case"moons":return e?"":"";case"suns":return e?"":"";case"coins":return e?"":"";case"gems":return e?"":"";case"dots":default:return e?"":""}},Uc=(e,t,n)=>{const r=`${n} flex items-center justify-center transition-all cursor-pointer hover:scale-125`;return["hearts","flames","skulls","shields","swords","lightning","moons","suns","coins","gems"].includes(t)?r:`${r} ${e?"text-theme-ink":"text-theme-muted"}`};function ci({widget:e,height:t}){const n=W(d=>d.updateWidgetData),{label:r,maxPool:o=5,currentPool:l=5,poolStyle:s="dots",showPoolCount:i=!0,poolResources:c=[]}=e.data,u="text-xs",f="w-5 h-5 text-sm",x="text-[10px]",p="gap-1",y=c.length>0,b=d=>{d<l?n(e.id,{currentPool:d}):n(e.id,{currentPool:d+1})},k=(d,m)=>{const w=c[d],g=[...c];m<w.current?g[d]={...w,current:m}:g[d]={...w,current:m+1},n(e.id,{poolResources:g})},h=t-(r?20:0)-8;return a.jsxs("div",{className:`flex flex-col ${p} w-full h-full`,children:[r&&a.jsx("div",{className:`font-bold ${u} text-theme-ink font-heading flex-shrink-0`,children:r}),y?a.jsx("div",{className:"flex flex-col gap-2 flex-1 overflow-y-auto pr-1",style:{maxHeight:`${h}px`},onWheel:d=>{const m=d.currentTarget;m.scrollHeight>m.clientHeight&&d.stopPropagation()},children:c.map((d,m)=>a.jsxs("div",{className:`flex flex-col ${p}`,children:[d.name&&a.jsx("div",{className:`font-medium ${x} text-theme-ink font-body`,children:d.name}),a.jsx("div",{className:"flex flex-wrap gap-0.5 content-start",children:Array.from({length:d.max}).map((w,g)=>a.jsx("button",{onClick:()=>k(m,g),onMouseDown:v=>v.stopPropagation(),className:Uc(g<d.current,d.style,f),title:g<d.current?"Click to use":"Click to restore",children:Hc(g<d.current,d.style)},g))}),i&&a.jsxs("div",{className:`${x} text-theme-muted font-body`,children:[d.current," / ",d.max]})]},m))}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex flex-wrap gap-0.5 flex-1 content-start overflow-y-auto",onWheel:d=>{const m=d.currentTarget;m.scrollHeight>m.clientHeight&&d.stopPropagation()},children:Array.from({length:o}).map((d,m)=>a.jsx("button",{onClick:()=>b(m),onMouseDown:w=>w.stopPropagation(),className:Uc(m<l,s,f),title:m<l?"Click to use":"Click to restore",children:Hc(m<l,s)},m))}),i&&a.jsxs("div",{className:`${x} text-center text-theme-muted font-body flex-shrink-0`,children:[l," / ",o]})]})]})}function ui({widget:e}){const t=W(c=>c.updateWidgetData),{label:n,toggleItems:r=[]}=e.data,o="text-xs",l="px-1.5 py-0.5 text-[10px]",s="gap-1",i=c=>{const u=[...r];u[c]={...u[c],active:!u[c].active},t(e.id,{toggleItems:u})};return a.jsxs("div",{className:`flex flex-col ${s} w-full h-full`,children:[n&&a.jsx("div",{className:`font-bold ${o} text-theme-ink font-heading flex-shrink-0`,children:n}),a.jsxs("div",{className:`flex flex-wrap ${s} overflow-y-auto flex-1 content-start`,onWheel:c=>{const u=c.currentTarget;u.scrollHeight>u.clientHeight&&c.stopPropagation()},children:[r.map((c,u)=>a.jsx("button",{onClick:()=>i(u),onMouseDown:f=>f.stopPropagation(),className:`${l} border border-theme-border transition-all rounded-theme font-body ${c.active?"bg-theme-accent text-theme-paper":"bg-theme-paper text-theme-ink hover:opacity-80"}`,children:c.name},u)),r.length===0&&a.jsx("div",{className:`${l} text-theme-muted italic`,children:"No conditions configured"})]})]})}function di({widget:e,height:t}){const n=W(R=>R.updateWidgetData),{label:r,columns:o=["Item","Qty","Weight"],rows:l=[]}=e.data,[s,i]=E.useState(null),[c,u]=E.useState(null),[f,x]=E.useState(null),p=na.useRef(null),y="text-xs",b="text-[10px] p-0.5",k="gap-1",m=Math.max(40,t-16-4-0*2),w=(R,$,M)=>{const B=[...l];B[R]={...B[R],cells:[...B[R].cells]},B[R].cells[$]=M,n(e.id,{rows:B})},g=R=>{const $=[...l];$[R]={cells:o.map(()=>"")},n(e.id,{rows:$})},v=(R,$)=>{p.current=$,u($),R.dataTransfer.effectAllowed="move",R.dataTransfer.setData("text/plain",$.toString())},S=(R,$)=>{R.preventDefault(),R.stopPropagation(),p.current!==null&&p.current!==$&&x($)},C=()=>{x(null)},j=(R,$)=>{R.preventDefault(),R.stopPropagation();const M=p.current;if(M!==null&&M!==$){const B=[...l],[F]=B.splice(M,1),U=M<$?$-1:$;B.splice(U,0,F),n(e.id,{rows:B})}p.current=null,u(null),x(null)},T=()=>{p.current=null,u(null),x(null)};return a.jsxs("div",{className:`flex flex-col ${k} w-full h-full`,children:[r&&a.jsx("div",{className:`font-bold ${y} text-theme-ink font-heading flex-shrink-0`,children:r}),a.jsx("div",{className:"overflow-auto flex-1",style:{maxHeight:`${m}px`},onWheel:R=>{const $=R.currentTarget;($.scrollHeight>$.clientHeight||$.scrollWidth>$.clientWidth)&&R.stopPropagation()},onDragOver:R=>R.preventDefault(),children:a.jsxs("table",{className:`w-full border-collapse ${b}`,children:[a.jsx("thead",{className:"sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"w-4"}),o.map((R,$)=>a.jsx("th",{className:`border border-theme-border bg-theme-background ${b} text-theme-ink font-heading`,children:R},$)),a.jsx("th",{className:"w-4"})]})}),a.jsx("tbody",{children:l.map((R,$)=>a.jsxs("tr",{className:`group ${c===$?"opacity-50":""} ${f===$&&c!==$?"border-t-2 border-theme-accent":""}`,onDragOver:M=>{M.preventDefault(),M.stopPropagation(),S(M,$)},onDragLeave:C,onDrop:M=>{M.preventDefault(),M.stopPropagation(),j(M,$)},children:[a.jsx("td",{className:"w-4 p-0 cursor-grab active:cursor-grabbing",draggable:!0,onDragStart:M=>v(M,$),onDragEnd:T,onMouseDown:M=>M.stopPropagation(),children:a.jsx("div",{className:"text-theme-muted hover:text-theme-ink text-[10px] text-center touch-none select-none",children:""})}),R.cells.map((M,B)=>a.jsx("td",{className:`border border-theme-border ${b} text-theme-ink`,children:(s==null?void 0:s.row)===$&&(s==null?void 0:s.col)===B?a.jsx("input",{autoFocus:!0,value:M,onChange:F=>w($,B,F.target.value),onBlur:()=>i(null),onKeyDown:F=>{F.key==="Enter"?i(null):F.key==="Tab"&&(F.preventDefault(),F.shiftKey?B>0?i({row:$,col:B-1}):$>0&&i({row:$-1,col:o.length-1}):B<o.length-1?i({row:$,col:B+1}):$<l.length-1&&i({row:$+1,col:0}))},className:"w-full bg-transparent focus:outline-none text-[10px] text-theme-ink font-body",onMouseDown:F=>F.stopPropagation()}):a.jsx("div",{onClick:()=>i({row:$,col:B}),onMouseDown:F=>F.stopPropagation(),className:"min-h-[1em] cursor-text hover:opacity-70 font-body",children:M||a.jsx("span",{className:"text-theme-muted",children:"-"})})},B)),a.jsx("td",{className:"w-4 p-0",children:a.jsx("button",{onClick:()=>g($),onMouseDown:M=>M.stopPropagation(),className:"w-full h-full text-theme-muted hover:text-theme-ink opacity-0 group-hover:opacity-100",children:""})})]},$))})]})})]})}function Vc({title:e,onClose:t,children:n}){return tr.createPortal(a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999]",onClick:t,onMouseDown:r=>r.stopPropagation(),children:a.jsxs("div",{className:"bg-theme-paper border border-theme-border rounded-theme shadow-xl p-4 min-w-[280px] max-w-[400px]",onClick:r=>r.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"font-bold text-theme-ink font-heading",children:e}),a.jsx("button",{onClick:t,className:"text-theme-muted hover:text-theme-ink text-xl leading-none",children:""})]}),n]})}),document.body)}function $g(e){if(e<=0)return"Expired";const t=Math.floor(e/(365*24*60*60)),n=Math.floor(e%(365*24*60*60)/(30*24*60*60)),r=Math.floor(e%(30*24*60*60)/(24*60*60)),o=Math.floor(e%(24*60*60)/(60*60)),l=Math.floor(e%(60*60)/60),s=e%60,i=[];return t>0&&i.push(`${t}y`),n>0&&i.push(`${n}mo`),r>0&&i.push(`${r}d`),o>0&&i.push(`${o}h`),l>0&&i.push(`${l}m`),(s>0||i.length===0)&&i.push(`${s}s`),i.slice(0,3).join(" ")}function Gc(e,t){switch(t){case"seconds":return e;case"minutes":return e*60;case"hours":return e*60*60;case"days":return e*24*60*60;case"months":return e*30*24*60*60;case"years":return e*365*24*60*60;default:return e}}function Ag(e){return e<=0?"Expired":e===1?"1 round":`${e} rounds`}function hi({widget:e,height:t}){const n=W(P=>P.updateWidgetData),{label:r,timedEffects:o=[],roundMode:l=!1}=e.data,[s,i]=E.useState(!1),[c,u]=E.useState(!1),[f,x]=E.useState(""),[p,y]=E.useState(1),[b,k]=E.useState("minutes"),[N,h]=E.useState(1),[d,m]=E.useState("minutes"),w="text-xs",g="text-xs",v="text-xs px-2 py-1",S="gap-1",C=()=>{if(f.trim()){const P=l?p:Gc(p,b),A={name:f.trim(),remainingSeconds:P};n(e.id,{timedEffects:[...o,A]}),x(""),y(1),i(!1)}},j=()=>{x(""),y(1),i(!1)},T=P=>{const A=[...o];A.splice(P,1),n(e.id,{timedEffects:A})},R=()=>{const P=l?1:Gc(N,d),A=o.map(D=>({...D,remainingSeconds:Math.max(0,D.remainingSeconds-P)}));n(e.id,{timedEffects:A}),u(!1)},$=()=>{const P=o.map(A=>({...A,remainingSeconds:Math.max(0,A.remainingSeconds-1)}));n(e.id,{timedEffects:P})},M=()=>{h(1),u(!1)},I=Math.max(60,t-16-32-4*3-0*2);return a.jsxs("div",{className:`flex flex-col ${S} w-full h-full`,children:[r&&a.jsx("div",{className:`font-bold ${w} text-theme-ink font-heading flex-shrink-0`,children:r}),a.jsxs("div",{className:`space-y-1 overflow-y-auto flex-1 ${g}`,style:{maxHeight:`${I}px`},onWheel:P=>{const A=P.currentTarget;A.scrollHeight>A.clientHeight&&P.stopPropagation()},children:[o.map((P,A)=>a.jsxs("div",{className:`flex items-center group px-1.5 py-0.5 rounded-theme border ${P.remainingSeconds<=0?"bg-theme-accent/20 border-theme-accent animate-pulse":"border-theme-border/30 hover:border-theme-border"}`,children:[a.jsx("span",{className:`flex-1 min-w-0 truncate font-medium ${P.remainingSeconds<=0?"text-theme-accent":"text-theme-ink"}`,children:P.name}),a.jsx("span",{className:`flex-shrink-0 ml-2 ${P.remainingSeconds<=0?"text-theme-accent font-bold":"text-theme-muted"}`,children:l?Ag(P.remainingSeconds):$g(P.remainingSeconds)}),a.jsx("button",{onClick:()=>T(A),className:"opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 px-1 flex-shrink-0",onMouseDown:D=>D.stopPropagation(),children:""})]},A)),o.length===0&&!s&&a.jsx("div",{className:"text-theme-muted italic text-center py-2",children:"No active effects"})]}),a.jsxs("div",{className:`flex ${S} border-t border-theme-border/50 pt-2 flex-shrink-0`,children:[a.jsx("button",{onClick:()=>i(!0),className:`${v} flex-1 border border-theme-border text-theme-ink rounded-theme hover:bg-theme-accent hover:text-theme-paper transition-colors font-bold`,onMouseDown:P=>P.stopPropagation(),children:"+ Add Effect"}),o.length>0&&(l?a.jsx("button",{onClick:$,className:`${v} flex-1 border border-theme-border text-theme-ink rounded-theme hover:bg-theme-accent hover:text-theme-paper transition-colors font-bold`,onMouseDown:P=>P.stopPropagation(),children:" Pass Round"}):a.jsx("button",{onClick:()=>u(!0),className:`${v} flex-1 border border-theme-border text-theme-ink rounded-theme hover:bg-theme-accent hover:text-theme-paper transition-colors font-bold`,onMouseDown:P=>P.stopPropagation(),children:" Pass Time"}))]}),s&&a.jsx(Vc,{title:"Add Effect",onClose:j,children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{className:"w-full border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme",value:f,onChange:P=>x(P.target.value),placeholder:"Effect name...",autoFocus:!0,onKeyDown:P=>{P.key==="Enter"&&C(),P.key==="Escape"&&j()}}),l?a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("input",{type:"number",min:"1",className:"w-20 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme text-center",value:p,onChange:P=>y(P.target.value===""?"":parseInt(P.target.value)||1),onBlur:P=>y(Math.max(1,parseInt(P.target.value)||1))}),a.jsx("span",{className:"text-theme-ink",children:p===1?"round":"rounds"})]}):a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",min:"1",className:"w-20 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme text-center",value:p,onChange:P=>y(P.target.value===""?"":parseInt(P.target.value)||1),onBlur:P=>y(Math.max(1,parseInt(P.target.value)||1))}),a.jsxs("select",{className:"flex-1 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme",value:b,onChange:P=>k(P.target.value),children:[a.jsx("option",{value:"seconds",children:"Seconds"}),a.jsx("option",{value:"minutes",children:"Minutes"}),a.jsx("option",{value:"hours",children:"Hours"}),a.jsx("option",{value:"days",children:"Days"}),a.jsx("option",{value:"months",children:"Months"}),a.jsx("option",{value:"years",children:"Years"})]})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx("button",{onClick:C,className:"flex-1 py-2 px-4 bg-theme-accent text-theme-paper rounded-theme hover:opacity-90 transition-colors font-bold",children:"Add Effect"}),a.jsx("button",{onClick:j,className:"flex-1 py-2 px-4 border border-theme-border text-theme-muted rounded-theme hover:bg-theme-border hover:text-theme-ink transition-colors",children:"Cancel"})]})]})}),c&&a.jsx(Vc,{title:"Pass Time",onClose:M,children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-theme-muted text-sm",children:"How much time passes for all effects?"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",min:"1",className:"w-20 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme text-center",value:N,onChange:P=>h(P.target.value===""?"":parseInt(P.target.value)||1),onBlur:P=>h(Math.max(1,parseInt(P.target.value)||1)),autoFocus:!0,onKeyDown:P=>{P.key==="Enter"&&R(),P.key==="Escape"&&M()}}),a.jsxs("select",{className:"flex-1 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme",value:d,onChange:P=>m(P.target.value),children:[a.jsx("option",{value:"seconds",children:"Seconds"}),a.jsx("option",{value:"minutes",children:"Minutes"}),a.jsx("option",{value:"hours",children:"Hours"}),a.jsx("option",{value:"days",children:"Days"}),a.jsx("option",{value:"months",children:"Months"}),a.jsx("option",{value:"years",children:"Years"})]})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx("button",{onClick:R,className:"flex-1 py-2 px-4 bg-theme-accent text-theme-paper rounded-theme hover:opacity-90 transition-colors font-bold",children:"Confirm"}),a.jsx("button",{onClick:M,className:"flex-1 py-2 px-4 border border-theme-border text-theme-muted rounded-theme hover:bg-theme-border hover:text-theme-ink transition-colors",children:"Cancel"})]})]})})]})}function fi({widget:e,height:t}){const n=W(y=>y.updateWidgetData),{label:r,formItems:o=[]}=e.data,l="text-xs",s="text-xs",i="gap-1",x=Math.max(30,t-16-4-0*2),p=(y,b)=>{const k=[...o];k[y]={...k[y],value:b},n(e.id,{formItems:k})};return a.jsxs("div",{className:`flex flex-col ${i} w-full h-full`,children:[r&&a.jsx("div",{className:`font-bold ${l} text-theme-ink font-heading flex-shrink-0`,children:r}),a.jsxs("div",{className:"flex flex-col gap-0.5 overflow-y-auto overflow-x-hidden flex-1 pr-1",style:{maxHeight:`${x}px`},onWheel:y=>{const b=y.currentTarget;b.scrollHeight>b.clientHeight&&y.stopPropagation()},children:[o.map((y,b)=>a.jsxs("div",{className:`flex items-center ${i}`,children:[a.jsx("span",{className:`w-1/3 ${s} text-theme-ink font-body truncate flex-shrink-0`,children:y.name}),a.jsx("input",{type:"text",value:y.value,onChange:k=>p(b,k.target.value),onMouseDown:k=>k.stopPropagation(),className:`flex-1 ${s} px-1 py-0.5 border-b border-theme-border/50 focus:border-theme-border focus:outline-none bg-transparent text-theme-ink font-body min-w-0`,placeholder:"..."})]},b)),o.length===0&&a.jsx("div",{className:`${s} text-theme-muted italic`,children:"No fields yet"})]})]})}function zg({title:e,onClose:t,children:n}){return tr.createPortal(a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999]",onClick:t,onMouseDown:r=>r.stopPropagation(),children:a.jsxs("div",{className:"bg-theme-paper border border-theme-border rounded-theme shadow-xl p-4 min-w-[280px] max-w-[400px]",onClick:r=>r.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"font-bold text-theme-ink font-heading",children:e}),a.jsx("button",{onClick:t,className:"text-theme-muted hover:text-theme-ink text-xl leading-none",children:""})]}),n]})}),document.body)}function Yc(e,t){switch(t){case"seconds":return e;case"minutes":return e*60;case"hours":return e*60*60;case"days":return e*24*60*60;case"months":return e*30*24*60*60;case"years":return e*365*24*60*60;default:return e}}function Wg(e){let t=0;for(const n of e)for(let r=0;r<n.count;r++)t+=Math.floor(Math.random()*n.faces)+1;return t}function Bg(e){return e.map(t=>`${t.count}d${t.faces}`).join(" + ")}function mi({widget:e}){const t=W(T=>T.performRest),[n,r]=E.useState(null),[o,l]=E.useState(!1),[s,i]=E.useState(!1),[c,u]=E.useState(1),[f,x]=E.useState("hours"),{buttonText:p="Rest",healToFull:y=!1,healRandomDice:b=[],healFlatAmount:k=0,clearConditions:N=!1,resetSpellSlots:h=!1,passTime:d=!1,passTimeAmount:m=0,passTimeUnit:w="hours"}=e.data,g=y||b.length>0||(k??0)>0||N||h||d,v=T=>{l(!0);let R,$="";y?(R="full",$="Healed to full!"):b.length>0?(R=Wg(b)+(k??0),$=`Healed ${R} HP (${Bg(b)}${k?` + ${k}`:""})`):k&&k>0&&(R=k,$=`Healed ${R} HP`);const M=[];R!==void 0&&M.push($),N&&M.push("Conditions cleared"),h&&M.push("Spell slots reset"),T!==void 0&&T>0&&M.push("Time passed"),r(M.join("  ")),t({healAmount:R,clearConditions:N,resetSpellSlots:h,passTimeSeconds:T}),setTimeout(()=>{l(!1)},300),setTimeout(()=>{r(null)},3e3)},S=()=>{if(!g)return;if(d&&(!m||m<=0)){i(!0);return}const T=d&&m>0?Yc(m,w):void 0;v(T)},C=()=>{const T=Yc(c,f);i(!1),v(T)},j=()=>{u(1),x("hours"),i(!1)};return a.jsxs("div",{className:"flex flex-col gap-1 w-full h-full items-center justify-center p-1",children:[a.jsx("button",{onClick:S,onMouseDown:T=>T.stopPropagation(),disabled:!g,className:`w-full h-full min-w-0 px-2 py-1 font-bold text-xs border-[length:var(--border-width)] border-theme-border rounded-theme shadow-theme transition-all font-body truncate ${g?"bg-theme-accent text-theme-paper hover:opacity-90 active:translate-x-[2px] active:translate-y-[2px] active:shadow-none cursor-pointer":"bg-theme-muted text-theme-paper opacity-50 cursor-not-allowed"} ${o?"scale-95":""}`,children:p}),n&&a.jsx("div",{className:"absolute -bottom-5 left-0 right-0 text-[10px] text-theme-accent font-bold text-center font-body animate-pulse whitespace-nowrap",children:n}),s&&a.jsx(zg,{title:"Pass Time",onClose:j,children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-theme-muted text-sm",children:"How much time passes?"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",min:"1",className:"w-20 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme text-center",value:c,onChange:T=>u(T.target.value===""?"":parseInt(T.target.value)||1),onBlur:T=>u(Math.max(1,parseInt(T.target.value)||1)),autoFocus:!0,onKeyDown:T=>{T.key==="Enter"&&C(),T.key==="Escape"&&j()}}),a.jsxs("select",{className:"flex-1 border border-theme-border focus:border-theme-accent focus:outline-none py-2 px-3 bg-theme-paper text-theme-ink font-body rounded-theme",value:f,onChange:T=>x(T.target.value),children:[a.jsx("option",{value:"seconds",children:"Seconds"}),a.jsx("option",{value:"minutes",children:"Minutes"}),a.jsx("option",{value:"hours",children:"Hours"}),a.jsx("option",{value:"days",children:"Days"}),a.jsx("option",{value:"months",children:"Months"}),a.jsx("option",{value:"years",children:"Years"})]})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx("button",{onClick:C,className:"flex-1 py-2 px-4 bg-theme-accent text-theme-paper rounded-theme hover:opacity-90 transition-colors font-bold",children:"Confirm"}),a.jsx("button",{onClick:j,className:"flex-1 py-2 px-4 border border-theme-border text-theme-muted rounded-theme hover:bg-theme-border hover:text-theme-ink transition-colors",children:"Cancel"})]})]})})]})}function Fg({title:e,onConfirm:t,onCancel:n,buttonLabel:r,currentValue:o,maxValue:l}){const[s,i]=E.useState(o),c=()=>{const u=typeof s=="string"?parseInt(s)||0:s;t(Math.max(0,Math.min(l,u)))};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:n}),a.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme p-4 z-50 min-w-[200px]",children:[a.jsx("h3",{className:"font-heading text-theme-ink font-bold mb-3",children:e}),a.jsx("input",{type:"number",min:"0",max:l,className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent mb-3 text-center font-bold text-lg",value:s,onChange:u=>i(u.target.value===""?"":parseInt(u.target.value)||0),onBlur:u=>i(Math.max(0,Math.min(l,parseInt(u.target.value)||0))),autoFocus:!0,onKeyDown:u=>{u.key==="Enter"&&c(),u.key==="Escape"&&n()}}),a.jsxs("p",{className:"text-xs text-theme-muted mb-3 text-center",children:["Max: ",l]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:n,className:"flex-1 px-3 py-1.5 text-sm font-body text-theme-ink hover:bg-theme-accent/20 rounded-theme transition-colors border border-theme-border",children:"Cancel"}),a.jsx("button",{onClick:c,className:"flex-1 px-3 py-1.5 text-sm font-body rounded-theme transition-colors bg-theme-accent text-theme-paper hover:opacity-80",children:r})]})]})]})}function pi({widget:e}){const t=W(N=>N.updateWidgetData),{label:n,currentValue:r=0,maxValue:o=100,showPercentage:l=!0,showValues:s=!0}=e.data,[i,c]=E.useState(!1),u=o>0?Math.max(0,Math.min(100,r/o*100)):0,f="text-xs",x="text-xs",p="gap-1",y="h-4",b=N=>{t(e.id,{currentValue:Math.max(0,Math.min(o,N))}),c(!1)},k=()=>s&&l?`${r} / ${o} (${Math.round(u)}%)`:s?`${r} / ${o}`:l?`${Math.round(u)}%`:"";return a.jsxs("div",{className:`flex flex-col ${p} w-full h-full justify-between`,children:[n&&a.jsx("div",{className:`font-bold ${f} text-theme-ink font-heading flex-shrink-0`,children:n}),a.jsx("div",{className:"flex-1 flex flex-col justify-center",children:a.jsxs("div",{className:`relative ${y} bg-theme-muted/30 rounded-theme overflow-hidden border border-theme-border cursor-pointer`,onClick:()=>c(!0),onMouseDown:N=>N.stopPropagation(),title:"Click to set value",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 bg-theme-accent transition-all duration-300 ease-out",style:{width:`${u}%`}}),(s||l)&&a.jsx("div",{className:`absolute inset-0 flex items-center justify-center font-bold ${x} text-theme-ink`,style:{textShadow:"0 0 3px var(--color-paper), 0 0 3px var(--color-paper), 0 0 3px var(--color-paper)"},children:k()})]})}),i&&a.jsx(Fg,{title:"Set Progress",onConfirm:b,onCancel:()=>c(!1),buttonLabel:"Set",currentValue:r,maxValue:o})]})}function Hg({widget:e,updateData:t}){const{label:n,numberItems:r=[]}=e.data,[o,l]=E.useState(""),s=f=>{f.preventDefault(),o.trim()&&(t({numberItems:[...r,{name:o.trim(),value:0}]}),l(""))},i=f=>{const x=[...r];x.splice(f,1),t({numberItems:x})},c=(f,x)=>{const p=[...r];p[f]={...p[f],name:x},t({numberItems:p})},u=(f,x)=>{const p=[...r];p[f]={...p[f],value:x},t({numberItems:p})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:f=>t({label:f.target.value}),placeholder:"Trackers"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Items"}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:r.map((f,x)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm",value:f.name,onChange:p=>c(x,p.target.value),placeholder:"Name"}),a.jsx("input",{type:"number",className:"w-20 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center",value:f.value,onChange:p=>u(x,parseInt(p.target.value)||0)}),a.jsx("button",{onClick:()=>i(x),className:"text-red-500 hover:text-red-700 px-2",children:""})]},x))}),a.jsxs("form",{onSubmit:s,className:"flex gap-2 mt-2",children:[a.jsx("input",{type:"text",value:o,onChange:f=>l(f.target.value),placeholder:"Add new item...",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm"}),a.jsx("button",{type:"submit",className:"px-3 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90",children:"Add"})]})]})]})}function Ug({widget:e,updateData:t}){const{label:n,displayNumbers:r=[],displayLayout:o="horizontal"}=e.data,[l,s]=E.useState(""),i=x=>{x.preventDefault(),l.trim()&&(t({displayNumbers:[...r,{label:l.trim(),value:0}]}),s(""))},c=x=>{const p=[...r];p.splice(x,1),t({displayNumbers:p})},u=(x,p)=>{const y=[...r];y[x]={...y[x],label:p},t({displayNumbers:y})},f=(x,p)=>{const y=[...r];y[x]={...y[x],value:p},t({displayNumbers:y})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:x=>t({label:x.target.value}),placeholder:"Stats"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Layout"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"displayLayout",value:"horizontal",checked:o==="horizontal",onChange:x=>t({displayLayout:x.target.value}),className:"w-4 h-4 text-theme-accent border-theme-border focus:ring-theme-accent"}),a.jsx("span",{className:"text-sm text-theme-ink",children:"Horizontal"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"displayLayout",value:"vertical",checked:o==="vertical",onChange:x=>t({displayLayout:x.target.value}),className:"w-4 h-4 text-theme-accent border-theme-border focus:ring-theme-accent"}),a.jsx("span",{className:"text-sm text-theme-ink",children:"Vertical"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Numbers"}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:r.map((x,p)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm",value:x.label,onChange:y=>u(p,y.target.value),placeholder:"Label"}),a.jsx("input",{type:"number",className:"w-20 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center",value:x.value,onChange:y=>f(p,parseInt(y.target.value)||0)}),a.jsx("button",{onClick:()=>c(p),className:"text-red-500 hover:text-red-700 px-2",children:""})]},p))}),a.jsxs("form",{onSubmit:i,className:"flex gap-2 mt-2",children:[a.jsx("input",{type:"text",value:l,onChange:x=>s(x.target.value),placeholder:"Add new number...",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm"}),a.jsx("button",{type:"submit",className:"px-3 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90",children:"Add"})]})]})]})}function Vg({widget:e,updateData:t}){const{label:n,formItems:r=[]}=e.data,[o,l]=E.useState(""),s=f=>{f.preventDefault(),o.trim()&&(t({formItems:[...r,{name:o.trim(),value:""}]}),l(""))},i=f=>{const x=[...r];x.splice(f,1),t({formItems:x})},c=(f,x)=>{const p=[...r];p[f]={...p[f],name:x},t({formItems:p})},u=(f,x)=>{const p=[...r];p[f]={...p[f],value:x},t({formItems:p})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:f=>t({label:f.target.value}),placeholder:"Form Fields"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Items"}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:r.map((f,x)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm",value:f.name,onChange:p=>c(x,p.target.value),placeholder:"Name"}),a.jsx("input",{type:"text",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm",value:f.value,onChange:p=>u(x,p.target.value),placeholder:"Value"}),a.jsx("button",{onClick:()=>i(x),className:"text-red-500 hover:text-red-700 px-2",children:""})]},x))}),a.jsxs("form",{onSubmit:s,className:"flex gap-2 mt-2",children:[a.jsx("input",{type:"text",value:o,onChange:f=>l(f.target.value),placeholder:"Add new field...",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm"}),a.jsx("button",{type:"submit",className:"px-3 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90",children:"Add"})]})]})]})}function Gg({widget:e,updateData:t}){const{label:n,itemCount:r=5}=e.data;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:o=>t({label:o.target.value}),placeholder:"List Title"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Number of Item Slots"}),a.jsx("input",{type:"number",min:"1",max:"50",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:r,onChange:o=>t({itemCount:o.target.value===""?"":parseInt(o.target.value)||""}),onBlur:o=>t({itemCount:Math.max(1,Math.min(50,parseInt(o.target.value)||1))})}),a.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Items can be filled in during play mode"})]})]})}function Yg({widget:e,updateData:t}){const{label:n}=e.data;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:r=>t({label:r.target.value}),placeholder:"Title"})]}),a.jsx("p",{className:"text-xs text-theme-muted",children:"Use the resize handle on the widget in edit mode to adjust the size."})]})}function Xg({widget:e,updateData:t}){const{label:n,checkboxItems:r=[]}=e.data,[o,l]=E.useState(""),s=c=>{c.preventDefault(),o.trim()&&(t({checkboxItems:[...r,{name:o.trim(),checked:!1}]}),l(""))},i=c=>{const u=[...r];u.splice(c,1),t({checkboxItems:u})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:c=>t({label:c.target.value}),placeholder:"Checklist Title"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Checkbox Items"}),a.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:r.map((c,u)=>a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{className:"flex-1 text-theme-ink",children:c.name}),a.jsx("button",{onClick:()=>i(u),className:"text-red-500 hover:text-red-700 px-2",children:""})]},u))}),a.jsxs("form",{onSubmit:s,className:"flex gap-2 mt-2",children:[a.jsx("input",{type:"text",value:o,onChange:c=>l(c.target.value),placeholder:"Add new item...",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm"}),a.jsx("button",{type:"submit",className:"px-3 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90",children:"Add"})]})]})]})}function Kg({widget:e,updateData:t}){const{label:n,maxValue:r=100,currentValue:o=0,showPercentage:l=!0,showValues:s=!0}=e.data;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:i=>t({label:i.target.value}),placeholder:"Progress"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Current Value"}),a.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:o,onChange:i=>{const c=i.target.value===""?"":parseInt(i.target.value)||0;t({currentValue:c})},onBlur:i=>{const c=parseInt(i.target.value)||0;t({currentValue:Math.max(0,Math.min(r,c))})},min:0})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Maximum Value"}),a.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:r,onChange:i=>{t({maxValue:i.target.value===""?"":parseInt(i.target.value)||""})},onBlur:i=>{const c=parseInt(i.target.value)||1;t({maxValue:Math.max(1,c)})},min:1})]})]}),a.jsxs("div",{className:"border border-theme-border rounded-theme p-3",children:[a.jsx("h4",{className:"font-medium text-theme-ink mb-3",children:"Display Options"}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-2",children:[a.jsx("input",{type:"checkbox",checked:s,onChange:i=>t({showValues:i.target.checked}),className:"w-4 h-4 accent-theme-accent"}),a.jsx("span",{className:"text-sm text-theme-ink",children:"Show Values (e.g., 50 / 100)"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:l,onChange:i=>t({showPercentage:i.target.checked}),className:"w-4 h-4 accent-theme-accent"}),a.jsx("span",{className:"text-sm text-theme-ink",children:"Show Percentage"})]})]})]})}function Qg({widget:e,updateData:t}){const{label:n,maxValue:r=10}=e.data;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:o=>t({label:o.target.value}),placeholder:"Health"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Maximum Value"}),a.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:r,onChange:o=>{t({maxValue:o.target.value===""?"":parseInt(o.target.value)||""})},onBlur:o=>{const l=parseInt(o.target.value)||1;t({maxValue:Math.max(1,l)})},min:1})]})]})}function Zg({widget:e,updateData:t}){const{label:n,diceGroups:r=[{count:1,faces:20}],modifier:o=0}=e.data,l=(c,u,f)=>{const x=[...r];x[c]={...x[c],[u]:f},t({diceGroups:x})},s=()=>{t({diceGroups:[...r,{count:1,faces:6}]})},i=c=>{if(r.length>1){const u=r.filter((f,x)=>x!==c);t({diceGroups:u})}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:c=>t({label:c.target.value}),placeholder:"Roll Name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Dice Groups"}),a.jsx("div",{className:"space-y-2",children:r.map((c,u)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",min:"1",value:c.count,onChange:f=>l(u,"count",f.target.value===""?"":parseInt(f.target.value)||""),onBlur:f=>l(u,"count",Math.max(1,parseInt(f.target.value)||1)),className:"w-16 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center"}),a.jsx("span",{className:"text-theme-ink",children:"d"}),a.jsx("input",{type:"number",min:"1",value:c.faces,onChange:f=>l(u,"faces",f.target.value===""?"":parseInt(f.target.value)||""),onBlur:f=>l(u,"faces",Math.max(1,parseInt(f.target.value)||1)),className:"w-16 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center"}),r.length>1&&a.jsx("button",{onClick:()=>i(u),className:"text-red-500 hover:text-red-700 px-2",children:""})]},u))}),a.jsx("button",{onClick:s,className:"mt-2 px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Dice"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Modifier"}),a.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:o,onChange:c=>t({modifier:parseInt(c.target.value)||0})})]})]})}function Jg({widget:e,updateData:t}){const{label:n,availableDice:r=[4,6,8,10,12,20]}=e.data,[o,l]=E.useState(""),s=[4,6,8,10,12,20,100],i=f=>{const x=r;x.includes(f)?t({availableDice:x.filter(p=>p!==f)}):t({availableDice:[...x,f].sort((p,y)=>p-y)})},c=f=>{f.preventDefault();const x=parseInt(o);x&&x>0&&!r.includes(x)&&(t({availableDice:[...r,x].sort((p,y)=>p-y)}),l(""))},u=f=>{t({availableDice:r.filter(x=>x!==f)})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:f=>t({label:f.target.value}),placeholder:"Dice Tray"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Quick Add Common Dice"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(f=>a.jsxs("button",{onClick:()=>i(f),className:`px-3 py-2 border border-theme-border rounded-theme text-sm font-bold transition-all ${r.includes(f)?"bg-theme-accent text-theme-paper":"bg-theme-paper text-theme-ink hover:bg-theme-muted hover:text-theme-paper"}`,children:["d",f]},f))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Add Custom Dice"}),a.jsxs("form",{onSubmit:c,className:"flex gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-theme-ink",children:"d"}),a.jsx("input",{type:"number",min:"1",value:o,onChange:f=>l(f.target.value),placeholder:"faces",className:"w-20 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm"})]}),a.jsx("button",{type:"submit",className:"px-3 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90",children:"Add"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Current Dice Types"}),r.length>0?a.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(f=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm",children:[a.jsxs("span",{children:["d",f]}),a.jsx("button",{onClick:()=>u(f),className:"hover:text-red-300 ml-1",children:""})]},f))}):a.jsx("p",{className:"text-xs text-theme-muted",children:"No dice types selected"})]})]})}function qg({widget:e,updateData:t}){const{label:n,spellLevels:r=[{level:1,max:4,used:0}]}=e.data,o=()=>{const c=r.map(f=>f.level),u=Math.min(9,Math.max(...c,0)+1);u<=9&&!c.includes(u)&&t({spellLevels:[...r,{level:u,max:2,used:0}]})},l=c=>{const u=[...r];u.splice(c,1),t({spellLevels:u})},s=(c,u)=>{const f=[...r];if(typeof u=="string")f[c]={...f[c],max:u};else{const x=Math.max(1,Math.min(10,u));f[c]={...f[c],max:x,used:Math.min(f[c].used,x)}}t({spellLevels:f})},i=(c,u)=>{const f=[...r];typeof u=="string"?f[c]={...f[c],level:u}:f[c]={...f[c],level:Math.max(1,Math.min(9,u))},t({spellLevels:f})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:c=>t({label:c.target.value}),placeholder:"Spell Slots"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Spell Levels"}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:r.map((c,u)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-theme-ink text-sm",children:"Level"}),a.jsx("input",{type:"number",value:c.level,onChange:f=>i(u,f.target.value===""?"":parseInt(f.target.value)||""),onBlur:f=>i(u,Math.max(1,Math.min(9,parseInt(f.target.value)||1))),className:"w-12 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center",min:1,max:9}),a.jsx("span",{className:"text-theme-ink text-sm",children:"Max Slots"}),a.jsx("input",{type:"number",value:c.max,onChange:f=>s(u,f.target.value===""?"":parseInt(f.target.value)||""),onBlur:f=>s(u,Math.max(1,Math.min(10,parseInt(f.target.value)||1))),className:"w-12 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center",min:1,max:10}),a.jsx("button",{onClick:()=>l(u),className:"text-red-500 hover:text-red-700 px-2",children:""})]},u))}),r.length<9&&a.jsx("button",{onClick:o,className:"mt-2 px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Level"})]})]})}function e0({widget:e,updateData:t}){const{label:n,imageUrl:r=""}=e.data,o=s=>{var c;const i=(c=s.target.files)==null?void 0:c[0];if(i){const u=new FileReader;u.onload=f=>{var p;const x=(p=f.target)==null?void 0:p.result;t({imageUrl:x})},u.readAsDataURL(i)}},l=()=>{t({imageUrl:""})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:s=>t({label:s.target.value}),placeholder:"Portrait"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Image"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("label",{className:"flex-1 px-3 py-2 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90 cursor-pointer text-center",children:["Upload Image",a.jsx("input",{type:"file",accept:"image/*",onChange:o,className:"hidden"})]}),r&&a.jsx("button",{onClick:l,className:"px-3 py-2 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-red-500 hover:text-white hover:border-red-500",children:"Clear"})]}),r&&a.jsx("div",{className:"mt-2 border border-theme-border rounded-theme overflow-hidden",children:a.jsx("img",{src:r,alt:"Preview",className:"w-full h-32 object-cover"})})]})]})}function t0({widget:e,updateData:t}){const{label:n,maxPool:r=5,poolStyle:o="dots",showPoolCount:l=!0,poolResources:s=[]}=e.data,i=s.length>0,c=()=>{const b={name:`Resource ${s.length+1}`,max:5,current:5,style:"dots"};t({poolResources:[...s,b]})},u=b=>{const k=[...s];k.splice(b,1),t({poolResources:k})},f=(b,k,N)=>{const h=[...s];h[b]={...h[b],[k]:N},k==="max"&&h[b].current>N&&(h[b].current=N),t({poolResources:h})},x=()=>{t({poolResources:[{name:n||"Resource 1",max:r,current:r,style:o}]})},p=()=>{if(s.length>0){const b=s[0];t({poolResources:[],maxPool:b.max,currentPool:b.current,poolStyle:b.style})}else t({poolResources:[]})},y=a.jsxs(a.Fragment,{children:[a.jsxs("optgroup",{label:"Basic",children:[a.jsx("option",{value:"dots",children:" Dots"}),a.jsx("option",{value:"boxes",children:" Boxes"}),a.jsx("option",{value:"stars",children:" Stars"}),a.jsx("option",{value:"diamonds",children:" Diamonds"}),a.jsx("option",{value:"crosses",children:" Crosses"}),a.jsx("option",{value:"checkmarks",children:" Checkmarks"})]}),a.jsxs("optgroup",{label:"Themed",children:[a.jsx("option",{value:"hearts",children:" Hearts"}),a.jsx("option",{value:"flames",children:" Flames"}),a.jsx("option",{value:"skulls",children:" Skulls"}),a.jsx("option",{value:"shields",children:" Shields"}),a.jsx("option",{value:"swords",children:" Swords"}),a.jsx("option",{value:"lightning",children:" Lightning"}),a.jsx("option",{value:"moons",children:" Moons"}),a.jsx("option",{value:"suns",children:" Suns"}),a.jsx("option",{value:"coins",children:" Coins"}),a.jsx("option",{value:"gems",children:" Gems"})]})]});return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:b=>t({label:b.target.value}),placeholder:"Resource Pool"})]}),i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:s.map((b,k)=>a.jsxs("div",{className:"border border-theme-border rounded-theme p-3 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("input",{className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm focus:outline-none focus:border-theme-accent",value:b.name,onChange:N=>f(k,"name",N.target.value),placeholder:"Resource name"}),a.jsx("button",{onClick:()=>u(k),className:"ml-2 text-red-500 hover:text-red-700 px-2",children:""})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-xs text-theme-muted mb-1",children:"Max"}),a.jsx("input",{type:"number",min:"1",max:"100",className:"w-full px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm focus:outline-none focus:border-theme-accent",value:b.max,onChange:N=>f(k,"max",parseInt(N.target.value)||1),onBlur:N=>f(k,"max",Math.max(1,Math.min(100,parseInt(N.target.value)||1)))})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-xs text-theme-muted mb-1",children:"Style"}),a.jsx("select",{value:b.style,onChange:N=>f(k,"style",N.target.value),className:"w-full px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm focus:outline-none focus:border-theme-accent",children:y})]})]})]},k))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:c,className:"flex-1 px-3 py-2 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper transition-colors",children:"+ Add Resource"}),a.jsx("button",{onClick:p,className:"px-3 py-2 border border-theme-border rounded-theme text-sm text-theme-muted hover:bg-theme-border hover:text-theme-ink transition-colors",children:"Single Mode"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Maximum Pool"}),a.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:r,onChange:b=>{t({maxPool:b.target.value===""?"":parseInt(b.target.value)||""})},onBlur:b=>{const k=Math.max(1,Math.min(1e3,parseInt(b.target.value)||1));t({maxPool:k})},min:1,max:1e3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Style"}),a.jsx("select",{value:o,onChange:b=>t({poolStyle:b.target.value}),className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",children:y})]}),a.jsx("button",{onClick:x,className:"w-full px-3 py-2 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper transition-colors",children:"+ Add Multiple Resources"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:l,onChange:b=>t({showPoolCount:b.target.checked}),className:"w-4 h-4 accent-theme-accent"}),a.jsx("span",{className:"text-sm text-theme-ink",children:"Show Counter (e.g., 3 / 5)"})]})]})}function n0({widget:e,updateData:t}){const{label:n,toggleItems:r=[]}=e.data,[o,l]=E.useState(""),s=["Blinded","Charmed","Frightened","Poisoned","Stunned","Prone","Invisible","Paralyzed","Unconscious","Exhausted","Afraid","Angry","Confused","Wounded","Dazed"],i=p=>{p.trim()&&!r.some(y=>y.name.toLowerCase()===p.trim().toLowerCase())&&t({toggleItems:[...r,{name:p.trim(),active:!1}]}),l("")},c=p=>{p.preventDefault(),i(o)},u=p=>{const y=[...r];y.splice(p,1),t({toggleItems:y})},f=r.map(p=>p.name.toLowerCase()),x=s.filter(p=>!f.includes(p.toLowerCase()));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:p=>t({label:p.target.value}),placeholder:"Conditions"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Conditions"}),a.jsx("div",{className:"flex flex-wrap gap-1 max-h-32 overflow-y-auto",children:r.map((p,y)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-theme-background rounded-theme text-sm",children:[a.jsx("span",{className:"text-theme-ink",children:p.name}),a.jsx("button",{onClick:()=>u(y),className:"text-red-500 hover:text-red-700",children:""})]},y))}),a.jsxs("form",{onSubmit:c,className:"flex gap-2 mt-2",children:[a.jsx("input",{type:"text",value:o,onChange:p=>l(p.target.value),placeholder:"Add condition...",className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm"}),a.jsx("button",{type:"submit",className:"px-3 py-1 bg-theme-accent text-theme-paper rounded-theme text-sm hover:opacity-90",children:"Add"})]}),x.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx("span",{className:"text-xs text-theme-muted",children:"Quick add:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:x.slice(0,8).map(p=>a.jsx("button",{onClick:()=>i(p),className:"px-2 py-0.5 text-xs border border-theme-border rounded-theme text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:p},p))})]})]})]})}function r0({widget:e,updateData:t}){const{label:n,roundMode:r=!1}=e.data;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:o=>t({label:o.target.value}),placeholder:"Time Tracker"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:r,onChange:o=>t({roundMode:o.target.checked}),className:"w-4 h-4 accent-theme-accent"}),a.jsx("span",{className:"text-sm font-medium text-theme-ink",children:"Round Mode"})]}),a.jsx("p",{className:"text-xs text-theme-muted mt-1 ml-6",children:"In round mode, time is tracked in rounds instead of real-world time units."})]}),a.jsxs("div",{className:"text-sm text-theme-muted",children:[a.jsx("p",{children:"Use this widget to track timed effects in your game."}),a.jsxs("ul",{className:"list-disc ml-4 mt-2 space-y-1",children:[a.jsx("li",{children:"Add effects with their remaining duration"}),a.jsx("li",{children:r?'Use "Pass Round" to advance all timers by 1 round':'Use the "Pass Time" controls to advance all timers at once'}),a.jsx("li",{children:"Expired effects will be highlighted"})]})]})]})}function o0({widget:e,updateData:t}){const{label:n,columns:r=["Item","Qty","Weight"],rows:o=[]}=e.data,[l,s]=E.useState(null),[i,c]=E.useState(null),u=na.useRef(null),f=(w,g)=>{const v=[...r];v[w]=g,t({columns:v})},x=()=>{const w=o.map(g=>({...g,cells:[...g.cells,""]}));t({columns:[...r,"New"],rows:w})},p=w=>{if(r.length<=1)return;const g=[...r];g.splice(w,1);const v=o.map(S=>({...S,cells:S.cells.filter((C,j)=>j!==w)}));t({columns:g,rows:v})},y=(w,g)=>{u.current=g,s(g),w.dataTransfer.effectAllowed="move",w.dataTransfer.setData("text/plain",g.toString());const v=w.currentTarget;v&&w.dataTransfer.setDragImage(v,0,0)},b=(w,g)=>{w.preventDefault(),w.stopPropagation(),u.current!==null&&u.current!==g&&c(g)},k=()=>{c(null)},N=(w,g)=>{w.preventDefault(),w.stopPropagation();const v=u.current;if(v!==null&&v!==g){const S=[...r],C=o.map(R=>({...R,cells:[...R.cells]})),[j]=S.splice(v,1),T=v<g?g-1:g;S.splice(T,0,j),C.forEach(R=>{const[$]=R.cells.splice(v,1);R.cells.splice(T,0,$)}),t({columns:S,rows:C})}u.current=null,s(null),c(null)},h=()=>{u.current=null,s(null),c(null)},d=()=>{const w={cells:r.map(()=>"")};t({rows:[...o,w]})},m=w=>{if(o.length<=1)return;const g=[...o];g.splice(w,1),t({rows:g})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Widget Label"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n||"",onChange:w=>t({label:w.target.value}),placeholder:"Inventory"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Columns"}),a.jsx("div",{className:"space-y-2",onDragOver:w=>w.preventDefault(),children:r.map((w,g)=>a.jsxs("div",{className:`flex items-center gap-2 ${l===g?"opacity-50":""} ${i===g&&l!==g?"border-t-2 border-theme-accent":""}`,draggable:!0,onDragStart:v=>y(v,g),onDragOver:v=>{v.preventDefault(),v.stopPropagation(),b(v,g)},onDragLeave:k,onDrop:v=>{v.preventDefault(),v.stopPropagation(),N(v,g)},onDragEnd:h,children:[a.jsx("div",{className:"cursor-grab active:cursor-grabbing text-theme-muted hover:text-theme-ink px-1 touch-none",title:"Drag to reorder",children:""}),a.jsx("input",{className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm",value:w,onChange:v=>f(g,v.target.value),placeholder:"Column name",draggable:!1,onDragOver:v=>v.stopPropagation()}),r.length>1&&a.jsx("button",{onClick:()=>p(g),className:"text-red-500 hover:text-red-700 px-2",children:""})]},g))}),a.jsx("button",{onClick:x,className:"mt-2 px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Column"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:["Rows (",o.length,")"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:d,className:"px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Row"}),o.length>1&&a.jsx("button",{onClick:()=>m(o.length-1),className:"px-3 py-1 border border-theme-border rounded-theme text-sm text-red-500 hover:bg-red-500 hover:text-white",children:"- Remove Row"})]}),a.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Row contents can be edited in play mode"})]})]})}function a0({widget:e,updateData:t}){const{buttonText:n="Rest",healToFull:r=!1,healRandomDice:o=[],healFlatAmount:l=0,clearConditions:s=!1,resetSpellSlots:i=!1,passTime:c=!1,passTimeAmount:u=0,passTimeUnit:f="hours"}=e.data,x=(k,N,h)=>{const d=[...o];d[k]={...d[k],[N]:h},t({healRandomDice:d})},p=()=>{t({healRandomDice:[...o,{count:1,faces:8}]})},y=k=>{const N=o.filter((h,d)=>d!==k);t({healRandomDice:N})},b=k=>{t(k?{healToFull:!0,healRandomDice:[],healFlatAmount:0}:{healToFull:!1})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Button Text"}),a.jsx("input",{className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:n,onChange:k=>t({buttonText:k.target.value}),placeholder:"Rest"})]}),a.jsxs("div",{className:"border border-theme-border rounded-theme p-3",children:[a.jsx("h4",{className:"font-medium text-theme-ink mb-3",children:"Healing Options"}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-3",children:[a.jsx("input",{type:"checkbox",checked:r,onChange:k=>b(k.target.checked),className:"w-4 h-4 accent-theme-accent"}),a.jsx("span",{className:"text-sm text-theme-ink",children:"Heal to Full"})]}),!r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-2",children:"Random Heal Dice"}),a.jsx("div",{className:"space-y-2",children:o.map((k,N)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",min:"1",value:k.count,onChange:h=>x(N,"count",h.target.value===""?"":parseInt(h.target.value)||""),onBlur:h=>x(N,"count",Math.max(1,parseInt(h.target.value)||1)),className:"w-16 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center"}),a.jsx("span",{className:"text-theme-ink",children:"d"}),a.jsx("input",{type:"number",min:"1",value:k.faces,onChange:h=>x(N,"faces",h.target.value===""?"":parseInt(h.target.value)||""),onBlur:h=>x(N,"faces",Math.max(1,parseInt(h.target.value)||1)),className:"w-16 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center"}),a.jsx("button",{onClick:()=>y(N),className:"text-red-500 hover:text-red-700 px-2",children:""})]},N))}),a.jsx("button",{onClick:p,className:"mt-2 px-3 py-1 border border-theme-border rounded-theme text-sm text-theme-ink hover:bg-theme-accent hover:text-theme-paper",children:"+ Add Dice"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-theme-ink mb-1",children:"Flat Heal Amount"}),a.jsx("input",{type:"number",min:"0",className:"w-full px-3 py-2 border border-theme-border rounded-theme bg-theme-paper text-theme-ink focus:outline-none focus:border-theme-accent",value:l??0,onChange:k=>t({healFlatAmount:parseInt(k.target.value)||0})}),a.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Added to dice result if dice are configured"})]})]})]}),a.jsxs("div",{className:"border border-theme-border rounded-theme p-3",children:[a.jsx("h4",{className:"font-medium text-theme-ink mb-3",children:"Other Actions"}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-2",children:[a.jsx("input",{type:"checkbox",checked:s,onChange:k=>t({clearConditions:k.target.checked}),className:"w-4 h-4 accent-theme-accent"}),a.jsx("span",{className:"text-sm text-theme-ink",children:"Clear All Conditions"})]}),a.jsx("p",{className:"text-xs text-theme-muted ml-6 mb-3",children:"Turns off all active conditions in Condition widgets"}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:i,onChange:k=>t({resetSpellSlots:k.target.checked}),className:"w-4 h-4 accent-theme-accent"}),a.jsx("span",{className:"text-sm text-theme-ink",children:"Reset Spell Slots"})]}),a.jsx("p",{className:"text-xs text-theme-muted ml-6 mb-3",children:"Restores all used spell slots in Spell Slot widgets"}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:c,onChange:k=>t({passTime:k.target.checked,passTimeAmount:0,passTimeUnit:"hours"}),className:"w-4 h-4 accent-theme-accent"}),a.jsx("span",{className:"text-sm text-theme-ink",children:"Pass Time"})]}),a.jsx("p",{className:"text-xs text-theme-muted ml-6 mb-2",children:"Advances time for all Time Tracker widgets"}),c&&a.jsxs("div",{className:"ml-6 mt-2",children:[a.jsx("label",{className:"block text-xs text-theme-muted mb-1",children:"Flat Time Amount (leave 0 to prompt when clicked)"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",min:"0",className:"w-20 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm text-center",value:u??0,onChange:k=>t({passTimeAmount:parseInt(k.target.value)||0})}),a.jsxs("select",{className:"flex-1 px-2 py-1 border border-theme-border rounded-theme bg-theme-paper text-theme-ink text-sm",value:f,onChange:k=>t({passTimeUnit:k.target.value}),children:[a.jsx("option",{value:"seconds",children:"Seconds"}),a.jsx("option",{value:"minutes",children:"Minutes"}),a.jsx("option",{value:"hours",children:"Hours"}),a.jsx("option",{value:"days",children:"Days"}),a.jsx("option",{value:"months",children:"Months"}),a.jsx("option",{value:"years",children:"Years"})]})]})]})]})]})}function l0(e){return{NUMBER:"Number Tracker",NUMBER_DISPLAY:"Number Display",LIST:"List",TEXT:"Text",CHECKBOX:"Checkbox",HEALTH_BAR:"Health Bar",DICE_ROLLER:"Dice Roller",DICE_TRAY:"Dice Tray",SPELL_SLOT:"Spell Slots",IMAGE:"Image",POOL:"Resource Pool",TOGGLE_GROUP:"Conditions",TABLE:"Table",TIME_TRACKER:"Time Tracker",FORM:"Form",REST_BUTTON:"Rest Button",PROGRESS_BAR:"Progress Bar"}[e]||"Widget"}function s0({widget:e,onClose:t}){const n=W(y=>y.updateWidgetData),r=W(y=>y.updateWidgetSize),[o,l]=E.useState({...e.data}),[s,i]=E.useState(e.w||200),c=y=>{const b={...o,...y};l(b),n(e.id,y)},u=y=>{i(y),r(e.id,y,e.h||0)},f={...e,data:o,w:s},x=()=>{const y={widget:f,updateData:c,updateWidth:u};switch(e.type){case"NUMBER":return a.jsx(Hg,{...y});case"NUMBER_DISPLAY":return a.jsx(Ug,{...y});case"LIST":return a.jsx(Gg,{...y});case"TEXT":return a.jsx(Yg,{...y});case"CHECKBOX":return a.jsx(Xg,{...y});case"HEALTH_BAR":return a.jsx(Qg,{...y});case"DICE_ROLLER":return a.jsx(Zg,{...y});case"DICE_TRAY":return a.jsx(Jg,{...y});case"SPELL_SLOT":return a.jsx(qg,{...y});case"IMAGE":return a.jsx(e0,{...y});case"POOL":return a.jsx(t0,{...y});case"TOGGLE_GROUP":return a.jsx(n0,{...y});case"TABLE":return a.jsx(o0,{...y});case"TIME_TRACKER":return a.jsx(r0,{...y});case"FORM":return a.jsx(Vg,{...y});case"REST_BUTTON":return a.jsx(a0,{...y});case"PROGRESS_BAR":return a.jsx(Kg,{...y});default:return null}},p=()=>{let y=200;if(e.type==="NUMBER_DISPLAY"&&o.displayLayout==="vertical"){const k=(o.displayNumbers||[]).length;y=Math.max(200,60+k*70)}const b={widget:f,mode:"play",width:200,height:y};switch(e.type){case"NUMBER":return a.jsx(qs,{...b});case"NUMBER_DISPLAY":return a.jsx(ei,{...b});case"LIST":return a.jsx(ti,{...b});case"TEXT":return a.jsx(ni,{...b});case"CHECKBOX":return a.jsx(ri,{...b});case"HEALTH_BAR":return a.jsx(oi,{...b});case"DICE_ROLLER":return a.jsx(ai,{...b});case"DICE_TRAY":return a.jsx(li,{...b});case"SPELL_SLOT":return a.jsx(si,{...b});case"IMAGE":return a.jsx(ii,{...b});case"POOL":return a.jsx(ci,{...b});case"TOGGLE_GROUP":return a.jsx(ui,{...b});case"TABLE":return a.jsx(di,{...b});case"TIME_TRACKER":return a.jsx(hi,{...b});case"FORM":return a.jsx(fi,{...b});case"REST_BUTTON":return a.jsx(mi,{...b});case"PROGRESS_BAR":return a.jsx(pi,{...b});default:return null}};return E.useEffect(()=>{const y=b=>{b.key==="Escape"&&t()};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[t]),tr.createPortal(a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:y=>{y.target===y.currentTarget&&t()},onMouseDown:y=>y.stopPropagation(),onMouseUp:y=>y.stopPropagation(),onMouseMove:y=>y.stopPropagation(),onWheel:y=>y.stopPropagation(),onTouchStart:y=>y.stopPropagation(),onTouchMove:y=>y.stopPropagation(),onTouchEnd:y=>y.stopPropagation(),onDragOver:y=>y.preventDefault(),children:a.jsxs("div",{className:"bg-theme-paper border-[length:var(--border-width)] border-theme-border rounded-theme shadow-theme w-full max-w-lg max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-theme-border",children:[a.jsxs("h2",{className:"text-lg font-bold text-theme-ink font-heading",children:["Edit ",l0(e.type)]}),a.jsx("button",{onClick:t,className:"w-8 h-8 flex items-center justify-center text-theme-muted hover:text-theme-ink hover:bg-theme-background rounded-theme transition-colors",children:""})]}),a.jsx("div",{className:"flex-1 overflow-auto p-4",children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-sm font-medium text-theme-muted mb-3",children:"Settings"}),x()]}),a.jsxs("div",{className:"flex-shrink-0",children:[a.jsx("h3",{className:"text-sm font-medium text-theme-muted mb-3",children:"Preview"}),a.jsx("div",{className:"bg-theme-paper border-[length:var(--border-width)] border-theme-border rounded-theme p-2 shadow-theme",style:{width:"200px",height:e.type==="NUMBER_DISPLAY"&&o.displayLayout==="vertical"?`${Math.max(200,60+(o.displayNumbers||[]).length*70)}px`:"200px"},children:p()})]})]})}),a.jsx("div",{className:"px-4 py-3 border-t border-theme-border flex justify-end",children:a.jsx("button",{onClick:t,className:"px-4 py-2 bg-theme-accent text-theme-paper rounded-theme hover:opacity-90 font-medium",children:"Done"})})]})}),document.body)}const wn=10,i0={NUMBER:{width:140,height:60},NUMBER_DISPLAY:{width:120,height:80},LIST:{width:140,height:80},TEXT:{width:120,height:60},CHECKBOX:{width:140,height:60},HEALTH_BAR:{width:160,height:80},DICE_ROLLER:{width:160,height:120},DICE_TRAY:{width:180,height:180},SPELL_SLOT:{width:160,height:80},IMAGE:{width:100,height:100},POOL:{width:120,height:80},TOGGLE_GROUP:{width:140,height:60},TABLE:{width:180,height:80},TIME_TRACKER:{width:180,height:140},FORM:{width:160,height:60},REST_BUTTON:{width:120,height:80},PROGRESS_BAR:{width:160,height:80}};function c0({widget:e,scale:t}){const n=W(O=>O.updateWidgetPosition),r=W(O=>O.updateWidgetSize),o=W(O=>O.moveWidgetGroup),l=W(O=>O.removeWidget),s=W(O=>O.detachWidgets),i=W(O=>O.mode),c=W(O=>O.setEditingWidgetId),u=W(O=>O.selectedWidgetId),f=W(O=>O.setSelectedWidgetId),x=W(O=>O.activeCharacterId),y=W(O=>O.characters).find(O=>O.id===x),b=y!=null&&y.theme?qt(y.theme):void 0,k=y!=null&&y.theme?ba(y.theme):void 0,N=(b==null?void 0:b.cardTexture)||(k==null?void 0:k.cardTexture)||"none",h=tt(N),d=E.useRef(null),m=E.useRef(null),[w,g]=E.useState(!1),[v,S]=E.useState(!1),[C,j]=E.useState(null),T=E.useRef({x:0,y:0}),[R,$]=E.useState(!1),M=E.useRef({mouseX:0,mouseY:0,width:0,height:0}),B=u===e.id,F=i0[e.type]||{width:120,height:60};E.useEffect(()=>{if(e.h&&e.h>0){j(e.h);return}if(d.current){const O=new ResizeObserver(ce=>{for(const Ae of ce){const ze=Ae.target.scrollHeight,Pe=Math.ceil(ze/wn)*wn;j(Pe)}});return O.observe(d.current),()=>O.disconnect()}},[e.data,e.h]);const U=O=>{O.touches.length>=2||i==="edit"&&(B||(O.preventDefault(),O.stopPropagation(),f(e.id)))},H=O=>{i==="edit"&&!I&&(O.preventDefault(),O.stopPropagation(),f(e.id))},I=v||B,P=()=>{g(!0),c(e.id)},A=()=>{g(!1),c(null)},D=O=>Math.round(O/wn)*wn,ie=(()=>{if(e.w)return e.w;if(e.type==="TABLE"){const ce=(e.data.columns||["Item","Qty","Weight"]).length,Pe=Math.max(200,ce*80+40);return D(Pe)}return 200})(),Qe=E.useCallback(O=>{O.preventDefault(),O.stopPropagation(),e.groupId&&s(e.id,e.id);const ce="touches"in O?O.touches[0].clientX:O.clientX,Ae="touches"in O?O.touches[0].clientY:O.clientY,ze=e.w||200,Pe=e.h||120;M.current={mouseX:ce,mouseY:Ae,width:ze,height:Pe},$(!0)},[e.w,e.h,e.groupId,e.id,s]),ot=E.useCallback(O=>{if(!R)return;const ce="touches"in O?O.touches[0].clientX:O.clientX,Ae="touches"in O?O.touches[0].clientY:O.clientY,ze=(ce-M.current.mouseX)/t,Pe=(Ae-M.current.mouseY)/t,ft=D(Math.max(F.width,M.current.width+ze)),rn=D(Math.max(F.height,M.current.height+Pe));r(e.id,ft,rn)},[R,t,F,e.id,r]),ke=E.useCallback(()=>{$(!1)},[]);E.useEffect(()=>{if(R)return window.addEventListener("mousemove",ot),window.addEventListener("mouseup",ke),window.addEventListener("touchmove",ot),window.addEventListener("touchend",ke),()=>{window.removeEventListener("mousemove",ot),window.removeEventListener("mouseup",ke),window.removeEventListener("touchmove",ot),window.removeEventListener("touchend",ke)}},[R,ot,ke]);const Ie=(O,ce)=>{T.current={x:ce.x,y:ce.y}},$e=(O,ce)=>{if(e.groupId){const Ae=ce.x-T.current.x,ze=ce.y-T.current.y;document.querySelectorAll(`[data-group-id="${e.groupId}"]`).forEach(ft=>{const rn=ft.getAttribute("data-widget-id");if(rn&&rn!==e.id){const nr=W.getState().getWidgetsInGroup(e.groupId).find(Na=>Na.id===rn);nr&&(ft.style.transform=`translate(${nr.x+Ae}px, ${nr.y+ze}px)`)}})}},ja=(O,ce)=>{const Ae=D(ce.x),ze=D(ce.y);if(e.groupId){const Pe=Ae-e.x,ft=ze-e.y;(Pe!==0||ft!==0)&&o(e.id,Pe,ft)}else n(e.id,Ae,ze)},Rt=e.h&&e.h>0?e.h:C,Qr=()=>{const O={widget:e,mode:"play",width:ie,height:Rt||120};switch(e.type){case"NUMBER":return a.jsx(qs,{...O});case"NUMBER_DISPLAY":return a.jsx(ei,{...O});case"LIST":return a.jsx(ti,{...O});case"TEXT":return a.jsx(ni,{...O});case"CHECKBOX":return a.jsx(ri,{...O});case"HEALTH_BAR":return a.jsx(oi,{...O});case"DICE_ROLLER":return a.jsx(ai,{...O});case"DICE_TRAY":return a.jsx(li,{...O});case"SPELL_SLOT":return a.jsx(si,{...O});case"IMAGE":return a.jsx(ii,{...O});case"POOL":return a.jsx(ci,{...O});case"TOGGLE_GROUP":return a.jsx(ui,{...O});case"TABLE":return a.jsx(di,{...O});case"TIME_TRACKER":return a.jsx(hi,{...O});case"FORM":return a.jsx(fi,{...O});case"REST_BUTTON":return a.jsx(mi,{...O});case"PROGRESS_BAR":return a.jsx(pi,{...O});default:return null}};return a.jsxs(a.Fragment,{children:[a.jsx(Og,{nodeRef:d,position:{x:e.x,y:e.y},onStart:Ie,onDrag:$e,onStop:ja,scale:t,grid:[wn,wn],handle:".drag-handle",disabled:i==="play",children:a.jsxs("div",{ref:d,"data-widget-id":e.id,"data-group-id":e.groupId||"",className:`react-draggable absolute bg-theme-paper border-[length:var(--border-width)] border-theme-border p-1 cursor-default group rounded-theme ${R?"select-none":""}`,style:{width:`${ie}px`,minWidth:`${F.width}px`,height:Rt?`${Rt}px`:"auto",minHeight:Rt?`${Rt}px`:C?`${C}px`:"auto",zIndex:I&&i==="edit"?100:void 0},onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),onTouchStart:U,onClick:H,children:[h&&a.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-theme z-0 overflow-hidden",style:{backgroundColor:"var(--color-paper)"},children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${Ct[N]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:"var(--card-texture-opacity)",mixBlendMode:"overlay"}})}),i==="edit"&&a.jsx("div",{className:"drag-handle absolute -top-2 left-8 right-8 h-8 bg-transparent cursor-move hover:opacity-70 active:opacity-50 flex justify-center items-center touch-none rounded-t-theme z-[60]",children:I&&a.jsx("div",{className:"flex gap-1",children:a.jsx("div",{className:"w-8 h-1 bg-theme-muted/50 rounded-full"})})}),i==="edit"&&I&&a.jsx("button",{className:"absolute -top-3 -left-3 w-8 h-8 bg-theme-accent text-theme-paper rounded-full flex items-center justify-center transition-opacity z-50 hover:bg-blue-600 text-sm",onClick:P,onMouseDown:O=>O.stopPropagation(),onTouchStart:O=>O.stopPropagation(),title:"Edit widget",children:""}),i==="edit"&&I&&a.jsx("button",{className:"absolute -top-3 -right-3 w-8 h-8 bg-theme-accent text-theme-paper rounded-full flex items-center justify-center transition-opacity z-50 hover:bg-red-600 text-lg",onClick:()=>l(e.id),onMouseDown:O=>O.stopPropagation(),onTouchStart:O=>O.stopPropagation(),children:""}),i==="edit"&&B&&a.jsx("div",{className:"absolute inset-0 z-40 bg-theme-accent/10 rounded-theme",onTouchStart:O=>O.stopPropagation()}),i==="edit"&&I&&a.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 cursor-se-resize z-50 flex items-center justify-center",onMouseDown:Qe,onTouchStart:Qe,title:"Drag to resize",children:a.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",className:"text-theme-muted hover:text-theme-ink transition-colors",children:a.jsx("path",{d:"M10 2L2 10M10 6L6 10M10 10L10 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),a.jsx("div",{ref:m,className:"h-full overflow-hidden relative z-10 pt-1 pl-1",children:Qr()})]})}),w&&a.jsx(s0,{widget:e,onClose:A})]})}function u0({widget:e,index:t,totalWidgets:n,isDragging:r,draggedIndex:o,dropTargetIndex:l,onDragStart:s,onDragOver:i,onDragEnd:c}){const u=E.useRef(null),f=W(I=>I.activeCharacterId),p=W(I=>I.characters).find(I=>I.id===f),y=p!=null&&p.theme?qt(p.theme):void 0,b=p!=null&&p.theme?ba(p.theme):void 0,k=(y==null?void 0:y.cardTexture)||(b==null?void 0:b.cardTexture)||"none",N=tt(k),[h,d]=E.useState(null),[m,w]=E.useState(!1),[g,v]=E.useState(()=>{try{return localStorage.getItem(`ucs:vertical-collapsed:${e.id}`)==="true"}catch{return!1}});E.useEffect(()=>{try{localStorage.setItem(`ucs:vertical-collapsed:${e.id}`,String(g))}catch{}},[g,e.id]),E.useEffect(()=>{const I=P=>{v(P.detail)};return window.addEventListener("vertical-collapse-all",I),()=>{window.removeEventListener("vertical-collapse-all",I)}},[]);const S={CHECKBOX:"Checkbox",TOGGLE_GROUP:"Conditions",DICE_ROLLER:"Dice Roller",DICE_TRAY:"Dice Tray",FORM:"Form",HEALTH_BAR:"Health Bar",IMAGE:"Image",LIST:"List",NUMBER_DISPLAY:"Number Display",NUMBER:"Number Tracker",POOL:"Resource Pool",PROGRESS_BAR:"Progress Bar",REST_BUTTON:"Rest Button",SPELL_SLOT:"Spell Slots",TABLE:"Table",TEXT:"Text Area",TIME_TRACKER:"Time Tracker"},C=()=>e.data.label||S[e.type]||e.type,j=r&&o!==null&&l===t&&o>t,T=r&&o!==null&&l===t&&o<t,R=I=>{I.target.closest(".vertical-drag-handle")&&(w(!0),d(I.touches[0].clientY),s(t))},$=I=>{if(!m||h===null)return;const P=I.touches[0],A=document.elementsFromPoint(P.clientX,P.clientY);for(const D of A){const Y=D.closest("[data-vertical-index]");if(Y){const ie=parseInt(Y.getAttribute("data-vertical-index")||"0",10);ie!==t&&i(ie);break}}},M=()=>{m&&(w(!1),d(null),c())},B=I=>{if(!I.target.closest(".vertical-drag-handle")){I.preventDefault();return}I.dataTransfer.effectAllowed="move",I.dataTransfer.setData("text/plain",t.toString()),s(t)},F=I=>{I.preventDefault(),I.dataTransfer.dropEffect="move",i(t)},U=()=>{c()},H=()=>{const I={widget:e,mode:"play",width:320,height:1e4};switch(e.type){case"NUMBER":return a.jsx(qs,{...I});case"NUMBER_DISPLAY":return a.jsx(ei,{...I});case"LIST":return a.jsx(ti,{...I});case"TEXT":return a.jsx(ni,{...I});case"CHECKBOX":return a.jsx(ri,{...I});case"HEALTH_BAR":return a.jsx(oi,{...I});case"DICE_ROLLER":return a.jsx(ai,{...I});case"DICE_TRAY":return a.jsx(li,{...I});case"SPELL_SLOT":return a.jsx(si,{...I});case"IMAGE":return a.jsx(ii,{...I});case"POOL":return a.jsx(ci,{...I});case"TOGGLE_GROUP":return a.jsx(ui,{...I});case"TABLE":return a.jsx(di,{...I});case"TIME_TRACKER":return a.jsx(hi,{...I});case"FORM":return a.jsx(fi,{...I});case"REST_BUTTON":return a.jsx(mi,{...I});case"PROGRESS_BAR":return a.jsx(pi,{...I});default:return null}};return a.jsxs("div",{ref:u,"data-vertical-index":t,className:`vertical-widget relative transition-all duration-200 ${r&&o===t?"opacity-50 scale-95":""}`,onDragOver:F,onDragEnd:U,onTouchStart:R,onTouchMove:$,onTouchEnd:M,children:[j&&a.jsx("div",{className:"absolute -top-2 left-0 right-0 h-1 bg-theme-accent rounded-full z-50"}),a.jsxs("div",{className:"bg-theme-paper border-[length:var(--border-width)] border-theme-border rounded-theme overflow-visible relative",children:[N&&a.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-theme z-0 overflow-hidden",style:{backgroundColor:"var(--color-paper)"},children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${Ct[k]})`,backgroundSize:"cover",filter:"grayscale(100%)",opacity:"var(--card-texture-opacity)",mixBlendMode:"overlay"}})}),a.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 relative z-20",children:[a.jsx("div",{className:"vertical-drag-handle cursor-grab active:cursor-grabbing flex items-center gap-2 touch-none select-none",draggable:!0,onDragStart:B,children:a.jsxs("svg",{width:"10",height:"16",viewBox:"0 0 10 16",className:"text-theme-muted flex-shrink-0",fill:"currentColor",children:[a.jsx("circle",{cx:"2",cy:"2",r:"1.5"}),a.jsx("circle",{cx:"8",cy:"2",r:"1.5"}),a.jsx("circle",{cx:"2",cy:"8",r:"1.5"}),a.jsx("circle",{cx:"8",cy:"8",r:"1.5"}),a.jsx("circle",{cx:"2",cy:"14",r:"1.5"}),a.jsx("circle",{cx:"8",cy:"14",r:"1.5"})]})}),g&&a.jsx("span",{className:"text-xs font-bold text-theme-ink font-heading truncate flex-1 ml-2",children:C()}),!g&&a.jsx("div",{className:"flex-1"}),a.jsx("button",{onClick:()=>v(!g),className:"w-6 h-6 flex items-center justify-center text-theme-muted hover:text-theme-ink transition-colors",children:a.jsx("span",{className:`transform transition-transform ${g?"":"rotate-180"}`,children:""})})]}),!g&&a.jsx("div",{className:"relative px-3 pb-2",children:H()})]}),T&&a.jsx("div",{className:"absolute -bottom-2 left-0 right-0 h-1 bg-theme-accent rounded-full z-50"}),t<n-1&&a.jsx("div",{className:"h-px bg-theme-border/30 my-1"})]})}const go=10,vo=20;function d0({widgets:e,scale:t}){const n=W(h=>h.attachWidgets),r=W(h=>h.detachWidgets),o=W(h=>h.selectedWidgetId),[l,s]=E.useState(0),[i,c]=E.useState(!1),[u,f]=E.useState(null),x=o||u,p=e.map(h=>`${h.id}:${h.x}:${h.y}:${h.groupId||""}`).join("|");E.useEffect(()=>{const h=()=>{const m=document.querySelector(".react-draggable-dragging");c(!!m)},d=new MutationObserver(h);return d.observe(document.body,{subtree:!0,attributes:!0,attributeFilter:["class"]}),()=>d.disconnect()},[]),E.useEffect(()=>{const h=m=>{const w=m.target;if(w.closest("[data-attach-widget-ids]"))return;const v=w.closest("[data-widget-id]");f(v?v.getAttribute("data-widget-id"):null)},d=m=>{const w=m.target;if(w.closest("[data-attach-widget-ids]"))return;const v=w.closest("[data-widget-id]");f(v?v.getAttribute("data-widget-id"):null)};return document.addEventListener("mouseover",h),document.addEventListener("touchstart",d),()=>{document.removeEventListener("mouseover",h),document.removeEventListener("touchstart",d)}},[]),E.useEffect(()=>{const h=setTimeout(()=>{s(d=>d+1)},100);return()=>clearTimeout(h)},[p,t]);const y=E.useMemo(()=>{const h=[];return e.forEach(d=>{const m=document.querySelector(`[data-widget-id="${d.id}"]`);if(m){const w=m.getBoundingClientRect();h.push({id:d.id,groupId:d.groupId,attachedTo:d.attachedTo,left:d.x,right:d.x+w.width/t,top:d.y,bottom:d.y+w.height/t})}}),h},[e,t,l]),b=E.useMemo(()=>{var d,m;const h=[];for(let w=0;w<y.length;w++)for(let g=w+1;g<y.length;g++){const v=y[w],S=y[g],C=!!((d=v.attachedTo)!=null&&d.includes(S.id)||(m=S.attachedTo)!=null&&m.includes(v.id));if(Math.abs(v.right-S.left)<=go){const j=Math.max(v.top,S.top),T=Math.min(v.bottom,S.bottom);T-j>=vo&&h.push({widget1Id:v.id,widget2Id:S.id,x:v.right,y:(j+T)/2,orientation:"vertical",isAttached:C})}if(Math.abs(v.left-S.right)<=go){const j=Math.max(v.top,S.top),T=Math.min(v.bottom,S.bottom);T-j>=vo&&h.push({widget1Id:v.id,widget2Id:S.id,x:v.left,y:(j+T)/2,orientation:"vertical",isAttached:C})}if(Math.abs(v.bottom-S.top)<=go){const j=Math.max(v.left,S.left),T=Math.min(v.right,S.right);T-j>=vo&&h.push({widget1Id:v.id,widget2Id:S.id,x:(j+T)/2,y:v.bottom,orientation:"horizontal",isAttached:C})}if(Math.abs(v.top-S.bottom)<=go){const j=Math.max(v.left,S.left),T=Math.min(v.right,S.right);T-j>=vo&&h.push({widget1Id:v.id,widget2Id:S.id,x:(j+T)/2,y:v.top,orientation:"horizontal",isAttached:C})}}return h},[y]),k=h=>{if(h.isAttached){const d=x===h.widget1Id?h.widget1Id:x===h.widget2Id?h.widget2Id:h.widget1Id;r(d,h.widget2Id)}else{const d=y.find(S=>S.id===h.widget1Id),m=y.find(S=>S.id===h.widget2Id);if(!d||!m){n(h.widget1Id,h.widget2Id);return}let w,g;if(m.groupId&&!d.groupId)w=d.id,g=m.groupId;else if(d.groupId&&!m.groupId)w=m.id,g=d.groupId;else if(d.groupId&&m.groupId&&d.groupId!==m.groupId){n(h.widget1Id,h.widget2Id);return}else{n(h.widget1Id,h.widget2Id);return}const v=b.filter(S=>{if(S.isAttached)return!1;const C=y.find(T=>T.id===S.widget1Id),j=y.find(T=>T.id===S.widget2Id);return!C||!j?!1:S.widget1Id===w&&j.groupId===g||S.widget2Id===w&&C.groupId===g});for(const S of v)n(S.widget1Id,S.widget2Id)}};if(i)return null;const N=x?b.filter(h=>h.widget1Id===x||h.widget2Id===x):[];return a.jsx(a.Fragment,{children:N.map((h,d)=>a.jsx("button",{"data-attach-widget-ids":`${h.widget1Id},${h.widget2Id}`,className:`absolute w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all transform -translate-x-1/2 -translate-y-1/2 hover:scale-125 ${h.isAttached?"bg-green-500 hover:bg-red-500 text-white":"bg-blue-500 hover:bg-green-500 text-white"}`,style:{left:`${h.x}px`,top:`${h.y}px`,zIndex:150},onClick:()=>k(h),onMouseDown:m=>m.stopPropagation(),onTouchStart:m=>m.stopPropagation(),title:h.isAttached?"Click to detach widgets":"Click to attach widgets",children:h.isAttached?"":""},`${h.widget1Id}-${h.widget2Id}-${d}`))})}function h0({widgets:e,scale:t}){const[n,r]=E.useState([]),[o,l]=E.useState(!1),s=e.map(i=>`${i.id}:${i.x}:${i.y}`).join("|");return E.useEffect(()=>{const i=()=>{const u=document.querySelector(".react-draggable-dragging");l(!!u)},c=new MutationObserver(i);return c.observe(document.body,{subtree:!0,attributes:!0,attributeFilter:["class"]}),()=>c.disconnect()},[]),E.useEffect(()=>{const i=setTimeout(()=>{const c=[];e.forEach(u=>{const f=document.querySelector(`[data-widget-id="${u.id}"]`);if(f){const x=f.getBoundingClientRect();c.push({id:u.id,x:u.x,y:u.y,width:x.width/t,height:x.height/t})}}),r(c)},50);return()=>clearTimeout(i)},[e,t,s]),o?null:a.jsx("div",{className:"pointer-events-none",children:n.map(i=>a.jsx("div",{className:"absolute shadow-theme rounded-theme",style:{left:`${i.x}px`,top:`${i.y}px`,width:`${i.width}px`,height:`${i.height}px`}},`shadow-${i.id}`))})}function f0(e){const t=e.sheets.find(n=>n.id===e.activeSheetId);return(t==null?void 0:t.widgets)||[]}function m0(){var bi,yi,wi;const e=W(L=>L.activeCharacterId),t=W(L=>L.characters),n=W(L=>L.addWidget),r=W(L=>L.mode),o=W(L=>L.setMode),l=W(L=>L.selectCharacter),s=W(L=>L.updateCharacterName),i=W(L=>L.editingWidgetId),c=W(L=>L.updateWidgetPosition),u=W(L=>L.reorderWidget),f=W(L=>L.createSheet),x=W(L=>L.selectSheet),p=W(L=>L.deleteSheet),y=W(L=>L.renameSheet),b=t.find(L=>L.id===e),k=b?f0(b):[],[N,h]=E.useState(()=>window.innerWidth<768),[d,m]=E.useState(!0),[w,g]=E.useState(!1),[v,S]=E.useState(""),[C,j]=E.useState(null),[T,R]=E.useState(""),[$,M]=E.useState(!1),[B,F]=E.useState(null),[U,H]=E.useState(!1),[I,P]=E.useState(!1),[A,D]=E.useState(null),[Y,ie]=E.useState(null),[Qe,ot]=E.useState(!1),ke=E.useRef(null),{pan:Ie,scale:$e,isPanning:ja,setPan:Rt,setScale:Qr,handleMouseDown:O,handleMouseMove:ce,handleMouseUp:Ae,handleWheel:ze}=Fx({editingWidgetId:i,mode:r}),Pe=E.useRef($e),ft=E.useRef(Ie);E.useEffect(()=>{Pe.current=$e},[$e]),E.useEffect(()=>{ft.current=Ie},[Ie]);const rn=E.useCallback(()=>Pe.current,[]),xi=E.useCallback(()=>ft.current,[]),{isTouchPanning:nr}=Hx({mode:r,onPanChange:Rt,onScaleChange:Qr,onPinchingChange:ot,getScale:rn,getPan:xi}),{handleAutoStack:Na}=Ux({widgets:k,scale:$e,updateWidgetPosition:c}),{handleFitAllWidgets:gi}=Vx({widgets:k,scale:$e,setScale:Qr,setPan:Rt});E.useEffect(()=>{if(e&&k.length>0){const L=setTimeout(()=>{gi()},100);return()=>clearTimeout(L)}},[e]),E.useEffect(()=>{if(b){const L=b.theme||"default",ue=qt(L);ue?Ql(ue):Zn(L)}return()=>{Zn("default")}},[b==null?void 0:b.theme,b==null?void 0:b.id]);const Qh=L=>{L.preventDefault(),L.dataTransfer.dropEffect="copy"},Zh=L=>{L.preventDefault();const ue=L.dataTransfer.getData("widgetType");if(ue){const tf=(L.clientX-Ie.x)/$e,nf=(L.clientY-Ie.y)/$e,ki=10,Si=af=>Math.round(af/ki)*ki,rf=Si(tf),of=Si(nf);n(ue,rf,of)}},Jh=L=>{D(L),ie(L)},qh=L=>{ie(L)},ef=()=>{if(A!==null&&Y!==null&&A!==Y){const L=k[A];L&&u(L.id,Y)}D(null),ie(null)};if(!b)return null;const[vi,rr]=E.useState(!1);return r==="vertical"?a.jsxs("div",{className:"w-full h-screen overflow-hidden relative bg-theme-background flex flex-col",children:[a.jsxs("div",{className:"bg-theme-paper border-b-[length:var(--border-width)] border-theme-border px-2 py-2 flex items-center gap-2 z-30 shrink-0",children:[a.jsx("button",{onClick:()=>rr(!vi),className:"sm:hidden w-8 h-8 flex items-center justify-center bg-theme-background border-[length:var(--border-width)] border-theme-border rounded-theme text-theme-ink",children:""}),a.jsxs("div",{className:"hidden sm:flex items-center gap-1",children:[a.jsx("button",{onClick:()=>l(null),className:"h-8 px-3 flex items-center justify-center bg-theme-background border-[length:var(--border-width)] border-theme-border rounded-theme text-red-500 text-xs font-body hover:bg-red-500 hover:text-white transition-colors",children:"Exit"}),a.jsx("button",{onClick:()=>o("edit"),className:"h-8 px-3 flex items-center justify-center bg-theme-background border-[length:var(--border-width)] border-theme-border rounded-theme text-theme-ink text-xs font-body hover:bg-theme-accent hover:text-theme-paper transition-colors",children:"Edit Mode"}),a.jsx("button",{onClick:()=>o("play"),className:"h-8 px-3 flex items-center justify-center bg-theme-background border-[length:var(--border-width)] border-theme-border rounded-theme text-theme-ink text-xs font-body hover:bg-theme-accent hover:text-theme-paper transition-colors",children:"Grid View"})]}),a.jsx("h1",{className:"font-bold text-sm text-theme-ink font-heading truncate flex-1 min-w-0",children:b.name}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>M(!$),className:"h-8 bg-theme-background border-[length:var(--border-width)] border-theme-border rounded-theme px-2 flex items-center gap-1 text-xs",children:[a.jsx("span",{className:"text-theme-ink truncate max-w-[60px]",children:((bi=b.sheets.find(L=>L.id===b.activeSheetId))==null?void 0:bi.name)||"Sheet"}),a.jsx("span",{className:"text-theme-muted",children:""})]}),$&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>M(!1)}),a.jsx("div",{className:"absolute top-full right-0 mt-1 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme overflow-hidden z-50 min-w-[120px]",children:b.sheets.map(L=>a.jsx("button",{onClick:()=>{x(L.id),M(!1)},className:`w-full px-3 py-2 text-xs text-left font-body transition-colors ${L.id===b.activeSheetId?"bg-theme-accent text-theme-paper":"text-theme-ink hover:bg-theme-accent/20"}`,children:L.name},L.id))})]})]}),a.jsx("button",{onClick:()=>{k.forEach(L=>{localStorage.setItem(`ucs:vertical-collapsed:${L.id}`,"false")}),window.dispatchEvent(new CustomEvent("vertical-collapse-all",{detail:!1}))},className:"w-8 h-8 flex items-center justify-center bg-theme-background border-[length:var(--border-width)] border-theme-border rounded-theme text-theme-ink text-xs",title:"Expand All",children:""}),a.jsx("button",{onClick:()=>{k.forEach(L=>{localStorage.setItem(`ucs:vertical-collapsed:${L.id}`,"true")}),window.dispatchEvent(new CustomEvent("vertical-collapse-all",{detail:!0}))},className:"w-8 h-8 flex items-center justify-center bg-theme-background border-[length:var(--border-width)] border-theme-border rounded-theme text-theme-ink text-xs",title:"Collapse All",children:""})]}),vi&&a.jsxs("div",{className:"sm:hidden",children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>rr(!1)}),a.jsxs("div",{className:"absolute top-12 left-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme overflow-hidden z-50 flex flex-col",children:[a.jsx("button",{onClick:()=>{o("play"),rr(!1)},className:"px-4 py-2.5 text-sm text-left font-body text-theme-ink hover:bg-theme-accent hover:text-theme-paper transition-colors whitespace-nowrap",children:"Grid View"}),a.jsx("button",{onClick:()=>{o("edit"),rr(!1)},className:"px-4 py-2.5 text-sm text-left font-body text-theme-ink hover:bg-theme-accent hover:text-theme-paper transition-colors whitespace-nowrap",children:"Edit Mode"}),a.jsx("button",{onClick:()=>{l(null),rr(!1)},className:"px-4 py-2.5 text-sm text-left font-body text-red-500 hover:bg-red-500 hover:text-white transition-colors border-t border-theme-border/50 whitespace-nowrap",children:"Exit to Menu"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsxs("div",{className:"max-w-md mx-auto px-3 py-4 pb-24",children:[k.map((L,ue)=>a.jsx(u0,{widget:L,index:ue,totalWidgets:k.length,isDragging:A!==null,draggedIndex:A,dropTargetIndex:Y,onDragStart:Jh,onDragOver:qh,onDragEnd:ef},L.id)),k.length===0&&a.jsxs("div",{className:"text-center text-theme-muted py-12",children:[a.jsx("p",{className:"font-body",children:"No widgets on this sheet"}),a.jsx("p",{className:"text-sm mt-2",children:"Switch to Edit mode to add widgets"})]})]})})]}):a.jsxs("div",{ref:ke,className:"w-full h-screen overflow-hidden relative bg-theme-background",children:[r==="edit"&&a.jsx(Yx,{collapsed:N,onToggle:()=>h(!N)}),r==="edit"&&a.jsx(Kx,{collapsed:d,onToggle:()=>m(!d)}),a.jsx("div",{className:`absolute inset-0 ${ja||nr.current?"cursor-grabbing":"cursor-default"} ${Qe?"pinch-active":""}`,onMouseDown:O,onMouseMove:ce,onMouseUp:Ae,onWheel:ze,onDragOver:Qh,onDrop:Zh,children:a.jsxs("div",{className:"absolute top-0 left-0 w-full h-full origin-top-left",style:{transform:`translate(${Ie.x}px, ${Ie.y}px) scale(${$e})`},children:[r!=="play"&&a.jsx("div",{className:"absolute -top-[50000px] -left-[50000px] w-[100000px] h-[100000px] pattern-grid opacity-20 pointer-events-none"}),a.jsx(h0,{widgets:k,scale:$e}),k.map(L=>a.jsx(c0,{widget:L,scale:$e},L.id)),r==="edit"&&a.jsx(d0,{widgets:k,scale:$e})]})}),a.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-theme-paper border-b-[length:var(--border-width)] border-theme-border px-2 py-2 flex items-center gap-2 z-30",children:[a.jsx("button",{onClick:()=>H(!U),className:"sm:hidden w-8 h-8 flex items-center justify-center bg-theme-background border-[length:var(--border-width)] border-theme-border rounded-theme text-theme-ink shrink-0",children:""}),a.jsxs("div",{className:"hidden sm:flex items-center gap-1 shrink-0",children:[a.jsx("button",{onClick:()=>l(null),className:"px-3 h-8 bg-theme-background border-[length:var(--border-width)] border-theme-border rounded-theme text-red-500 text-xs font-body hover:bg-red-500 hover:text-white hover:border-red-700 transition-colors",children:"Exit"}),a.jsx("button",{onClick:()=>o(r==="play"?"edit":"play"),className:"px-3 h-8 bg-theme-background border-[length:var(--border-width)] border-theme-border rounded-theme text-theme-ink text-xs font-body hover:bg-theme-accent hover:text-theme-paper transition-colors",children:r==="play"?"Edit Mode":"Play Mode"}),r==="play"&&a.jsx("button",{onClick:()=>o("vertical"),className:"px-3 h-8 bg-theme-background border-[length:var(--border-width)] border-theme-border rounded-theme text-theme-ink text-xs font-body hover:bg-theme-accent hover:text-theme-paper transition-colors",children:"Vertical View"}),r==="edit"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>h(!N),className:"px-3 h-8 bg-theme-background border-[length:var(--border-width)] border-theme-border rounded-theme text-theme-ink text-xs font-body hover:bg-theme-accent hover:text-theme-paper transition-colors",children:N?"Add Widget":"Hide Widgets"}),a.jsx("button",{onClick:()=>m(!d),className:"px-3 h-8 bg-theme-background border-[length:var(--border-width)] border-theme-border rounded-theme text-theme-ink text-xs font-body hover:bg-theme-accent hover:text-theme-paper transition-colors",children:"Change Theme"}),a.jsx("button",{onClick:()=>P(!0),className:"px-3 h-8 bg-theme-background border-[length:var(--border-width)] border-theme-border rounded-theme text-theme-ink text-xs font-body hover:bg-theme-accent hover:text-theme-paper transition-colors",children:"Auto Stack"})]})]}),a.jsx("div",{className:"flex-1 min-w-0",children:w?a.jsx("input",{type:"text",value:v,onChange:L=>S(L.target.value),onBlur:()=>{v.trim()&&s(b.id,v.trim()),g(!1)},onKeyDown:L=>{L.key==="Enter"?(v.trim()&&s(b.id,v.trim()),g(!1)):L.key==="Escape"&&g(!1)},autoFocus:!0,className:"font-bold text-sm bg-transparent border-b-[length:var(--border-width)] border-theme-border outline-none w-full text-theme-ink font-heading"}):a.jsx("h1",{className:`font-bold text-sm text-theme-ink font-heading truncate ${r==="edit"?"cursor-pointer":""}`,onClick:()=>{r==="edit"&&(S(b.name),g(!0))},children:b.name})}),a.jsx("div",{className:"relative shrink-0",children:a.jsxs("button",{onClick:()=>M(!$),className:"h-8 bg-theme-background border-[length:var(--border-width)] border-theme-border rounded-theme px-3 flex items-center gap-1 text-xs font-body",children:[a.jsx("span",{className:"text-theme-ink truncate max-w-[60px]",children:((yi=b.sheets.find(L=>L.id===b.activeSheetId))==null?void 0:yi.name)||"Sheet"}),a.jsx("span",{className:"text-theme-muted",children:""})]})}),a.jsx("button",{onClick:gi,className:"px-3 h-8 bg-theme-background border-[length:var(--border-width)] border-theme-border text-xs font-body flex items-center justify-center rounded-theme text-theme-ink shrink-0",children:"Fit"})]}),U&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"sm:hidden fixed inset-0 z-40",onClick:()=>H(!1)}),a.jsxs("div",{className:"sm:hidden absolute top-12 left-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme overflow-hidden z-50 flex flex-col",children:[a.jsx("button",{onClick:()=>{o(r==="play"?"edit":"play"),H(!1)},className:"px-4 py-2.5 text-sm text-left font-body text-theme-ink hover:bg-theme-accent hover:text-theme-paper transition-colors whitespace-nowrap",children:r==="play"?"Edit Mode":"Play Mode"}),r==="play"&&a.jsx("button",{onClick:()=>{o("vertical"),H(!1)},className:"px-4 py-2.5 text-sm text-left font-body text-theme-ink hover:bg-theme-accent hover:text-theme-paper transition-colors whitespace-nowrap",children:"Vertical View"}),r==="edit"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{h(!N),H(!1)},className:"px-4 py-2.5 text-sm text-left font-body text-theme-ink hover:bg-theme-accent hover:text-theme-paper transition-colors whitespace-nowrap",children:N?"Add Widget":"Hide Toolbox"}),a.jsx("button",{onClick:()=>{m(!d),H(!1)},className:"px-4 py-2.5 text-sm text-left font-body text-theme-ink hover:bg-theme-accent hover:text-theme-paper transition-colors whitespace-nowrap",children:d?"Change Theme":"Hide Themes"}),a.jsx("button",{onClick:()=>{P(!0),H(!1)},className:"px-4 py-2.5 text-sm text-left font-body text-theme-ink hover:bg-theme-accent hover:text-theme-paper transition-colors whitespace-nowrap",children:"Auto Stack"})]}),a.jsx("button",{onClick:()=>{l(null),H(!1)},className:"px-4 py-2.5 text-sm text-left font-body text-red-500 hover:bg-red-500 hover:text-white transition-colors border-t border-theme-border/50 whitespace-nowrap",children:"Exit to Menu"})]})]}),$&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>M(!1)}),a.jsxs("div",{className:"absolute top-12 right-2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme overflow-hidden z-50 min-w-[150px]",children:[b.sheets.map(L=>a.jsx("div",{className:"group relative",children:C===L.id?a.jsx("input",{type:"text",value:T,onChange:ue=>R(ue.target.value),onBlur:()=>{T.trim()&&y(L.id,T.trim()),j(null)},onKeyDown:ue=>{ue.key==="Enter"?(T.trim()&&y(L.id,T.trim()),j(null)):ue.key==="Escape"&&j(null)},autoFocus:!0,onClick:ue=>ue.stopPropagation(),className:"w-full px-3 py-2 text-xs bg-transparent border-b border-theme-border outline-none text-theme-ink font-body"}):a.jsxs("button",{onClick:()=>{x(L.id),M(!1)},className:`w-full px-3 py-2 text-xs text-left font-body transition-colors flex items-center justify-between ${L.id===b.activeSheetId?"bg-theme-accent text-theme-paper":"text-theme-ink hover:bg-theme-accent/20"}`,children:[a.jsx("span",{children:L.name}),r==="edit"&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{onClick:ue=>{ue.stopPropagation(),R(L.name),j(L.id)},className:`w-5 h-5 rounded-full text-xs flex items-center justify-center ${L.id===b.activeSheetId?"bg-theme-paper/30 text-theme-paper hover:bg-theme-paper/50":"bg-theme-accent/20 text-theme-ink hover:bg-theme-accent/40"}`,children:""}),b.sheets.length>1&&a.jsx("span",{onClick:ue=>{ue.stopPropagation(),F(L.id)},className:"w-5 h-5 bg-red-500 text-white rounded-full text-xs flex items-center justify-center hover:bg-red-600",children:""})]})]})},L.id)),r==="edit"&&a.jsx("button",{onClick:()=>{f(`Sheet ${b.sheets.length+1}`),M(!1)},className:"w-full px-3 py-2 text-xs text-theme-muted hover:text-theme-ink hover:bg-theme-accent/20 text-left font-body border-t border-theme-border/50 transition-colors",children:"+ Add New Sheet"})]})]}),B&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>F(null)}),a.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme p-4 z-50 min-w-[250px]",children:[a.jsx("h3",{className:"font-heading text-theme-ink font-bold mb-2",children:"Delete Sheet?"}),a.jsxs("p",{className:"text-sm text-theme-muted font-body mb-4",children:['Are you sure you want to delete "',(wi=b.sheets.find(L=>L.id===B))==null?void 0:wi.name,'"? This will delete all widgets on this sheet.']}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx("button",{onClick:()=>F(null),className:"px-3 py-1.5 text-sm font-body text-theme-ink hover:bg-theme-accent/20 rounded-theme transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>{p(B),F(null),M(!1)},className:"px-3 py-1.5 text-sm font-body bg-red-500 text-white hover:bg-red-600 rounded-theme transition-colors",children:"Delete"})]})]})]}),I&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>P(!1)}),a.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-theme-paper border-[length:var(--border-width)] border-theme-border shadow-theme rounded-theme p-4 z-50 min-w-[250px]",children:[a.jsx("h3",{className:"font-heading text-theme-ink font-bold mb-2",children:"Auto Stack?"}),a.jsx("p",{className:"text-sm text-theme-muted font-body mb-4",children:"This will automatically rearrange all widgets on this sheet. Your current layout will be replaced."}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx("button",{onClick:()=>P(!1),className:"px-3 py-1.5 text-sm font-body text-theme-ink hover:bg-theme-accent/20 rounded-theme transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>{Na(),P(!1)},className:"px-3 py-1.5 text-sm font-body bg-theme-accent text-theme-paper hover:bg-theme-accent-hover rounded-theme transition-colors",children:"Auto Stack"})]})]})]})]})}function p0(){const e=W(t=>t.activeCharacterId);return a.jsx("div",{className:"h-full bg-gray-100 text-ink font-mono overflow-hidden",children:e?a.jsx(m0,{}):a.jsx(Bx,{})})}Zn("default");rl.createRoot(document.getElementById("root")).render(a.jsx(na.StrictMode,{children:a.jsx(p0,{})}));
